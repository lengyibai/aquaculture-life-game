var wT=Object.defineProperty;var TT=(r,t,e)=>t in r?wT(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var G=(r,t,e)=>TT(r,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=e(n);fetch(n.href,s)}})();var Zn=(r=>(r[r.WEBGL_LEGACY=0]="WEBGL_LEGACY",r[r.WEBGL=1]="WEBGL",r[r.WEBGL2=2]="WEBGL2",r))(Zn||{}),ig=(r=>(r[r.UNKNOWN=0]="UNKNOWN",r[r.WEBGL=1]="WEBGL",r[r.CANVAS=2]="CANVAS",r))(ig||{}),ka=(r=>(r[r.COLOR=16384]="COLOR",r[r.DEPTH=256]="DEPTH",r[r.STENCIL=1024]="STENCIL",r))(ka||{}),dt=(r=>(r[r.NORMAL=0]="NORMAL",r[r.ADD=1]="ADD",r[r.MULTIPLY=2]="MULTIPLY",r[r.SCREEN=3]="SCREEN",r[r.OVERLAY=4]="OVERLAY",r[r.DARKEN=5]="DARKEN",r[r.LIGHTEN=6]="LIGHTEN",r[r.COLOR_DODGE=7]="COLOR_DODGE",r[r.COLOR_BURN=8]="COLOR_BURN",r[r.HARD_LIGHT=9]="HARD_LIGHT",r[r.SOFT_LIGHT=10]="SOFT_LIGHT",r[r.DIFFERENCE=11]="DIFFERENCE",r[r.EXCLUSION=12]="EXCLUSION",r[r.HUE=13]="HUE",r[r.SATURATION=14]="SATURATION",r[r.COLOR=15]="COLOR",r[r.LUMINOSITY=16]="LUMINOSITY",r[r.NORMAL_NPM=17]="NORMAL_NPM",r[r.ADD_NPM=18]="ADD_NPM",r[r.SCREEN_NPM=19]="SCREEN_NPM",r[r.NONE=20]="NONE",r[r.SRC_OVER=0]="SRC_OVER",r[r.SRC_IN=21]="SRC_IN",r[r.SRC_OUT=22]="SRC_OUT",r[r.SRC_ATOP=23]="SRC_ATOP",r[r.DST_OVER=24]="DST_OVER",r[r.DST_IN=25]="DST_IN",r[r.DST_OUT=26]="DST_OUT",r[r.DST_ATOP=27]="DST_ATOP",r[r.ERASE=26]="ERASE",r[r.SUBTRACT=28]="SUBTRACT",r[r.XOR=29]="XOR",r))(dt||{}),yi=(r=>(r[r.POINTS=0]="POINTS",r[r.LINES=1]="LINES",r[r.LINE_LOOP=2]="LINE_LOOP",r[r.LINE_STRIP=3]="LINE_STRIP",r[r.TRIANGLES=4]="TRIANGLES",r[r.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",r[r.TRIANGLE_FAN=6]="TRIANGLE_FAN",r))(yi||{}),X=(r=>(r[r.RGBA=6408]="RGBA",r[r.RGB=6407]="RGB",r[r.RG=33319]="RG",r[r.RED=6403]="RED",r[r.RGBA_INTEGER=36249]="RGBA_INTEGER",r[r.RGB_INTEGER=36248]="RGB_INTEGER",r[r.RG_INTEGER=33320]="RG_INTEGER",r[r.RED_INTEGER=36244]="RED_INTEGER",r[r.ALPHA=6406]="ALPHA",r[r.LUMINANCE=6409]="LUMINANCE",r[r.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",r[r.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",r[r.DEPTH_STENCIL=34041]="DEPTH_STENCIL",r))(X||{}),gr=(r=>(r[r.TEXTURE_2D=3553]="TEXTURE_2D",r[r.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",r[r.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",r[r.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",r[r.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",r[r.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",r[r.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",r[r.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",r[r.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",r))(gr||{}),lt=(r=>(r[r.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",r[r.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",r[r.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",r[r.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",r[r.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",r[r.UNSIGNED_INT=5125]="UNSIGNED_INT",r[r.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",r[r.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",r[r.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",r[r.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",r[r.BYTE=5120]="BYTE",r[r.SHORT=5122]="SHORT",r[r.INT=5124]="INT",r[r.FLOAT=5126]="FLOAT",r[r.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",r[r.HALF_FLOAT=36193]="HALF_FLOAT",r))(lt||{}),tt=(r=>(r[r.FLOAT=0]="FLOAT",r[r.INT=1]="INT",r[r.UINT=2]="UINT",r))(tt||{}),Di=(r=>(r[r.NEAREST=0]="NEAREST",r[r.LINEAR=1]="LINEAR",r))(Di||{}),Bi=(r=>(r[r.CLAMP=33071]="CLAMP",r[r.REPEAT=10497]="REPEAT",r[r.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",r))(Bi||{}),Ai=(r=>(r[r.OFF=0]="OFF",r[r.POW2=1]="POW2",r[r.ON=2]="ON",r[r.ON_MANUAL=3]="ON_MANUAL",r))(Ai||{}),xe=(r=>(r[r.NPM=0]="NPM",r[r.UNPACK=1]="UNPACK",r[r.PMA=2]="PMA",r[r.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",r[r.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",r[r.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",r))(xe||{}),gi=(r=>(r[r.NO=0]="NO",r[r.YES=1]="YES",r[r.AUTO=2]="AUTO",r[r.BLEND=0]="BLEND",r[r.CLEAR=1]="CLEAR",r[r.BLIT=2]="BLIT",r))(gi||{}),lh=(r=>(r[r.AUTO=0]="AUTO",r[r.MANUAL=1]="MANUAL",r))(lh||{}),Le=(r=>(r.LOW="lowp",r.MEDIUM="mediump",r.HIGH="highp",r))(Le||{}),Yt=(r=>(r[r.NONE=0]="NONE",r[r.SCISSOR=1]="SCISSOR",r[r.STENCIL=2]="STENCIL",r[r.SPRITE=3]="SPRITE",r[r.COLOR=4]="COLOR",r))(Yt||{}),sb=(r=>(r[r.RED=1]="RED",r[r.GREEN=2]="GREEN",r[r.BLUE=4]="BLUE",r[r.ALPHA=8]="ALPHA",r))(sb||{}),Vt=(r=>(r[r.NONE=0]="NONE",r[r.LOW=2]="LOW",r[r.MEDIUM=4]="MEDIUM",r[r.HIGH=8]="HIGH",r))(Vt||{}),bi=(r=>(r[r.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",r[r.ARRAY_BUFFER=34962]="ARRAY_BUFFER",r[r.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",r))(bi||{});const ob={createCanvas:(r,t)=>{const e=document.createElement("canvas");return e.width=r,e.height=t,e},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(r,t)=>fetch(r,t),parseXML:r=>new DOMParser().parseFromString(r,"text/xml")},Q={ADAPTER:ob,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var Jh=/iPhone/i,Np=/iPod/i,qp=/iPad/i,Up=/\biOS-universal(?:.+)Mac\b/i,Qh=/\bAndroid(?:.+)Mobile\b/i,Gp=/Android/i,Dr=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Wo=/Silk/i,Ki=/Windows Phone/i,Hp=/\bWindows(?:.+)ARM\b/i,Wp=/BlackBerry/i,$p=/BB10/i,Vp=/Opera Mini/i,Xp=/\b(CriOS|Chrome)(?:.+)Mobile/i,Yp=/Mobile(?:.+)Firefox\b/i,Zp=function(r){return typeof r<"u"&&r.platform==="MacIntel"&&typeof r.maxTouchPoints=="number"&&r.maxTouchPoints>1&&typeof MSStream>"u"};function AT(r){return function(t){return t.test(r)}}function Kp(r){var t={userAgent:"",platform:"",maxTouchPoints:0};!r&&typeof navigator<"u"?t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof r=="string"?t.userAgent=r:r&&r.userAgent&&(t={userAgent:r.userAgent,platform:r.platform,maxTouchPoints:r.maxTouchPoints||0});var e=t.userAgent,i=e.split("[FBAN");typeof i[1]<"u"&&(e=i[0]),i=e.split("Twitter"),typeof i[1]<"u"&&(e=i[0]);var n=AT(e),s={apple:{phone:n(Jh)&&!n(Ki),ipod:n(Np),tablet:!n(Jh)&&(n(qp)||Zp(t))&&!n(Ki),universal:n(Up),device:(n(Jh)||n(Np)||n(qp)||n(Up)||Zp(t))&&!n(Ki)},amazon:{phone:n(Dr),tablet:!n(Dr)&&n(Wo),device:n(Dr)||n(Wo)},android:{phone:!n(Ki)&&n(Dr)||!n(Ki)&&n(Qh),tablet:!n(Ki)&&!n(Dr)&&!n(Qh)&&(n(Wo)||n(Gp)),device:!n(Ki)&&(n(Dr)||n(Wo)||n(Qh)||n(Gp))||n(/\bokhttp\b/i)},windows:{phone:n(Ki),tablet:n(Hp),device:n(Ki)||n(Hp)},other:{blackberry:n(Wp),blackberry10:n($p),opera:n(Vp),firefox:n(Yp),chrome:n(Xp),device:n(Wp)||n($p)||n(Vp)||n(Yp)||n(Xp)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const ET=Kp.default??Kp,_i=ET(globalThis.navigator);Q.RETINA_PREFIX=/@([0-9\.]+)x/;Q.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Mn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ao(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function ST(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var t=r.default;if(typeof t=="function"){var e=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(r).forEach(function(i){var n=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(e,i,n.get?n:{enumerable:!0,get:function(){return r[i]}})}),e}var tl={exports:{}},Jp;function CT(){return Jp||(Jp=1,function(r){var t=Object.prototype.hasOwnProperty,e="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(e=!1));function n(h,l,u){this.fn=h,this.context=l,this.once=u||!1}function s(h,l,u,c,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new n(u,c||h,d),g=e?e+l:l;return h._events[g]?h._events[g].fn?h._events[g]=[h._events[g],f]:h._events[g].push(f):(h._events[g]=f,h._eventsCount++),h}function o(h,l){--h._eventsCount===0?h._events=new i:delete h._events[l]}function a(){this._events=new i,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],u,c;if(this._eventsCount===0)return l;for(c in u=this._events)t.call(u,c)&&l.push(e?c.slice(1):c);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},a.prototype.listeners=function(l){var u=e?e+l:l,c=this._events[u];if(!c)return[];if(c.fn)return[c.fn];for(var d=0,f=c.length,g=new Array(f);d<f;d++)g[d]=c[d].fn;return g},a.prototype.listenerCount=function(l){var u=e?e+l:l,c=this._events[u];return c?c.fn?1:c.length:0},a.prototype.emit=function(l,u,c,d,f,g){var p=e?e+l:l;if(!this._events[p])return!1;var m=this._events[p],y=arguments.length,x,_;if(m.fn){switch(m.once&&this.removeListener(l,m.fn,void 0,!0),y){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,u),!0;case 3:return m.fn.call(m.context,u,c),!0;case 4:return m.fn.call(m.context,u,c,d),!0;case 5:return m.fn.call(m.context,u,c,d,f),!0;case 6:return m.fn.call(m.context,u,c,d,f,g),!0}for(_=1,x=new Array(y-1);_<y;_++)x[_-1]=arguments[_];m.fn.apply(m.context,x)}else{var v=m.length,b;for(_=0;_<v;_++)switch(m[_].once&&this.removeListener(l,m[_].fn,void 0,!0),y){case 1:m[_].fn.call(m[_].context);break;case 2:m[_].fn.call(m[_].context,u);break;case 3:m[_].fn.call(m[_].context,u,c);break;case 4:m[_].fn.call(m[_].context,u,c,d);break;default:if(!x)for(b=1,x=new Array(y-1);b<y;b++)x[b-1]=arguments[b];m[_].fn.apply(m[_].context,x)}}return!0},a.prototype.on=function(l,u,c){return s(this,l,u,c,!1)},a.prototype.once=function(l,u,c){return s(this,l,u,c,!0)},a.prototype.removeListener=function(l,u,c,d){var f=e?e+l:l;if(!this._events[f])return this;if(!u)return o(this,f),this;var g=this._events[f];if(g.fn)g.fn===u&&(!d||g.once)&&(!c||g.context===c)&&o(this,f);else{for(var p=0,m=[],y=g.length;p<y;p++)(g[p].fn!==u||d&&!g[p].once||c&&g[p].context!==c)&&m.push(g[p]);m.length?this._events[f]=m.length===1?m[0]:m:o(this,f)}return this},a.prototype.removeAllListeners=function(l){var u;return l?(u=e?e+l:l,this._events[u]&&o(this,u)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=e,a.EventEmitter=a,r.exports=a}(tl)),tl.exports}var IT=CT();const gs=Ao(IT);var $o={exports:{}},Qp;function zT(){if(Qp)return $o.exports;Qp=1,$o.exports=r,$o.exports.default=r;function r(T,S,A){A=A||2;var R=S&&S.length,I=R?S[0]*A:T.length,P=t(T,0,I,A,!0),L=[];if(!P||P.next===P.prev)return L;var B,U,H,Z,K,nt,rt;if(R&&(P=h(T,S,P,A)),T.length>80*A){B=H=T[0],U=Z=T[1];for(var $=A;$<I;$+=A)K=T[$],nt=T[$+1],K<B&&(B=K),nt<U&&(U=nt),K>H&&(H=K),nt>Z&&(Z=nt);rt=Math.max(H-B,Z-U),rt=rt!==0?32767/rt:0}return i(P,L,A,B,U,rt,0),L}function t(T,S,A,R,I){var P,L;if(I===O(T,S,A,R)>0)for(P=S;P<A;P+=R)L=M(P,T[P],T[P+1],L);else for(P=A-R;P>=S;P-=R)L=M(P,T[P],T[P+1],L);return L&&v(L,L.next)&&(k(L),L=L.next),L}function e(T,S){if(!T)return T;S||(S=T);var A=T,R;do if(R=!1,!A.steiner&&(v(A,A.next)||_(A.prev,A,A.next)===0)){if(k(A),A=S=A.prev,A===A.next)break;R=!0}else A=A.next;while(R||A!==S);return S}function i(T,S,A,R,I,P,L){if(T){!L&&P&&f(T,R,I,P);for(var B=T,U,H;T.prev!==T.next;){if(U=T.prev,H=T.next,P?s(T,R,I,P):n(T)){S.push(U.i/A|0),S.push(T.i/A|0),S.push(H.i/A|0),k(T),T=H.next,B=H.next;continue}if(T=H,T===B){L?L===1?(T=o(e(T),S,A),i(T,S,A,R,I,P,2)):L===2&&a(T,S,A,R,I,P):i(e(T),S,A,R,I,P,1);break}}}}function n(T){var S=T.prev,A=T,R=T.next;if(_(S,A,R)>=0)return!1;for(var I=S.x,P=A.x,L=R.x,B=S.y,U=A.y,H=R.y,Z=I<P?I<L?I:L:P<L?P:L,K=B<U?B<H?B:H:U<H?U:H,nt=I>P?I>L?I:L:P>L?P:L,rt=B>U?B>H?B:H:U>H?U:H,$=R.next;$!==S;){if($.x>=Z&&$.x<=nt&&$.y>=K&&$.y<=rt&&y(I,B,P,U,L,H,$.x,$.y)&&_($.prev,$,$.next)>=0)return!1;$=$.next}return!0}function s(T,S,A,R){var I=T.prev,P=T,L=T.next;if(_(I,P,L)>=0)return!1;for(var B=I.x,U=P.x,H=L.x,Z=I.y,K=P.y,nt=L.y,rt=B<U?B<H?B:H:U<H?U:H,$=Z<K?Z<nt?Z:nt:K<nt?K:nt,it=B>U?B>H?B:H:U>H?U:H,st=Z>K?Z>nt?Z:nt:K>nt?K:nt,ft=p(rt,$,S,A,R),Tt=p(it,st,S,A,R),Y=T.prevZ,ot=T.nextZ;Y&&Y.z>=ft&&ot&&ot.z<=Tt;){if(Y.x>=rt&&Y.x<=it&&Y.y>=$&&Y.y<=st&&Y!==I&&Y!==L&&y(B,Z,U,K,H,nt,Y.x,Y.y)&&_(Y.prev,Y,Y.next)>=0||(Y=Y.prevZ,ot.x>=rt&&ot.x<=it&&ot.y>=$&&ot.y<=st&&ot!==I&&ot!==L&&y(B,Z,U,K,H,nt,ot.x,ot.y)&&_(ot.prev,ot,ot.next)>=0))return!1;ot=ot.nextZ}for(;Y&&Y.z>=ft;){if(Y.x>=rt&&Y.x<=it&&Y.y>=$&&Y.y<=st&&Y!==I&&Y!==L&&y(B,Z,U,K,H,nt,Y.x,Y.y)&&_(Y.prev,Y,Y.next)>=0)return!1;Y=Y.prevZ}for(;ot&&ot.z<=Tt;){if(ot.x>=rt&&ot.x<=it&&ot.y>=$&&ot.y<=st&&ot!==I&&ot!==L&&y(B,Z,U,K,H,nt,ot.x,ot.y)&&_(ot.prev,ot,ot.next)>=0)return!1;ot=ot.nextZ}return!0}function o(T,S,A){var R=T;do{var I=R.prev,P=R.next.next;!v(I,P)&&b(I,R,R.next,P)&&z(I,P)&&z(P,I)&&(S.push(I.i/A|0),S.push(R.i/A|0),S.push(P.i/A|0),k(R),k(R.next),R=T=P),R=R.next}while(R!==T);return e(R)}function a(T,S,A,R,I,P){var L=T;do{for(var B=L.next.next;B!==L.prev;){if(L.i!==B.i&&x(L,B)){var U=D(L,B);L=e(L,L.next),U=e(U,U.next),i(L,S,A,R,I,P,0),i(U,S,A,R,I,P,0);return}B=B.next}L=L.next}while(L!==T)}function h(T,S,A,R){var I=[],P,L,B,U,H;for(P=0,L=S.length;P<L;P++)B=S[P]*R,U=P<L-1?S[P+1]*R:T.length,H=t(T,B,U,R,!1),H===H.next&&(H.steiner=!0),I.push(m(H));for(I.sort(l),P=0;P<I.length;P++)A=u(I[P],A);return A}function l(T,S){return T.x-S.x}function u(T,S){var A=c(T,S);if(!A)return S;var R=D(A,T);return e(R,R.next),e(A,A.next)}function c(T,S){var A=S,R=T.x,I=T.y,P=-1/0,L;do{if(I<=A.y&&I>=A.next.y&&A.next.y!==A.y){var B=A.x+(I-A.y)*(A.next.x-A.x)/(A.next.y-A.y);if(B<=R&&B>P&&(P=B,L=A.x<A.next.x?A:A.next,B===R))return L}A=A.next}while(A!==S);if(!L)return null;var U=L,H=L.x,Z=L.y,K=1/0,nt;A=L;do R>=A.x&&A.x>=H&&R!==A.x&&y(I<Z?R:P,I,H,Z,I<Z?P:R,I,A.x,A.y)&&(nt=Math.abs(I-A.y)/(R-A.x),z(A,T)&&(nt<K||nt===K&&(A.x>L.x||A.x===L.x&&d(L,A)))&&(L=A,K=nt)),A=A.next;while(A!==U);return L}function d(T,S){return _(T.prev,T,S.prev)<0&&_(S.next,T,T.next)<0}function f(T,S,A,R){var I=T;do I.z===0&&(I.z=p(I.x,I.y,S,A,R)),I.prevZ=I.prev,I.nextZ=I.next,I=I.next;while(I!==T);I.prevZ.nextZ=null,I.prevZ=null,g(I)}function g(T){var S,A,R,I,P,L,B,U,H=1;do{for(A=T,T=null,P=null,L=0;A;){for(L++,R=A,B=0,S=0;S<H&&(B++,R=R.nextZ,!!R);S++);for(U=H;B>0||U>0&&R;)B!==0&&(U===0||!R||A.z<=R.z)?(I=A,A=A.nextZ,B--):(I=R,R=R.nextZ,U--),P?P.nextZ=I:T=I,I.prevZ=P,P=I;A=R}P.nextZ=null,H*=2}while(L>1);return T}function p(T,S,A,R,I){return T=(T-A)*I|0,S=(S-R)*I|0,T=(T|T<<8)&16711935,T=(T|T<<4)&252645135,T=(T|T<<2)&858993459,T=(T|T<<1)&1431655765,S=(S|S<<8)&16711935,S=(S|S<<4)&252645135,S=(S|S<<2)&858993459,S=(S|S<<1)&1431655765,T|S<<1}function m(T){var S=T,A=T;do(S.x<A.x||S.x===A.x&&S.y<A.y)&&(A=S),S=S.next;while(S!==T);return A}function y(T,S,A,R,I,P,L,B){return(I-L)*(S-B)>=(T-L)*(P-B)&&(T-L)*(R-B)>=(A-L)*(S-B)&&(A-L)*(P-B)>=(I-L)*(R-B)}function x(T,S){return T.next.i!==S.i&&T.prev.i!==S.i&&!C(T,S)&&(z(T,S)&&z(S,T)&&F(T,S)&&(_(T.prev,T,S.prev)||_(T,S.prev,S))||v(T,S)&&_(T.prev,T,T.next)>0&&_(S.prev,S,S.next)>0)}function _(T,S,A){return(S.y-T.y)*(A.x-S.x)-(S.x-T.x)*(A.y-S.y)}function v(T,S){return T.x===S.x&&T.y===S.y}function b(T,S,A,R){var I=w(_(T,S,A)),P=w(_(T,S,R)),L=w(_(A,R,T)),B=w(_(A,R,S));return!!(I!==P&&L!==B||I===0&&E(T,A,S)||P===0&&E(T,R,S)||L===0&&E(A,T,R)||B===0&&E(A,S,R))}function E(T,S,A){return S.x<=Math.max(T.x,A.x)&&S.x>=Math.min(T.x,A.x)&&S.y<=Math.max(T.y,A.y)&&S.y>=Math.min(T.y,A.y)}function w(T){return T>0?1:T<0?-1:0}function C(T,S){var A=T;do{if(A.i!==T.i&&A.next.i!==T.i&&A.i!==S.i&&A.next.i!==S.i&&b(A,A.next,T,S))return!0;A=A.next}while(A!==T);return!1}function z(T,S){return _(T.prev,T,T.next)<0?_(T,S,T.next)>=0&&_(T,T.prev,S)>=0:_(T,S,T.prev)<0||_(T,T.next,S)<0}function F(T,S){var A=T,R=!1,I=(T.x+S.x)/2,P=(T.y+S.y)/2;do A.y>P!=A.next.y>P&&A.next.y!==A.y&&I<(A.next.x-A.x)*(P-A.y)/(A.next.y-A.y)+A.x&&(R=!R),A=A.next;while(A!==T);return R}function D(T,S){var A=new j(T.i,T.x,T.y),R=new j(S.i,S.x,S.y),I=T.next,P=S.prev;return T.next=S,S.prev=T,A.next=I,I.prev=A,R.next=A,A.prev=R,P.next=R,R.prev=P,R}function M(T,S,A,R){var I=new j(T,S,A);return R?(I.next=R.next,I.prev=R,R.next.prev=I,R.next=I):(I.prev=I,I.next=I),I}function k(T){T.next.prev=T.prev,T.prev.next=T.next,T.prevZ&&(T.prevZ.nextZ=T.nextZ),T.nextZ&&(T.nextZ.prevZ=T.prevZ)}function j(T,S,A){this.i=T,this.x=S,this.y=A,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}r.deviation=function(T,S,A,R){var I=S&&S.length,P=I?S[0]*A:T.length,L=Math.abs(O(T,0,P,A));if(I)for(var B=0,U=S.length;B<U;B++){var H=S[B]*A,Z=B<U-1?S[B+1]*A:T.length;L-=Math.abs(O(T,H,Z,A))}var K=0;for(B=0;B<R.length;B+=3){var nt=R[B]*A,rt=R[B+1]*A,$=R[B+2]*A;K+=Math.abs((T[nt]-T[$])*(T[rt+1]-T[nt+1])-(T[nt]-T[rt])*(T[$+1]-T[nt+1]))}return L===0&&K===0?0:Math.abs((K-L)/L)};function O(T,S,A,R){for(var I=0,P=S,L=A-R;P<A;P+=R)I+=(T[L]-T[P])*(T[P+1]+T[L+1]),L=P;return I}return r.flatten=function(T){for(var S=T[0][0].length,A={vertices:[],holes:[],dimensions:S},R=0,I=0;I<T.length;I++){for(var P=0;P<T[I].length;P++)for(var L=0;L<S;L++)A.vertices.push(T[I][P][L]);I>0&&(R+=T[I-1].length,A.holes.push(R))}return A},$o.exports}var PT=zT();const ab=Ao(PT);var er={},zs={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */var MT=zs.exports,tm;function RT(){return tm||(tm=1,function(r,t){(function(e){var i=t&&!t.nodeType&&t,n=r&&!r.nodeType&&r,s=typeof Mn=="object"&&Mn;(s.global===s||s.window===s||s.self===s)&&(e=s);var o,a=2147483647,h=36,l=1,u=26,c=38,d=700,f=72,g=128,p="-",m=/^xn--/,y=/[^\x20-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},v=h-l,b=Math.floor,E=String.fromCharCode,w;function C(I){throw new RangeError(_[I])}function z(I,P){for(var L=I.length,B=[];L--;)B[L]=P(I[L]);return B}function F(I,P){var L=I.split("@"),B="";L.length>1&&(B=L[0]+"@",I=L[1]),I=I.replace(x,".");var U=I.split("."),H=z(U,P).join(".");return B+H}function D(I){for(var P=[],L=0,B=I.length,U,H;L<B;)U=I.charCodeAt(L++),U>=55296&&U<=56319&&L<B?(H=I.charCodeAt(L++),(H&64512)==56320?P.push(((U&1023)<<10)+(H&1023)+65536):(P.push(U),L--)):P.push(U);return P}function M(I){return z(I,function(P){var L="";return P>65535&&(P-=65536,L+=E(P>>>10&1023|55296),P=56320|P&1023),L+=E(P),L}).join("")}function k(I){return I-48<10?I-22:I-65<26?I-65:I-97<26?I-97:h}function j(I,P){return I+22+75*(I<26)-((P!=0)<<5)}function O(I,P,L){var B=0;for(I=L?b(I/d):I>>1,I+=b(I/P);I>v*u>>1;B+=h)I=b(I/v);return b(B+(v+1)*I/(I+c))}function T(I){var P=[],L=I.length,B,U=0,H=g,Z=f,K,nt,rt,$,it,st,ft,Tt,Y;for(K=I.lastIndexOf(p),K<0&&(K=0),nt=0;nt<K;++nt)I.charCodeAt(nt)>=128&&C("not-basic"),P.push(I.charCodeAt(nt));for(rt=K>0?K+1:0;rt<L;){for($=U,it=1,st=h;rt>=L&&C("invalid-input"),ft=k(I.charCodeAt(rt++)),(ft>=h||ft>b((a-U)/it))&&C("overflow"),U+=ft*it,Tt=st<=Z?l:st>=Z+u?u:st-Z,!(ft<Tt);st+=h)Y=h-Tt,it>b(a/Y)&&C("overflow"),it*=Y;B=P.length+1,Z=O(U-$,B,$==0),b(U/B)>a-H&&C("overflow"),H+=b(U/B),U%=B,P.splice(U++,0,H)}return M(P)}function S(I){var P,L,B,U,H,Z,K,nt,rt,$,it,st=[],ft,Tt,Y,ot;for(I=D(I),ft=I.length,P=g,L=0,H=f,Z=0;Z<ft;++Z)it=I[Z],it<128&&st.push(E(it));for(B=U=st.length,U&&st.push(p);B<ft;){for(K=a,Z=0;Z<ft;++Z)it=I[Z],it>=P&&it<K&&(K=it);for(Tt=B+1,K-P>b((a-L)/Tt)&&C("overflow"),L+=(K-P)*Tt,P=K,Z=0;Z<ft;++Z)if(it=I[Z],it<P&&++L>a&&C("overflow"),it==P){for(nt=L,rt=h;$=rt<=H?l:rt>=H+u?u:rt-H,!(nt<$);rt+=h)ot=nt-$,Y=h-$,st.push(E(j($+ot%Y,0))),nt=b(ot/Y);st.push(E(j(nt,0))),H=O(L,Tt,B==U),L=0,++B}++L,++P}return st.join("")}function A(I){return F(I,function(P){return m.test(P)?T(P.slice(4).toLowerCase()):P})}function R(I){return F(I,function(P){return y.test(P)?"xn--"+S(P):P})}if(o={version:"1.4.1",ucs2:{decode:D,encode:M},decode:T,encode:S,toASCII:R,toUnicode:A},i&&n)if(r.exports==i)n.exports=o;else for(w in o)o.hasOwnProperty(w)&&(i[w]=o[w]);else e.punycode=o})(MT)}(zs,zs.exports)),zs.exports}var el,em;function ps(){return em||(em=1,el=TypeError),el}const kT={},jT=Object.freeze(Object.defineProperty({__proto__:null,default:kT},Symbol.toStringTag,{value:"Module"})),DT=ST(jT);var il,im;function uh(){if(im)return il;im=1;var r=typeof Map=="function"&&Map.prototype,t=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,e=r&&t&&typeof t.get=="function"?t.get:null,i=r&&Map.prototype.forEach,n=typeof Set=="function"&&Set.prototype,s=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,o=n&&s&&typeof s.get=="function"?s.get:null,a=n&&Set.prototype.forEach,h=typeof WeakMap=="function"&&WeakMap.prototype,l=h?WeakMap.prototype.has:null,u=typeof WeakSet=="function"&&WeakSet.prototype,c=u?WeakSet.prototype.has:null,d=typeof WeakRef=="function"&&WeakRef.prototype,f=d?WeakRef.prototype.deref:null,g=Boolean.prototype.valueOf,p=Object.prototype.toString,m=Function.prototype.toString,y=String.prototype.match,x=String.prototype.slice,_=String.prototype.replace,v=String.prototype.toUpperCase,b=String.prototype.toLowerCase,E=RegExp.prototype.test,w=Array.prototype.concat,C=Array.prototype.join,z=Array.prototype.slice,F=Math.floor,D=typeof BigInt=="function"?BigInt.prototype.valueOf:null,M=Object.getOwnPropertySymbols,k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,j=typeof Symbol=="function"&&typeof Symbol.iterator=="object",O=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===j||!0)?Symbol.toStringTag:null,T=Object.prototype.propertyIsEnumerable,S=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(N){return N.__proto__}:null);function A(N,q){if(N===1/0||N===-1/0||N!==N||N&&N>-1e3&&N<1e3||E.call(/e/,q))return q;var Ct=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof N=="number"){var kt=N<0?-F(-N):F(N);if(kt!==N){var Ft=String(kt),vt=x.call(q,Ft.length+1);return _.call(Ft,Ct,"$&_")+"."+_.call(_.call(vt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return _.call(q,Ct,"$&_")}var R=DT,I=R.custom,P=Tt(I)?I:null,L={__proto__:null,double:'"',single:"'"},B={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};il=function N(q,Ct,kt,Ft){var vt=Ct||{};if(gt(vt,"quoteStyle")&&!gt(L,vt.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(gt(vt,"maxStringLength")&&(typeof vt.maxStringLength=="number"?vt.maxStringLength<0&&vt.maxStringLength!==1/0:vt.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var wn=gt(vt,"customInspect")?vt.customInspect:!0;if(typeof wn!="boolean"&&wn!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(gt(vt,"indent")&&vt.indent!==null&&vt.indent!=="	"&&!(parseInt(vt.indent,10)===vt.indent&&vt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(gt(vt,"numericSeparator")&&typeof vt.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var tr=vt.numericSeparator;if(typeof q>"u")return"undefined";if(q===null)return"null";if(typeof q=="boolean")return q?"true":"false";if(typeof q=="string")return bs(q,vt);if(typeof q=="number"){if(q===0)return 1/0/q>0?"0":"-0";var Me=String(q);return tr?A(q,Me):Me}if(typeof q=="bigint"){var Tn=String(q)+"n";return tr?A(q,Tn):Tn}var Wh=typeof vt.depth>"u"?5:vt.depth;if(typeof kt>"u"&&(kt=0),kt>=Wh&&Wh>0&&typeof q=="object")return K(q)?"[Array]":"[Object]";var kr=Ii(vt,kt);if(typeof Ft>"u")Ft=[];else if(Ci(Ft,q)>=0)return"[Circular]";function hi(jr,Ho,vT){if(Ho&&(Ft=z.call(Ft),Ft.push(Ho)),vT){var Bp={depth:vt.depth};return gt(vt,"quoteStyle")&&(Bp.quoteStyle=vt.quoteStyle),N(jr,Bp,kt+1,Ft)}return N(jr,vt,kt+1,Ft)}if(typeof q=="function"&&!rt(q)){var Rp=Pe(q),kp=Uo(q,hi);return"[Function"+(Rp?": "+Rp:" (anonymous)")+"]"+(kp.length>0?" { "+C.call(kp,", ")+" }":"")}if(Tt(q)){var jp=j?_.call(String(q),/^(Symbol\(.*\))_[^)]*$/,"$1"):k.call(q);return typeof q=="object"&&!j?vn(jp):jp}if(Hh(q)){for(var vs="<"+b.call(String(q.nodeName)),$h=q.attributes||[],Go=0;Go<$h.length;Go++)vs+=" "+$h[Go].name+"="+U(H($h[Go].value),"double",vt);return vs+=">",q.childNodes&&q.childNodes.length&&(vs+="..."),vs+="</"+b.call(String(q.nodeName))+">",vs}if(K(q)){if(q.length===0)return"[]";var Vh=Uo(q,hi);return kr&&!qo(Vh)?"["+ai(Vh,kr)+"]":"[ "+C.call(Vh,", ")+" ]"}if($(q)){var Xh=Uo(q,hi);return!("cause"in Error.prototype)&&"cause"in q&&!T.call(q,"cause")?"{ ["+String(q)+"] "+C.call(w.call("[cause]: "+hi(q.cause),Xh),", ")+" }":Xh.length===0?"["+String(q)+"]":"{ ["+String(q)+"] "+C.call(Xh,", ")+" }"}if(typeof q=="object"&&wn){if(P&&typeof q[P]=="function"&&R)return R(q,{depth:Wh-kt});if(wn!=="symbol"&&typeof q.inspect=="function")return q.inspect()}if(ue(q)){var Dp=[];return i&&i.call(q,function(jr,Ho){Dp.push(hi(Ho,q,!0)+" => "+hi(jr,q))}),No("Map",e.call(q),Dp,kr)}if(oi(q)){var Fp=[];return a&&a.call(q,function(jr){Fp.push(hi(jr,q))}),No("Set",o.call(q),Fp,kr)}if(pe(q))return Rr("WeakMap");if(Mr(q))return Rr("WeakSet");if(Wt(q))return Rr("WeakRef");if(st(q))return vn(hi(Number(q)));if(Y(q))return vn(hi(D.call(q)));if(ft(q))return vn(g.call(q));if(it(q))return vn(hi(String(q)));if(typeof window<"u"&&q===window)return"{ [object Window] }";if(typeof globalThis<"u"&&q===globalThis||typeof Mn<"u"&&q===Mn)return"{ [object globalThis] }";if(!nt(q)&&!rt(q)){var Yh=Uo(q,hi),Op=S?S(q)===Object.prototype:q instanceof Object||q.constructor===Object,Zh=q instanceof Object?"":"null prototype",Lp=!Op&&O&&Object(q)===q&&O in q?x.call(Rt(q),8,-1):Zh?"Object":"",bT=Op||typeof q.constructor!="function"?"":q.constructor.name?q.constructor.name+" ":"",Kh=bT+(Lp||Zh?"["+C.call(w.call([],Lp||[],Zh||[]),": ")+"] ":"");return Yh.length===0?Kh+"{}":kr?Kh+"{"+ai(Yh,kr)+"}":Kh+"{ "+C.call(Yh,", ")+" }"}return String(q)};function U(N,q,Ct){var kt=Ct.quoteStyle||q,Ft=L[kt];return Ft+N+Ft}function H(N){return _.call(String(N),/"/g,"&quot;")}function Z(N){return!O||!(typeof N=="object"&&(O in N||typeof N[O]<"u"))}function K(N){return Rt(N)==="[object Array]"&&Z(N)}function nt(N){return Rt(N)==="[object Date]"&&Z(N)}function rt(N){return Rt(N)==="[object RegExp]"&&Z(N)}function $(N){return Rt(N)==="[object Error]"&&Z(N)}function it(N){return Rt(N)==="[object String]"&&Z(N)}function st(N){return Rt(N)==="[object Number]"&&Z(N)}function ft(N){return Rt(N)==="[object Boolean]"&&Z(N)}function Tt(N){if(j)return N&&typeof N=="object"&&N instanceof Symbol;if(typeof N=="symbol")return!0;if(!N||typeof N!="object"||!k)return!1;try{return k.call(N),!0}catch{}return!1}function Y(N){if(!N||typeof N!="object"||!D)return!1;try{return D.call(N),!0}catch{}return!1}var ot=Object.prototype.hasOwnProperty||function(N){return N in this};function gt(N,q){return ot.call(N,q)}function Rt(N){return p.call(N)}function Pe(N){if(N.name)return N.name;var q=y.call(m.call(N),/^function\s*([\w$]+)/);return q?q[1]:null}function Ci(N,q){if(N.indexOf)return N.indexOf(q);for(var Ct=0,kt=N.length;Ct<kt;Ct++)if(N[Ct]===q)return Ct;return-1}function ue(N){if(!e||!N||typeof N!="object")return!1;try{e.call(N);try{o.call(N)}catch{return!0}return N instanceof Map}catch{}return!1}function pe(N){if(!l||!N||typeof N!="object")return!1;try{l.call(N,l);try{c.call(N,c)}catch{return!0}return N instanceof WeakMap}catch{}return!1}function Wt(N){if(!f||!N||typeof N!="object")return!1;try{return f.call(N),!0}catch{}return!1}function oi(N){if(!o||!N||typeof N!="object")return!1;try{o.call(N);try{e.call(N)}catch{return!0}return N instanceof Set}catch{}return!1}function Mr(N){if(!c||!N||typeof N!="object")return!1;try{c.call(N,c);try{l.call(N,l)}catch{return!0}return N instanceof WeakSet}catch{}return!1}function Hh(N){return!N||typeof N!="object"?!1:typeof HTMLElement<"u"&&N instanceof HTMLElement?!0:typeof N.nodeName=="string"&&typeof N.getAttribute=="function"}function bs(N,q){if(N.length>q.maxStringLength){var Ct=N.length-q.maxStringLength,kt="... "+Ct+" more character"+(Ct>1?"s":"");return bs(x.call(N,0,q.maxStringLength),q)+kt}var Ft=B[q.quoteStyle||"single"];Ft.lastIndex=0;var vt=_.call(_.call(N,Ft,"\\$1"),/[\x00-\x1f]/g,bn);return U(vt,"single",q)}function bn(N){var q=N.charCodeAt(0),Ct={8:"b",9:"t",10:"n",12:"f",13:"r"}[q];return Ct?"\\"+Ct:"\\x"+(q<16?"0":"")+v.call(q.toString(16))}function vn(N){return"Object("+N+")"}function Rr(N){return N+" { ? }"}function No(N,q,Ct,kt){var Ft=kt?ai(Ct,kt):C.call(Ct,", ");return N+" ("+q+") {"+Ft+"}"}function qo(N){for(var q=0;q<N.length;q++)if(Ci(N[q],`
`)>=0)return!1;return!0}function Ii(N,q){var Ct;if(N.indent==="	")Ct="	";else if(typeof N.indent=="number"&&N.indent>0)Ct=C.call(Array(N.indent+1)," ");else return null;return{base:Ct,prev:C.call(Array(q+1),Ct)}}function ai(N,q){if(N.length===0)return"";var Ct=`
`+q.prev+q.base;return Ct+C.call(N,","+Ct)+`
`+q.prev}function Uo(N,q){var Ct=K(N),kt=[];if(Ct){kt.length=N.length;for(var Ft=0;Ft<N.length;Ft++)kt[Ft]=gt(N,Ft)?q(N[Ft],N):""}var vt=typeof M=="function"?M(N):[],wn;if(j){wn={};for(var tr=0;tr<vt.length;tr++)wn["$"+vt[tr]]=vt[tr]}for(var Me in N)gt(N,Me)&&(Ct&&String(Number(Me))===Me&&Me<N.length||j&&wn["$"+Me]instanceof Symbol||(E.call(/[^\w$]/,Me)?kt.push(q(Me,N)+": "+q(N[Me],N)):kt.push(Me+": "+q(N[Me],N))));if(typeof M=="function")for(var Tn=0;Tn<vt.length;Tn++)T.call(N,vt[Tn])&&kt.push("["+q(vt[Tn])+"]: "+q(N[vt[Tn]],N));return kt}return il}var nl,nm;function FT(){if(nm)return nl;nm=1;var r=uh(),t=ps(),e=function(a,h,l){for(var u=a,c;(c=u.next)!=null;u=c)if(c.key===h)return u.next=c.next,l||(c.next=a.next,a.next=c),c},i=function(a,h){if(a){var l=e(a,h);return l&&l.value}},n=function(a,h,l){var u=e(a,h);u?u.value=l:a.next={key:h,next:a.next,value:l}},s=function(a,h){return a?!!e(a,h):!1},o=function(a,h){if(a)return e(a,h,!0)};return nl=function(){var h,l={assert:function(u){if(!l.has(u))throw new t("Side channel does not contain "+r(u))},delete:function(u){var c=h&&h.next,d=o(h,u);return d&&c&&c===d&&(h=void 0),!!d},get:function(u){return i(h,u)},has:function(u){return s(h,u)},set:function(u,c){h||(h={next:void 0}),n(h,u,c)}};return l},nl}var rl,rm;function hb(){return rm||(rm=1,rl=Object),rl}var sl,sm;function OT(){return sm||(sm=1,sl=Error),sl}var ol,om;function LT(){return om||(om=1,ol=EvalError),ol}var al,am;function BT(){return am||(am=1,al=RangeError),al}var hl,hm;function NT(){return hm||(hm=1,hl=ReferenceError),hl}var ll,lm;function qT(){return lm||(lm=1,ll=SyntaxError),ll}var ul,um;function UT(){return um||(um=1,ul=URIError),ul}var cl,cm;function GT(){return cm||(cm=1,cl=Math.abs),cl}var dl,dm;function HT(){return dm||(dm=1,dl=Math.floor),dl}var fl,fm;function WT(){return fm||(fm=1,fl=Math.max),fl}var gl,gm;function $T(){return gm||(gm=1,gl=Math.min),gl}var pl,pm;function VT(){return pm||(pm=1,pl=Math.pow),pl}var ml,mm;function XT(){return mm||(mm=1,ml=Math.round),ml}var yl,ym;function YT(){return ym||(ym=1,yl=Number.isNaN||function(t){return t!==t}),yl}var _l,_m;function ZT(){if(_m)return _l;_m=1;var r=YT();return _l=function(e){return r(e)||e===0?e:e<0?-1:1},_l}var xl,xm;function KT(){return xm||(xm=1,xl=Object.getOwnPropertyDescriptor),xl}var bl,bm;function lb(){if(bm)return bl;bm=1;var r=KT();if(r)try{r([],"length")}catch{r=null}return bl=r,bl}var vl,vm;function JT(){if(vm)return vl;vm=1;var r=Object.defineProperty||!1;if(r)try{r({},"a",{value:1})}catch{r=!1}return vl=r,vl}var wl,wm;function QT(){return wm||(wm=1,wl=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},e=Symbol("test"),i=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var n=42;t[e]=n;for(var s in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==e||!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(t,e);if(a.value!==n||a.enumerable!==!0)return!1}return!0}),wl}var Tl,Tm;function tA(){if(Tm)return Tl;Tm=1;var r=typeof Symbol<"u"&&Symbol,t=QT();return Tl=function(){return typeof r!="function"||typeof Symbol!="function"||typeof r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},Tl}var Al,Am;function ub(){return Am||(Am=1,Al=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Al}var El,Em;function cb(){if(Em)return El;Em=1;var r=hb();return El=r.getPrototypeOf||null,El}var Sl,Sm;function eA(){if(Sm)return Sl;Sm=1;var r="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,e=Math.max,i="[object Function]",n=function(h,l){for(var u=[],c=0;c<h.length;c+=1)u[c]=h[c];for(var d=0;d<l.length;d+=1)u[d+h.length]=l[d];return u},s=function(h,l){for(var u=[],c=l,d=0;c<h.length;c+=1,d+=1)u[d]=h[c];return u},o=function(a,h){for(var l="",u=0;u<a.length;u+=1)l+=a[u],u+1<a.length&&(l+=h);return l};return Sl=function(h){var l=this;if(typeof l!="function"||t.apply(l)!==i)throw new TypeError(r+l);for(var u=s(arguments,1),c,d=function(){if(this instanceof c){var y=l.apply(this,n(u,arguments));return Object(y)===y?y:this}return l.apply(h,n(u,arguments))},f=e(0,l.length-u.length),g=[],p=0;p<f;p++)g[p]="$"+p;if(c=Function("binder","return function ("+o(g,",")+"){ return binder.apply(this,arguments); }")(d),l.prototype){var m=function(){};m.prototype=l.prototype,c.prototype=new m,m.prototype=null}return c},Sl}var Cl,Cm;function ch(){if(Cm)return Cl;Cm=1;var r=eA();return Cl=Function.prototype.bind||r,Cl}var Il,Im;function ng(){return Im||(Im=1,Il=Function.prototype.call),Il}var zl,zm;function db(){return zm||(zm=1,zl=Function.prototype.apply),zl}var Pl,Pm;function iA(){return Pm||(Pm=1,Pl=typeof Reflect<"u"&&Reflect&&Reflect.apply),Pl}var Ml,Mm;function nA(){if(Mm)return Ml;Mm=1;var r=ch(),t=db(),e=ng(),i=iA();return Ml=i||r.call(e,t),Ml}var Rl,Rm;function fb(){if(Rm)return Rl;Rm=1;var r=ch(),t=ps(),e=ng(),i=nA();return Rl=function(s){if(s.length<1||typeof s[0]!="function")throw new t("a function is required");return i(r,e,s)},Rl}var kl,km;function rA(){if(km)return kl;km=1;var r=fb(),t=lb(),e;try{e=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var i=!!e&&t&&t(Object.prototype,"__proto__"),n=Object,s=n.getPrototypeOf;return kl=i&&typeof i.get=="function"?r([i.get]):typeof s=="function"?function(a){return s(a==null?a:n(a))}:!1,kl}var jl,jm;function sA(){if(jm)return jl;jm=1;var r=ub(),t=cb(),e=rA();return jl=r?function(n){return r(n)}:t?function(n){if(!n||typeof n!="object"&&typeof n!="function")throw new TypeError("getProto: not an object");return t(n)}:e?function(n){return e(n)}:null,jl}var Dl,Dm;function oA(){if(Dm)return Dl;Dm=1;var r=Function.prototype.call,t=Object.prototype.hasOwnProperty,e=ch();return Dl=e.call(r,t),Dl}var Fl,Fm;function rg(){if(Fm)return Fl;Fm=1;var r,t=hb(),e=OT(),i=LT(),n=BT(),s=NT(),o=qT(),a=ps(),h=UT(),l=GT(),u=HT(),c=WT(),d=$T(),f=VT(),g=XT(),p=ZT(),m=Function,y=function(rt){try{return m('"use strict"; return ('+rt+").constructor;")()}catch{}},x=lb(),_=JT(),v=function(){throw new a},b=x?function(){try{return arguments.callee,v}catch{try{return x(arguments,"callee").get}catch{return v}}}():v,E=tA()(),w=sA(),C=cb(),z=ub(),F=db(),D=ng(),M={},k=typeof Uint8Array>"u"||!w?r:w(Uint8Array),j={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":E&&w?w([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":M,"%AsyncGenerator%":M,"%AsyncGeneratorFunction%":M,"%AsyncIteratorPrototype%":M,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":e,"%eval%":eval,"%EvalError%":i,"%Float16Array%":typeof Float16Array>"u"?r:Float16Array,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":m,"%GeneratorFunction%":M,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":E&&w?w(w([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!E||!w?r:w(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":x,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":n,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!E||!w?r:w(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":E&&w?w(""[Symbol.iterator]()):r,"%Symbol%":E?Symbol:r,"%SyntaxError%":o,"%ThrowTypeError%":b,"%TypedArray%":k,"%TypeError%":a,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":h,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet,"%Function.prototype.call%":D,"%Function.prototype.apply%":F,"%Object.defineProperty%":_,"%Object.getPrototypeOf%":C,"%Math.abs%":l,"%Math.floor%":u,"%Math.max%":c,"%Math.min%":d,"%Math.pow%":f,"%Math.round%":g,"%Math.sign%":p,"%Reflect.getPrototypeOf%":z};if(w)try{null.error}catch(rt){var O=w(w(rt));j["%Error.prototype%"]=O}var T=function rt($){var it;if($==="%AsyncFunction%")it=y("async function () {}");else if($==="%GeneratorFunction%")it=y("function* () {}");else if($==="%AsyncGeneratorFunction%")it=y("async function* () {}");else if($==="%AsyncGenerator%"){var st=rt("%AsyncGeneratorFunction%");st&&(it=st.prototype)}else if($==="%AsyncIteratorPrototype%"){var ft=rt("%AsyncGenerator%");ft&&w&&(it=w(ft.prototype))}return j[$]=it,it},S={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},A=ch(),R=oA(),I=A.call(D,Array.prototype.concat),P=A.call(F,Array.prototype.splice),L=A.call(D,String.prototype.replace),B=A.call(D,String.prototype.slice),U=A.call(D,RegExp.prototype.exec),H=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Z=/\\(\\)?/g,K=function($){var it=B($,0,1),st=B($,-1);if(it==="%"&&st!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(st==="%"&&it!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var ft=[];return L($,H,function(Tt,Y,ot,gt){ft[ft.length]=ot?L(gt,Z,"$1"):Y||Tt}),ft},nt=function($,it){var st=$,ft;if(R(S,st)&&(ft=S[st],st="%"+ft[0]+"%"),R(j,st)){var Tt=j[st];if(Tt===M&&(Tt=T(st)),typeof Tt>"u"&&!it)throw new a("intrinsic "+$+" exists, but is not available. Please file an issue!");return{alias:ft,name:st,value:Tt}}throw new o("intrinsic "+$+" does not exist!")};return Fl=function($,it){if(typeof $!="string"||$.length===0)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof it!="boolean")throw new a('"allowMissing" argument must be a boolean');if(U(/^%?[^%]*%?$/,$)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var st=K($),ft=st.length>0?st[0]:"",Tt=nt("%"+ft+"%",it),Y=Tt.name,ot=Tt.value,gt=!1,Rt=Tt.alias;Rt&&(ft=Rt[0],P(st,I([0,1],Rt)));for(var Pe=1,Ci=!0;Pe<st.length;Pe+=1){var ue=st[Pe],pe=B(ue,0,1),Wt=B(ue,-1);if((pe==='"'||pe==="'"||pe==="`"||Wt==='"'||Wt==="'"||Wt==="`")&&pe!==Wt)throw new o("property names with quotes must have matching quotes");if((ue==="constructor"||!Ci)&&(gt=!0),ft+="."+ue,Y="%"+ft+"%",R(j,Y))ot=j[Y];else if(ot!=null){if(!(ue in ot)){if(!it)throw new a("base intrinsic for "+$+" exists, but the property is not available.");return}if(x&&Pe+1>=st.length){var oi=x(ot,ue);Ci=!!oi,Ci&&"get"in oi&&!("originalValue"in oi.get)?ot=oi.get:ot=ot[ue]}else Ci=R(ot,ue),ot=ot[ue];Ci&&!gt&&(j[Y]=ot)}}return ot},Fl}var Ol,Om;function gb(){if(Om)return Ol;Om=1;var r=rg(),t=fb(),e=t([r("%String.prototype.indexOf%")]);return Ol=function(n,s){var o=r(n,!!s);return typeof o=="function"&&e(n,".prototype.")>-1?t([o]):o},Ol}var Ll,Lm;function pb(){if(Lm)return Ll;Lm=1;var r=rg(),t=gb(),e=uh(),i=ps(),n=r("%Map%",!0),s=t("Map.prototype.get",!0),o=t("Map.prototype.set",!0),a=t("Map.prototype.has",!0),h=t("Map.prototype.delete",!0),l=t("Map.prototype.size",!0);return Ll=!!n&&function(){var c,d={assert:function(f){if(!d.has(f))throw new i("Side channel does not contain "+e(f))},delete:function(f){if(c){var g=h(c,f);return l(c)===0&&(c=void 0),g}return!1},get:function(f){if(c)return s(c,f)},has:function(f){return c?a(c,f):!1},set:function(f,g){c||(c=new n),o(c,f,g)}};return d},Ll}var Bl,Bm;function aA(){if(Bm)return Bl;Bm=1;var r=rg(),t=gb(),e=uh(),i=pb(),n=ps(),s=r("%WeakMap%",!0),o=t("WeakMap.prototype.get",!0),a=t("WeakMap.prototype.set",!0),h=t("WeakMap.prototype.has",!0),l=t("WeakMap.prototype.delete",!0);return Bl=s?function(){var c,d,f={assert:function(g){if(!f.has(g))throw new n("Side channel does not contain "+e(g))},delete:function(g){if(s&&g&&(typeof g=="object"||typeof g=="function")){if(c)return l(c,g)}else if(i&&d)return d.delete(g);return!1},get:function(g){return s&&g&&(typeof g=="object"||typeof g=="function")&&c?o(c,g):d&&d.get(g)},has:function(g){return s&&g&&(typeof g=="object"||typeof g=="function")&&c?h(c,g):!!d&&d.has(g)},set:function(g,p){s&&g&&(typeof g=="object"||typeof g=="function")?(c||(c=new s),a(c,g,p)):i&&(d||(d=i()),d.set(g,p))}};return f}:i,Bl}var Nl,Nm;function hA(){if(Nm)return Nl;Nm=1;var r=ps(),t=uh(),e=FT(),i=pb(),n=aA(),s=n||i||e;return Nl=function(){var a,h={assert:function(l){if(!h.has(l))throw new r("Side channel does not contain "+t(l))},delete:function(l){return!!a&&a.delete(l)},get:function(l){return a&&a.get(l)},has:function(l){return!!a&&a.has(l)},set:function(l,u){a||(a=s()),a.set(l,u)}};return h},Nl}var ql,qm;function sg(){if(qm)return ql;qm=1;var r=String.prototype.replace,t=/%20/g,e={RFC1738:"RFC1738",RFC3986:"RFC3986"};return ql={default:e.RFC3986,formatters:{RFC1738:function(i){return r.call(i,t,"+")},RFC3986:function(i){return String(i)}},RFC1738:e.RFC1738,RFC3986:e.RFC3986},ql}var Ul,Um;function mb(){if(Um)return Ul;Um=1;var r=sg(),t=Object.prototype.hasOwnProperty,e=Array.isArray,i=function(){for(var m=[],y=0;y<256;++y)m.push("%"+((y<16?"0":"")+y.toString(16)).toUpperCase());return m}(),n=function(y){for(;y.length>1;){var x=y.pop(),_=x.obj[x.prop];if(e(_)){for(var v=[],b=0;b<_.length;++b)typeof _[b]<"u"&&v.push(_[b]);x.obj[x.prop]=v}}},s=function(y,x){for(var _=x&&x.plainObjects?{__proto__:null}:{},v=0;v<y.length;++v)typeof y[v]<"u"&&(_[v]=y[v]);return _},o=function m(y,x,_){if(!x)return y;if(typeof x!="object"&&typeof x!="function"){if(e(y))y.push(x);else if(y&&typeof y=="object")(_&&(_.plainObjects||_.allowPrototypes)||!t.call(Object.prototype,x))&&(y[x]=!0);else return[y,x];return y}if(!y||typeof y!="object")return[y].concat(x);var v=y;return e(y)&&!e(x)&&(v=s(y,_)),e(y)&&e(x)?(x.forEach(function(b,E){if(t.call(y,E)){var w=y[E];w&&typeof w=="object"&&b&&typeof b=="object"?y[E]=m(w,b,_):y.push(b)}else y[E]=b}),y):Object.keys(x).reduce(function(b,E){var w=x[E];return t.call(b,E)?b[E]=m(b[E],w,_):b[E]=w,b},v)},a=function(y,x){return Object.keys(x).reduce(function(_,v){return _[v]=x[v],_},y)},h=function(m,y,x){var _=m.replace(/\+/g," ");if(x==="iso-8859-1")return _.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(_)}catch{return _}},l=1024,u=function(y,x,_,v,b){if(y.length===0)return y;var E=y;if(typeof y=="symbol"?E=Symbol.prototype.toString.call(y):typeof y!="string"&&(E=String(y)),_==="iso-8859-1")return escape(E).replace(/%u[0-9a-f]{4}/gi,function(k){return"%26%23"+parseInt(k.slice(2),16)+"%3B"});for(var w="",C=0;C<E.length;C+=l){for(var z=E.length>=l?E.slice(C,C+l):E,F=[],D=0;D<z.length;++D){var M=z.charCodeAt(D);if(M===45||M===46||M===95||M===126||M>=48&&M<=57||M>=65&&M<=90||M>=97&&M<=122||b===r.RFC1738&&(M===40||M===41)){F[F.length]=z.charAt(D);continue}if(M<128){F[F.length]=i[M];continue}if(M<2048){F[F.length]=i[192|M>>6]+i[128|M&63];continue}if(M<55296||M>=57344){F[F.length]=i[224|M>>12]+i[128|M>>6&63]+i[128|M&63];continue}D+=1,M=65536+((M&1023)<<10|z.charCodeAt(D)&1023),F[F.length]=i[240|M>>18]+i[128|M>>12&63]+i[128|M>>6&63]+i[128|M&63]}w+=F.join("")}return w},c=function(y){for(var x=[{obj:{o:y},prop:"o"}],_=[],v=0;v<x.length;++v)for(var b=x[v],E=b.obj[b.prop],w=Object.keys(E),C=0;C<w.length;++C){var z=w[C],F=E[z];typeof F=="object"&&F!==null&&_.indexOf(F)===-1&&(x.push({obj:E,prop:z}),_.push(F))}return n(x),y},d=function(y){return Object.prototype.toString.call(y)==="[object RegExp]"},f=function(y){return!y||typeof y!="object"?!1:!!(y.constructor&&y.constructor.isBuffer&&y.constructor.isBuffer(y))},g=function(y,x){return[].concat(y,x)},p=function(y,x){if(e(y)){for(var _=[],v=0;v<y.length;v+=1)_.push(x(y[v]));return _}return x(y)};return Ul={arrayToObject:s,assign:a,combine:g,compact:c,decode:h,encode:u,isBuffer:f,isRegExp:d,maybeMap:p,merge:o},Ul}var Gl,Gm;function lA(){if(Gm)return Gl;Gm=1;var r=hA(),t=mb(),e=sg(),i=Object.prototype.hasOwnProperty,n={brackets:function(m){return m+"[]"},comma:"comma",indices:function(m,y){return m+"["+y+"]"},repeat:function(m){return m}},s=Array.isArray,o=Array.prototype.push,a=function(p,m){o.apply(p,s(m)?m:[m])},h=Date.prototype.toISOString,l=e.default,u={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:t.encode,encodeValuesOnly:!1,filter:void 0,format:l,formatter:e.formatters[l],indices:!1,serializeDate:function(m){return h.call(m)},skipNulls:!1,strictNullHandling:!1},c=function(m){return typeof m=="string"||typeof m=="number"||typeof m=="boolean"||typeof m=="symbol"||typeof m=="bigint"},d={},f=function p(m,y,x,_,v,b,E,w,C,z,F,D,M,k,j,O,T,S){for(var A=m,R=S,I=0,P=!1;(R=R.get(d))!==void 0&&!P;){var L=R.get(m);if(I+=1,typeof L<"u"){if(L===I)throw new RangeError("Cyclic object value");P=!0}typeof R.get(d)>"u"&&(I=0)}if(typeof z=="function"?A=z(y,A):A instanceof Date?A=M(A):x==="comma"&&s(A)&&(A=t.maybeMap(A,function(Y){return Y instanceof Date?M(Y):Y})),A===null){if(b)return C&&!O?C(y,u.encoder,T,"key",k):y;A=""}if(c(A)||t.isBuffer(A)){if(C){var B=O?y:C(y,u.encoder,T,"key",k);return[j(B)+"="+j(C(A,u.encoder,T,"value",k))]}return[j(y)+"="+j(String(A))]}var U=[];if(typeof A>"u")return U;var H;if(x==="comma"&&s(A))O&&C&&(A=t.maybeMap(A,C)),H=[{value:A.length>0?A.join(",")||null:void 0}];else if(s(z))H=z;else{var Z=Object.keys(A);H=F?Z.sort(F):Z}var K=w?String(y).replace(/\./g,"%2E"):String(y),nt=_&&s(A)&&A.length===1?K+"[]":K;if(v&&s(A)&&A.length===0)return nt+"[]";for(var rt=0;rt<H.length;++rt){var $=H[rt],it=typeof $=="object"&&$&&typeof $.value<"u"?$.value:A[$];if(!(E&&it===null)){var st=D&&w?String($).replace(/\./g,"%2E"):String($),ft=s(A)?typeof x=="function"?x(nt,st):nt:nt+(D?"."+st:"["+st+"]");S.set(m,I);var Tt=r();Tt.set(d,S),a(U,p(it,ft,x,_,v,b,E,w,x==="comma"&&O&&s(A)?null:C,z,F,D,M,k,j,O,T,Tt))}}return U},g=function(m){if(!m)return u;if(typeof m.allowEmptyArrays<"u"&&typeof m.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof m.encodeDotInKeys<"u"&&typeof m.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(m.encoder!==null&&typeof m.encoder<"u"&&typeof m.encoder!="function")throw new TypeError("Encoder has to be a function.");var y=m.charset||u.charset;if(typeof m.charset<"u"&&m.charset!=="utf-8"&&m.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var x=e.default;if(typeof m.format<"u"){if(!i.call(e.formatters,m.format))throw new TypeError("Unknown format option provided.");x=m.format}var _=e.formatters[x],v=u.filter;(typeof m.filter=="function"||s(m.filter))&&(v=m.filter);var b;if(m.arrayFormat in n?b=m.arrayFormat:"indices"in m?b=m.indices?"indices":"repeat":b=u.arrayFormat,"commaRoundTrip"in m&&typeof m.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var E=typeof m.allowDots>"u"?m.encodeDotInKeys===!0?!0:u.allowDots:!!m.allowDots;return{addQueryPrefix:typeof m.addQueryPrefix=="boolean"?m.addQueryPrefix:u.addQueryPrefix,allowDots:E,allowEmptyArrays:typeof m.allowEmptyArrays=="boolean"?!!m.allowEmptyArrays:u.allowEmptyArrays,arrayFormat:b,charset:y,charsetSentinel:typeof m.charsetSentinel=="boolean"?m.charsetSentinel:u.charsetSentinel,commaRoundTrip:!!m.commaRoundTrip,delimiter:typeof m.delimiter>"u"?u.delimiter:m.delimiter,encode:typeof m.encode=="boolean"?m.encode:u.encode,encodeDotInKeys:typeof m.encodeDotInKeys=="boolean"?m.encodeDotInKeys:u.encodeDotInKeys,encoder:typeof m.encoder=="function"?m.encoder:u.encoder,encodeValuesOnly:typeof m.encodeValuesOnly=="boolean"?m.encodeValuesOnly:u.encodeValuesOnly,filter:v,format:x,formatter:_,serializeDate:typeof m.serializeDate=="function"?m.serializeDate:u.serializeDate,skipNulls:typeof m.skipNulls=="boolean"?m.skipNulls:u.skipNulls,sort:typeof m.sort=="function"?m.sort:null,strictNullHandling:typeof m.strictNullHandling=="boolean"?m.strictNullHandling:u.strictNullHandling}};return Gl=function(p,m){var y=p,x=g(m),_,v;typeof x.filter=="function"?(v=x.filter,y=v("",y)):s(x.filter)&&(v=x.filter,_=v);var b=[];if(typeof y!="object"||y===null)return"";var E=n[x.arrayFormat],w=E==="comma"&&x.commaRoundTrip;_||(_=Object.keys(y)),x.sort&&_.sort(x.sort);for(var C=r(),z=0;z<_.length;++z){var F=_[z],D=y[F];x.skipNulls&&D===null||a(b,f(D,F,E,w,x.allowEmptyArrays,x.strictNullHandling,x.skipNulls,x.encodeDotInKeys,x.encode?x.encoder:null,x.filter,x.sort,x.allowDots,x.serializeDate,x.format,x.formatter,x.encodeValuesOnly,x.charset,C))}var M=b.join(x.delimiter),k=x.addQueryPrefix===!0?"?":"";return x.charsetSentinel&&(x.charset==="iso-8859-1"?k+="utf8=%26%2310003%3B&":k+="utf8=%E2%9C%93&"),M.length>0?k+M:""},Gl}var Hl,Hm;function uA(){if(Hm)return Hl;Hm=1;var r=mb(),t=Object.prototype.hasOwnProperty,e=Array.isArray,i={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:r.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},n=function(d){return d.replace(/&#(\d+);/g,function(f,g){return String.fromCharCode(parseInt(g,10))})},s=function(d,f,g){if(d&&typeof d=="string"&&f.comma&&d.indexOf(",")>-1)return d.split(",");if(f.throwOnLimitExceeded&&g>=f.arrayLimit)throw new RangeError("Array limit exceeded. Only "+f.arrayLimit+" element"+(f.arrayLimit===1?"":"s")+" allowed in an array.");return d},o="utf8=%26%2310003%3B",a="utf8=%E2%9C%93",h=function(f,g){var p={__proto__:null},m=g.ignoreQueryPrefix?f.replace(/^\?/,""):f;m=m.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var y=g.parameterLimit===1/0?void 0:g.parameterLimit,x=m.split(g.delimiter,g.throwOnLimitExceeded?y+1:y);if(g.throwOnLimitExceeded&&x.length>y)throw new RangeError("Parameter limit exceeded. Only "+y+" parameter"+(y===1?"":"s")+" allowed.");var _=-1,v,b=g.charset;if(g.charsetSentinel)for(v=0;v<x.length;++v)x[v].indexOf("utf8=")===0&&(x[v]===a?b="utf-8":x[v]===o&&(b="iso-8859-1"),_=v,v=x.length);for(v=0;v<x.length;++v)if(v!==_){var E=x[v],w=E.indexOf("]="),C=w===-1?E.indexOf("="):w+1,z,F;C===-1?(z=g.decoder(E,i.decoder,b,"key"),F=g.strictNullHandling?null:""):(z=g.decoder(E.slice(0,C),i.decoder,b,"key"),F=r.maybeMap(s(E.slice(C+1),g,e(p[z])?p[z].length:0),function(M){return g.decoder(M,i.decoder,b,"value")})),F&&g.interpretNumericEntities&&b==="iso-8859-1"&&(F=n(String(F))),E.indexOf("[]=")>-1&&(F=e(F)?[F]:F);var D=t.call(p,z);D&&g.duplicates==="combine"?p[z]=r.combine(p[z],F):(!D||g.duplicates==="last")&&(p[z]=F)}return p},l=function(d,f,g,p){var m=0;if(d.length>0&&d[d.length-1]==="[]"){var y=d.slice(0,-1).join("");m=Array.isArray(f)&&f[y]?f[y].length:0}for(var x=p?f:s(f,g,m),_=d.length-1;_>=0;--_){var v,b=d[_];if(b==="[]"&&g.parseArrays)v=g.allowEmptyArrays&&(x===""||g.strictNullHandling&&x===null)?[]:r.combine([],x);else{v=g.plainObjects?{__proto__:null}:{};var E=b.charAt(0)==="["&&b.charAt(b.length-1)==="]"?b.slice(1,-1):b,w=g.decodeDotInKeys?E.replace(/%2E/g,"."):E,C=parseInt(w,10);!g.parseArrays&&w===""?v={0:x}:!isNaN(C)&&b!==w&&String(C)===w&&C>=0&&g.parseArrays&&C<=g.arrayLimit?(v=[],v[C]=x):w!=="__proto__"&&(v[w]=x)}x=v}return x},u=function(f,g,p,m){if(f){var y=p.allowDots?f.replace(/\.([^.[]+)/g,"[$1]"):f,x=/(\[[^[\]]*])/,_=/(\[[^[\]]*])/g,v=p.depth>0&&x.exec(y),b=v?y.slice(0,v.index):y,E=[];if(b){if(!p.plainObjects&&t.call(Object.prototype,b)&&!p.allowPrototypes)return;E.push(b)}for(var w=0;p.depth>0&&(v=_.exec(y))!==null&&w<p.depth;){if(w+=1,!p.plainObjects&&t.call(Object.prototype,v[1].slice(1,-1))&&!p.allowPrototypes)return;E.push(v[1])}if(v){if(p.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+p.depth+" and strictDepth is true");E.push("["+y.slice(v.index)+"]")}return l(E,g,p,m)}},c=function(f){if(!f)return i;if(typeof f.allowEmptyArrays<"u"&&typeof f.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof f.decodeDotInKeys<"u"&&typeof f.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(f.decoder!==null&&typeof f.decoder<"u"&&typeof f.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof f.charset<"u"&&f.charset!=="utf-8"&&f.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof f.throwOnLimitExceeded<"u"&&typeof f.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var g=typeof f.charset>"u"?i.charset:f.charset,p=typeof f.duplicates>"u"?i.duplicates:f.duplicates;if(p!=="combine"&&p!=="first"&&p!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var m=typeof f.allowDots>"u"?f.decodeDotInKeys===!0?!0:i.allowDots:!!f.allowDots;return{allowDots:m,allowEmptyArrays:typeof f.allowEmptyArrays=="boolean"?!!f.allowEmptyArrays:i.allowEmptyArrays,allowPrototypes:typeof f.allowPrototypes=="boolean"?f.allowPrototypes:i.allowPrototypes,allowSparse:typeof f.allowSparse=="boolean"?f.allowSparse:i.allowSparse,arrayLimit:typeof f.arrayLimit=="number"?f.arrayLimit:i.arrayLimit,charset:g,charsetSentinel:typeof f.charsetSentinel=="boolean"?f.charsetSentinel:i.charsetSentinel,comma:typeof f.comma=="boolean"?f.comma:i.comma,decodeDotInKeys:typeof f.decodeDotInKeys=="boolean"?f.decodeDotInKeys:i.decodeDotInKeys,decoder:typeof f.decoder=="function"?f.decoder:i.decoder,delimiter:typeof f.delimiter=="string"||r.isRegExp(f.delimiter)?f.delimiter:i.delimiter,depth:typeof f.depth=="number"||f.depth===!1?+f.depth:i.depth,duplicates:p,ignoreQueryPrefix:f.ignoreQueryPrefix===!0,interpretNumericEntities:typeof f.interpretNumericEntities=="boolean"?f.interpretNumericEntities:i.interpretNumericEntities,parameterLimit:typeof f.parameterLimit=="number"?f.parameterLimit:i.parameterLimit,parseArrays:f.parseArrays!==!1,plainObjects:typeof f.plainObjects=="boolean"?f.plainObjects:i.plainObjects,strictDepth:typeof f.strictDepth=="boolean"?!!f.strictDepth:i.strictDepth,strictNullHandling:typeof f.strictNullHandling=="boolean"?f.strictNullHandling:i.strictNullHandling,throwOnLimitExceeded:typeof f.throwOnLimitExceeded=="boolean"?f.throwOnLimitExceeded:!1}};return Hl=function(d,f){var g=c(f);if(d===""||d===null||typeof d>"u")return g.plainObjects?{__proto__:null}:{};for(var p=typeof d=="string"?h(d,g):d,m=g.plainObjects?{__proto__:null}:{},y=Object.keys(p),x=0;x<y.length;++x){var _=y[x],v=u(_,p[_],g,typeof d=="string");m=r.merge(m,v,g)}return g.allowSparse===!0?m:r.compact(m)},Hl}var Wl,Wm;function cA(){if(Wm)return Wl;Wm=1;var r=lA(),t=uA(),e=sg();return Wl={formats:e,parse:t,stringify:r},Wl}var $m;function dA(){if($m)return er;$m=1;var r=RT();function t(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var e=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,n=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,s=["<",">",'"',"`"," ","\r",`
`,"	"],o=["{","}","|","\\","^","`"].concat(s),a=["'"].concat(o),h=["%","/","?",";","#"].concat(a),l=["/","?","#"],u=255,c=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,f={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},p={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=cA();function y(b,E,w){if(b&&typeof b=="object"&&b instanceof t)return b;var C=new t;return C.parse(b,E,w),C}t.prototype.parse=function(b,E,w){if(typeof b!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof b);var C=b.indexOf("?"),z=C!==-1&&C<b.indexOf("#")?"?":"#",F=b.split(z),D=/\\/g;F[0]=F[0].replace(D,"/"),b=F.join(z);var M=b;if(M=M.trim(),!w&&b.split("#").length===1){var k=n.exec(M);if(k)return this.path=M,this.href=M,this.pathname=k[1],k[2]?(this.search=k[2],E?this.query=m.parse(this.search.substr(1)):this.query=this.search.substr(1)):E&&(this.search="",this.query={}),this}var j=e.exec(M);if(j){j=j[0];var O=j.toLowerCase();this.protocol=O,M=M.substr(j.length)}if(w||j||M.match(/^\/\/[^@/]+@[^@/]+/)){var T=M.substr(0,2)==="//";T&&!(j&&g[j])&&(M=M.substr(2),this.slashes=!0)}if(!g[j]&&(T||j&&!p[j])){for(var S=-1,A=0;A<l.length;A++){var R=M.indexOf(l[A]);R!==-1&&(S===-1||R<S)&&(S=R)}var I,P;S===-1?P=M.lastIndexOf("@"):P=M.lastIndexOf("@",S),P!==-1&&(I=M.slice(0,P),M=M.slice(P+1),this.auth=decodeURIComponent(I)),S=-1;for(var A=0;A<h.length;A++){var R=M.indexOf(h[A]);R!==-1&&(S===-1||R<S)&&(S=R)}S===-1&&(S=M.length),this.host=M.slice(0,S),M=M.slice(S),this.parseHost(),this.hostname=this.hostname||"";var L=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!L)for(var B=this.hostname.split(/\./),A=0,U=B.length;A<U;A++){var H=B[A];if(H&&!H.match(c)){for(var Z="",K=0,nt=H.length;K<nt;K++)H.charCodeAt(K)>127?Z+="x":Z+=H[K];if(!Z.match(c)){var rt=B.slice(0,A),$=B.slice(A+1),it=H.match(d);it&&(rt.push(it[1]),$.unshift(it[2])),$.length&&(M="/"+$.join(".")+M),this.hostname=rt.join(".");break}}}this.hostname.length>u?this.hostname="":this.hostname=this.hostname.toLowerCase(),L||(this.hostname=r.toASCII(this.hostname));var st=this.port?":"+this.port:"",ft=this.hostname||"";this.host=ft+st,this.href+=this.host,L&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),M[0]!=="/"&&(M="/"+M))}if(!f[O])for(var A=0,U=a.length;A<U;A++){var Tt=a[A];if(M.indexOf(Tt)!==-1){var Y=encodeURIComponent(Tt);Y===Tt&&(Y=escape(Tt)),M=M.split(Tt).join(Y)}}var ot=M.indexOf("#");ot!==-1&&(this.hash=M.substr(ot),M=M.slice(0,ot));var gt=M.indexOf("?");if(gt!==-1?(this.search=M.substr(gt),this.query=M.substr(gt+1),E&&(this.query=m.parse(this.query)),M=M.slice(0,gt)):E&&(this.search="",this.query={}),M&&(this.pathname=M),p[O]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var st=this.pathname||"",Rt=this.search||"";this.path=st+Rt}return this.href=this.format(),this};function x(b){return typeof b=="string"&&(b=y(b)),b instanceof t?b.format():t.prototype.format.call(b)}t.prototype.format=function(){var b=this.auth||"";b&&(b=encodeURIComponent(b),b=b.replace(/%3A/i,":"),b+="@");var E=this.protocol||"",w=this.pathname||"",C=this.hash||"",z=!1,F="";this.host?z=b+this.host:this.hostname&&(z=b+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(z+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(F=m.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var D=this.search||F&&"?"+F||"";return E&&E.substr(-1)!==":"&&(E+=":"),this.slashes||(!E||p[E])&&z!==!1?(z="//"+(z||""),w&&w.charAt(0)!=="/"&&(w="/"+w)):z||(z=""),C&&C.charAt(0)!=="#"&&(C="#"+C),D&&D.charAt(0)!=="?"&&(D="?"+D),w=w.replace(/[?#]/g,function(M){return encodeURIComponent(M)}),D=D.replace("#","%23"),E+z+w+D+C};function _(b,E){return y(b,!1,!0).resolve(E)}t.prototype.resolve=function(b){return this.resolveObject(y(b,!1,!0)).format()};function v(b,E){return b?y(b,!1,!0).resolveObject(E):E}return t.prototype.resolveObject=function(b){if(typeof b=="string"){var E=new t;E.parse(b,!1,!0),b=E}for(var w=new t,C=Object.keys(this),z=0;z<C.length;z++){var F=C[z];w[F]=this[F]}if(w.hash=b.hash,b.href==="")return w.href=w.format(),w;if(b.slashes&&!b.protocol){for(var D=Object.keys(b),M=0;M<D.length;M++){var k=D[M];k!=="protocol"&&(w[k]=b[k])}return p[w.protocol]&&w.hostname&&!w.pathname&&(w.pathname="/",w.path=w.pathname),w.href=w.format(),w}if(b.protocol&&b.protocol!==w.protocol){if(!p[b.protocol]){for(var j=Object.keys(b),O=0;O<j.length;O++){var T=j[O];w[T]=b[T]}return w.href=w.format(),w}if(w.protocol=b.protocol,!b.host&&!g[b.protocol]){for(var U=(b.pathname||"").split("/");U.length&&!(b.host=U.shift()););b.host||(b.host=""),b.hostname||(b.hostname=""),U[0]!==""&&U.unshift(""),U.length<2&&U.unshift(""),w.pathname=U.join("/")}else w.pathname=b.pathname;if(w.search=b.search,w.query=b.query,w.host=b.host||"",w.auth=b.auth,w.hostname=b.hostname||b.host,w.port=b.port,w.pathname||w.search){var S=w.pathname||"",A=w.search||"";w.path=S+A}return w.slashes=w.slashes||b.slashes,w.href=w.format(),w}var R=w.pathname&&w.pathname.charAt(0)==="/",I=b.host||b.pathname&&b.pathname.charAt(0)==="/",P=I||R||w.host&&b.pathname,L=P,B=w.pathname&&w.pathname.split("/")||[],U=b.pathname&&b.pathname.split("/")||[],H=w.protocol&&!p[w.protocol];if(H&&(w.hostname="",w.port=null,w.host&&(B[0]===""?B[0]=w.host:B.unshift(w.host)),w.host="",b.protocol&&(b.hostname=null,b.port=null,b.host&&(U[0]===""?U[0]=b.host:U.unshift(b.host)),b.host=null),P=P&&(U[0]===""||B[0]==="")),I)w.host=b.host||b.host===""?b.host:w.host,w.hostname=b.hostname||b.hostname===""?b.hostname:w.hostname,w.search=b.search,w.query=b.query,B=U;else if(U.length)B||(B=[]),B.pop(),B=B.concat(U),w.search=b.search,w.query=b.query;else if(b.search!=null){if(H){w.host=B.shift(),w.hostname=w.host;var Z=w.host&&w.host.indexOf("@")>0?w.host.split("@"):!1;Z&&(w.auth=Z.shift(),w.hostname=Z.shift(),w.host=w.hostname)}return w.search=b.search,w.query=b.query,(w.pathname!==null||w.search!==null)&&(w.path=(w.pathname?w.pathname:"")+(w.search?w.search:"")),w.href=w.format(),w}if(!B.length)return w.pathname=null,w.search?w.path="/"+w.search:w.path=null,w.href=w.format(),w;for(var K=B.slice(-1)[0],nt=(w.host||b.host||B.length>1)&&(K==="."||K==="..")||K==="",rt=0,$=B.length;$>=0;$--)K=B[$],K==="."?B.splice($,1):K===".."?(B.splice($,1),rt++):rt&&(B.splice($,1),rt--);if(!P&&!L)for(;rt--;rt)B.unshift("..");P&&B[0]!==""&&(!B[0]||B[0].charAt(0)!=="/")&&B.unshift(""),nt&&B.join("/").substr(-1)!=="/"&&B.push("");var it=B[0]===""||B[0]&&B[0].charAt(0)==="/";if(H){w.hostname=it?"":B.length?B.shift():"",w.host=w.hostname;var Z=w.host&&w.host.indexOf("@")>0?w.host.split("@"):!1;Z&&(w.auth=Z.shift(),w.hostname=Z.shift(),w.host=w.hostname)}return P=P||w.host&&B.length,P&&!it&&B.unshift(""),B.length>0?w.pathname=B.join("/"):(w.pathname=null,w.path=null),(w.pathname!==null||w.search!==null)&&(w.path=(w.pathname?w.pathname:"")+(w.search?w.search:"")),w.auth=b.auth||w.auth,w.slashes=w.slashes||b.slashes,w.href=w.format(),w},t.prototype.parseHost=function(){var b=this.host,E=i.exec(b);E&&(E=E[0],E!==":"&&(this.port=E.substr(1)),b=b.substr(0,b.length-E.length)),b&&(this.hostname=b)},er.parse=y,er.resolve=_,er.resolveObject=v,er.format=x,er.Url=t,er}var $l=dA();const Vm={};function mt(r,t,e=3){if(Vm[t])return;let i=new Error().stack;typeof i>"u"?console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${r}`):(i=i.split(`
`).splice(e).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${t}
Deprecated since v${r}`),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${r}`),console.warn(i))),Vm[t]=!0}const fA={get parse(){return mt("7.3.0","utils.url.parse is deprecated, use native URL API instead."),$l.parse},get format(){return mt("7.3.0","utils.url.format is deprecated, use native URL API instead."),$l.format},get resolve(){return mt("7.3.0","utils.url.resolve is deprecated, use native URL API instead."),$l.resolve}};function li(r){if(typeof r!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(r)}`)}function ws(r){return r.split("?")[0].split("#")[0]}function gA(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function pA(r,t,e){return r.replace(new RegExp(gA(t),"g"),e)}function mA(r,t){let e="",i=0,n=-1,s=0,o=-1;for(let a=0;a<=r.length;++a){if(a<r.length)o=r.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(n===a-1||s===1))if(n!==a-1&&s===2){if(e.length<2||i!==2||e.charCodeAt(e.length-1)!==46||e.charCodeAt(e.length-2)!==46){if(e.length>2){const h=e.lastIndexOf("/");if(h!==e.length-1){h===-1?(e="",i=0):(e=e.slice(0,h),i=e.length-1-e.lastIndexOf("/")),n=a,s=0;continue}}else if(e.length===2||e.length===1){e="",i=0,n=a,s=0;continue}}}else e.length>0?e+=`/${r.slice(n+1,a)}`:e=r.slice(n+1,a),i=a-n-1;n=a,s=0}else o===46&&s!==-1?++s:s=-1}return e}const ee={toPosix(r){return pA(r,"\\","/")},isUrl(r){return/^https?:/.test(this.toPosix(r))},isDataUrl(r){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(r)},isBlobUrl(r){return r.startsWith("blob:")},hasProtocol(r){return/^[^/:]+:/.test(this.toPosix(r))},getProtocol(r){li(r),r=this.toPosix(r);const t=/^file:\/\/\//.exec(r);if(t)return t[0];const e=/^[^/:]+:\/{0,2}/.exec(r);return e?e[0]:""},toAbsolute(r,t,e){if(li(r),this.isDataUrl(r)||this.isBlobUrl(r))return r;const i=ws(this.toPosix(t??Q.ADAPTER.getBaseUrl())),n=ws(this.toPosix(e??this.rootname(i)));return r=this.toPosix(r),r.startsWith("/")?ee.join(n,r.slice(1)):this.isAbsolute(r)?r:this.join(i,r)},normalize(r){if(li(r),r.length===0)return".";if(this.isDataUrl(r)||this.isBlobUrl(r))return r;r=this.toPosix(r);let t="";const e=r.startsWith("/");this.hasProtocol(r)&&(t=this.rootname(r),r=r.slice(t.length));const i=r.endsWith("/");return r=mA(r),r.length>0&&i&&(r+="/"),e?`/${r}`:t+r},isAbsolute(r){return li(r),r=this.toPosix(r),this.hasProtocol(r)?!0:r.startsWith("/")},join(...r){if(r.length===0)return".";let t;for(let e=0;e<r.length;++e){const i=r[e];if(li(i),i.length>0)if(t===void 0)t=i;else{const n=r[e-1]??"";this.joinExtensions.includes(this.extname(n).toLowerCase())?t+=`/../${i}`:t+=`/${i}`}}return t===void 0?".":this.normalize(t)},dirname(r){if(li(r),r.length===0)return".";r=this.toPosix(r);let t=r.charCodeAt(0);const e=t===47;let i=-1,n=!0;const s=this.getProtocol(r),o=r;r=r.slice(s.length);for(let a=r.length-1;a>=1;--a)if(t=r.charCodeAt(a),t===47){if(!n){i=a;break}}else n=!1;return i===-1?e?"/":this.isUrl(o)?s+r:s:e&&i===1?"//":s+r.slice(0,i)},rootname(r){li(r),r=this.toPosix(r);let t="";if(r.startsWith("/")?t="/":t=this.getProtocol(r),this.isUrl(r)){const e=r.indexOf("/",t.length);e!==-1?t=r.slice(0,e):t=r,t.endsWith("/")||(t+="/")}return t},basename(r,t){li(r),t&&li(t),r=ws(this.toPosix(r));let e=0,i=-1,n=!0,s;if(t!==void 0&&t.length>0&&t.length<=r.length){if(t.length===r.length&&t===r)return"";let o=t.length-1,a=-1;for(s=r.length-1;s>=0;--s){const h=r.charCodeAt(s);if(h===47){if(!n){e=s+1;break}}else a===-1&&(n=!1,a=s+1),o>=0&&(h===t.charCodeAt(o)?--o===-1&&(i=s):(o=-1,i=a))}return e===i?i=a:i===-1&&(i=r.length),r.slice(e,i)}for(s=r.length-1;s>=0;--s)if(r.charCodeAt(s)===47){if(!n){e=s+1;break}}else i===-1&&(n=!1,i=s+1);return i===-1?"":r.slice(e,i)},extname(r){li(r),r=ws(this.toPosix(r));let t=-1,e=0,i=-1,n=!0,s=0;for(let o=r.length-1;o>=0;--o){const a=r.charCodeAt(o);if(a===47){if(!n){e=o+1;break}continue}i===-1&&(n=!1,i=o+1),a===46?t===-1?t=o:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||i===-1||s===0||s===1&&t===i-1&&t===e+1?"":r.slice(t,i)},parse(r){li(r);const t={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return t;r=ws(this.toPosix(r));let e=r.charCodeAt(0);const i=this.isAbsolute(r);let n;t.root=this.rootname(r),i||this.hasProtocol(r)?n=1:n=0;let s=-1,o=0,a=-1,h=!0,l=r.length-1,u=0;for(;l>=n;--l){if(e=r.charCodeAt(l),e===47){if(!h){o=l+1;break}continue}a===-1&&(h=!1,a=l+1),e===46?s===-1?s=l:u!==1&&(u=1):s!==-1&&(u=-1)}return s===-1||a===-1||u===0||u===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&i?t.base=t.name=r.slice(1,a):t.base=t.name=r.slice(o,a)):(o===0&&i?(t.name=r.slice(1,s),t.base=r.slice(1,a)):(t.name=r.slice(o,s),t.base=r.slice(o,a)),t.ext=r.slice(s,a)),t.dir=this.dirname(r),t},sep:"/",delimiter:":",joinExtensions:[".html"]};let Vl;async function yb(){return Vl??(Vl=(async()=>{var s;const r=document.createElement("canvas").getContext("webgl");if(!r)return xe.UNPACK;const t=await new Promise(o=>{const a=document.createElement("video");a.onloadeddata=()=>o(a),a.onerror=()=>o(null),a.autoplay=!1,a.crossOrigin="anonymous",a.preload="auto",a.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",a.load()});if(!t)return xe.UNPACK;const e=r.createTexture();r.bindTexture(r.TEXTURE_2D,e);const i=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,i),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e,0),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,r.NONE),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,t);const n=new Uint8Array(4);return r.readPixels(0,0,1,1,r.RGBA,r.UNSIGNED_BYTE,n),r.deleteFramebuffer(i),r.deleteTexture(e),(s=r.getExtension("WEBGL_lose_context"))==null||s.loseContext(),n[0]<=n[3]?xe.PMA:xe.UNPACK})()),Vl}function yA(){mt("7.0.0","skipHello is deprecated, please use settings.RENDER_OPTIONS.hello")}function _A(){mt("7.0.0",`sayHello is deprecated, please use Renderer's "hello" option`)}let Xl;function _b(){return typeof Xl>"u"&&(Xl=function(){var t;const r={stencil:!0,failIfMajorPerformanceCaveat:Q.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!Q.ADAPTER.getWebGLRenderingContext())return!1;const e=Q.ADAPTER.createCanvas();let i=e.getContext("webgl",r)||e.getContext("experimental-webgl",r);const n=!!((t=i==null?void 0:i.getContextAttributes())!=null&&t.stencil);if(i){const s=i.getExtension("WEBGL_lose_context");s&&s.loseContext()}return i=null,n}catch{return!1}}()),Xl}var xA={grad:.9,turn:360,rad:360/(2*Math.PI)},Ji=function(r){return typeof r=="string"?r.length>0:typeof r=="number"},se=function(r,t,e){return t===void 0&&(t=0),e===void 0&&(e=Math.pow(10,t)),Math.round(e*r)/e+0},Qe=function(r,t,e){return t===void 0&&(t=0),e===void 0&&(e=1),r>e?e:r>t?r:t},xb=function(r){return(r=isFinite(r)?r%360:0)>0?r:r+360},Xm=function(r){return{r:Qe(r.r,0,255),g:Qe(r.g,0,255),b:Qe(r.b,0,255),a:Qe(r.a)}},Yl=function(r){return{r:se(r.r),g:se(r.g),b:se(r.b),a:se(r.a,3)}},bA=/^#([0-9a-f]{3,8})$/i,Vo=function(r){var t=r.toString(16);return t.length<2?"0"+t:t},bb=function(r){var t=r.r,e=r.g,i=r.b,n=r.a,s=Math.max(t,e,i),o=s-Math.min(t,e,i),a=o?s===t?(e-i)/o:s===e?2+(i-t)/o:4+(t-e)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:n}},vb=function(r){var t=r.h,e=r.s,i=r.v,n=r.a;t=t/360*6,e/=100,i/=100;var s=Math.floor(t),o=i*(1-e),a=i*(1-(t-s)*e),h=i*(1-(1-t+s)*e),l=s%6;return{r:255*[i,a,o,o,h,i][l],g:255*[h,i,i,a,o,o][l],b:255*[o,o,h,i,i,a][l],a:n}},Ym=function(r){return{h:xb(r.h),s:Qe(r.s,0,100),l:Qe(r.l,0,100),a:Qe(r.a)}},Zm=function(r){return{h:se(r.h),s:se(r.s),l:se(r.l),a:se(r.a,3)}},Km=function(r){return vb((e=(t=r).s,{h:t.h,s:(e*=((i=t.l)<50?i:100-i)/100)>0?2*e/(i+e)*100:0,v:i+e,a:t.a}));var t,e,i},Ws=function(r){return{h:(t=bb(r)).h,s:(n=(200-(e=t.s))*(i=t.v)/100)>0&&n<200?e*i/100/(n<=100?n:200-n)*100:0,l:n/2,a:t.a};var t,e,i,n},vA=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,wA=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,TA=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,AA=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Xd={string:[[function(r){var t=bA.exec(r);return t?(r=t[1]).length<=4?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:r.length===4?se(parseInt(r[3]+r[3],16)/255,2):1}:r.length===6||r.length===8?{r:parseInt(r.substr(0,2),16),g:parseInt(r.substr(2,2),16),b:parseInt(r.substr(4,2),16),a:r.length===8?se(parseInt(r.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(r){var t=TA.exec(r)||AA.exec(r);return t?t[2]!==t[4]||t[4]!==t[6]?null:Xm({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(r){var t=vA.exec(r)||wA.exec(r);if(!t)return null;var e,i,n=Ym({h:(e=t[1],i=t[2],i===void 0&&(i="deg"),Number(e)*(xA[i]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return Km(n)},"hsl"]],object:[[function(r){var t=r.r,e=r.g,i=r.b,n=r.a,s=n===void 0?1:n;return Ji(t)&&Ji(e)&&Ji(i)?Xm({r:Number(t),g:Number(e),b:Number(i),a:Number(s)}):null},"rgb"],[function(r){var t=r.h,e=r.s,i=r.l,n=r.a,s=n===void 0?1:n;if(!Ji(t)||!Ji(e)||!Ji(i))return null;var o=Ym({h:Number(t),s:Number(e),l:Number(i),a:Number(s)});return Km(o)},"hsl"],[function(r){var t=r.h,e=r.s,i=r.v,n=r.a,s=n===void 0?1:n;if(!Ji(t)||!Ji(e)||!Ji(i))return null;var o=function(a){return{h:xb(a.h),s:Qe(a.s,0,100),v:Qe(a.v,0,100),a:Qe(a.a)}}({h:Number(t),s:Number(e),v:Number(i),a:Number(s)});return vb(o)},"hsv"]]},Jm=function(r,t){for(var e=0;e<t.length;e++){var i=t[e][0](r);if(i)return[i,t[e][1]]}return[null,void 0]},EA=function(r){return typeof r=="string"?Jm(r.trim(),Xd.string):typeof r=="object"&&r!==null?Jm(r,Xd.object):[null,void 0]},Zl=function(r,t){var e=Ws(r);return{h:e.h,s:Qe(e.s+100*t,0,100),l:e.l,a:e.a}},Kl=function(r){return(299*r.r+587*r.g+114*r.b)/1e3/255},Qm=function(r,t){var e=Ws(r);return{h:e.h,s:e.s,l:Qe(e.l+100*t,0,100),a:e.a}},Yd=function(){function r(t){this.parsed=EA(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return r.prototype.isValid=function(){return this.parsed!==null},r.prototype.brightness=function(){return se(Kl(this.rgba),2)},r.prototype.isDark=function(){return Kl(this.rgba)<.5},r.prototype.isLight=function(){return Kl(this.rgba)>=.5},r.prototype.toHex=function(){return t=Yl(this.rgba),e=t.r,i=t.g,n=t.b,o=(s=t.a)<1?Vo(se(255*s)):"","#"+Vo(e)+Vo(i)+Vo(n)+o;var t,e,i,n,s,o},r.prototype.toRgb=function(){return Yl(this.rgba)},r.prototype.toRgbString=function(){return t=Yl(this.rgba),e=t.r,i=t.g,n=t.b,(s=t.a)<1?"rgba("+e+", "+i+", "+n+", "+s+")":"rgb("+e+", "+i+", "+n+")";var t,e,i,n,s},r.prototype.toHsl=function(){return Zm(Ws(this.rgba))},r.prototype.toHslString=function(){return t=Zm(Ws(this.rgba)),e=t.h,i=t.s,n=t.l,(s=t.a)<1?"hsla("+e+", "+i+"%, "+n+"%, "+s+")":"hsl("+e+", "+i+"%, "+n+"%)";var t,e,i,n,s},r.prototype.toHsv=function(){return t=bb(this.rgba),{h:se(t.h),s:se(t.s),v:se(t.v),a:se(t.a,3)};var t},r.prototype.invert=function(){return zi({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},r.prototype.saturate=function(t){return t===void 0&&(t=.1),zi(Zl(this.rgba,t))},r.prototype.desaturate=function(t){return t===void 0&&(t=.1),zi(Zl(this.rgba,-t))},r.prototype.grayscale=function(){return zi(Zl(this.rgba,-1))},r.prototype.lighten=function(t){return t===void 0&&(t=.1),zi(Qm(this.rgba,t))},r.prototype.darken=function(t){return t===void 0&&(t=.1),zi(Qm(this.rgba,-t))},r.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},r.prototype.alpha=function(t){return typeof t=="number"?zi({r:(e=this.rgba).r,g:e.g,b:e.b,a:t}):se(this.rgba.a,3);var e},r.prototype.hue=function(t){var e=Ws(this.rgba);return typeof t=="number"?zi({h:t,s:e.s,l:e.l,a:e.a}):se(e.h)},r.prototype.isEqual=function(t){return this.toHex()===zi(t).toHex()},r}(),zi=function(r){return r instanceof Yd?r:new Yd(r)},ty=[],SA=function(r){r.forEach(function(t){ty.indexOf(t)<0&&(t(Yd,Xd),ty.push(t))})};function CA(r,t){var e={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},i={};for(var n in e)i[e[n]]=n;var s={};r.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,h,l=i[this.toHex()];if(l)return l;if(o!=null&&o.closest){var u=this.toRgb(),c=1/0,d="black";if(!s.length)for(var f in e)s[f]=new r(e[f]).toRgb();for(var g in e){var p=(a=u,h=s[g],Math.pow(a.r-h.r,2)+Math.pow(a.g-h.g,2)+Math.pow(a.b-h.b,2));p<c&&(c=p,d=g)}return d}},t.string.push([function(o){var a=o.toLowerCase(),h=a==="transparent"?"#0000":e[a];return h?new r(h).toRgb():null},"name"])}SA([CA]);const Nr=class ga{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof ga)this._value=this.cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,t))&&(this.normalize(t),this._value=this.cloneSource(t))}}get value(){return this._value}cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}isSourceEqual(t,e){const i=typeof t;if(i!==typeof e)return!1;if(i==="number"||i==="string"||t instanceof Number)return t===e;if(Array.isArray(t)&&Array.isArray(e)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return t.length!==e.length?!1:t.every((n,s)=>n===e[s]);if(t!==null&&e!==null){const n=Object.keys(t),s=Object.keys(e);return n.length!==s.length?!1:n.every(o=>t[o]===e[o])}return t===e}toRgba(){const[t,e,i,n]=this._components;return{r:t,g:e,b:i,a:n}}toRgb(){const[t,e,i]=this._components;return{r:t,g:e,b:i}}toRgbaString(){const[t,e,i]=this.toUint8RgbArray();return`rgba(${t},${e},${i},${this.alpha})`}toUint8RgbArray(t){const[e,i,n]=this._components;return t=t??[],t[0]=Math.round(e*255),t[1]=Math.round(i*255),t[2]=Math.round(n*255),t}toRgbArray(t){t=t??[];const[e,i,n]=this._components;return t[0]=e,t[1]=i,t[2]=n,t}toNumber(){return this._int}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[e,i,n,s]=ga.temp.setValue(t)._components;return this._components[0]*=e,this._components[1]*=i,this._components[2]*=n,this._components[3]*=s,this.refreshInt(),this._value=null,this}premultiply(t,e=!0){return e&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this.refreshInt(),this._value=null,this}toPremultiplied(t,e=!0){if(t===1)return(255<<24)+this._int;if(t===0)return e?0:this._int;let i=this._int>>16&255,n=this._int>>8&255,s=this._int&255;return e&&(i=i*t+.5|0,n=n*t+.5|0,s=s*t+.5|0),(t*255<<24)+(i<<16)+(n<<8)+s}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const t=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-t.length)+t}setAlpha(t){return this._components[3]=this._clamp(t),this}round(t){const[e,i,n]=this._components;return this._components[0]=Math.round(e*t)/t,this._components[1]=Math.round(i*t)/t,this._components[2]=Math.round(n*t)/t,this.refreshInt(),this._value=null,this}toArray(t){t=t??[];const[e,i,n,s]=this._components;return t[0]=e,t[1]=i,t[2]=n,t[3]=s,t}normalize(t){let e,i,n,s;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const o=t;e=(o>>16&255)/255,i=(o>>8&255)/255,n=(o&255)/255,s=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[e,i,n,s=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[e,i,n,s=255]=t,e/=255,i/=255,n/=255,s/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const a=ga.HEX_PATTERN.exec(t);a&&(t=`#${a[2]}`)}const o=zi(t);o.isValid()&&({r:e,g:i,b:n,a:s}=o.rgba,e/=255,i/=255,n/=255)}if(e!==void 0)this._components[0]=e,this._components[1]=i,this._components[2]=n,this._components[3]=s,this.refreshInt();else throw new Error(`Unable to convert color ${t}`)}refreshInt(){this._clamp(this._components);const[t,e,i]=this._components;this._int=(t*255<<16)+(e*255<<8)+(i*255|0)}_clamp(t,e=0,i=1){return typeof t=="number"?Math.min(Math.max(t,e),i):(t.forEach((n,s)=>{t[s]=Math.min(Math.max(n,e),i)}),t)}};Nr.shared=new Nr,Nr.temp=new Nr,Nr.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let St=Nr;function wb(r,t=[]){return mt("7.2.0","utils.hex2rgb is deprecated, use Color#toRgbArray instead"),St.shared.setValue(r).toRgbArray(t)}function Tb(r){return mt("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),St.shared.setValue(r).toHex()}function IA(r){return mt("7.2.0","utils.string2hex is deprecated, use Color#toNumber instead"),St.shared.setValue(r).toNumber()}function og(r){return mt("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),St.shared.setValue(r).toNumber()}function zA(){const r=[],t=[];for(let i=0;i<32;i++)r[i]=i,t[i]=i;r[dt.NORMAL_NPM]=dt.NORMAL,r[dt.ADD_NPM]=dt.ADD,r[dt.SCREEN_NPM]=dt.SCREEN,t[dt.NORMAL]=dt.NORMAL_NPM,t[dt.ADD]=dt.ADD_NPM,t[dt.SCREEN]=dt.SCREEN_NPM;const e=[];return e.push(t),e.push(r),e}const ag=zA();function hg(r,t){return ag[t?1:0][r]}function PA(r,t,e,i=!0){return mt("7.2.0","utils.premultiplyRgba has moved to Color.premultiply"),St.shared.setValue(r).premultiply(t,i).toArray(e??new Float32Array(4))}function MA(r,t){return mt("7.2.0","utils.premultiplyTint has moved to Color.toPremultiplied"),St.shared.setValue(r).toPremultiplied(t)}function RA(r,t,e,i=!0){return mt("7.2.0","utils.premultiplyTintToRgba has moved to Color.premultiply"),St.shared.setValue(r).premultiply(t,i).toArray(e??new Float32Array(4))}const Ab=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function Eb(r,t=null){const e=r*6;if(t=t||new Uint16Array(e),t.length!==e)throw new Error(`Out buffer length is incorrect, got ${t.length} and expected ${e}`);for(let i=0,n=0;i<e;i+=6,n+=4)t[i+0]=n+0,t[i+1]=n+1,t[i+2]=n+2,t[i+3]=n+0,t[i+4]=n+2,t[i+5]=n+3;return t}function dh(r){if(r.BYTES_PER_ELEMENT===4)return r instanceof Float32Array?"Float32Array":r instanceof Uint32Array?"Uint32Array":"Int32Array";if(r.BYTES_PER_ELEMENT===2){if(r instanceof Uint16Array)return"Uint16Array"}else if(r.BYTES_PER_ELEMENT===1&&r instanceof Uint8Array)return"Uint8Array";return null}const kA={Float32Array,Uint32Array,Int32Array,Uint8Array};function jA(r,t){let e=0,i=0;const n={};for(let h=0;h<r.length;h++)i+=t[h],e+=r[h].length;const s=new ArrayBuffer(e*4);let o=null,a=0;for(let h=0;h<r.length;h++){const l=t[h],u=r[h],c=dh(u);n[c]||(n[c]=new kA[c](s)),o=n[c];for(let d=0;d<u.length;d++){const f=(d/l|0)*i+a,g=d%l;o[f+g]=u[d]}a+=l}return new Float32Array(s)}function Js(r){return r+=r===0?1:0,--r,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r+1}function Zd(r){return!(r&r-1)&&!!r}function Kd(r){let t=(r>65535?1:0)<<4;r>>>=t;let e=(r>255?1:0)<<3;return r>>>=e,t|=e,e=(r>15?1:0)<<2,r>>>=e,t|=e,e=(r>3?1:0)<<1,r>>>=e,t|=e,t|r>>1}function pr(r,t,e){const i=r.length;let n;if(t>=i||e===0)return;e=t+e>i?i-t:e;const s=i-e;for(n=t;n<s;++n)r[n]=r[n+e];r.length=s}function un(r){return r===0?0:r<0?-1:1}let DA=0;function Hn(){return++DA}const Jd=class{constructor(r,t,e,i){this.left=r,this.top=t,this.right=e,this.bottom=i}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};Jd.EMPTY=new Jd(0,0,0,0);let Qd=Jd;const tf={},ye=Object.create(null),je=Object.create(null);function FA(){let r;for(r in ye)ye[r].destroy();for(r in je)je[r].destroy()}function OA(){let r;for(r in ye)delete ye[r];for(r in je)delete je[r]}class Sb{constructor(t,e,i){this._canvas=Q.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=i||Q.RESOLUTION,this.resize(t,e)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(t,e){this._checkDestroyed(),this._canvas.width=Math.round(t*this.resolution),this._canvas.height=Math.round(e*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(t){this._checkDestroyed(),this._canvas.width=Math.round(t)}get height(){return this._checkDestroyed(),this._canvas.height}set height(t){this._checkDestroyed(),this._canvas.height=Math.round(t)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function ey(r,t,e){for(let i=0,n=4*e*t;i<t;++i,n+=4)if(r[n+3]!==0)return!1;return!0}function iy(r,t,e,i,n){const s=4*t;for(let o=i,a=i*s+4*e;o<=n;++o,a+=s)if(r[a+3]!==0)return!1;return!0}function Cb(r){const{width:t,height:e}=r,i=r.getContext("2d",{willReadFrequently:!0});if(i===null)throw new TypeError("Failed to get canvas 2D context");const n=i.getImageData(0,0,t,e).data;let s=0,o=0,a=t-1,h=e-1;for(;o<e&&ey(n,t,o);)++o;if(o===e)return Qd.EMPTY;for(;ey(n,t,h);)--h;for(;iy(n,t,s,o,h);)++s;for(;iy(n,t,a,o,h);)--a;return++a,++h,new Qd(s,o,a,h)}function Ib(r){const t=Cb(r),{width:e,height:i}=t;let n=null;if(!t.isEmpty()){const s=r.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");n=s.getImageData(t.left,t.top,e,i)}return{width:e,height:i,data:n}}function LA(r){const t=Ab.exec(r);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}}function zb(r,t=globalThis.location){if(r.startsWith("data:"))return"";t=t||globalThis.location;const e=new URL(r,document.baseURI);return e.hostname!==t.hostname||e.port!==t.port||e.protocol!==t.protocol?"anonymous":""}function Ui(r,t=1){var i;const e=(i=Q.RETINA_PREFIX)==null?void 0:i.exec(r);return e?parseFloat(e[1]):t}const BA=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:je,BoundingBox:Qd,CanvasRenderTarget:Sb,DATA_URI:Ab,EventEmitter:gs,ProgramCache:tf,TextureCache:ye,clearTextureCache:OA,correctBlendMode:hg,createIndicesForQuads:Eb,decomposeDataUri:LA,deprecation:mt,destroyTextureCache:FA,detectVideoAlphaMode:yb,determineCrossOrigin:zb,earcut:ab,getBufferType:dh,getCanvasBoundingBox:Cb,getResolutionOfUrl:Ui,hex2rgb:wb,hex2string:Tb,interleaveTypedArrays:jA,isMobile:_i,isPow2:Zd,isWebGLSupported:_b,log2:Kd,nextPow2:Js,path:ee,premultiplyBlendMode:ag,premultiplyRgba:PA,premultiplyTint:MA,premultiplyTintToRgba:RA,removeItems:pr,rgb2hex:og,sayHello:_A,sign:un,skipHello:yA,string2hex:IA,trimCanvas:Ib,uid:Hn,url:fA},Symbol.toStringTag,{value:"Module"}));var J=(r=>(r.Renderer="renderer",r.Application="application",r.RendererSystem="renderer-webgl-system",r.RendererPlugin="renderer-webgl-plugin",r.CanvasRendererSystem="renderer-canvas-system",r.CanvasRendererPlugin="renderer-canvas-plugin",r.Asset="asset",r.LoadParser="load-parser",r.ResolveParser="resolve-parser",r.CacheParser="cache-parser",r.DetectionParser="detection-parser",r))(J||{});const ef=r=>{if(typeof r=="function"||typeof r=="object"&&r.extension){if(!r.extension)throw new Error("Extension class must have an extension object");r={...typeof r.extension!="object"?{type:r.extension}:r.extension,ref:r}}if(typeof r=="object")r={...r};else throw new Error("Invalid extension type");return typeof r.type=="string"&&(r.type=[r.type]),r},ny=(r,t)=>ef(r).priority??t,at={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...r){return r.map(ef).forEach(t=>{t.type.forEach(e=>{var i,n;return(n=(i=this._removeHandlers)[e])==null?void 0:n.call(i,t)})}),this},add(...r){return r.map(ef).forEach(t=>{t.type.forEach(e=>{var s,o;const i=this._addHandlers,n=this._queue;i[e]?(s=i[e])==null||s.call(i,t):(n[e]=n[e]||[],(o=n[e])==null||o.push(t))})}),this},handle(r,t,e){var o;const i=this._addHandlers,n=this._removeHandlers;if(i[r]||n[r])throw new Error(`Extension type ${r} already has a handler`);i[r]=t,n[r]=e;const s=this._queue;return s[r]&&((o=s[r])==null||o.forEach(a=>t(a)),delete s[r]),this},handleByMap(r,t){return this.handle(r,e=>{e.name&&(t[e.name]=e.ref)},e=>{e.name&&delete t[e.name]})},handleByList(r,t,e=-1){return this.handle(r,i=>{t.includes(i.ref)||(t.push(i.ref),t.sort((n,s)=>ny(s,e)-ny(n,e)))},i=>{const n=t.indexOf(i.ref);n!==-1&&t.splice(n,1)})}};class ja{constructor(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}}const NA=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function qA(r){let t="";for(let e=0;e<r;++e)e>0&&(t+=`
else `),e<r-1&&(t+=`if(test == ${e}.0){}`);return t}function Pb(r,t){if(r===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const e=t.createShader(t.FRAGMENT_SHADER);for(;;){const i=NA.replace(/%forloop%/gi,qA(r));if(t.shaderSource(e,i),t.compileShader(e),!t.getShaderParameter(e,t.COMPILE_STATUS))r=r/2|0;else break}return r}const Jl=0,Ql=1,tu=2,eu=3,iu=4,nu=5;class Si{constructor(){this.data=0,this.blendMode=dt.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<Jl)}set blend(t){!!(this.data&1<<Jl)!==t&&(this.data^=1<<Jl)}get offsets(){return!!(this.data&1<<Ql)}set offsets(t){!!(this.data&1<<Ql)!==t&&(this.data^=1<<Ql)}get culling(){return!!(this.data&1<<tu)}set culling(t){!!(this.data&1<<tu)!==t&&(this.data^=1<<tu)}get depthTest(){return!!(this.data&1<<eu)}set depthTest(t){!!(this.data&1<<eu)!==t&&(this.data^=1<<eu)}get depthMask(){return!!(this.data&1<<nu)}set depthMask(t){!!(this.data&1<<nu)!==t&&(this.data^=1<<nu)}get clockwiseFrontFace(){return!!(this.data&1<<iu)}set clockwiseFrontFace(t){!!(this.data&1<<iu)!==t&&(this.data^=1<<iu)}get blendMode(){return this._blendMode}set blendMode(t){this.blend=t!==dt.NONE,this._blendMode=t}get polygonOffset(){return this._polygonOffset}set polygonOffset(t){this.offsets=!!t,this._polygonOffset=t}static for2d(){const t=new Si;return t.depthTest=!1,t.blend=!0,t}}Si.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const Da=[];function lg(r,t){if(!r)return null;let e="";if(typeof r=="string"){const i=/\.(\w{3,4})(?:$|\?|#)/i.exec(r);i&&(e=i[1].toLowerCase())}for(let i=Da.length-1;i>=0;--i){const n=Da[i];if(n.test&&n.test(r,e))return new n(r,t)}throw new Error("Unrecognized source type to auto-detect Resource")}class Ne{constructor(t){this.items=[],this._name=t,this._aliasCount=0}emit(t,e,i,n,s,o,a,h){if(arguments.length>8)throw new Error("max arguments reached");const{name:l,items:u}=this;this._aliasCount++;for(let c=0,d=u.length;c<d;c++)u[c][l](t,e,i,n,s,o,a,h);return u===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this}remove(t){const e=this.items.indexOf(t);return e!==-1&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this}contains(t){return this.items.includes(t)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Ne.prototype,{dispatch:{value:Ne.prototype.emit},run:{value:Ne.prototype.emit}});class is{constructor(t=0,e=0){this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new Ne("setRealSize"),this.onUpdate=new Ne("update"),this.onError=new Ne("onError")}bind(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)}resize(t,e){(t!==this._width||e!==this._height)&&(this._width=t,this._height=e,this.onResize.emit(t,e))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(t,e,i){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(t,e){return!1}}class Eo extends is{constructor(t,e){const{width:i,height:n}=e||{};if(!i||!n)throw new Error("BufferResource width or height invalid");super(i,n),this.data=t,this.unpackAlignment=e.unpackAlignment??4}upload(t,e,i){const n=t.gl;n.pixelStorei(n.UNPACK_ALIGNMENT,this.unpackAlignment),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===xe.UNPACK);const s=e.realWidth,o=e.realHeight;return i.width===s&&i.height===o?n.texSubImage2D(e.target,0,0,0,s,o,e.format,i.type,this.data):(i.width=s,i.height=o,n.texImage2D(e.target,0,i.internalFormat,s,o,0,e.format,i.type,this.data)),!0}dispose(){this.data=null}static test(t){return t===null||t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array}}const UA={scaleMode:Di.NEAREST,alphaMode:xe.NPM},nf=class qr extends gs{constructor(t=null,e=null){super(),e=Object.assign({},qr.defaultOptions,e);const{alphaMode:i,mipmap:n,anisotropicLevel:s,scaleMode:o,width:a,height:h,wrapMode:l,format:u,type:c,target:d,resolution:f,resourceOptions:g}=e;t&&!(t instanceof is)&&(t=lg(t,g),t.internal=!0),this.resolution=f||Q.RESOLUTION,this.width=Math.round((a||0)*this.resolution)/this.resolution,this.height=Math.round((h||0)*this.resolution)/this.resolution,this._mipmap=n,this.anisotropicLevel=s,this._wrapMode=l,this._scaleMode=o,this.format=u,this.type=c,this.target=d,this.alphaMode=i,this.uid=Hn(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=a>0&&h>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let i;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,i=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,i=!0),i&&this.dirtyStyleId++,this}setSize(t,e,i){return i=i||this.resolution,this.setRealSize(t*i,e*i,i)}setRealSize(t,e,i){return this.resolution=i||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=Zd(this.realWidth)&&Zd(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete je[this.cacheId],delete ye[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),qr.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,i=Q.STRICT_TEXTURE_CACHE){const n=typeof t=="string";let s=null;if(n)s=t;else{if(!t._pixiId){const a=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${a}_${Hn()}`}s=t._pixiId}let o=je[s];if(n&&i&&!o)throw new Error(`The cacheId "${s}" does not exist in BaseTextureCache.`);return o||(o=new qr(t,e),o.cacheId=s,qr.addToCache(o,s)),o}static fromBuffer(t,e,i,n){t=t||new Float32Array(e*i*4);const s=new Eo(t,{width:e,height:i,...n==null?void 0:n.resourceOptions});let o,a;return t instanceof Float32Array?(o=X.RGBA,a=lt.FLOAT):t instanceof Int32Array?(o=X.RGBA_INTEGER,a=lt.INT):t instanceof Uint32Array?(o=X.RGBA_INTEGER,a=lt.UNSIGNED_INT):t instanceof Int16Array?(o=X.RGBA_INTEGER,a=lt.SHORT):t instanceof Uint16Array?(o=X.RGBA_INTEGER,a=lt.UNSIGNED_SHORT):t instanceof Int8Array?(o=X.RGBA,a=lt.BYTE):(o=X.RGBA,a=lt.UNSIGNED_BYTE),s.internal=!0,new qr(s,Object.assign({},UA,{type:a,format:o},n))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),je[e]&&je[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),je[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=je[t];if(e){const i=e.textureCacheIds.indexOf(t);return i>-1&&e.textureCacheIds.splice(i,1),delete je[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete je[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};nf.defaultOptions={mipmap:Ai.POW2,anisotropicLevel:0,scaleMode:Di.LINEAR,wrapMode:Bi.CLAMP,alphaMode:xe.UNPACK,target:gr.TEXTURE_2D,format:X.RGBA,type:lt.UNSIGNED_BYTE},nf._globalBatch=0;let _t=nf;class Fa{constructor(){this.texArray=null,this.blend=0,this.type=yi.TRIANGLES,this.start=0,this.size=0,this.data=null}}let GA=0;class Gt{constructor(t,e=!0,i=!1){this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=e,this.id=GA++,this.disposeRunner=new Ne("disposeBuffer")}update(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(t){this.type=t?bi.ELEMENT_ARRAY_BUFFER:bi.ARRAY_BUFFER}get index(){return this.type===bi.ELEMENT_ARRAY_BUFFER}static from(t){return t instanceof Array&&(t=new Float32Array(t)),new Gt(t)}}class Qs{constructor(t,e=0,i=!1,n=lt.FLOAT,s,o,a,h=1){this.buffer=t,this.size=e,this.normalized=i,this.type=n,this.stride=s,this.start=o,this.instance=a,this.divisor=h}destroy(){this.buffer=null}static from(t,e,i,n,s){return new Qs(t,e,i,n,s)}}const HA={Float32Array,Uint32Array,Int32Array,Uint8Array};function WA(r,t){let e=0,i=0;const n={};for(let h=0;h<r.length;h++)i+=t[h],e+=r[h].length;const s=new ArrayBuffer(e*4);let o=null,a=0;for(let h=0;h<r.length;h++){const l=t[h],u=r[h],c=dh(u);n[c]||(n[c]=new HA[c](s)),o=n[c];for(let d=0;d<u.length;d++){const f=(d/l|0)*i+a,g=d%l;o[f+g]=u[d]}a+=l}return new Float32Array(s)}const ry={5126:4,5123:2,5121:1};let $A=0;const VA={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class pn{constructor(t=[],e={}){this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=$A++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Ne("disposeGeometry"),this.refCount=0}addAttribute(t,e,i=0,n=!1,s,o,a,h=!1){if(!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof Gt||(e instanceof Array&&(e=new Float32Array(e)),e=new Gt(e));const l=t.split("|");if(l.length>1){for(let c=0;c<l.length;c++)this.addAttribute(l[c],e,i,n,s);return this}let u=this.buffers.indexOf(e);return u===-1&&(this.buffers.push(e),u=this.buffers.length-1),this.attributes[t]=new Qs(u,i,n,s,o,a,h),this.instanced=this.instanced||h,this}getAttribute(t){return this.attributes[t]}getBuffer(t){return this.buffers[this.getAttribute(t).buffer]}addIndex(t){return t instanceof Gt||(t instanceof Array&&(t=new Uint16Array(t)),t=new Gt(t)),t.type=bi.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,this.buffers.includes(t)||this.buffers.push(t),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const t=[],e=[],i=new Gt;let n;for(n in this.attributes){const s=this.attributes[n],o=this.buffers[s.buffer];t.push(o.data),e.push(s.size*ry[s.type]/4),s.buffer=0}for(i.data=WA(t,e),n=0;n<this.buffers.length;n++)this.buffers[n]!==this.indexBuffer&&this.buffers[n].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const t in this.attributes){const e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const t=new pn;for(let e=0;e<this.buffers.length;e++)t.buffers[e]=new Gt(this.buffers[e].data.slice(0));for(const e in this.attributes){const i=this.attributes[e];t.attributes[e]=new Qs(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=bi.ELEMENT_ARRAY_BUFFER),t}static merge(t){const e=new pn,i=[],n=[],s=[];let o;for(let a=0;a<t.length;a++){o=t[a];for(let h=0;h<o.buffers.length;h++)n[h]=n[h]||0,n[h]+=o.buffers[h].data.length,s[h]=0}for(let a=0;a<o.buffers.length;a++)i[a]=new VA[dh(o.buffers[a].data)](n[a]),e.buffers[a]=new Gt(i[a]);for(let a=0;a<t.length;a++){o=t[a];for(let h=0;h<o.buffers.length;h++)i[h].set(o.buffers[h].data,s[h]),s[h]+=o.buffers[h].data.length}if(e.attributes=o.attributes,o.indexBuffer){e.indexBuffer=e.buffers[o.buffers.indexOf(o.indexBuffer)],e.indexBuffer.type=bi.ELEMENT_ARRAY_BUFFER;let a=0,h=0,l=0,u=0;for(let c=0;c<o.buffers.length;c++)if(o.buffers[c]!==o.indexBuffer){u=c;break}for(const c in o.attributes){const d=o.attributes[c];(d.buffer|0)===u&&(h+=d.size*ry[d.type]/4)}for(let c=0;c<t.length;c++){const d=t[c].indexBuffer.data;for(let f=0;f<d.length;f++)e.indexBuffer.data[f+l]+=a;a+=t[c].buffers[u].data.length/h,l+=d.length}}return e}}class ug extends pn{constructor(t=!1){super(),this._buffer=new Gt(null,t,!1),this._indexBuffer=new Gt(null,t,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,lt.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,lt.FLOAT).addAttribute("aColor",this._buffer,4,!0,lt.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,lt.FLOAT).addIndex(this._indexBuffer)}}const to=Math.PI*2,Mb=180/Math.PI,Oa=Math.PI/180;var oe=(r=>(r[r.POLY=0]="POLY",r[r.RECT=1]="RECT",r[r.CIRC=2]="CIRC",r[r.ELIP=3]="ELIP",r[r.RREC=4]="RREC",r))(oe||{});class bt{constructor(t=0,e=0){this.x=0,this.y=0,this.x=t,this.y=e}clone(){return new bt(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,e=t){return this.x=t,this.y=e,this}}bt.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const Xo=[new bt,new bt,new bt,new bt];class xt{constructor(t=0,e=0,i=0,n=0){this.x=Number(t),this.y=Number(e),this.width=Number(i),this.height=Number(n),this.type=oe.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new xt(0,0,0,0)}clone(){return new xt(this.x,this.y,this.width,this.height)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}contains(t,e){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height}intersects(t,e){if(!e){const C=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=C)return!1;const z=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>z}const i=this.left,n=this.right,s=this.top,o=this.bottom;if(n<=i||o<=s)return!1;const a=Xo[0].set(t.left,t.top),h=Xo[1].set(t.left,t.bottom),l=Xo[2].set(t.right,t.top),u=Xo[3].set(t.right,t.bottom);if(l.x<=a.x||h.y<=a.y)return!1;const c=Math.sign(e.a*e.d-e.b*e.c);if(c===0||(e.apply(a,a),e.apply(h,h),e.apply(l,l),e.apply(u,u),Math.max(a.x,h.x,l.x,u.x)<=i||Math.min(a.x,h.x,l.x,u.x)>=n||Math.max(a.y,h.y,l.y,u.y)<=s||Math.min(a.y,h.y,l.y,u.y)>=o))return!1;const d=c*(h.y-a.y),f=c*(a.x-h.x),g=d*i+f*s,p=d*n+f*s,m=d*i+f*o,y=d*n+f*o;if(Math.max(g,p,m,y)<=d*a.x+f*a.y||Math.min(g,p,m,y)>=d*u.x+f*u.y)return!1;const x=c*(a.y-l.y),_=c*(l.x-a.x),v=x*i+_*s,b=x*n+_*s,E=x*i+_*o,w=x*n+_*o;return!(Math.max(v,b,E,w)<=x*a.x+_*a.y||Math.min(v,b,E,w)>=x*u.x+_*u.y)}pad(t=0,e=t){return this.x-=t,this.y-=e,this.width+=t*2,this.height+=e*2,this}fit(t){const e=Math.max(this.x,t.x),i=Math.min(this.x+this.width,t.x+t.width),n=Math.max(this.y,t.y),s=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(i-e,0),this.y=n,this.height=Math.max(s-n,0),this}ceil(t=1,e=.001){const i=Math.ceil((this.x+this.width-e)*t)/t,n=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=i-this.x,this.height=n-this.y,this}enlarge(t){const e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),n=Math.min(this.y,t.y),s=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=i-e,this.y=n,this.height=s-n,this}}xt.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class So{constructor(t=0,e=0,i=0){this.x=t,this.y=e,this.radius=i,this.type=oe.CIRC}clone(){return new So(this.x,this.y,this.radius)}contains(t,e){if(this.radius<=0)return!1;const i=this.radius*this.radius;let n=this.x-t,s=this.y-e;return n*=n,s*=s,n+s<=i}getBounds(){return new xt(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}So.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class Co{constructor(t=0,e=0,i=0,n=0){this.x=t,this.y=e,this.width=i,this.height=n,this.type=oe.ELIP}clone(){return new Co(this.x,this.y,this.width,this.height)}contains(t,e){if(this.width<=0||this.height<=0)return!1;let i=(t-this.x)/this.width,n=(e-this.y)/this.height;return i*=i,n*=n,i+n<=1}getBounds(){return new xt(this.x-this.width,this.y-this.height,this.width,this.height)}}Co.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Bn{constructor(...t){let e=Array.isArray(t[0])?t[0]:t;if(typeof e[0]!="number"){const i=[];for(let n=0,s=e.length;n<s;n++)i.push(e[n].x,e[n].y);e=i}this.points=e,this.type=oe.POLY,this.closeStroke=!0}clone(){const t=this.points.slice(),e=new Bn(t);return e.closeStroke=this.closeStroke,e}contains(t,e){let i=!1;const n=this.points.length/2;for(let s=0,o=n-1;s<n;o=s++){const a=this.points[s*2],h=this.points[s*2+1],l=this.points[o*2],u=this.points[o*2+1];h>e!=u>e&&t<(l-a)*((e-h)/(u-h))+a&&(i=!i)}return i}}Bn.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((r,t)=>`${r}, ${t}`,"")}]`};class Io{constructor(t=0,e=0,i=0,n=0,s=20){this.x=t,this.y=e,this.width=i,this.height=n,this.radius=s,this.type=oe.RREC}clone(){return new Io(this.x,this.y,this.width,this.height,this.radius)}contains(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){const i=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(e>=this.y+i&&e<=this.y+this.height-i||t>=this.x+i&&t<=this.x+this.width-i)return!0;let n=t-(this.x+i),s=e-(this.y+i);const o=i*i;if(n*n+s*s<=o||(n=t-(this.x+this.width-i),n*n+s*s<=o)||(s=e-(this.y+this.height-i),n*n+s*s<=o)||(n=t-(this.x+i),n*n+s*s<=o))return!0}return!1}}Io.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class Dt{constructor(t=1,e=0,i=0,n=1,s=0,o=0){this.array=null,this.a=t,this.b=e,this.c=i,this.d=n,this.tx=s,this.ty=o}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,e,i,n,s,o){return this.a=t,this.b=e,this.c=i,this.d=n,this.tx=s,this.ty=o,this}toArray(t,e){this.array||(this.array=new Float32Array(9));const i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i}apply(t,e){e=e||new bt;const i=t.x,n=t.y;return e.x=this.a*i+this.c*n+this.tx,e.y=this.b*i+this.d*n+this.ty,e}applyInverse(t,e){e=e||new bt;const i=1/(this.a*this.d+this.c*-this.b),n=t.x,s=t.y;return e.x=this.d*i*n+-this.c*i*s+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*s+-this.b*i*n+(-this.ty*this.a+this.tx*this.b)*i,e}translate(t,e){return this.tx+=t,this.ty+=e,this}scale(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this}rotate(t){const e=Math.cos(t),i=Math.sin(t),n=this.a,s=this.c,o=this.tx;return this.a=n*e-this.b*i,this.b=n*i+this.b*e,this.c=s*e-this.d*i,this.d=s*i+this.d*e,this.tx=o*e-this.ty*i,this.ty=o*i+this.ty*e,this}append(t){const e=this.a,i=this.b,n=this.c,s=this.d;return this.a=t.a*e+t.b*n,this.b=t.a*i+t.b*s,this.c=t.c*e+t.d*n,this.d=t.c*i+t.d*s,this.tx=t.tx*e+t.ty*n+this.tx,this.ty=t.tx*i+t.ty*s+this.ty,this}setTransform(t,e,i,n,s,o,a,h,l){return this.a=Math.cos(a+l)*s,this.b=Math.sin(a+l)*s,this.c=-Math.sin(a-h)*o,this.d=Math.cos(a-h)*o,this.tx=t-(i*this.a+n*this.c),this.ty=e-(i*this.b+n*this.d),this}prepend(t){const e=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){const i=this.a,n=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=n*t.a+this.d*t.c,this.d=n*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this}decompose(t){const e=this.a,i=this.b,n=this.c,s=this.d,o=t.pivot,a=-Math.atan2(-n,s),h=Math.atan2(i,e),l=Math.abs(a+h);return l<1e-5||Math.abs(to-l)<1e-5?(t.rotation=h,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=a,t.skew.y=h),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(n*n+s*s),t.position.x=this.tx+(o.x*e+o.y*n),t.position.y=this.ty+(o.x*i+o.y*s),t}invert(){const t=this.a,e=this.b,i=this.c,n=this.d,s=this.tx,o=t*n-e*i;return this.a=n/o,this.b=-e/o,this.c=-i/o,this.d=t/o,this.tx=(i*this.ty-n*s)/o,this.ty=-(t*this.ty-e*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new Dt;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}static get IDENTITY(){return new Dt}static get TEMP_MATRIX(){return new Dt}}Dt.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const ar=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],hr=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],lr=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],ur=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],rf=[],Rb=[],Yo=Math.sign;function XA(){for(let r=0;r<16;r++){const t=[];rf.push(t);for(let e=0;e<16;e++){const i=Yo(ar[r]*ar[e]+lr[r]*hr[e]),n=Yo(hr[r]*ar[e]+ur[r]*hr[e]),s=Yo(ar[r]*lr[e]+lr[r]*ur[e]),o=Yo(hr[r]*lr[e]+ur[r]*ur[e]);for(let a=0;a<16;a++)if(ar[a]===i&&hr[a]===n&&lr[a]===s&&ur[a]===o){t.push(a);break}}}for(let r=0;r<16;r++){const t=new Dt;t.set(ar[r],hr[r],lr[r],ur[r],0,0),Rb.push(t)}}XA();const Ot={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:r=>ar[r],uY:r=>hr[r],vX:r=>lr[r],vY:r=>ur[r],inv:r=>r&8?r&15:-r&7,add:(r,t)=>rf[r][t],sub:(r,t)=>rf[r][Ot.inv(t)],rotate180:r=>r^4,isVertical:r=>(r&3)===2,byDirection:(r,t)=>Math.abs(r)*2<=Math.abs(t)?t>=0?Ot.S:Ot.N:Math.abs(t)*2<=Math.abs(r)?r>0?Ot.E:Ot.W:t>0?r>0?Ot.SE:Ot.SW:r>0?Ot.NE:Ot.NW,matrixAppendRotationInv:(r,t,e=0,i=0)=>{const n=Rb[Ot.inv(t)];n.tx=e,n.ty=i,r.append(n)}};class xi{constructor(t,e,i=0,n=0){this._x=i,this._y=n,this.cb=t,this.scope=e}clone(t=this.cb,e=this.scope){return new xi(t,e,this._x,this._y)}set(t=0,e=t){return(this._x!==t||this._y!==e)&&(this._x=t,this._y=e,this.cb.call(this.scope)),this}copyFrom(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}xi.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const sf=class{constructor(){this.worldTransform=new Dt,this.localTransform=new Dt,this.position=new xi(this.onChange,this,0,0),this.scale=new xi(this.onChange,this,1,1),this.pivot=new xi(this.onChange,this,0,0),this.skew=new xi(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const r=this.localTransform;this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(r){const t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==r._worldID){const e=r.worldTransform,i=this.worldTransform;i.a=t.a*e.a+t.b*e.c,i.b=t.a*e.b+t.b*e.d,i.c=t.c*e.a+t.d*e.c,i.d=t.c*e.b+t.d*e.d,i.tx=t.tx*e.a+t.ty*e.c+e.tx,i.ty=t.tx*e.b+t.ty*e.d+e.ty,this._parentID=r._worldID,this._worldID++}}setFromMatrix(r){r.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(r){this._rotation!==r&&(this._rotation=r,this.updateSkew())}};sf.IDENTITY=new sf;let zo=sf;zo.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var YA=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,ZA=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function sy(r,t,e){const i=r.createShader(t);return r.shaderSource(i,e),r.compileShader(i),i}function ru(r){const t=new Array(r);for(let e=0;e<t.length;e++)t[e]=!1;return t}function kb(r,t){switch(r){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return ru(2*t);case"bvec3":return ru(3*t);case"bvec4":return ru(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const mr=[{test:r=>r.type==="float"&&r.size===1&&!r.isArray,code:r=>`
            if(uv["${r}"] !== ud["${r}"].value)
            {
                ud["${r}"].value = uv["${r}"]
                gl.uniform1f(ud["${r}"].location, uv["${r}"])
            }
            `},{test:(r,t)=>(r.type==="sampler2D"||r.type==="samplerCube"||r.type==="sampler2DArray")&&r.size===1&&!r.isArray&&(t==null||t.castToBaseTexture!==void 0),code:r=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${r}"], t);

            if(ud["${r}"].value !== t)
            {
                ud["${r}"].value = t;
                gl.uniform1i(ud["${r}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(r,t)=>r.type==="mat3"&&r.size===1&&!r.isArray&&t.a!==void 0,code:r=>`
            gl.uniformMatrix3fv(ud["${r}"].location, false, uv["${r}"].toArray(true));
            `,codeUbo:r=>`
                var ${r}_matrix = uv.${r}.toArray(true);

                data[offset] = ${r}_matrix[0];
                data[offset+1] = ${r}_matrix[1];
                data[offset+2] = ${r}_matrix[2];
        
                data[offset + 4] = ${r}_matrix[3];
                data[offset + 5] = ${r}_matrix[4];
                data[offset + 6] = ${r}_matrix[5];
        
                data[offset + 8] = ${r}_matrix[6];
                data[offset + 9] = ${r}_matrix[7];
                data[offset + 10] = ${r}_matrix[8];
            `},{test:(r,t)=>r.type==="vec2"&&r.size===1&&!r.isArray&&t.x!==void 0,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${r}"].location, v.x, v.y);
                }`,codeUbo:r=>`
                v = uv.${r};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:r=>r.type==="vec2"&&r.size===1&&!r.isArray,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${r}"].location, v[0], v[1]);
                }
            `},{test:(r,t)=>r.type==="vec4"&&r.size===1&&!r.isArray&&t.width!==void 0,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${r}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:r=>`
                    v = uv.${r};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(r,t)=>r.type==="vec4"&&r.size===1&&!r.isArray&&t.red!==void 0,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${r}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:r=>`
                    v = uv.${r};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(r,t)=>r.type==="vec3"&&r.size===1&&!r.isArray&&t.red!==void 0,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${r}"].location, v.red, v.green, v.blue)
                }`,codeUbo:r=>`
                    v = uv.${r};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:r=>r.type==="vec4"&&r.size===1&&!r.isArray,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${r}"].location, v[0], v[1], v[2], v[3])
                }`}],KA={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},JA={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function QA(r,t){var i;const e=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const n in r.uniforms){const s=t[n];if(!s){((i=r.uniforms[n])==null?void 0:i.group)===!0&&(r.uniforms[n].ubo?e.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${n}, '${n}');
                    `):e.push(`
                        renderer.shader.syncUniformGroup(uv.${n}, syncData);
                    `));continue}const o=r.uniforms[n];let a=!1;for(let h=0;h<mr.length;h++)if(mr[h].test(s,o)){e.push(mr[h].code(n,o)),a=!0;break}if(!a){const h=(s.size===1&&!s.isArray?KA:JA)[s.type].replace("location",`ud["${n}"].location`);e.push(`
            cu = ud["${n}"];
            cv = cu.value;
            v = uv["${n}"];
            ${h};`)}}return new Function("ud","uv","renderer","syncData",e.join(`
`))}const jb={};let Fr=jb;function Db(){if(Fr===jb||Fr!=null&&Fr.isContextLost()){const r=Q.ADAPTER.createCanvas();let t;Q.PREFER_ENV>=Zn.WEBGL2&&(t=r.getContext("webgl2",{})),t||(t=r.getContext("webgl",{})||r.getContext("experimental-webgl",{}),t?t.getExtension("WEBGL_draw_buffers"):t=null),Fr=t}return Fr}let Zo;function tE(){if(!Zo){Zo=Le.MEDIUM;const r=Db();if(r&&r.getShaderPrecisionFormat){const t=r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT);t&&(Zo=t.precision?Le.HIGH:Le.MEDIUM)}}return Zo}function oy(r,t){const e=r.getShaderSource(t).split(`
`).map((l,u)=>`${u}: ${l}`),i=r.getShaderInfoLog(t),n=i.split(`
`),s={},o=n.map(l=>parseFloat(l.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(l=>l&&!s[l]?(s[l]=!0,!0):!1),a=[""];o.forEach(l=>{e[l-1]=`%c${e[l-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const h=e.join(`
`);a[0]=h,console.error(i),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function eE(r,t,e,i){r.getProgramParameter(t,r.LINK_STATUS)||(r.getShaderParameter(e,r.COMPILE_STATUS)||oy(r,e),r.getShaderParameter(i,r.COMPILE_STATUS)||oy(r,i),console.error("PixiJS Error: Could not initialize shader."),r.getProgramInfoLog(t)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",r.getProgramInfoLog(t)))}const iE={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Fb(r){return iE[r]}let Ko=null;const ay={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Ob(r,t){if(!Ko){const e=Object.keys(ay);Ko={};for(let i=0;i<e.length;++i){const n=e[i];Ko[r[n]]=ay[n]}}return Ko[t]}function hy(r,t,e){if(r.substring(0,9)!=="precision"){let i=t;return t===Le.HIGH&&e!==Le.HIGH&&(i=Le.MEDIUM),`precision ${i} float;
${r}`}else if(e!==Le.HIGH&&r.substring(0,15)==="precision highp")return r.replace("precision highp","precision mediump");return r}let Ts;function Lb(){if(typeof Ts=="boolean")return Ts;try{Ts=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Ts=!1}return Ts}let nE=0;const Jo={},of=class Ur{constructor(t,e,i="pixi-shader",n={}){this.extra={},this.id=nE++,this.vertexSrc=t||Ur.defaultVertexSrc,this.fragmentSrc=e||Ur.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=n,this.vertexSrc.substring(0,8)!=="#version"&&(i=i.replace(/\s+/g,"-"),Jo[i]?(Jo[i]++,i+=`-${Jo[i]}`):Jo[i]=1,this.vertexSrc=`#define SHADER_NAME ${i}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${i}
${this.fragmentSrc}`,this.vertexSrc=hy(this.vertexSrc,Ur.defaultVertexPrecision,Le.HIGH),this.fragmentSrc=hy(this.fragmentSrc,Ur.defaultFragmentPrecision,tE())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return ZA}static get defaultFragmentSrc(){return YA}static from(t,e,i){const n=t+e;let s=tf[n];return s||(tf[n]=s=new Ur(t,e,i)),s}};of.defaultVertexPrecision=Le.HIGH,of.defaultFragmentPrecision=_i.apple.device?Le.HIGH:Le.MEDIUM;let Fi=of,rE=0;class ri{constructor(t,e,i){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=rE++,this.static=!!e,this.ubo=!!i,t instanceof Gt?(this.buffer=t,this.buffer.type=bi.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new Gt(new Float32Array(1)),this.buffer.type=bi.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(t,e,i){if(!this.ubo)this.uniforms[t]=new ri(e,i);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(t,e,i){return new ri(t,e,i)}static uboFrom(t,e){return new ri(t,e??!0,!0)}}class vi{constructor(t,e){this.uniformBindCount=0,this.program=t,e?e instanceof ri?this.uniformGroup=e:this.uniformGroup=new ri(e):this.uniformGroup=new ri({}),this.disposeRunner=new Ne("disposeShader")}checkUniformExists(t,e){if(e.uniforms[t])return!0;for(const i in e.uniforms){const n=e.uniforms[i];if(n.group===!0&&this.checkUniformExists(t,n))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(t,e,i){const n=Fi.from(t,e);return new vi(n,i)}}class Bb{constructor(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},!e.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!e.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(t){if(!this.programCache[t]){const i=new Int32Array(t);for(let s=0;s<t;s++)i[s]=s;this.defaultGroupCache[t]=ri.from({uSamplers:i},!0);let n=this.fragTemplate;n=n.replace(/%count%/gi,`${t}`),n=n.replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new Fi(this.vertexSrc,n)}const e={tint:new Float32Array([1,1,1,1]),translationMatrix:new Dt,default:this.defaultGroupCache[t]};return new vi(this.programCache[t],e)}generateSampleSrc(t){let e="";e+=`
`,e+=`
`;for(let i=0;i<t;i++)i>0&&(e+=`
else `),i<t-1&&(e+=`if(vTextureId < ${i}.5)`),e+=`
{`,e+=`
	color = texture2D(uSamplers[${i}], vTextureCoord);`,e+=`
}`;return e+=`
`,e+=`
`,e}}class La{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let t=0;t<this.count;t++)this.elements[t]=null;this.count=0}}function sE(){return!_i.apple.device}function oE(r){let t=!0;const e=Q.ADAPTER.getNavigator();if(_i.tablet||_i.phone){if(_i.apple.device){const i=e.userAgent.match(/OS (\d+)_(\d+)?/);i&&parseInt(i[1],10)<11&&(t=!1)}if(_i.android.device){const i=e.userAgent.match(/Android\s([0-9.]*)/);i&&parseInt(i[1],10)<7&&(t=!1)}}return t?r:4}class Po{constructor(t){this.renderer=t}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(t){}}var aE=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,hE=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const Ps=class ci extends Po{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=ug,this.vertexSize=6,this.state=Si.for2d(),this.size=ci.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??oE(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??sE(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return mt("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return hE}static get defaultFragmentTemplate(){return aE}setShaderGenerator({vertex:t=ci.defaultVertexSrc,fragment:e=ci.defaultFragmentTemplate}={}){this.shaderGenerator=new Bb(t,e)}contextChange(){const t=this.renderer.gl;Q.PREFER_ENV===Zn.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),ci.defaultMaxTextures),this.maxTextures=Pb(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=ci,i=this.size/4,n=Math.floor(i/this.maxTextures)+1;for(;t.length<i;)t.push(new Fa);for(;e.length<n;)e.push(new La);for(let s=0;s<this.maxTextures;s++)this._tempBoundTextures[s]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,i=ci._textureArrayPool,n=this.renderer.batch,s=this._tempBoundTextures,o=this.renderer.textureGC.count;let a=++_t._globalBatch,h=0,l=i[0],u=0;n.copyBoundTextures(s,e);for(let c=0;c<this._bufferSize;++c){const d=t[c];t[c]=null,d._batchEnabled!==a&&(l.count>=e&&(n.boundArray(l,s,a,e),this.buildDrawCalls(l,u,c),u=c,l=i[++h],++a),d._batchEnabled=a,d.touched=o,l.elements[l.count++]=d)}l.count>0&&(n.boundArray(l,s,a,e),this.buildDrawCalls(l,u,this._bufferSize),++h,++a);for(let c=0;c<s.length;c++)s[c]=null;_t._globalBatch=a}buildDrawCalls(t,e,i){const{_bufferedElements:n,_attributeBuffer:s,_indexBuffer:o,vertexSize:a}=this,h=ci._drawCallPool;let l=this._dcIndex,u=this._aIndex,c=this._iIndex,d=h[l];d.start=this._iIndex,d.texArray=t;for(let f=e;f<i;++f){const g=n[f],p=g._texture.baseTexture,m=ag[p.alphaMode?1:0][g.blendMode];n[f]=null,e<f&&d.blend!==m&&(d.size=c-d.start,e=f,d=h[++l],d.texArray=t,d.start=c),this.packInterleavedGeometry(g,s,o,u,c),u+=g.vertexData.length/2*a,c+=g.indices.length,d.blend=m}e<i&&(d.size=c-d.start,++l),this._dcIndex=l,this._aIndex=u,this._iIndex=c}bindAndClearTexArray(t){const e=this.renderer.texture;for(let i=0;i<t.count;i++)e.bind(t.elements[i],t.ids[i]),t.elements[i]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:i}=this;ci.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(i),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(i),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:i}=this.renderer,n=ci._drawCallPool;let s=null;for(let o=0;o<t;o++){const{texArray:a,type:h,size:l,start:u,blend:c}=n[o];s!==a&&(s=a,this.bindAndClearTexArray(a)),this.state.blendMode=c,i.set(this.state),e.drawElements(h,l,e.UNSIGNED_SHORT,u*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),ci.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=Js(Math.ceil(t/8)),i=Kd(e),n=e*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);let s=this._aBuffers[n];return s||(this._aBuffers[n]=s=new ja(n*this.vertexSize*4)),s}getIndexBuffer(t){const e=Js(Math.ceil(t/12)),i=Kd(e),n=e*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);let s=this._iBuffers[i];return s||(this._iBuffers[i]=s=new Uint16Array(n)),s}packInterleavedGeometry(t,e,i,n,s){const{uint32View:o,float32View:a}=e,h=n/this.vertexSize,l=t.uvs,u=t.indices,c=t.vertexData,d=t._texture.baseTexture._batchLocation,f=Math.min(t.worldAlpha,1),g=St.shared.setValue(t._tintRGB).toPremultiplied(f,t._texture.baseTexture.alphaMode>0);for(let p=0;p<c.length;p+=2)a[n++]=c[p],a[n++]=c[p+1],a[n++]=l[p],a[n++]=l[p+1],o[n++]=g,a[n++]=d;for(let p=0;p<u.length;p++)i[s++]=h+u[p]}};Ps.defaultBatchSize=4096,Ps.extension={name:"batch",type:J.RendererPlugin},Ps._drawCallPool=[],Ps._textureArrayPool=[];let Sn=Ps;at.add(Sn);var lE=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,uE=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const af=class Ms extends vi{constructor(t,e,i){const n=Fi.from(t||Ms.defaultVertexSrc,e||Ms.defaultFragmentSrc);super(n,i),this.padding=0,this.resolution=Ms.defaultResolution,this.multisample=Ms.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Si}apply(t,e,i,n,s){t.applyFilter(this,e,i,n)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return uE}static get defaultFragmentSrc(){return lE}};af.defaultResolution=1,af.defaultMultisample=Vt.NONE;let te=af;class eo{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new St(0),this.alpha=1}init(t){this.clearBeforeRender=t.clearBeforeRender;const{backgroundColor:e,background:i,backgroundAlpha:n}=t,s=i??e;s!==void 0&&(this.color=s),this.alpha=n}get color(){return this._backgroundColor.value}set color(t){this._backgroundColor.setValue(t)}get alpha(){return this._backgroundColor.alpha}set alpha(t){this._backgroundColor.setAlpha(t)}get backgroundColor(){return this._backgroundColor}destroy(){}}eo.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},eo.extension={type:[J.RendererSystem,J.CanvasRendererSystem],name:"background"};at.add(eo);class cg{constructor(t){this.renderer=t,this.emptyRenderer=new Po(t),this.currentRenderer=this.emptyRenderer}setObjectRenderer(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(t,e){const{boundTextures:i}=this.renderer.texture;for(let n=e-1;n>=0;--n)t[n]=i[n]||null,t[n]&&(t[n]._batchLocation=n)}boundArray(t,e,i,n){const{elements:s,ids:o,count:a}=t;let h=0;for(let l=0;l<a;l++){const u=s[l],c=u._batchLocation;if(c>=0&&c<n&&e[c]===u){o[l]=c;continue}for(;h<n;){const d=e[h];if(d&&d._batchEnabled===i&&d._batchLocation===h){h++;continue}o[l]=h,u._batchLocation=h,e[h]=u;break}}}destroy(){this.renderer=null}}cg.extension={type:J.RendererSystem,name:"batch"};at.add(cg);let ly=0;class io{constructor(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=ly++}init(t){if(t.context)this.initFromContext(t.context);else{const e=this.renderer.background.alpha<1,i=t.premultipliedAlpha;this.preserveDrawingBuffer=t.preserveDrawingBuffer,this.useContextAlpha=t.useContextAlpha,this.powerPreference=t.powerPreference,this.initFromOptions({alpha:e,premultipliedAlpha:i,antialias:t.antialias,stencil:!0,preserveDrawingBuffer:t.preserveDrawingBuffer,powerPreference:t.powerPreference})}}initFromContext(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=ly++,this.renderer.runners.contextChange.emit(t);const e=this.renderer.view;e.addEventListener!==void 0&&(e.addEventListener("webglcontextlost",this.handleContextLost,!1),e.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(t){const e=this.createContext(this.renderer.view,t);this.initFromContext(e)}createContext(t,e){let i;if(Q.PREFER_ENV>=Zn.WEBGL2&&(i=t.getContext("webgl2",e)),i)this.webGLVersion=2;else if(this.webGLVersion=1,i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),!i)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl}getExtensions(){const{gl:t}=this,e={loseContext:t.getExtension("WEBGL_lose_context"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc"),bptc:t.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,e,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,e,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})}handleContextLost(t){t.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const t=this.renderer.view;this.renderer=null,t.removeEventListener!==void 0&&(t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(t){const e=t.getContextAttributes(),i="WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext;i&&(this.webGLVersion=2),e&&!e.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const n=i||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=n,n||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}io.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},io.extension={type:J.RendererSystem,name:"context"};at.add(io);class Ba{constructor(t,e){if(this.width=Math.round(t),this.height=Math.round(e),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Ne("disposeFramebuffer"),this.multisample=Vt.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(t=0,e){return this.colorTextures[t]=e||new _t(null,{scaleMode:Di.NEAREST,resolution:1,mipmap:Ai.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(t){return this.depthTexture=t||new _t(null,{scaleMode:Di.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Ai.OFF,format:X.DEPTH_COMPONENT,type:lt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(t,e){if(t=Math.round(t),e=Math.round(e),!t||!e)throw new Error("Framebuffer width and height must not be zero");if(!(t===this.width&&e===this.height)){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(let i=0;i<this.colorTextures.length;i++){const n=this.colorTextures[i],s=n.resolution;n.setSize(t/s,e/s)}if(this.depthTexture){const i=this.depthTexture.resolution;this.depthTexture.setSize(t/i,e/i)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class dg extends _t{constructor(t={}){if(typeof t=="number"){const e=arguments[0],i=arguments[1],n=arguments[2],s=arguments[3];t={width:e,height:i,scaleMode:n,resolution:s}}t.width=t.width??100,t.height=t.height??100,t.multisample??(t.multisample=Vt.NONE),super(null,t),this.mipmap=Ai.OFF,this.valid=!0,this._clear=new St([0,0,0,0]),this.framebuffer=new Ba(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=t.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(t){this._clear.setValue(t)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(t){this.framebuffer.multisample=t}resize(t,e){this.framebuffer.resize(t*this.resolution,e*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Gi extends is{constructor(t){const e=t,i=e.naturalWidth||e.videoWidth||e.displayWidth||e.width,n=e.naturalHeight||e.videoHeight||e.displayHeight||e.height;super(i,n),this.source=t,this.noSubImage=!1}static crossOrigin(t,e,i){i===void 0&&!e.startsWith("data:")?t.crossOrigin=zb(e):i!==!1&&(t.crossOrigin=typeof i=="string"?i:"anonymous")}upload(t,e,i,n){const s=t.gl,o=e.realWidth,a=e.realHeight;if(n=n||this.source,typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement){if(!n.complete||n.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement&&n.readyState<=1)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===xe.UNPACK),!this.noSubImage&&e.target===s.TEXTURE_2D&&i.width===o&&i.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,e.format,i.type,n):(i.width=o,i.height=a,s.texImage2D(e.target,0,i.internalFormat,e.format,i.type,n)),!0}update(){if(this.destroyed)return;const t=this.source,e=t.naturalWidth||t.videoWidth||t.width,i=t.naturalHeight||t.videoHeight||t.height;this.resize(e,i),super.update()}dispose(){this.source=null}}class fg extends Gi{constructor(t,e){if(e=e||{},typeof t=="string"){const i=new Image;Gi.crossOrigin(i,t,e.crossorigin),i.src=t,t=i}super(t),!t.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=t.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(e.createBitmap??Q.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof e.alphaMode=="number"?e.alphaMode:null,this.bitmap=null,this._load=null,e.autoLoad!==!1&&this.load()}load(t){return this._load?this._load:(t!==void 0&&(this.createBitmap=t),this._load=new Promise((e,i)=>{const n=this.source;this.url=n.src;const s=()=>{this.destroyed||(n.onload=null,n.onerror=null,this.update(),this._load=null,this.createBitmap?e(this.process()):e(this))};n.complete&&n.src?s():(n.onload=s,n.onerror=o=>{i(o),this.onError.emit(o)})}),this._load)}process(){const t=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const e=globalThis.createImageBitmap,i=!t.crossOrigin||t.crossOrigin==="anonymous";return this._process=fetch(t.src,{mode:i?"cors":"no-cors"}).then(n=>n.blob()).then(n=>e(n,0,0,t.width,t.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===xe.UNPACK?"premultiply":"none"})).then(n=>this.destroyed?Promise.reject():(this.bitmap=n,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(t,e,i){if(typeof this.alphaMode=="number"&&(e.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(t,e,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(t,e,i,this.bitmap),!this.preserveBitmap){let n=!0;const s=e._glTextures;for(const o in s){const a=s[o];if(a!==i&&a.dirtyId!==e.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(t){return typeof HTMLImageElement<"u"&&(typeof t=="string"||t instanceof HTMLImageElement)}}class fh{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(t,e,i){const n=e.width,s=e.height;if(i){const o=t.width/2/n,a=t.height/2/s,h=t.x/n+o,l=t.y/s+a;i=Ot.add(i,Ot.NW),this.x0=h+o*Ot.uX(i),this.y0=l+a*Ot.uY(i),i=Ot.add(i,2),this.x1=h+o*Ot.uX(i),this.y1=l+a*Ot.uY(i),i=Ot.add(i,2),this.x2=h+o*Ot.uX(i),this.y2=l+a*Ot.uY(i),i=Ot.add(i,2),this.x3=h+o*Ot.uX(i),this.y3=l+a*Ot.uY(i)}else this.x0=t.x/n,this.y0=t.y/s,this.x1=(t.x+t.width)/n,this.y1=t.y/s,this.x2=(t.x+t.width)/n,this.y2=(t.y+t.height)/s,this.x3=t.x/n,this.y3=(t.y+t.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}fh.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const uy=new fh;function Qo(r){r.destroy=function(){},r.on=function(){},r.once=function(){},r.emit=function(){}}class et extends gs{constructor(t,e,i,n,s,o,a){if(super(),this.noFrame=!1,e||(this.noFrame=!0,e=new xt(0,0,1,1)),t instanceof et&&(t=t.baseTexture),this.baseTexture=t,this._frame=e,this.trim=n,this.valid=!1,this.destroyed=!1,this._uvs=uy,this.uvMatrix=null,this.orig=i||e,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new bt(o.x,o.y):new bt(0,0),this.defaultBorders=a,this._updateID=0,this.textureCacheIds=[],t.valid?this.noFrame?t.valid&&this.onBaseTextureUpdated(t):this.frame=e:t.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&t.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(t){if(this.baseTexture){if(t){const{resource:e}=this.baseTexture;e!=null&&e.url&&ye[e.url]&&et.removeFromCache(e.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,et.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var n;const t=this._frame.clone(),e=this._frame===this.orig?t:this.orig.clone(),i=new et(this.baseTexture,!this.noFrame&&t,e,(n=this.trim)==null?void 0:n.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(i._frame=t),i}updateUvs(){this._uvs===uy&&(this._uvs=new fh),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(t,e={},i=Q.STRICT_TEXTURE_CACHE){const n=typeof t=="string";let s=null;if(n)s=t;else if(t instanceof _t){if(!t.cacheId){const a=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t.cacheId=`${a}-${Hn()}`,_t.addToCache(t,t.cacheId)}s=t.cacheId}else{if(!t._pixiId){const a=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${a}_${Hn()}`}s=t._pixiId}let o=ye[s];if(n&&i&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(t instanceof _t)?(e.resolution||(e.resolution=Ui(t)),o=new et(new _t(t,e)),o.baseTexture.cacheId=s,_t.addToCache(o.baseTexture,s),et.addToCache(o,s)):!o&&t instanceof _t&&(o=new et(t),et.addToCache(o,s)),o}static fromURL(t,e){const i=Object.assign({autoLoad:!1},e==null?void 0:e.resourceOptions),n=et.from(t,Object.assign({resourceOptions:i},e),!1),s=n.baseTexture.resource;return n.baseTexture.valid?Promise.resolve(n):s.load().then(()=>Promise.resolve(n))}static fromBuffer(t,e,i,n){return new et(_t.fromBuffer(t,e,i,n))}static fromLoader(t,e,i,n){const s=new _t(t,Object.assign({scaleMode:_t.defaultOptions.scaleMode,resolution:Ui(e)},n)),{resource:o}=s;o instanceof fg&&(o.url=e);const a=new et(s);return i||(i=e),_t.addToCache(a.baseTexture,i),et.addToCache(a,i),i!==e&&(_t.addToCache(a.baseTexture,e),et.addToCache(a,e)),a.baseTexture.valid?Promise.resolve(a):new Promise(h=>{a.baseTexture.once("loaded",()=>h(a))})}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),ye[e]&&ye[e]!==t&&console.warn(`Texture added to the cache with an id [${e}] that already had an entry`),ye[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=ye[t];if(e){const i=e.textureCacheIds.indexOf(t);return i>-1&&e.textureCacheIds.splice(i,1),delete ye[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)ye[t.textureCacheIds[e]]===t&&delete ye[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(t){this._frame=t,this.noFrame=!1;const{x:e,y:i,width:n,height:s}=t,o=e+n>this.baseTexture.width,a=i+s>this.baseTexture.height;if(o||a){const h=o&&a?"and":"or",l=`X: ${e} + ${n} = ${e+n} > ${this.baseTexture.width}`,u=`Y: ${i} + ${s} = ${i+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${l} ${h} ${u}`)}this.valid=n&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=t),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(t){this._rotate=t,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return et._EMPTY||(et._EMPTY=new et(new _t),Qo(et._EMPTY),Qo(et._EMPTY.baseTexture)),et._EMPTY}static get WHITE(){if(!et._WHITE){const t=Q.ADAPTER.createCanvas(16,16),e=t.getContext("2d");t.width=16,t.height=16,e.fillStyle="white",e.fillRect(0,0,16,16),et._WHITE=new et(_t.from(t)),Qo(et._WHITE),Qo(et._WHITE.baseTexture)}return et._WHITE}}class Kn extends et{constructor(t,e){super(t,e),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(t){this.framebuffer.multisample=t}resize(t,e,i=!0){const n=this.baseTexture.resolution,s=Math.round(t*n)/n,o=Math.round(e*n)/n;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,i&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(t){const{baseTexture:e}=this;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))}static create(t){return new Kn(new dg(t))}}class gg{constructor(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(t,e,i=Vt.NONE){const n=new dg(Object.assign({width:t,height:e,resolution:1,multisample:i},this.textureOptions));return new Kn(n)}getOptimalTexture(t,e,i=1,n=Vt.NONE){let s;t=Math.max(Math.ceil(t*i-1e-6),1),e=Math.max(Math.ceil(e*i-1e-6),1),!this.enableFullScreen||t!==this._pixelsWidth||e!==this._pixelsHeight?(t=Js(t),e=Js(e),s=((t&65535)<<16|e&65535)>>>0,n>1&&(s+=n*4294967296)):s=n>1?-n:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(t,e,n)),o.filterPoolKey=s,o.setResolution(i),o}getFilterTexture(t,e,i){const n=this.getOptimalTexture(t.width,t.height,e||t.resolution,i||Vt.NONE);return n.filterFrame=t.filterFrame,n}returnTexture(t){const e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)}returnFilterTexture(t){this.returnTexture(t)}clear(t){if(t=t!==!1,t)for(const e in this.texturePool){const i=this.texturePool[e];if(i)for(let n=0;n<i.length;n++)i[n].destroy(!0)}this.texturePool={}}setScreenSize(t){if(!(t.width===this._pixelsWidth&&t.height===this._pixelsHeight)){this.enableFullScreen=t.width>0&&t.height>0;for(const e in this.texturePool){if(!(Number(e)<0))continue;const i=this.texturePool[e];if(i)for(let n=0;n<i.length;n++)i[n].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}}}gg.SCREEN_KEY=-1;class Nb extends pn{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class pg extends pn{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Gt(this.vertices),this.uvBuffer=new Gt(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(t,e){let i=0,n=0;return this.uvs[0]=i,this.uvs[1]=n,this.uvs[2]=i+e.width/t.width,this.uvs[3]=n,this.uvs[4]=i+e.width/t.width,this.uvs[5]=n+e.height/t.height,this.uvs[6]=i,this.uvs[7]=n+e.height/t.height,i=e.x,n=e.y,this.vertices[0]=i,this.vertices[1]=n,this.vertices[2]=i+e.width,this.vertices[3]=n,this.vertices[4]=i+e.width,this.vertices[5]=n+e.height,this.vertices[6]=i,this.vertices[7]=n+e.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class qb{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Vt.NONE,this.sourceFrame=new xt,this.destinationFrame=new xt,this.bindingSourceFrame=new xt,this.bindingDestinationFrame=new xt,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const ta=[new bt,new bt,new bt,new bt],su=new Dt;class mg{constructor(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new gg,this.statePool=[],this.quad=new Nb,this.quadUv=new pg,this.tempRect=new xt,this.activeState={},this.globalUniforms=new ri({outputFrame:new xt,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(t,e){const i=this.renderer,n=this.defaultFilterStack,s=this.statePool.pop()||new qb,o=i.renderTexture;let a,h;if(o.current){const m=o.current;a=m.resolution,h=m.multisample}else a=i.resolution,h=i.multisample;let l=e[0].resolution||a,u=e[0].multisample??h,c=e[0].padding,d=e[0].autoFit,f=e[0].legacy??!0;for(let m=1;m<e.length;m++){const y=e[m];l=Math.min(l,y.resolution||a),u=Math.min(u,y.multisample??h),c=this.useMaxPadding?Math.max(c,y.padding):c+y.padding,d=d&&y.autoFit,f=f||(y.legacy??!0)}n.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),n.push(s),s.resolution=l,s.multisample=u,s.legacy=f,s.target=t,s.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),s.sourceFrame.pad(c);const g=this.tempRect.copyFrom(o.sourceFrame);i.projection.transform&&this.transformAABB(su.copyFrom(i.projection.transform).invert(),g),d?(s.sourceFrame.fit(g),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(g)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:i.resolution,o.sourceFrame,o.destinationFrame,i.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,l,u),s.filters=e,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const p=this.tempRect;p.x=0,p.y=0,p.width=s.sourceFrame.width,p.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=i.projection.transform,i.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,p),i.framebuffer.clear(0,0,0,0)}pop(){const t=this.defaultFilterStack,e=t.pop(),i=e.filters;this.activeState=e;const n=this.globalUniforms.uniforms;n.outputFrame=e.sourceFrame,n.resolution=e.resolution;const s=n.inputSize,o=n.inputPixel,a=n.inputClamp;if(s[0]=e.destinationFrame.width,s[1]=e.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*e.resolution),o[1]=Math.round(s[1]*e.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=e.sourceFrame.width*s[2]-.5*o[2],a[3]=e.sourceFrame.height*s[3]-.5*o[3],e.legacy){const l=n.filterArea;l[0]=e.destinationFrame.width,l[1]=e.destinationFrame.height,l[2]=e.sourceFrame.x,l[3]=e.sourceFrame.y,n.filterClamp=n.inputClamp}this.globalUniforms.update();const h=t[t.length-1];if(this.renderer.framebuffer.blit(),i.length===1)i[0].apply(this,e.renderTexture,h.renderTexture,gi.BLEND,e),this.returnFilterTexture(e.renderTexture);else{let l=e.renderTexture,u=this.getOptimalFilterTexture(l.width,l.height,e.resolution);u.filterFrame=l.filterFrame;let c=0;for(c=0;c<i.length-1;++c){c===1&&e.multisample>1&&(u=this.getOptimalFilterTexture(l.width,l.height,e.resolution),u.filterFrame=l.filterFrame),i[c].apply(this,l,u,gi.CLEAR,e);const d=l;l=u,u=d}i[c].apply(this,l,h.renderTexture,gi.BLEND,e),c>1&&e.multisample>1&&this.returnFilterTexture(e.renderTexture),this.returnFilterTexture(l),this.returnFilterTexture(u)}e.clear(),this.statePool.push(e)}bindAndClear(t,e=gi.CLEAR){const{renderTexture:i,state:n}=this.renderer;if(t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t==null?void 0:t.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=t.filterFrame.width,o.height=t.filterFrame.height,i.bind(t,t.filterFrame,o)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=n.stateId&1||this.forceClear;(e===gi.CLEAR||e===gi.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(t,e,i,n){const s=this.renderer;s.state.set(t.state),this.bindAndClear(i,n),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(e._frame,e.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(yi.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(yi.TRIANGLE_STRIP))}calculateSpriteMatrix(t,e){const{sourceFrame:i,destinationFrame:n}=this.activeState,{orig:s}=e._texture,o=t.set(n.width,0,0,n.height,i.x,i.y),a=e.worldTransform.copyTo(Dt.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(e.anchor.x,e.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(t,e,i=1,n=Vt.NONE){return this.texturePool.getOptimalTexture(t,e,i,n)}getFilterTexture(t,e,i){if(typeof t=="number"){const s=t;t=e,e=s}t=t||this.activeState.renderTexture;const n=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution,i||Vt.NONE);return n.filterFrame=t.filterFrame,n}returnFilterTexture(t){this.texturePool.returnTexture(t)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(t,e){const i=ta[0],n=ta[1],s=ta[2],o=ta[3];i.set(e.left,e.top),n.set(e.left,e.bottom),s.set(e.right,e.top),o.set(e.right,e.bottom),t.apply(i,i),t.apply(n,n),t.apply(s,s),t.apply(o,o);const a=Math.min(i.x,n.x,s.x,o.x),h=Math.min(i.y,n.y,s.y,o.y),l=Math.max(i.x,n.x,s.x,o.x),u=Math.max(i.y,n.y,s.y,o.y);e.x=a,e.y=h,e.width=l-a,e.height=u-h}roundFrame(t,e,i,n,s){if(!(t.width<=0||t.height<=0||i.width<=0||i.height<=0)){if(s){const{a:o,b:a,c:h,d:l}=s;if((Math.abs(a)>1e-4||Math.abs(h)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(l)>1e-4))return}s=s?su.copyFrom(s):su.identity(),s.translate(-i.x,-i.y).scale(n.width/i.width,n.height/i.height).translate(n.x,n.y),this.transformAABB(s,t),t.ceil(e),this.transformAABB(s.invert(),t)}}}mg.extension={type:J.RendererSystem,name:"filter"};at.add(mg);class Ub{constructor(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Vt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const cE=new xt;class yg{constructor(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new Ba(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new xt,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let e=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;Q.PREFER_ENV===Zn.WEBGL_LEGACY&&(e=null,i=null),e?t.drawBuffers=n=>e.drawBuffersWEBGL(n):(this.hasMRT=!1,t.drawBuffers=()=>{}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)}bind(t,e,i=0){const{gl:n}=this;if(t){const s=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,n.bindFramebuffer(n.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==i&&(t.dirtyId++,t.dirtyFormat++,s.mipLevel=i),s.dirtyId!==t.dirtyId&&(s.dirtyId=t.dirtyId,s.dirtyFormat!==t.dirtyFormat?(s.dirtyFormat=t.dirtyFormat,s.dirtySize=t.dirtySize,this.updateFramebuffer(t,i)):s.dirtySize!==t.dirtySize&&(s.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(let o=0;o<t.colorTextures.length;o++){const a=t.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e){const o=e.width>>i,a=e.height>>i,h=o/e.width;this.setViewport(e.x*h,e.y*h,o,a)}else{const o=t.width>>i,a=t.height>>i;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,n.bindFramebuffer(n.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(t,e,i,n){const s=this.viewport;t=Math.round(t),e=Math.round(e),i=Math.round(i),n=Math.round(n),(s.width!==i||s.height!==n||s.x!==t||s.y!==e)&&(s.x=t,s.y=e,s.width=i,s.height=n,this.gl.viewport(t,e,i,n))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(t,e,i,n,s=ka.COLOR|ka.DEPTH){const{gl:o}=this;o.clearColor(t,e,i,n),o.clear(s)}initFramebuffer(t){const{gl:e}=this,i=new Ub(e.createFramebuffer());return i.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=i,this.managedFramebuffers.push(t),t.disposeRunner.add(this),i}resizeFramebuffer(t){const{gl:e}=this,i=t.glFramebuffers[this.CONTEXT_UID];if(i.stencil){e.bindRenderbuffer(e.RENDERBUFFER,i.stencil);let o;this.renderer.context.webGLVersion===1?o=e.DEPTH_STENCIL:t.depth&&t.stencil?o=e.DEPTH24_STENCIL8:t.depth?o=e.DEPTH_COMPONENT24:o=e.STENCIL_INDEX8,i.msaaBuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,o,t.width,t.height):e.renderbufferStorage(e.RENDERBUFFER,o,t.width,t.height)}const n=t.colorTextures;let s=n.length;e.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=n[o],h=a.parentTextureArray||a;this.renderer.texture.bind(h,0),o===0&&i.msaaBuffer&&(e.bindRenderbuffer(e.RENDERBUFFER,i.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,h._glTextures[this.CONTEXT_UID].internalFormat,t.width,t.height))}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)}updateFramebuffer(t,e){const{gl:i}=this,n=t.glFramebuffers[this.CONTEXT_UID],s=t.colorTextures;let o=s.length;i.drawBuffers||(o=Math.min(o,1)),n.multisample>1&&this.canMultisampleFramebuffer(t)?n.msaaBuffer=n.msaaBuffer||i.createRenderbuffer():n.msaaBuffer&&(i.deleteRenderbuffer(n.msaaBuffer),n.msaaBuffer=null,n.blitFramebuffer&&(n.blitFramebuffer.dispose(),n.blitFramebuffer=null));const a=[];for(let h=0;h<o;h++){const l=s[h],u=l.parentTextureArray||l;this.renderer.texture.bind(u,0),h===0&&n.msaaBuffer?(i.bindRenderbuffer(i.RENDERBUFFER,n.msaaBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,n.multisample,u._glTextures[this.CONTEXT_UID].internalFormat,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,n.msaaBuffer)):(i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+h,l.target,u._glTextures[this.CONTEXT_UID].texture,e),a.push(i.COLOR_ATTACHMENT0+h))}if(a.length>1&&i.drawBuffers(a),t.depthTexture&&this.writeDepthTexture){const h=t.depthTexture;this.renderer.texture.bind(h,0),i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,e)}if((t.stencil||t.depth)&&!(t.depthTexture&&this.writeDepthTexture)){n.stencil=n.stencil||i.createRenderbuffer();let h,l;this.renderer.context.webGLVersion===1?(h=i.DEPTH_STENCIL_ATTACHMENT,l=i.DEPTH_STENCIL):t.depth&&t.stencil?(h=i.DEPTH_STENCIL_ATTACHMENT,l=i.DEPTH24_STENCIL8):t.depth?(h=i.DEPTH_ATTACHMENT,l=i.DEPTH_COMPONENT24):(h=i.STENCIL_ATTACHMENT,l=i.STENCIL_INDEX8),i.bindRenderbuffer(i.RENDERBUFFER,n.stencil),n.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,n.multisample,l,t.width,t.height):i.renderbufferStorage(i.RENDERBUFFER,l,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,h,i.RENDERBUFFER,n.stencil)}else n.stencil&&(i.deleteRenderbuffer(n.stencil),n.stencil=null)}canMultisampleFramebuffer(t){return this.renderer.context.webGLVersion!==1&&t.colorTextures.length<=1&&!t.depthTexture}detectSamples(t){const{msaaSamples:e}=this;let i=Vt.NONE;if(t<=1||e===null)return i;for(let n=0;n<e.length;n++)if(e[n]<=t){i=e[n];break}return i===1&&(i=Vt.NONE),i}blit(t,e,i){const{current:n,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!n)return;const h=n.glFramebuffers[a];if(!h)return;if(!t){if(!h.msaaBuffer)return;const u=n.colorTextures[0];if(!u)return;h.blitFramebuffer||(h.blitFramebuffer=new Ba(n.width,n.height),h.blitFramebuffer.addColorTexture(0,u)),t=h.blitFramebuffer,t.colorTextures[0]!==u&&(t.colorTextures[0]=u,t.dirtyId++,t.dirtyFormat++),(t.width!==n.width||t.height!==n.height)&&(t.width=n.width,t.height=n.height,t.dirtyId++,t.dirtySize++)}e||(e=cE,e.width=n.width,e.height=n.height),i||(i=e);const l=e.width===i.width&&e.height===i.height;this.bind(t),o.bindFramebuffer(o.READ_FRAMEBUFFER,h.framebuffer),o.blitFramebuffer(e.left,e.top,e.right,e.bottom,i.left,i.top,i.right,i.bottom,o.COLOR_BUFFER_BIT,l?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,t.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(t,e){const i=t.glFramebuffers[this.CONTEXT_UID],n=this.gl;if(!i)return;delete t.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(t);s>=0&&this.managedFramebuffers.splice(s,1),t.disposeRunner.remove(this),e||(n.deleteFramebuffer(i.framebuffer),i.msaaBuffer&&n.deleteRenderbuffer(i.msaaBuffer),i.stencil&&n.deleteRenderbuffer(i.stencil)),i.blitFramebuffer&&this.disposeFramebuffer(i.blitFramebuffer,e)}disposeAll(t){const e=this.managedFramebuffers;this.managedFramebuffers=[];for(let i=0;i<e.length;i++)this.disposeFramebuffer(e[i],t)}forceStencil(){const t=this.current;if(!t)return;const e=t.glFramebuffers[this.CONTEXT_UID];if(!e||e.stencil&&t.stencil)return;t.stencil=!0;const i=t.width,n=t.height,s=this.gl,o=e.stencil=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o);let a,h;this.renderer.context.webGLVersion===1?(a=s.DEPTH_STENCIL_ATTACHMENT,h=s.DEPTH_STENCIL):t.depth?(a=s.DEPTH_STENCIL_ATTACHMENT,h=s.DEPTH24_STENCIL8):(a=s.STENCIL_ATTACHMENT,h=s.STENCIL_INDEX8),e.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,e.multisample,h,i,n):s.renderbufferStorage(s.RENDERBUFFER,h,i,n),s.framebufferRenderbuffer(s.FRAMEBUFFER,a,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new xt}destroy(){this.renderer=null}}yg.extension={type:J.RendererSystem,name:"framebuffer"};at.add(yg);const ou={5126:4,5123:2,5121:1};class _g{constructor(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,e.webGLVersion!==2){let i=this.renderer.context.extensions.vertexArrayObject;Q.PREFER_ENV===Zn.WEBGL_LEGACY&&(i=null),i?(t.createVertexArray=()=>i.createVertexArrayOES(),t.bindVertexArray=n=>i.bindVertexArrayOES(n),t.deleteVertexArray=n=>i.deleteVertexArrayOES(n)):(this.hasVao=!1,t.createVertexArray=()=>null,t.bindVertexArray=()=>null,t.deleteVertexArray=()=>null)}if(e.webGLVersion!==2){const i=t.getExtension("ANGLE_instanced_arrays");i?(t.vertexAttribDivisor=(n,s)=>i.vertexAttribDivisorANGLE(n,s),t.drawElementsInstanced=(n,s,o,a,h)=>i.drawElementsInstancedANGLE(n,s,o,a,h),t.drawArraysInstanced=(n,s,o,a)=>i.drawArraysInstancedANGLE(n,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=e.webGLVersion===2||!!e.extensions.uint32ElementIndex}bind(t,e){e=e||this.renderer.shader.shader;const{gl:i}=this;let n=t.glVertexArrayObjects[this.CONTEXT_UID],s=!1;n||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=n={},s=!0);const o=n[e.program.id]||this.initGeometryVao(t,e,s);this._activeGeometry=t,this._activeVao!==o&&(this._activeVao=o,this.hasVao?i.bindVertexArray(o):this.activateVao(t,e.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const t=this._activeGeometry,e=this.renderer.buffer;for(let i=0;i<t.buffers.length;i++){const n=t.buffers[i];e.update(n)}}checkCompatibility(t,e){const i=t.attributes,n=e.attributeData;for(const s in n)if(!i[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(t,e){const i=t.attributes,n=e.attributeData,s=["g",t.id];for(const o in i)n[o]&&s.push(o,n[o].location);return s.join("-")}initGeometryVao(t,e,i=!0){const n=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=e.program;a.glPrograms[s]||this.renderer.shader.generateProgram(e),this.checkCompatibility(t,a);const h=this.getSignature(t,a),l=t.glVertexArrayObjects[this.CONTEXT_UID];let u=l[h];if(u)return l[a.id]=u,u;const c=t.buffers,d=t.attributes,f={},g={};for(const p in c)f[p]=0,g[p]=0;for(const p in d)!d[p].size&&a.attributeData[p]?d[p].size=a.attributeData[p].size:d[p].size||console.warn(`PIXI Geometry attribute '${p}' size cannot be determined (likely the bound shader does not have the attribute)`),f[d[p].buffer]+=d[p].size*ou[d[p].type];for(const p in d){const m=d[p],y=m.size;m.stride===void 0&&(f[m.buffer]===y*ou[m.type]?m.stride=0:m.stride=f[m.buffer]),m.start===void 0&&(m.start=g[m.buffer],g[m.buffer]+=y*ou[m.type])}u=n.createVertexArray(),n.bindVertexArray(u);for(let p=0;p<c.length;p++){const m=c[p];o.bind(m),i&&m._glBuffers[s].refCount++}return this.activateVao(t,a),l[a.id]=u,l[h]=u,n.bindVertexArray(null),o.unbind(bi.ARRAY_BUFFER),u}disposeGeometry(t,e){var a;if(!this.managedGeometries[t.id])return;delete this.managedGeometries[t.id];const i=t.glVertexArrayObjects[this.CONTEXT_UID],n=this.gl,s=t.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(t.disposeRunner.remove(this),!!i){if(o)for(let h=0;h<s.length;h++){const l=s[h]._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!e&&o.dispose(s[h],e))}if(!e){for(const h in i)if(h[0]==="g"){const l=i[h];this._activeVao===l&&this.unbind(),n.deleteVertexArray(l)}}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(t){const e=Object.keys(this.managedGeometries);for(let i=0;i<e.length;i++)this.disposeGeometry(this.managedGeometries[e[i]],t)}activateVao(t,e){const i=this.gl,n=this.CONTEXT_UID,s=this.renderer.buffer,o=t.buffers,a=t.attributes;t.indexBuffer&&s.bind(t.indexBuffer);let h=null;for(const l in a){const u=a[l],c=o[u.buffer],d=c._glBuffers[n];if(e.attributeData[l]){h!==d&&(s.bind(c),h=d);const f=e.attributeData[l].location;if(i.enableVertexAttribArray(f),i.vertexAttribPointer(f,u.size,u.type||i.FLOAT,u.normalized,u.stride,u.start),u.instance)if(this.hasInstance)i.vertexAttribDivisor(f,u.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(t,e,i,n){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,h=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(t,e||o.indexBuffer.data.length,h,(i||0)*a,n||1):s.drawElements(t,e||o.indexBuffer.data.length,h,(i||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(t,i,e||o.getSize(),n||1):s.drawArrays(t,i,e||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}_g.extension={type:J.RendererSystem,name:"geometry"};at.add(_g);const cy=new Dt;class gh{constructor(t,e){this._texture=t,this.mapCoord=new Dt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof e>"u"?.5:e,this.isSimple=!1}get texture(){return this._texture}set texture(t){this._texture=t,this._textureID=-1}multiplyUvs(t,e){e===void 0&&(e=t);const i=this.mapCoord;for(let n=0;n<t.length;n+=2){const s=t[n],o=t[n+1];e[n]=s*i.a+o*i.c+i.tx,e[n+1]=s*i.b+o*i.d+i.ty}return e}update(t){const e=this._texture;if(!e||!e.valid||!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;const i=e._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);const n=e.orig,s=e.trim;s&&(cy.set(n.width/s.width,0,0,n.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(cy));const o=e.baseTexture,a=this.uClampFrame,h=this.clampMargin/o.resolution,l=this.clampOffset;return a[0]=(e._frame.x+h+l)/o.width,a[1]=(e._frame.y+h+l)/o.height,a[2]=(e._frame.x+e._frame.width-h+l)/o.width,a[3]=(e._frame.y+e._frame.height-h+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,this.isSimple=e._frame.width===o.width&&e._frame.height===o.height&&e.rotate===0,!0}}var dE=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,fE=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class Gb extends te{constructor(t,e,i){let n=null;typeof t!="string"&&e===void 0&&i===void 0&&(n=t,t=void 0,e=void 0,i=void 0),super(t||fE,e||dE,i),this.maskSprite=n,this.maskMatrix=new Dt}get maskSprite(){return this._maskSprite}set maskSprite(t){this._maskSprite=t,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(t,e,i,n){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new gh(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,t.applyFilter(this,e,i,n))}}class Hb{constructor(t=null){this.type=Yt.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=te.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Yt.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class xg{constructor(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)}push(t,e){let i=e;if(!i.isMaskData){const s=this.maskDataPool.pop()||new Hb;s.pooled=!0,s.maskObject=e,i=s}const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(i.copyCountersOrReset(n),i._colorMask=n?n._colorMask:15,i.autoDetect&&this.detect(i),i._target=t,i.type!==Yt.SPRITE&&this.maskStack.push(i),i.enabled)switch(i.type){case Yt.SCISSOR:this.renderer.scissor.push(i);break;case Yt.STENCIL:this.renderer.stencil.push(i);break;case Yt.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i);break;case Yt.COLOR:this.pushColorMask(i);break}i.type===Yt.SPRITE&&this.maskStack.push(i)}pop(t){const e=this.maskStack.pop();if(!(!e||e._target!==t)){if(e.enabled)switch(e.type){case Yt.SCISSOR:this.renderer.scissor.pop(e);break;case Yt.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case Yt.SPRITE:this.popSpriteMask(e);break;case Yt.COLOR:this.popColorMask(e);break}if(e.reset(),e.pooled&&this.maskDataPool.push(e),this.maskStack.length!==0){const i=this.maskStack[this.maskStack.length-1];i.type===Yt.SPRITE&&i._filters&&(i._filters[0].maskSprite=i.maskObject)}}}detect(t){const e=t.maskObject;e?e.isSprite?t.type=Yt.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?t.type=Yt.SCISSOR:t.type=Yt.STENCIL:t.type=Yt.COLOR}pushSpriteMask(t){const{maskObject:e}=t,i=t._target;let n=t._filters;n||(n=this.alphaMaskPool[this.alphaMaskIndex],n||(n=this.alphaMaskPool[this.alphaMaskIndex]=[new Gb])),n[0].resolution=t.resolution,n[0].multisample=t.multisample,n[0].maskSprite=e;const s=i.filterArea;i.filterArea=e.getBounds(!0),this.renderer.filter.push(i,n),i.filterArea=s,t._filters||this.alphaMaskIndex++}popSpriteMask(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(t){const e=t._colorMask,i=t._colorMask=e&t.colorMask;i!==e&&this.renderer.gl.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)}popColorMask(t){const e=t._colorMask,i=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;i!==e&&this.renderer.gl.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)}destroy(){this.renderer=null}}xg.extension={type:J.RendererSystem,name:"mask"};at.add(xg);class Wb{constructor(t){this.renderer=t,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(t){const{gl:e}=this.renderer,i=this.getStackLength();this.maskStack=t;const n=this.getStackLength();n!==i&&(n===0?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const dy=new Dt,fy=[],$b=class pa extends Wb{constructor(t){super(t),this.glConst=Q.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:i}=t,{renderer:n}=this,s=n.renderTexture,o=i.getBounds(!0,fy.pop()??new xt);this.roundFrameToPixels(o,s.current?s.current.resolution:n.resolution,s.sourceFrame,s.destinationFrame,n.projection.transform),e&&o.fit(e),t._scissorRectLocal=o}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:i,c:n,d:s}=t;return(Math.abs(i)>1e-4||Math.abs(n)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(s)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||pa.isMatrixRotated(e.worldTransform)||pa.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const i=t._scissorRectLocal;return i.width>0&&i.height>0}roundFrameToPixels(t,e,i,n,s){pa.isMatrixRotated(s)||(s=s?dy.copyFrom(s):dy.identity(),s.translate(-i.x,-i.y).scale(n.width/i.width,n.height/i.height).translate(n.x,n.y),this.renderer.filter.transformAABB(s,t),t.fit(n),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&fy.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};$b.extension={type:J.RendererSystem,name:"scissor"};let Vb=$b;at.add(Vb);class bg extends Wb{constructor(t){super(t),this.glConst=Q.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0}push(t){const e=t.maskObject,{gl:i}=this.renderer,n=t._stencilCounter;n===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),t._stencilCounter++;const s=t._colorMask;s!==0&&(t._colorMask=0,i.colorMask(!1,!1,!1,!1)),i.stencilFunc(i.EQUAL,n,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,s!==0&&(t._colorMask=s,i.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(t){const e=this.renderer.gl;if(this.getStackLength()===0)e.disable(e.STENCIL_TEST);else{const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,n=i?i._colorMask:15;n!==0&&(i._colorMask=0,e.colorMask(!1,!1,!1,!1)),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,n!==0&&(i._colorMask=n,e.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)),this._useCurrent()}}_useCurrent(){const t=this.renderer.gl;t.stencilFunc(t.EQUAL,this.getStackLength(),4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)}}bg.extension={type:J.RendererSystem,name:"stencil"};at.add(bg);class vg{constructor(t){this.renderer=t,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return mt("7.0.0","renderer.plugins.extract has moved to renderer.extract"),t.extract}},prepare:{enumerable:!1,get(){return mt("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),t.prepare}},interaction:{enumerable:!1,get(){return mt("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),t.events}}})}init(){const t=this.rendererPlugins;for(const e in t)this.plugins[e]=new t[e](this.renderer)}destroy(){for(const t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null}}vg.extension={type:[J.RendererSystem,J.CanvasRendererSystem],name:"_plugin"};at.add(vg);class wg{constructor(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Dt,this.transform=null}update(t,e,i,n){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,n),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(t,e,i,n){const s=this.projectionMatrix,o=n?-1:1;s.identity(),s.a=1/e.width*2,s.d=o*(1/e.height*2),s.tx=-1-e.x*s.a,s.ty=-o-e.y*s.d}setTransform(t){}destroy(){this.renderer=null}}wg.extension={type:J.RendererSystem,name:"projection"};at.add(wg);const gE=new zo,gy=new xt;class Tg{constructor(t){this.renderer=t,this._tempMatrix=new Dt}generateTexture(t,e){const{region:i,...n}=e||{},s=(i==null?void 0:i.copyTo(gy))||t.getLocalBounds(gy,!0),o=n.resolution||this.renderer.resolution;s.width=Math.max(s.width,1/o),s.height=Math.max(s.height,1/o),n.width=s.width,n.height=s.height,n.resolution=o,n.multisample??(n.multisample=this.renderer.multisample);const a=Kn.create(n);this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const h=t.transform;return t.transform=gE,this.renderer.render(t,{renderTexture:a,transform:this._tempMatrix,skipUpdateTransform:!!t.parent,blit:!0}),t.transform=h,a}destroy(){}}Tg.extension={type:[J.RendererSystem,J.CanvasRendererSystem],name:"textureGenerator"};at.add(Tg);const ir=new xt,As=new xt;class Ag{constructor(t){this.renderer=t,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new xt,this.destinationFrame=new xt,this.viewportFrame=new xt}contextChange(){var e;const t=(e=this.renderer)==null?void 0:e.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(t&&t.alpha&&t.premultipliedAlpha)}bind(t=null,e,i){const n=this.renderer;this.current=t;let s,o,a;t?(s=t.baseTexture,a=s.resolution,e||(ir.width=t.frame.width,ir.height=t.frame.height,e=ir),i||(As.x=t.frame.x,As.y=t.frame.y,As.width=e.width,As.height=e.height,i=As),o=s.framebuffer):(a=n.resolution,e||(ir.width=n._view.screen.width,ir.height=n._view.screen.height,e=ir),i||(i=ir,i.width=e.width,i.height=e.height));const h=this.viewportFrame;h.x=i.x*a,h.y=i.y*a,h.width=i.width*a,h.height=i.height*a,t||(h.y=n.view.height-(h.y+h.height)),h.ceil(),this.renderer.framebuffer.bind(o,h),this.renderer.projection.update(i,e,a,!o),t?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(i)}clear(t,e){const i=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,n=St.shared.setValue(t||i);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&n.premultiply(n.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,a=s.width!==o.width||s.height!==o.height;if(a){let{x:h,y:l,width:u,height:c}=this.viewportFrame;h=Math.round(h),l=Math.round(l),u=Math.round(u),c=Math.round(c),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(h,l,u,c)}this.renderer.framebuffer.clear(n.red,n.green,n.blue,n.alpha,e),a&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}Ag.extension={type:J.RendererSystem,name:"renderTexture"};at.add(Ag);class pE{}class Xb{constructor(t,e){this.program=t,this.uniformData=e,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function mE(r,t){const e={},i=t.getProgramParameter(r,t.ACTIVE_ATTRIBUTES);for(let n=0;n<i;n++){const s=t.getActiveAttrib(r,n);if(s.name.startsWith("gl_"))continue;const o=Ob(t,s.type),a={type:o,name:s.name,size:Fb(o),location:t.getAttribLocation(r,s.name)};e[s.name]=a}return e}function yE(r,t){const e={},i=t.getProgramParameter(r,t.ACTIVE_UNIFORMS);for(let n=0;n<i;n++){const s=t.getActiveUniform(r,n),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),h=Ob(t,s.type);e[o]={name:o,index:n,type:h,size:s.size,isArray:a,value:kb(h,s.size)}}return e}function Yb(r,t){var a;const e=sy(r,r.VERTEX_SHADER,t.vertexSrc),i=sy(r,r.FRAGMENT_SHADER,t.fragmentSrc),n=r.createProgram();r.attachShader(n,e),r.attachShader(n,i);const s=(a=t.extra)==null?void 0:a.transformFeedbackVaryings;if(s&&(typeof r.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):r.transformFeedbackVaryings(n,s.names,s.bufferMode==="separate"?r.SEPARATE_ATTRIBS:r.INTERLEAVED_ATTRIBS)),r.linkProgram(n),r.getProgramParameter(n,r.LINK_STATUS)||eE(r,n,e,i),t.attributeData=mE(n,r),t.uniformData=yE(n,r),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){const h=Object.keys(t.attributeData);h.sort((l,u)=>l>u?1:-1);for(let l=0;l<h.length;l++)t.attributeData[h[l]].location=l,r.bindAttribLocation(n,l,h[l]);r.linkProgram(n)}r.deleteShader(e),r.deleteShader(i);const o={};for(const h in t.uniformData){const l=t.uniformData[h];o[h]={location:r.getUniformLocation(n,h),value:kb(l.type,l.size)}}return new Xb(n,o)}function _E(r,t,e,i,n){e.buffer.update(n)}const xE={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},Zb={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function Kb(r){const t=r.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let e=0,i=0,n=0;for(let s=0;s<t.length;s++){const o=t[s];if(e=Zb[o.data.type],o.data.size>1&&(e=Math.max(e,16)*o.data.size),o.dataLen=e,i%e!==0&&i<16){const a=i%e%16;i+=a,n+=a}i+e>16?(n=Math.ceil(n/16)*16,o.offset=n,n+=e,i=e):(o.offset=n,i+=e,n+=e)}return n=Math.ceil(n/16)*16,{uboElements:t,size:n}}function Jb(r,t){const e=[];for(const i in r)t[i]&&e.push(t[i]);return e.sort((i,n)=>i.index-n.index),e}function Qb(r,t){if(!r.autoManage)return{size:0,syncFunc:_E};const e=Jb(r.uniforms,t),{uboElements:i,size:n}=Kb(e),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<i.length;o++){const a=i[o],h=r.uniforms[a.data.name],l=a.data.name;let u=!1;for(let c=0;c<mr.length;c++){const d=mr[c];if(d.codeUbo&&d.test(a.data,h)){s.push(`offset = ${a.offset/4};`,mr[c].codeUbo(a.data.name,h)),u=!0;break}}if(!u)if(a.data.size>1){const c=Fb(a.data.type),d=Math.max(Zb[a.data.type]/16,1),f=c/d,g=(4-f%4)%4;s.push(`
                cv = ud.${l}.value;
                v = uv.${l};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*d}; i++)
                {
                    for(var j = 0; j < ${f}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${g};
                }

                `)}else{const c=xE[a.data.type];s.push(`
                cv = ud.${l}.value;
                v = uv.${l};
                offset = ${a.offset/4};
                ${c};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:n,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let bE=0;const ea={textureCount:0,uboCount:0};class Eg{constructor(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=bE++}systemCheck(){if(!Lb())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(t){this.gl=t,this.reset()}bind(t,e){t.disposeRunner.add(this),t.uniforms.globals=this.renderer.globalUniforms;const i=t.program,n=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==i&&(this.program=i,this.gl.useProgram(n.program)),e||(ea.textureCount=0,ea.uboCount=0,this.syncUniformGroup(t.uniformGroup,ea)),n}setUniforms(t){const e=this.shader.program,i=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(i.uniformData,t,this.renderer)}syncUniformGroup(t,e){const i=this.getGlProgram();(!t.static||t.dirtyId!==i.uniformDirtyGroups[t.id])&&(i.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,i,e))}syncUniforms(t,e,i){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,i)}createSyncGroups(t){const e=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[e]||(this.cache[e]=QA(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(t,e){const i=this.getGlProgram();if(!t.static||t.dirtyId!==0||!i.uniformGroups[t.id]){t.dirtyId=0;const n=i.uniformGroups[t.id]||this.createSyncBufferGroup(t,i,e);t.buffer.update(),n(i.uniformData,t.uniforms,this.renderer,ea,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,i.uniformBufferBindings[e])}createSyncBufferGroup(t,e,i){const{gl:n}=this.renderer;this.renderer.buffer.bind(t.buffer);const s=this.gl.getUniformBlockIndex(e.program,i);e.uniformBufferBindings[i]=this.shader.uniformBindCount,n.uniformBlockBinding(e.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(t,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=Qb(t,this.shader.program.uniformData)),t.autoManage){const h=new Float32Array(a.size/4);t.buffer.update(h)}return e.uniformGroups[t.id]=a.syncFunc,e.uniformGroups[t.id]}getSignature(t,e,i){const n=t.uniforms,s=[`${i}-`];for(const o in n)s.push(o),e[o]&&s.push(e[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(t){const e=this.gl,i=t.program,n=Yb(e,i);return i.glPrograms[this.renderer.CONTEXT_UID]=n,n}reset(){this.program=null,this.shader=null}disposeShader(t){this.shader===t&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}Eg.extension={type:J.RendererSystem,name:"shader"};at.add(Eg);class no{constructor(t){this.renderer=t}run(t){const{renderer:e}=this;e.runners.init.emit(e.options),t.hello&&console.log(`PixiJS 7.4.3 - ${e.rendererLogId} - https://pixijs.com`),e.resize(e.screen.width,e.screen.height)}destroy(){}}no.defaultOptions={hello:!1},no.extension={type:[J.RendererSystem,J.CanvasRendererSystem],name:"startup"};at.add(no);function vE(r,t=[]){return t[dt.NORMAL]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[dt.ADD]=[r.ONE,r.ONE],t[dt.MULTIPLY]=[r.DST_COLOR,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA],t[dt.SCREEN]=[r.ONE,r.ONE_MINUS_SRC_COLOR,r.ONE,r.ONE_MINUS_SRC_ALPHA],t[dt.OVERLAY]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[dt.DARKEN]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[dt.LIGHTEN]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[dt.COLOR_DODGE]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[dt.COLOR_BURN]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[dt.HARD_LIGHT]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[dt.SOFT_LIGHT]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[dt.DIFFERENCE]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[dt.EXCLUSION]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[dt.HUE]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[dt.SATURATION]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[dt.COLOR]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[dt.LUMINOSITY]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],t[dt.NONE]=[0,0],t[dt.NORMAL_NPM]=[r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA],t[dt.ADD_NPM]=[r.SRC_ALPHA,r.ONE,r.ONE,r.ONE],t[dt.SCREEN_NPM]=[r.SRC_ALPHA,r.ONE_MINUS_SRC_COLOR,r.ONE,r.ONE_MINUS_SRC_ALPHA],t[dt.SRC_IN]=[r.DST_ALPHA,r.ZERO],t[dt.SRC_OUT]=[r.ONE_MINUS_DST_ALPHA,r.ZERO],t[dt.SRC_ATOP]=[r.DST_ALPHA,r.ONE_MINUS_SRC_ALPHA],t[dt.DST_OVER]=[r.ONE_MINUS_DST_ALPHA,r.ONE],t[dt.DST_IN]=[r.ZERO,r.SRC_ALPHA],t[dt.DST_OUT]=[r.ZERO,r.ONE_MINUS_SRC_ALPHA],t[dt.DST_ATOP]=[r.ONE_MINUS_DST_ALPHA,r.SRC_ALPHA],t[dt.XOR]=[r.ONE_MINUS_DST_ALPHA,r.ONE_MINUS_SRC_ALPHA],t[dt.SUBTRACT]=[r.ONE,r.ONE,r.ONE,r.ONE,r.FUNC_REVERSE_SUBTRACT,r.FUNC_ADD],t}const wE=0,TE=1,AE=2,EE=3,SE=4,CE=5,tv=class hf{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=dt.NONE,this._blendEq=!1,this.map=[],this.map[wE]=this.setBlend,this.map[TE]=this.setOffset,this.map[AE]=this.setCullFace,this.map[EE]=this.setDepthTest,this.map[SE]=this.setFrontFace,this.map[CE]=this.setDepthMask,this.checks=[],this.defaultState=new Si,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=vE(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,i=0;for(;e;)e&1&&this.map[i].call(this,!!(t.data&1<<i)),e=e>>1,i++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(hf.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(hf.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],i=this.gl;e.length===2?i.blendFunc(e[0],e[1]):i.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,i.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const i=this.checks.indexOf(t);e&&i===-1?this.checks.push(t):!e&&i!==-1&&this.checks.splice(i,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};tv.extension={type:J.RendererSystem,name:"state"};let ev=tv;at.add(ev);class iv extends gs{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(t){this.addRunners(...t.runners);const e=(t.priority??[]).filter(n=>t.systems[n]),i=[...e,...Object.keys(t.systems).filter(n=>!e.includes(n))];for(const n of i)this.addSystem(t.systems[n],n)}addRunners(...t){t.forEach(e=>{this.runners[e]=new Ne(e)})}addSystem(t,e){const i=new t(this);if(this[e])throw new Error(`Whoops! The name "${e}" is already in use`);this[e]=i,this._systemsHash[e]=i;for(const n in this.runners)this.runners[n].add(i);return this}emitWithCustomOptions(t,e){const i=Object.keys(this._systemsHash);t.items.forEach(n=>{const s=i.find(o=>this._systemsHash[o]===n);n[t.name](e[s])})}destroy(){Object.values(this.runners).forEach(t=>{t.destroy()}),this._systemsHash={}}}const Rs=class ma{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=ma.defaultMaxIdle,this.checkCountMax=ma.defaultCheckCountMax,this.mode=ma.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==lh.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let i=!1;for(let n=0;n<e.length;n++){const s=e[n];s.resource&&this.count-s.touched>this.maxIdle&&(t.destroyTexture(s,!0),e[n]=null,i=!0)}if(i){let n=0;for(let s=0;s<e.length;s++)e[s]!==null&&(e[n++]=e[s]);e.length=n}}unload(t){const e=this.renderer.texture,i=t._texture;i&&!i.framebuffer&&e.destroyTexture(i);for(let n=t.children.length-1;n>=0;n--)this.unload(t.children[n])}destroy(){this.renderer=null}};Rs.defaultMode=lh.AUTO,Rs.defaultMaxIdle=3600,Rs.defaultCheckCountMax=600,Rs.extension={type:J.RendererSystem,name:"textureGC"};let Cn=Rs;at.add(Cn);class ya{constructor(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=lt.UNSIGNED_BYTE,this.internalFormat=X.RGBA,this.samplerType=0}}function IE(r){let t;return"WebGL2RenderingContext"in globalThis&&r instanceof globalThis.WebGL2RenderingContext?t={[r.RGB]:tt.FLOAT,[r.RGBA]:tt.FLOAT,[r.ALPHA]:tt.FLOAT,[r.LUMINANCE]:tt.FLOAT,[r.LUMINANCE_ALPHA]:tt.FLOAT,[r.R8]:tt.FLOAT,[r.R8_SNORM]:tt.FLOAT,[r.RG8]:tt.FLOAT,[r.RG8_SNORM]:tt.FLOAT,[r.RGB8]:tt.FLOAT,[r.RGB8_SNORM]:tt.FLOAT,[r.RGB565]:tt.FLOAT,[r.RGBA4]:tt.FLOAT,[r.RGB5_A1]:tt.FLOAT,[r.RGBA8]:tt.FLOAT,[r.RGBA8_SNORM]:tt.FLOAT,[r.RGB10_A2]:tt.FLOAT,[r.RGB10_A2UI]:tt.FLOAT,[r.SRGB8]:tt.FLOAT,[r.SRGB8_ALPHA8]:tt.FLOAT,[r.R16F]:tt.FLOAT,[r.RG16F]:tt.FLOAT,[r.RGB16F]:tt.FLOAT,[r.RGBA16F]:tt.FLOAT,[r.R32F]:tt.FLOAT,[r.RG32F]:tt.FLOAT,[r.RGB32F]:tt.FLOAT,[r.RGBA32F]:tt.FLOAT,[r.R11F_G11F_B10F]:tt.FLOAT,[r.RGB9_E5]:tt.FLOAT,[r.R8I]:tt.INT,[r.R8UI]:tt.UINT,[r.R16I]:tt.INT,[r.R16UI]:tt.UINT,[r.R32I]:tt.INT,[r.R32UI]:tt.UINT,[r.RG8I]:tt.INT,[r.RG8UI]:tt.UINT,[r.RG16I]:tt.INT,[r.RG16UI]:tt.UINT,[r.RG32I]:tt.INT,[r.RG32UI]:tt.UINT,[r.RGB8I]:tt.INT,[r.RGB8UI]:tt.UINT,[r.RGB16I]:tt.INT,[r.RGB16UI]:tt.UINT,[r.RGB32I]:tt.INT,[r.RGB32UI]:tt.UINT,[r.RGBA8I]:tt.INT,[r.RGBA8UI]:tt.UINT,[r.RGBA16I]:tt.INT,[r.RGBA16UI]:tt.UINT,[r.RGBA32I]:tt.INT,[r.RGBA32UI]:tt.UINT,[r.DEPTH_COMPONENT16]:tt.FLOAT,[r.DEPTH_COMPONENT24]:tt.FLOAT,[r.DEPTH_COMPONENT32F]:tt.FLOAT,[r.DEPTH_STENCIL]:tt.FLOAT,[r.DEPTH24_STENCIL8]:tt.FLOAT,[r.DEPTH32F_STENCIL8]:tt.FLOAT}:t={[r.RGB]:tt.FLOAT,[r.RGBA]:tt.FLOAT,[r.ALPHA]:tt.FLOAT,[r.LUMINANCE]:tt.FLOAT,[r.LUMINANCE_ALPHA]:tt.FLOAT,[r.DEPTH_STENCIL]:tt.FLOAT},t}function zE(r){let t;return"WebGL2RenderingContext"in globalThis&&r instanceof globalThis.WebGL2RenderingContext?t={[lt.UNSIGNED_BYTE]:{[X.RGBA]:r.RGBA8,[X.RGB]:r.RGB8,[X.RG]:r.RG8,[X.RED]:r.R8,[X.RGBA_INTEGER]:r.RGBA8UI,[X.RGB_INTEGER]:r.RGB8UI,[X.RG_INTEGER]:r.RG8UI,[X.RED_INTEGER]:r.R8UI,[X.ALPHA]:r.ALPHA,[X.LUMINANCE]:r.LUMINANCE,[X.LUMINANCE_ALPHA]:r.LUMINANCE_ALPHA},[lt.BYTE]:{[X.RGBA]:r.RGBA8_SNORM,[X.RGB]:r.RGB8_SNORM,[X.RG]:r.RG8_SNORM,[X.RED]:r.R8_SNORM,[X.RGBA_INTEGER]:r.RGBA8I,[X.RGB_INTEGER]:r.RGB8I,[X.RG_INTEGER]:r.RG8I,[X.RED_INTEGER]:r.R8I},[lt.UNSIGNED_SHORT]:{[X.RGBA_INTEGER]:r.RGBA16UI,[X.RGB_INTEGER]:r.RGB16UI,[X.RG_INTEGER]:r.RG16UI,[X.RED_INTEGER]:r.R16UI,[X.DEPTH_COMPONENT]:r.DEPTH_COMPONENT16},[lt.SHORT]:{[X.RGBA_INTEGER]:r.RGBA16I,[X.RGB_INTEGER]:r.RGB16I,[X.RG_INTEGER]:r.RG16I,[X.RED_INTEGER]:r.R16I},[lt.UNSIGNED_INT]:{[X.RGBA_INTEGER]:r.RGBA32UI,[X.RGB_INTEGER]:r.RGB32UI,[X.RG_INTEGER]:r.RG32UI,[X.RED_INTEGER]:r.R32UI,[X.DEPTH_COMPONENT]:r.DEPTH_COMPONENT24},[lt.INT]:{[X.RGBA_INTEGER]:r.RGBA32I,[X.RGB_INTEGER]:r.RGB32I,[X.RG_INTEGER]:r.RG32I,[X.RED_INTEGER]:r.R32I},[lt.FLOAT]:{[X.RGBA]:r.RGBA32F,[X.RGB]:r.RGB32F,[X.RG]:r.RG32F,[X.RED]:r.R32F,[X.DEPTH_COMPONENT]:r.DEPTH_COMPONENT32F},[lt.HALF_FLOAT]:{[X.RGBA]:r.RGBA16F,[X.RGB]:r.RGB16F,[X.RG]:r.RG16F,[X.RED]:r.R16F},[lt.UNSIGNED_SHORT_5_6_5]:{[X.RGB]:r.RGB565},[lt.UNSIGNED_SHORT_4_4_4_4]:{[X.RGBA]:r.RGBA4},[lt.UNSIGNED_SHORT_5_5_5_1]:{[X.RGBA]:r.RGB5_A1},[lt.UNSIGNED_INT_2_10_10_10_REV]:{[X.RGBA]:r.RGB10_A2,[X.RGBA_INTEGER]:r.RGB10_A2UI},[lt.UNSIGNED_INT_10F_11F_11F_REV]:{[X.RGB]:r.R11F_G11F_B10F},[lt.UNSIGNED_INT_5_9_9_9_REV]:{[X.RGB]:r.RGB9_E5},[lt.UNSIGNED_INT_24_8]:{[X.DEPTH_STENCIL]:r.DEPTH24_STENCIL8},[lt.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[X.DEPTH_STENCIL]:r.DEPTH32F_STENCIL8}}:t={[lt.UNSIGNED_BYTE]:{[X.RGBA]:r.RGBA,[X.RGB]:r.RGB,[X.ALPHA]:r.ALPHA,[X.LUMINANCE]:r.LUMINANCE,[X.LUMINANCE_ALPHA]:r.LUMINANCE_ALPHA},[lt.UNSIGNED_SHORT_5_6_5]:{[X.RGB]:r.RGB},[lt.UNSIGNED_SHORT_4_4_4_4]:{[X.RGBA]:r.RGBA},[lt.UNSIGNED_SHORT_5_5_5_1]:{[X.RGBA]:r.RGBA}},t}class Sg{constructor(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new _t,this.hasIntegerTextures=!1}contextChange(){const t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=zE(t),this.samplerTypes=IE(t);const e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(let n=0;n<e;n++)this.boundTextures[n]=null;this.emptyTextures={};const i=new ya(t.createTexture());t.bindTexture(t.TEXTURE_2D,i.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=i,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new ya(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(let n=0;n<6;n++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(let n=0;n<this.boundTextures.length;n++)this.bind(null,n)}bind(t,e=0){const{gl:i}=this;if(t=t==null?void 0:t.castToBaseTexture(),(t==null?void 0:t.valid)&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;const n=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(t.target,n.texture)),n.dirtyId!==t.dirtyId?(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),this.updateTexture(t)):n.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(t),this.boundTextures[e]=t}else this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[e]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture}unbind(t){const{gl:e,boundTextures:i}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let n=0;n<i.length;n++)i[n]===this.unknownTexture&&this.bind(null,n)}for(let n=0;n<i.length;n++)i[n]===t&&(this.currentLocation!==n&&(e.activeTexture(e.TEXTURE0+n),this.currentLocation=n),e.bindTexture(t.target,this.emptyTextures[t.target].texture),i[n]=null)}ensureSamplerType(t){const{boundTextures:e,hasIntegerTextures:i,CONTEXT_UID:n}=this;if(i)for(let s=t-1;s>=0;--s){const o=e[s];o&&o._glTextures[n].samplerType!==tt.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(t){const e=new ya(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e}initTextureType(t,e){var i;e.internalFormat=((i=this.internalFormats[t.type])==null?void 0:i[t.format])??t.format,e.samplerType=this.samplerTypes[e.internalFormat]??tt.FLOAT,this.webGLVersion===2&&t.type===lt.HALF_FLOAT?e.type=this.gl.HALF_FLOAT:e.type=t.type}updateTexture(t){var n;const e=t._glTextures[this.CONTEXT_UID];if(!e)return;const i=this.renderer;if(this.initTextureType(t,e),(n=t.resource)==null?void 0:n.upload(i,t,e))e.samplerType!==tt.FLOAT&&(this.hasIntegerTextures=!0);else{const s=t.realWidth,o=t.realHeight,a=i.gl;(e.width!==s||e.height!==o||e.dirtyId<0)&&(e.width=s,e.height=o,a.texImage2D(t.target,0,e.internalFormat,s,o,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}destroyTexture(t,e){const{gl:i}=this;if(t=t.castToBaseTexture(),t._glTextures[this.CONTEXT_UID]&&(this.unbind(t),i.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){const n=this.managedTextures.indexOf(t);n!==-1&&pr(this.managedTextures,n,1)}}updateTextureStyle(t){var i;const e=t._glTextures[this.CONTEXT_UID];e&&((t.mipmap===Ai.POW2||this.webGLVersion!==2)&&!t.isPowerOfTwo?e.mipmap=!1:e.mipmap=t.mipmap>=1,this.webGLVersion!==2&&!t.isPowerOfTwo?e.wrapMode=Bi.CLAMP:e.wrapMode=t.wrapMode,(i=t.resource)!=null&&i.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)}setStyle(t,e){const i=this.gl;if(e.mipmap&&t.mipmap!==Ai.ON_MANUAL&&i.generateMipmap(t.target),i.texParameteri(t.target,i.TEXTURE_WRAP_S,e.wrapMode),i.texParameteri(t.target,i.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===Di.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);const n=this.renderer.context.extensions.anisotropicFiltering;if(n&&t.anisotropicLevel>0&&t.scaleMode===Di.LINEAR){const s=Math.min(t.anisotropicLevel,i.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(t.target,n.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===Di.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(t.target,i.TEXTURE_MAG_FILTER,t.scaleMode===Di.LINEAR?i.LINEAR:i.NEAREST)}destroy(){this.renderer=null}}Sg.extension={type:J.RendererSystem,name:"texture"};at.add(Sg);class Cg{constructor(t){this.renderer=t}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(t){const{gl:e,CONTEXT_UID:i}=this,n=t._glTransformFeedbacks[i]||this.createGLTransformFeedback(t);e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,n)}unbind(){const{gl:t}=this;t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(t,e){const{gl:i,renderer:n}=this;e&&n.shader.bind(e),i.beginTransformFeedback(t)}endTransformFeedback(){const{gl:t}=this;t.endTransformFeedback()}createGLTransformFeedback(t){const{gl:e,renderer:i,CONTEXT_UID:n}=this,s=e.createTransformFeedback();t._glTransformFeedbacks[n]=s,e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,s);for(let o=0;o<t.buffers.length;o++){const a=t.buffers[o];a&&(i.buffer.update(a),a._glBuffers[n].refCount++,e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[n].buffer||null))}return e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null),t.disposeRunner.add(this),s}disposeTransformFeedback(t,e){const i=t._glTransformFeedbacks[this.CONTEXT_UID],n=this.gl;t.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<t.buffers.length;o++){const a=t.buffers[o];if(!a)continue;const h=a._glBuffers[this.CONTEXT_UID];h&&(h.refCount--,h.refCount===0&&!e&&s.dispose(a,e))}i&&(e||n.deleteTransformFeedback(i),delete t._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}Cg.extension={type:J.RendererSystem,name:"transformFeedback"};at.add(Cg);class ro{constructor(t){this.renderer=t}init(t){this.screen=new xt(0,0,t.width,t.height),this.element=t.view||Q.ADAPTER.createCanvas(),this.resolution=t.resolution||Q.RESOLUTION,this.autoDensity=!!t.autoDensity}resizeView(t,e){this.element.width=Math.round(t*this.resolution),this.element.height=Math.round(e*this.resolution);const i=this.element.width/this.resolution,n=this.element.height/this.resolution;this.screen.width=i,this.screen.height=n,this.autoDensity&&(this.element.style.width=`${i}px`,this.element.style.height=`${n}px`),this.renderer.emit("resize",i,n),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(t){var e;t&&((e=this.element.parentNode)==null||e.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}ro.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},ro.extension={type:[J.RendererSystem,J.CanvasRendererSystem],name:"_view"};at.add(ro);Q.PREFER_ENV=Zn.WEBGL2;Q.STRICT_TEXTURE_CACHE=!1;Q.RENDER_OPTIONS={...io.defaultOptions,...eo.defaultOptions,...ro.defaultOptions,...no.defaultOptions};Object.defineProperties(Q,{WRAP_MODE:{get(){return _t.defaultOptions.wrapMode},set(r){mt("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),_t.defaultOptions.wrapMode=r}},SCALE_MODE:{get(){return _t.defaultOptions.scaleMode},set(r){mt("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),_t.defaultOptions.scaleMode=r}},MIPMAP_TEXTURES:{get(){return _t.defaultOptions.mipmap},set(r){mt("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),_t.defaultOptions.mipmap=r}},ANISOTROPIC_LEVEL:{get(){return _t.defaultOptions.anisotropicLevel},set(r){mt("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),_t.defaultOptions.anisotropicLevel=r}},FILTER_RESOLUTION:{get(){return mt("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),te.defaultResolution},set(r){te.defaultResolution=r}},FILTER_MULTISAMPLE:{get(){return mt("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),te.defaultMultisample},set(r){te.defaultMultisample=r}},SPRITE_MAX_TEXTURES:{get(){return Sn.defaultMaxTextures},set(r){mt("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Sn.defaultMaxTextures=r}},SPRITE_BATCH_SIZE:{get(){return Sn.defaultBatchSize},set(r){mt("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Sn.defaultBatchSize=r}},CAN_UPLOAD_SAME_BUFFER:{get(){return Sn.canUploadSameBuffer},set(r){mt("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Sn.canUploadSameBuffer=r}},GC_MODE:{get(){return Cn.defaultMode},set(r){mt("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Cn.defaultMode=r}},GC_MAX_IDLE:{get(){return Cn.defaultMaxIdle},set(r){mt("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Cn.defaultMaxIdle=r}},GC_MAX_CHECK_COUNT:{get(){return Cn.defaultCheckCountMax},set(r){mt("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Cn.defaultCheckCountMax=r}},PRECISION_VERTEX:{get(){return Fi.defaultVertexPrecision},set(r){mt("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Fi.defaultVertexPrecision=r}},PRECISION_FRAGMENT:{get(){return Fi.defaultFragmentPrecision},set(r){mt("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Fi.defaultFragmentPrecision=r}}});var Hi=(r=>(r[r.INTERACTION=50]="INTERACTION",r[r.HIGH=25]="HIGH",r[r.NORMAL=0]="NORMAL",r[r.LOW=-25]="LOW",r[r.UTILITY=-50]="UTILITY",r))(Hi||{});class au{constructor(t,e=null,i=0,n=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=e,this.priority=i,this.once=n}match(t,e=null){return this.fn===t&&this.context===e}emit(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));const e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const e=this.next;return this.next=t?null:e,this.previous=null,e}}const nv=class ke{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new au(null,null,1/0),this.deltaMS=1/ke.targetFPMS,this.elapsedMS=1/ke.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,i=Hi.NORMAL){return this._addListener(new au(t,e,i))}addOnce(t,e,i=Hi.NORMAL){return this._addListener(new au(t,e,i,!0))}_addListener(t){let e=this._head.next,i=this._head;if(!e)t.connect(i);else{for(;e;){if(t.priority>e.priority){t.connect(i);break}i=e,e=e.next}t.previous||t.connect(i)}return this._startIfPossible(),this}remove(t,e){let i=this._head.next;for(;i;)i.match(t,e)?i=i.destroy():i=i.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const s=t-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=t-s%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*ke.targetFPMS;const i=this._head;let n=i.next;for(;n;)n=n.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),i=Math.min(Math.max(0,e)/1e3,ke.targetFPMS);this._maxElapsedMS=1/i}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!ke._shared){const t=ke._shared=new ke;t.autoStart=!0,t._protected=!0}return ke._shared}static get system(){if(!ke._system){const t=ke._system=new ke;t.autoStart=!0,t._protected=!0}return ke._system}};nv.targetFPMS=.06;let wt=nv;Object.defineProperties(Q,{TARGET_FPMS:{get(){return wt.targetFPMS},set(r){mt("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),wt.targetFPMS=r}}});class Ig{static init(t){t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,Hi.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?wt.shared:new wt,t.autoStart&&this.start()}static destroy(){if(this._ticker){const t=this._ticker;this.ticker=null,t.destroy()}}}Ig.extension=J.Application;at.add(Ig);const rv=[];at.handleByList(J.Renderer,rv);function sv(r){for(const t of rv)if(t.test(r))return new t(r);throw new Error("Unable to auto-detect a suitable renderer.")}var PE=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,ME=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const ov=PE,zg=ME;class Pg{constructor(t){this.renderer=t}contextChange(t){let e;if(this.renderer.context.webGLVersion===1){const i=t.getParameter(t.FRAMEBUFFER_BINDING);t.bindFramebuffer(t.FRAMEBUFFER,null),e=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.FRAMEBUFFER,i)}else{const i=t.getParameter(t.DRAW_FRAMEBUFFER_BINDING);t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),e=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,i)}e>=Vt.HIGH?this.multisample=Vt.HIGH:e>=Vt.MEDIUM?this.multisample=Vt.MEDIUM:e>=Vt.LOW?this.multisample=Vt.LOW:this.multisample=Vt.NONE}destroy(){}}Pg.extension={type:J.RendererSystem,name:"_multisample"};at.add(Pg);class RE{constructor(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class Mg{constructor(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(t){const{gl:e,CONTEXT_UID:i}=this,n=t._glBuffers[i]||this.createGLBuffer(t);e.bindBuffer(t.type,n.buffer)}unbind(t){const{gl:e}=this;e.bindBuffer(t,null)}bindBufferBase(t,e){const{gl:i,CONTEXT_UID:n}=this;if(this.boundBufferBases[e]!==t){const s=t._glBuffers[n]||this.createGLBuffer(t);this.boundBufferBases[e]=t,i.bindBufferBase(i.UNIFORM_BUFFER,e,s.buffer)}}bindBufferRange(t,e,i){const{gl:n,CONTEXT_UID:s}=this;i=i||0;const o=t._glBuffers[s]||this.createGLBuffer(t);n.bindBufferRange(n.UNIFORM_BUFFER,e||0,o.buffer,i*256,256)}update(t){const{gl:e,CONTEXT_UID:i}=this,n=t._glBuffers[i]||this.createGLBuffer(t);if(t._updateID!==n.updateID)if(n.updateID=t._updateID,e.bindBuffer(t.type,n.buffer),n.byteLength>=t.data.byteLength)e.bufferSubData(t.type,0,t.data);else{const s=t.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;n.byteLength=t.data.byteLength,e.bufferData(t.type,t.data,s)}}dispose(t,e){if(!this.managedBuffers[t.id])return;delete this.managedBuffers[t.id];const i=t._glBuffers[this.CONTEXT_UID],n=this.gl;t.disposeRunner.remove(this),i&&(e||n.deleteBuffer(i.buffer),delete t._glBuffers[this.CONTEXT_UID])}disposeAll(t){const e=Object.keys(this.managedBuffers);for(let i=0;i<e.length;i++)this.dispose(this.managedBuffers[e[i]],t)}createGLBuffer(t){const{CONTEXT_UID:e,gl:i}=this;return t._glBuffers[e]=new RE(i.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[e]}}Mg.extension={type:J.RendererSystem,name:"buffer"};at.add(Mg);class Rg{constructor(t){this.renderer=t}render(t,e){const i=this.renderer;let n,s,o,a;if(e&&(n=e.renderTexture,s=e.clear,o=e.transform,a=e.skipUpdateTransform),this.renderingToScreen=!n,i.runners.prerender.emit(),i.emit("prerender"),i.projection.transform=o,!i.context.isLost){if(n||(this.lastObjectRendered=t),!a){const h=t.enableTempParent();t.updateTransform(),t.disableTempParent(h)}i.renderTexture.bind(n),i.batch.currentRenderer.start(),(s??i.background.clearBeforeRender)&&i.renderTexture.clear(),t.render(i),i.batch.currentRenderer.flush(),n&&(e.blit&&i.framebuffer.blit(),n.baseTexture.update()),i.runners.postrender.emit(),i.projection.transform=null,i.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}Rg.extension={type:J.RendererSystem,name:"objectRenderer"};at.add(Rg);const _a=class lf extends iv{constructor(t){super(),this.type=ig.WEBGL,t=Object.assign({},Q.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new ri({projectionMatrix:new Dt},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:lf.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(mt("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha),this._plugin.rendererPlugins=lf.__plugins,this.options=t,this.startup.run(this.options)}static test(t){return t!=null&&t.forceCanvas?!1:_b()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return mt("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return mt("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return mt("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return mt("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){mt("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return mt("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(t){mt("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return mt("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};_a.extension={type:J.Renderer,priority:1},_a.__plugins={},_a.__systems={};let ph=_a;at.handleByMap(J.RendererPlugin,ph.__plugins);at.handleByMap(J.RendererSystem,ph.__systems);at.add(ph);class kg extends is{constructor(t,e){const{width:i,height:n}=e||{};super(i,n),this.items=[],this.itemDirtyIds=[];for(let s=0;s<t;s++){const o=new _t;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=t,this._load=null,this.baseTexture=null}initFromArray(t,e){for(let i=0;i<this.length;i++)t[i]&&(t[i].castToBaseTexture?this.addBaseTextureAt(t[i].castToBaseTexture(),i):t[i]instanceof is?this.addResourceAt(t[i],i):this.addResourceAt(lg(t[i],e),i))}dispose(){for(let t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(t,e){if(!this.items[e])throw new Error(`Index ${e} is out of bounds`);return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this}bind(t){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(t);for(let e=0;e<this.length;e++)this.items[e].parentTextureArray=t,this.items[e].on("update",t.update,t)}unbind(t){super.unbind(t);for(let e=0;e<this.length;e++)this.items[e].parentTextureArray=null,this.items[e].off("update",t.update,t)}load(){if(this._load)return this._load;const t=this.items.map(e=>e.resource).filter(e=>e).map(e=>e.load());return this._load=Promise.all(t).then(()=>{const{realWidth:e,realHeight:i}=this.items[0];return this.resize(e,i),this.update(),Promise.resolve(this)}),this._load}}class av extends kg{constructor(t,e){const{width:i,height:n}=e||{};let s,o;Array.isArray(t)?(s=t,o=t.length):o=t,super(o,{width:i,height:n}),s&&this.initFromArray(s,e)}addBaseTextureAt(t,e){if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(t){super.bind(t),t.target=gr.TEXTURE_2D_ARRAY}upload(t,e,i){const{length:n,itemDirtyIds:s,items:o}=this,{gl:a}=t;i.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,n,0,e.format,i.type,null);for(let h=0;h<n;h++){const l=o[h];s[h]<l.dirtyId&&(s[h]=l.dirtyId,l.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,h,l.resource.width,l.resource.height,1,e.format,i.type,l.resource.source))}return!0}}class hv extends Gi{constructor(t){super(t)}static test(t){const{OffscreenCanvas:e}=globalThis;return e&&t instanceof e?!0:globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement}}const lv=class ks extends kg{constructor(t,e){const{width:i,height:n,autoLoad:s,linkBaseTexture:o}=e||{};if(t&&t.length!==ks.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:i,height:n});for(let a=0;a<ks.SIDES;a++)this.items[a].target=gr.TEXTURE_CUBE_MAP_POSITIVE_X+a;this.linkBaseTexture=o!==!1,t&&this.initFromArray(t,e),s!==!1&&this.load()}bind(t){super.bind(t),t.target=gr.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,i){if(i===void 0&&(i=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=gr.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,i){const n=this.itemDirtyIds;for(let s=0;s<ks.SIDES;s++){const o=this.items[s];(n[s]<o.dirtyId||i.dirtyId<e.dirtyId)&&(o.valid&&o.resource?(o.resource.upload(t,o,i),n[s]=o.dirtyId):n[s]<-1&&(t.gl.texImage2D(o.target,0,i.internalFormat,e.realWidth,e.realHeight,0,e.format,i.type,null),n[s]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===ks.SIDES}};lv.SIDES=6;let uv=lv;class dr extends Gi{constructor(t,e){e=e||{};let i,n,s;typeof t=="string"?(i=dr.EMPTY,n=t,s=!0):(i=t,n=null,s=!1),super(i),this.url=n,this.crossOrigin=e.crossOrigin??!0,this.alphaMode=typeof e.alphaMode=="number"?e.alphaMode:null,this.ownsImageBitmap=e.ownsImageBitmap??s,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(t,e)=>{if(this.url===null){t(this);return}try{const i=await Q.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const n=await i.blob();if(this.destroyed)return;const s=await createImageBitmap(n,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===xe.UNPACK?"premultiply":"none"});if(this.destroyed){s.close();return}this.source=s,this.update(),t(this)}catch(i){if(this.destroyed)return;e(i),this.onError.emit(i)}}),this._load)}upload(t,e,i){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(e.alphaMode=this.alphaMode),super.upload(t,e,i)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(t){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof t=="string"||t instanceof ImageBitmap)}static get EMPTY(){return dr._EMPTY=dr._EMPTY??Q.ADAPTER.createCanvas(0,0),dr._EMPTY}}const uf=class xa extends Gi{constructor(t,e){e=e||{},super(Q.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.update(),t(this)},xa.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;Gi.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,i=t.height;if(!e||!i)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let n=e*this.scale,s=i*this.scale;(this._overrideWidth||this._overrideHeight)&&(n=this._overrideWidth||this._overrideHeight/i*e,s=this._overrideHeight||this._overrideWidth/e*i),n=Math.round(n),s=Math.round(s);const o=this.source;o.width=n,o.height=s,o._pixiId=`canvas_${Hn()}`,o.getContext("2d").drawImage(t,0,0,e,i,0,0,n,s),this._resolve(),this._resolve=null}}static getSize(t){const e=xa.SVG_SIZE.exec(t),i={};return e&&(i[e[1]]=Math.round(parseFloat(e[3])),i[e[5]]=Math.round(parseFloat(e[7]))),i}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&xa.SVG_XML.test(t)}};uf.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,uf.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let Na=uf;class kE extends Gi{constructor(t){super(t)}static test(t){return!!globalThis.VideoFrame&&t instanceof globalThis.VideoFrame}}const cf=class df extends Gi{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const i=document.createElement("video");e.autoLoad!==!1&&i.setAttribute("preload","auto"),e.playsinline!==!1&&(i.setAttribute("webkit-playsinline",""),i.setAttribute("playsinline","")),e.muted===!0&&(i.setAttribute("muted",""),i.muted=!0),e.loop===!0&&i.setAttribute("loop",""),e.autoPlay!==!1&&i.setAttribute("autoplay",""),typeof t=="string"&&(t=[t]);const n=t[0].src||t[0];Gi.crossOrigin(i,n,e.crossorigin);for(let s=0;s<t.length;++s){const o=document.createElement("source");let{src:a,mime:h}=t[s];if(a=a||t[s],a.startsWith("data:"))h=a.slice(5,a.indexOf(";"));else if(!a.startsWith("blob:")){const l=a.split("?").shift().toLowerCase(),u=l.slice(l.lastIndexOf(".")+1);h=h||df.MIME_TYPES[u]||`video/${u}`}o.src=a,h&&(o.type=h),i.appendChild(o)}t=i}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){if(this._updateFPS){const e=wt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart),t.addEventListener("pause",this._onPlayStop),t.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise((e,i)=>{this.valid?e(this):(this._resolve=e,this._reject=i,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!e&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._configureAutoUpdate();const t=this.source;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(wt.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(wt.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(wt.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||df.TYPES.includes(e)}};cf.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],cf.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let jg=cf;Da.push(dr,fg,hv,jg,kE,Na,Eo,uv,av);class jE{constructor(){this._glTransformFeedbacks={},this.buffers=[],this.disposeRunner=new Ne("disposeTransformFeedback")}bindBuffer(t,e){this.buffers[t]=e}destroy(){this.disposeRunner.emit(this,!1)}}const DE="7.4.3";class so{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(t){return this.minX>this.maxX||this.minY>this.maxY?xt.EMPTY:(t=t||new xt(0,0,1,1),t.x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)}addPoint(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)}addPointMatrix(t,e){const{a:i,b:n,c:s,d:o,tx:a,ty:h}=t,l=i*e.x+s*e.y+a,u=n*e.x+o*e.y+h;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)}addQuad(t){let e=this.minX,i=this.minY,n=this.maxX,s=this.maxY,o=t[0],a=t[1];e=o<e?o:e,i=a<i?a:i,n=o>n?o:n,s=a>s?a:s,o=t[2],a=t[3],e=o<e?o:e,i=a<i?a:i,n=o>n?o:n,s=a>s?a:s,o=t[4],a=t[5],e=o<e?o:e,i=a<i?a:i,n=o>n?o:n,s=a>s?a:s,o=t[6],a=t[7],e=o<e?o:e,i=a<i?a:i,n=o>n?o:n,s=a>s?a:s,this.minX=e,this.minY=i,this.maxX=n,this.maxY=s}addFrame(t,e,i,n,s){this.addFrameMatrix(t.worldTransform,e,i,n,s)}addFrameMatrix(t,e,i,n,s){const o=t.a,a=t.b,h=t.c,l=t.d,u=t.tx,c=t.ty;let d=this.minX,f=this.minY,g=this.maxX,p=this.maxY,m=o*e+h*i+u,y=a*e+l*i+c;d=m<d?m:d,f=y<f?y:f,g=m>g?m:g,p=y>p?y:p,m=o*n+h*i+u,y=a*n+l*i+c,d=m<d?m:d,f=y<f?y:f,g=m>g?m:g,p=y>p?y:p,m=o*e+h*s+u,y=a*e+l*s+c,d=m<d?m:d,f=y<f?y:f,g=m>g?m:g,p=y>p?y:p,m=o*n+h*s+u,y=a*n+l*s+c,d=m<d?m:d,f=y<f?y:f,g=m>g?m:g,p=y>p?y:p,this.minX=d,this.minY=f,this.maxX=g,this.maxY=p}addVertexData(t,e,i){let n=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let h=e;h<i;h+=2){const l=t[h],u=t[h+1];n=l<n?l:n,s=u<s?u:s,o=l>o?l:o,a=u>a?u:a}this.minX=n,this.minY=s,this.maxX=o,this.maxY=a}addVertices(t,e,i,n){this.addVerticesMatrix(t.worldTransform,e,i,n)}addVerticesMatrix(t,e,i,n,s=0,o=s){const a=t.a,h=t.b,l=t.c,u=t.d,c=t.tx,d=t.ty;let f=this.minX,g=this.minY,p=this.maxX,m=this.maxY;for(let y=i;y<n;y+=2){const x=e[y],_=e[y+1],v=a*x+l*_+c,b=u*_+h*x+d;f=Math.min(f,v-s),p=Math.max(p,v+s),g=Math.min(g,b-o),m=Math.max(m,b+o)}this.minX=f,this.minY=g,this.maxX=p,this.maxY=m}addBounds(t){const e=this.minX,i=this.minY,n=this.maxX,s=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<i?t.minY:i,this.maxX=t.maxX>n?t.maxX:n,this.maxY=t.maxY>s?t.maxY:s}addBoundsMask(t,e){const i=t.minX>e.minX?t.minX:e.minX,n=t.minY>e.minY?t.minY:e.minY,s=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(i<=s&&n<=o){const a=this.minX,h=this.minY,l=this.maxX,u=this.maxY;this.minX=i<a?i:a,this.minY=n<h?n:h,this.maxX=s>l?s:l,this.maxY=o>u?o:u}}addBoundsMatrix(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)}addBoundsArea(t,e){const i=t.minX>e.x?t.minX:e.x,n=t.minY>e.y?t.minY:e.y,s=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(i<=s&&n<=o){const a=this.minX,h=this.minY,l=this.maxX,u=this.maxY;this.minX=i<a?i:a,this.minY=n<h?n:h,this.maxX=s>l?s:l,this.maxY=o>u?o:u}}pad(t=0,e=t){this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)}addFramePad(t,e,i,n,s,o){t-=s,e-=o,i+=s,n+=o,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>i?this.maxX:i,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>n?this.maxY:n}}class Nt extends gs{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new zo,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new so,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(t){const e=Object.keys(t);for(let i=0;i<e.length;++i){const n=e[i];Object.defineProperty(Nt.prototype,n,Object.getOwnPropertyDescriptor(t,n))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new xt),e=this._boundsRect),this._bounds.getRectangle(e)}getLocalBounds(t){t||(this._localBoundsRect||(this._localBoundsRect=new xt),t=this._localBoundsRect),this._localBounds||(this._localBounds=new so);const e=this.transform,i=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(i==null?void 0:i.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const n=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,t);return this.parent=i,this.transform=e,this._bounds=n,this._bounds.updateID+=this._boundsID-s,o}toGlobal(t,e,i=!1){return i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)}toLocal(t,e,i,n){return e&&(t=e.toGlobal(t,i,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,i)}setParent(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t}removeFromParent(){var t;(t=this.parent)==null||t.removeChild(this)}setTransform(t=0,e=0,i=1,n=1,s=0,o=0,a=0,h=0,l=0){return this.position.x=t,this.position.y=e,this.scale.x=i||1,this.scale.y=n||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=h,this.pivot.y=l,this}destroy(t){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new cv),this.tempDisplayObjectParent}enableTempParent(){const t=this.parent;return this.parent=this._tempDisplayObjectParent,t}disableTempParent(t){this.parent=t}get x(){return this.position.x}set x(t){this.transform.position.x=t}get y(){return this.position.y}set y(t){this.transform.position.y=t}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(t){this.transform.position.copyFrom(t)}get scale(){return this.transform.scale}set scale(t){this.transform.scale.copyFrom(t)}get pivot(){return this.transform.pivot}set pivot(t){this.transform.pivot.copyFrom(t)}get skew(){return this.transform.skew}set skew(t){this.transform.skew.copyFrom(t)}get rotation(){return this.transform.rotation}set rotation(t){this.transform.rotation=t}get angle(){return this.transform.rotation*Mb}set angle(t){this.transform.rotation=t*Oa}get zIndex(){return this._zIndex}set zIndex(t){this._zIndex!==t&&(this._zIndex=t,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}get mask(){return this._mask}set mask(t){if(this._mask!==t){if(this._mask){const e=this._mask.isMaskData?this._mask.maskObject:this._mask;e&&(e._maskRefCount--,e._maskRefCount===0&&(e.renderable=!0,e.isMask=!1))}if(this._mask=t,this._mask){const e=this._mask.isMaskData?this._mask.maskObject:this._mask;e&&(e._maskRefCount===0&&(e.renderable=!1,e.isMask=!0),e._maskRefCount++)}}}}class cv extends Nt{constructor(){super(...arguments),this.sortDirty=null}}Nt.prototype.displayObjectUpdateTransform=Nt.prototype.updateTransform;const FE=new Dt;function OE(r,t){return r.zIndex===t.zIndex?r._lastSortedIndex-t._lastSortedIndex:r.zIndex-t.zIndex}const dv=class ff extends Nt{constructor(){super(),this.children=[],this.sortableChildren=ff.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const i=this.getChildIndex(t),n=this.getChildIndex(e);this.children[i]=e,this.children[n]=t,this.onChildrenChange(i<n?i:n)}getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const i=this.getChildIndex(t);pr(this.children,i,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],i=this.children.indexOf(e);if(i===-1)return null;e.parent=null,e.transform._parentID=-1,pr(this.children,i,1),this._boundsID++,this.onChildrenChange(i),e.emit("removed",this),this.emit("childRemoved",e,this,i)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,pr(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const i=t,n=e,s=n-i;let o;if(s>0&&s<=n){o=this.children.splice(i,s);for(let a=0;a<o.length;++a)o[a].parent=null,o[a].transform&&(o[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let a=0;a<o.length;++a)o[a].emit("removed",this),this.emit("childRemoved",o[a],this,a);return o}else if(s===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,i=this.children.length;e<i;++e){const n=this.children[e];n._lastSortedIndex=e,!t&&n.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(OE),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const i=this.children[t];i.visible&&i.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;i?(i.calculateBounds(),this._bounds.addBoundsMask(e._bounds,i._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const i=super.getLocalBounds(t);if(!e)for(let n=0,s=this.children.length;n<s;++n){const o=this.children[n];o.visible&&o.updateTransform()}return i}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let i,n;this.cullArea?(i=this.cullArea,n=this.worldTransform):this._render!==ff.prototype._render&&(i=this.getBounds(!0));const s=t.projection.transform;if(s&&(n?(n=FE.copyFrom(n),n.prepend(s)):n=s),i&&e.intersects(i,n))this._render(t);else if(this.cullArea)return;for(let o=0,a=this.children.length;o<a;++o){const h=this.children[o],l=h.cullable;h.cullable=l||!this.cullArea,h.render(t),h.cullable=l}}render(t){var e;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(e=this.filters)!=null&&e.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let i=0,n=this.children.length;i<n;++i)this.children[i].render(t)}}renderAdvanced(t){var s,o,a;const e=this.filters,i=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let h=0;h<e.length;h++)e[h].enabled&&this._enabledFilters.push(e[h])}const n=e&&((s=this._enabledFilters)==null?void 0:s.length)||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==Yt.NONE));if(n&&t.batch.flush(),e&&((o=this._enabledFilters)!=null&&o.length)&&t.filter.push(this,this._enabledFilters),i&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let h=0,l=this.children.length;h<l;++h)this.children[h].render(t)}n&&t.batch.flush(),i&&t.mask.pop(this),e&&((a=this._enabledFilters)!=null&&a.length)&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e=typeof t=="boolean"?t:t==null?void 0:t.children,i=this.removeChildren(0,this.children.length);if(e)for(let n=0;n<i.length;++n)i[n].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;e!==0?this.scale.x=t/e:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;e!==0?this.scale.y=t/e:this.scale.y=1,this._height=t}};dv.defaultSortableChildren=!1;let ct=dv;ct.prototype.containerUpdateTransform=ct.prototype.updateTransform;Object.defineProperties(Q,{SORTABLE_CHILDREN:{get(){return ct.defaultSortableChildren},set(r){mt("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),ct.defaultSortableChildren=r}}});const Es=new bt,LE=new Uint16Array([0,1,2,0,2,3]);class qe extends ct{constructor(t){super(),this._anchor=new xi(this._onAnchorUpdate,this,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new St(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=dt.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=t||et.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=LE,this.pluginName="batch",this.isSprite=!0,this._roundPixels=Q.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=un(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=un(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const t=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===t._updateID)return;this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;const e=this.transform.worldTransform,i=e.a,n=e.b,s=e.c,o=e.d,a=e.tx,h=e.ty,l=this.vertexData,u=t.trim,c=t.orig,d=this._anchor;let f=0,g=0,p=0,m=0;if(u?(g=u.x-d._x*c.width,f=g+u.width,m=u.y-d._y*c.height,p=m+u.height):(g=-d._x*c.width,f=g+c.width,m=-d._y*c.height,p=m+c.height),l[0]=i*g+s*m+a,l[1]=o*m+n*g+h,l[2]=i*f+s*m+a,l[3]=o*m+n*f+h,l[4]=i*f+s*p+a,l[5]=o*p+n*f+h,l[6]=i*g+s*p+a,l[7]=o*p+n*g+h,this._roundPixels){const y=Q.RESOLUTION;for(let x=0;x<l.length;++x)l[x]=Math.round(l[x]*y)/y}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const t=this._texture,e=this.vertexTrimmedData,i=t.orig,n=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,h=s.c,l=s.d,u=s.tx,c=s.ty,d=-n._x*i.width,f=d+i.width,g=-n._y*i.height,p=g+i.height;if(e[0]=o*d+h*g+u,e[1]=l*g+a*d+c,e[2]=o*f+h*g+u,e[3]=l*g+a*f+c,e[4]=o*f+h*p+u,e[5]=l*p+a*f+c,e[6]=o*d+h*p+u,e[7]=l*p+a*d+c,this._roundPixels){const m=Q.RESOLUTION;for(let y=0;y<e.length;++y)e[y]=Math.round(e[y]*m)/m}}_render(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)}_calculateBounds(){const t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(t){return this.children.length===0?(this._localBounds||(this._localBounds=new so),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new xt),t=this._localBoundsRect),this._localBounds.getRectangle(t)):super.getLocalBounds.call(this,t)}containsPoint(t){this.worldTransform.applyInverse(t,Es);const e=this._texture.orig.width,i=this._texture.orig.height,n=-e*this.anchor.x;let s=0;return Es.x>=n&&Es.x<n+e&&(s=-i*this.anchor.y,Es.y>=s&&Es.y<s+i)}destroy(t){if(super.destroy(t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof t=="boolean"?t:t==null?void 0:t.texture){const e=typeof t=="boolean"?t:t==null?void 0:t.baseTexture;this._texture.destroy(!!e)}this._texture=null}static from(t,e){const i=t instanceof et?t:et.from(t,e);return new qe(i)}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){const e=un(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){const e=un(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get anchor(){return this._anchor}set anchor(t){this._anchor.copyFrom(t)}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||et.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}const fv=new Dt;Nt.prototype._cacheAsBitmap=!1;Nt.prototype._cacheData=null;Nt.prototype._cacheAsBitmapResolution=null;Nt.prototype._cacheAsBitmapMultisample=null;class BE{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(Nt.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(r){r!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=r,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(r){r!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=r,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(r){if(this._cacheAsBitmap===r)return;this._cacheAsBitmap=r;let t;r?(this._cacheData||(this._cacheData=new BE),t=this._cacheData,t.originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(t=this._cacheData,t.sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea)}}});Nt.prototype._renderCached=function(r){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(r),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(r))};Nt.prototype._initCachedDisplayObject=function(r){var d,f;if((d=this._cacheData)!=null&&d.sprite)return;const t=this.alpha;this.alpha=1,r.batch.flush();const e=this.getLocalBounds(new xt,!0);if((f=this.filters)!=null&&f.length){const g=this.filters[0].padding;e.pad(g)}const i=this.cacheAsBitmapResolution||r.resolution;e.ceil(i),e.width=Math.max(e.width,1/i),e.height=Math.max(e.height,1/i);const n=r.renderTexture.current,s=r.renderTexture.sourceFrame.clone(),o=r.renderTexture.destinationFrame.clone(),a=r.projection.transform,h=Kn.create({width:e.width,height:e.height,resolution:i,multisample:this.cacheAsBitmapMultisample??r.multisample}),l=`cacheAsBitmap_${Hn()}`;this._cacheData.textureCacheId=l,_t.addToCache(h.baseTexture,l),et.addToCache(h,l);const u=this.transform.localTransform.copyTo(fv).invert().translate(-e.x,-e.y);this.render=this._cacheData.originalRender,r.render(this,{renderTexture:h,clear:!0,transform:u,skipUpdateTransform:!1}),r.framebuffer.blit(),r.projection.transform=a,r.renderTexture.bind(n,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=t;const c=new qe(h);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-(e.x/e.width),c.anchor.y=-(e.y/e.height),c.alpha=t,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=c.containsPoint.bind(c)};Nt.prototype._renderCachedCanvas=function(r){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(r),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(r))};Nt.prototype._initCachedDisplayObjectCanvas=function(r){var u;if((u=this._cacheData)!=null&&u.sprite)return;const t=this.getLocalBounds(new xt,!0),e=this.alpha;this.alpha=1;const i=r.canvasContext.activeContext,n=r._projTransform,s=this.cacheAsBitmapResolution||r.resolution;t.ceil(s),t.width=Math.max(t.width,1/s),t.height=Math.max(t.height,1/s);const o=Kn.create({width:t.width,height:t.height,resolution:s}),a=`cacheAsBitmap_${Hn()}`;this._cacheData.textureCacheId=a,_t.addToCache(o.baseTexture,a),et.addToCache(o,a);const h=fv;this.transform.localTransform.copyTo(h),h.invert(),h.tx-=t.x,h.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,r.render(this,{renderTexture:o,clear:!0,transform:h,skipUpdateTransform:!1}),r.canvasContext.activeContext=i,r._projTransform=n,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const l=new qe(o);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-(t.x/t.width),l.anchor.y=-(t.y/t.height),l.alpha=e,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=r._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)};Nt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Nt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Nt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,_t.removeFromCache(this._cacheData.textureCacheId),et.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Nt.prototype._cacheAsBitmapDestroy=function(r){this.cacheAsBitmap=!1,this.destroy(r)};Nt.prototype.name=null;ct.prototype.getChildByName=function(r,t){for(let e=0,i=this.children.length;e<i;e++)if(this.children[e].name===r)return this.children[e];if(t)for(let e=0,i=this.children.length;e<i;e++){const n=this.children[e];if(!n.getChildByName)continue;const s=n.getChildByName(r,!0);if(s)return s}return null};Nt.prototype.getGlobalPosition=function(r=new bt,t=!1){return this.parent?this.parent.toGlobal(this.position,r,t):(r.x=this.position.x,r.y=this.position.y),r};var NE=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class gv extends te{constructor(t=1){super(ov,NE,{uAlpha:1}),this.alpha=t}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}}const qE={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},UE=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function GE(r){const t=qE[r],e=t.length;let i=UE,n="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<r;a++){let h=s.replace("%index%",a.toString());o=a,a>=e&&(o=r-a-1),h=h.replace("%value%",t[o].toString()),n+=h,n+=`
`}return i=i.replace("%blur%",n),i=i.replace("%size%",r.toString()),i}const HE=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function WE(r,t){const e=Math.ceil(r/2);let i=HE,n="",s;t?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<r;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(e-1)}.0`),n+=a,n+=`
`}return i=i.replace("%blur%",n),i=i.replace("%size%",r.toString()),i}class qa extends te{constructor(t,e=8,i=4,n=te.defaultResolution,s=5){const o=WE(s,t),a=GE(s);super(o,a),this.horizontal=t,this.resolution=n,this._quality=0,this.quality=i,this.blur=e}apply(t,e,i,n){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/e.width):this.uniforms.strength=1/i.height*(i.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)t.applyFilter(this,e,i,n);else{const s=t.getFilterTexture(),o=t.renderer;let a=e,h=s;this.state.blend=!1,t.applyFilter(this,a,h,gi.CLEAR);for(let l=1;l<this.passes-1;l++){t.bindAndClear(a,gi.BLIT),this.uniforms.uSampler=h;const u=h;h=a,a=u,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,h,i,n),t.returnFilterTexture(s)}}get blur(){return this.strength}set blur(t){this.padding=1+Math.abs(t)*2,this.strength=t}get quality(){return this._quality}set quality(t){this._quality=t,this.passes=t}}class Dg extends te{constructor(t=8,e=4,i=te.defaultResolution,n=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new qa(!0,t,e,i,n),this.blurYFilter=new qa(!1,t,e,i,n),this.resolution=i,this.quality=e,this.blur=t,this.repeatEdgePixels=!1}apply(t,e,i,n){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=t.getFilterTexture();this.blurXFilter.apply(t,e,a,gi.CLEAR),this.blurYFilter.apply(t,a,i,n),t.returnFilterTexture(a)}else o?this.blurYFilter.apply(t,e,i,n):this.blurXFilter.apply(t,e,i,n)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(t){this.blurXFilter.quality=this.blurYFilter.quality=t}get blurX(){return this.blurXFilter.blur}set blurX(t){this.blurXFilter.blur=t,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(t){this.blurYFilter.blur=t,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(t){this.blurYFilter.blendMode=t}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(t){this._repeatEdgePixels=t,this.updatePadding()}}var $E=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class Rn extends te{constructor(){const t={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(zg,$E,t),this.alpha=1}_loadMatrix(t,e=!1){let i=t;e&&(this._multiply(i,this.uniforms.m,t),i=this._colorMatrix(i)),this.uniforms.m=i}_multiply(t,e,i){return t[0]=e[0]*i[0]+e[1]*i[5]+e[2]*i[10]+e[3]*i[15],t[1]=e[0]*i[1]+e[1]*i[6]+e[2]*i[11]+e[3]*i[16],t[2]=e[0]*i[2]+e[1]*i[7]+e[2]*i[12]+e[3]*i[17],t[3]=e[0]*i[3]+e[1]*i[8]+e[2]*i[13]+e[3]*i[18],t[4]=e[0]*i[4]+e[1]*i[9]+e[2]*i[14]+e[3]*i[19]+e[4],t[5]=e[5]*i[0]+e[6]*i[5]+e[7]*i[10]+e[8]*i[15],t[6]=e[5]*i[1]+e[6]*i[6]+e[7]*i[11]+e[8]*i[16],t[7]=e[5]*i[2]+e[6]*i[7]+e[7]*i[12]+e[8]*i[17],t[8]=e[5]*i[3]+e[6]*i[8]+e[7]*i[13]+e[8]*i[18],t[9]=e[5]*i[4]+e[6]*i[9]+e[7]*i[14]+e[8]*i[19]+e[9],t[10]=e[10]*i[0]+e[11]*i[5]+e[12]*i[10]+e[13]*i[15],t[11]=e[10]*i[1]+e[11]*i[6]+e[12]*i[11]+e[13]*i[16],t[12]=e[10]*i[2]+e[11]*i[7]+e[12]*i[12]+e[13]*i[17],t[13]=e[10]*i[3]+e[11]*i[8]+e[12]*i[13]+e[13]*i[18],t[14]=e[10]*i[4]+e[11]*i[9]+e[12]*i[14]+e[13]*i[19]+e[14],t[15]=e[15]*i[0]+e[16]*i[5]+e[17]*i[10]+e[18]*i[15],t[16]=e[15]*i[1]+e[16]*i[6]+e[17]*i[11]+e[18]*i[16],t[17]=e[15]*i[2]+e[16]*i[7]+e[17]*i[12]+e[18]*i[17],t[18]=e[15]*i[3]+e[16]*i[8]+e[17]*i[13]+e[18]*i[18],t[19]=e[15]*i[4]+e[16]*i[9]+e[17]*i[14]+e[18]*i[19]+e[19],t}_colorMatrix(t){const e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e}brightness(t,e){const i=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(i,e)}tint(t,e){const[i,n,s]=St.shared.setValue(t).toArray(),o=[i,0,0,0,0,0,n,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,e)}greyscale(t,e){const i=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(i,e)}blackAndWhite(t){const e=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(e,t)}hue(t,e){t=(t||0)/180*Math.PI;const i=Math.cos(t),n=Math.sin(t),s=Math.sqrt,o=1/3,a=s(o),h=i+(1-i)*o,l=o*(1-i)-a*n,u=o*(1-i)+a*n,c=o*(1-i)+a*n,d=i+o*(1-i),f=o*(1-i)-a*n,g=o*(1-i)-a*n,p=o*(1-i)+a*n,m=i+o*(1-i),y=[h,l,u,0,0,c,d,f,0,0,g,p,m,0,0,0,0,0,1,0];this._loadMatrix(y,e)}contrast(t,e){const i=(t||0)+1,n=-.5*(i-1),s=[i,0,0,0,n,0,i,0,0,n,0,0,i,0,n,0,0,0,1,0];this._loadMatrix(s,e)}saturate(t=0,e){const i=t*2/3+1,n=(i-1)*-.5,s=[i,n,n,0,0,n,i,n,0,0,n,n,i,0,0,0,0,0,1,0];this._loadMatrix(s,e)}desaturate(){this.saturate(-1)}negative(t){const e=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(e,t)}sepia(t){const e=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(e,t)}technicolor(t){const e=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(e,t)}polaroid(t){const e=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(e,t)}toBGR(t){const e=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)}kodachrome(t){const e=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(e,t)}browni(t){const e=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(e,t)}vintage(t){const e=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(e,t)}colorTone(t,e,i,n,s){t=t||.2,e=e||.15,i=i||16770432,n=n||3375104;const o=St.shared,[a,h,l]=o.setValue(i).toArray(),[u,c,d]=o.setValue(n).toArray(),f=[.3,.59,.11,0,0,a,h,l,t,0,u,c,d,e,0,a-u,h-c,l-d,0,0];this._loadMatrix(f,s)}night(t,e){t=t||.1;const i=[t*-2,-t,0,0,0,-t,0,t,0,0,0,t,t*2,0,0,0,0,0,1,0];this._loadMatrix(i,e)}predator(t,e){const i=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(i,e)}lsd(t){const e=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(e,t)}reset(){const t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(t,!1)}get matrix(){return this.uniforms.m}set matrix(t){this.uniforms.m=t}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}}Rn.prototype.grayscale=Rn.prototype.greyscale;var VE=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,XE=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class pv extends te{constructor(t,e){const i=new Dt;t.renderable=!1,super(XE,VE,{mapSampler:t._texture,filterMatrix:i,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=t,this.maskMatrix=i,e==null&&(e=20),this.scale=new bt(e,e)}apply(t,e,i,n){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),t.applyFilter(this,e,i,n)}get map(){return this.uniforms.mapSampler}set map(t){this.uniforms.mapSampler=t}}var YE=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,ZE=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class mv extends te{constructor(){super(ZE,YE)}}var KE=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class yv extends te{constructor(t=.5,e=Math.random()){super(zg,KE,{uNoise:0,uSeed:0}),this.noise=t,this.seed=e}get noise(){return this.uniforms.uNoise}set noise(t){this.uniforms.uNoise=t}get seed(){return this.uniforms.uSeed}set seed(t){this.uniforms.uSeed=t}}const gf={AlphaFilter:gv,BlurFilter:Dg,BlurFilterPass:qa,ColorMatrixFilter:Rn,DisplacementFilter:pv,FXAAFilter:mv,NoiseFilter:yv};Object.entries(gf).forEach(([r,t])=>{Object.defineProperty(gf,r,{get(){return mt("7.1.0",`filters.${r} has moved to ${r}`),t}})});class JE{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(t){this.removeTickerListener(),this.events=t,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(t){this._pauseUpdate=t}addTickerListener(){this.tickerAdded||!this.domElement||(wt.system.add(this.tickerUpdate,this,Hi.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(wt.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const t=this.events.rootPointerEvent;this.events.supportsTouchEvents&&t.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:t.clientX,clientY:t.clientY}))}tickerUpdate(t){this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const zn=new JE;class ms{constructor(t){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=ms.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new bt,this.page=new bt,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=t}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(t,e,i){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(t,e,i,n,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class oo extends ms{constructor(){super(...arguments),this.client=new bt,this.movement=new bt,this.offset=new bt,this.global=new bt,this.screen=new bt}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(t,e,i){return t.worldTransform.applyInverse(i||this.global,e)}getModifierState(t){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(t)}initMouseEvent(t,e,i,n,s,o,a,h,l,u,c,d,f,g,p){throw new Error("Method not implemented.")}}class Ve extends oo{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class yr extends oo{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}yr.DOM_DELTA_PIXEL=0,yr.DOM_DELTA_LINE=1,yr.DOM_DELTA_PAGE=2;const QE=2048,tS=new bt,hu=new bt;class _v{constructor(t){this.dispatch=new gs,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=t,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(t,e){this.mappingTable[t]||(this.mappingTable[t]=[]),this.mappingTable[t].push({fn:e,priority:0}),this.mappingTable[t].sort((i,n)=>i.priority-n.priority)}dispatchEvent(t,e){t.propagationStopped=!1,t.propagationImmediatelyStopped=!1,this.propagate(t,e),this.dispatch.emit(e||t.type,t)}mapEvent(t){if(!this.rootTarget)return;const e=this.mappingTable[t.type];if(e)for(let i=0,n=e.length;i<n;i++)e[i].fn(t);else console.warn(`[EventBoundary]: Event mapping not defined for ${t.type}`)}hitTest(t,e){zn.pauseUpdate=!0;const i=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",n=this[i](this.rootTarget,this.rootTarget.eventMode,tS.set(t,e),this.hitTestFn,this.hitPruneFn);return n&&n[0]}propagate(t,e){if(!t.target)return;const i=t.composedPath();t.eventPhase=t.CAPTURING_PHASE;for(let n=0,s=i.length-1;n<s;n++)if(t.currentTarget=i[n],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return;if(t.eventPhase=t.AT_TARGET,t.currentTarget=t.target,this.notifyTarget(t,e),!(t.propagationStopped||t.propagationImmediatelyStopped)){t.eventPhase=t.BUBBLING_PHASE;for(let n=i.length-2;n>=0;n--)if(t.currentTarget=i[n],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return}}all(t,e,i=this._allInteractiveElements){if(i.length===0)return;t.eventPhase=t.BUBBLING_PHASE;const n=Array.isArray(e)?e:[e];for(let s=i.length-1;s>=0;s--)n.forEach(o=>{t.currentTarget=i[s],this.notifyTarget(t,o)})}propagationPath(t){const e=[t];for(let i=0;i<QE&&t!==this.rootTarget;i++){if(!t.parent)throw new Error("Cannot find propagation path to disconnected target");e.push(t.parent),t=t.parent}return e.reverse(),e}hitTestMoveRecursive(t,e,i,n,s,o=!1){let a=!1;if(this._interactivePrune(t))return null;if((t.eventMode==="dynamic"||e==="dynamic")&&(zn.pauseUpdate=!1),t.interactiveChildren&&t.children){const u=t.children;for(let c=u.length-1;c>=0;c--){const d=u[c],f=this.hitTestMoveRecursive(d,this._isInteractive(e)?e:d.eventMode,i,n,s,o||s(t,i));if(f){if(f.length>0&&!f[f.length-1].parent)continue;const g=t.isInteractive();(f.length>0||g)&&(g&&this._allInteractiveElements.push(t),f.push(t)),this._hitElements.length===0&&(this._hitElements=f),a=!0}}}const h=this._isInteractive(e),l=t.isInteractive();return h&&l&&this._allInteractiveElements.push(t),o||this._hitElements.length>0?null:a?this._hitElements:h&&!s(t,i)&&n(t,i)?l?[t]:[]:null}hitTestRecursive(t,e,i,n,s){if(this._interactivePrune(t)||s(t,i))return null;if((t.eventMode==="dynamic"||e==="dynamic")&&(zn.pauseUpdate=!1),t.interactiveChildren&&t.children){const h=t.children;for(let l=h.length-1;l>=0;l--){const u=h[l],c=this.hitTestRecursive(u,this._isInteractive(e)?e:u.eventMode,i,n,s);if(c){if(c.length>0&&!c[c.length-1].parent)continue;const d=t.isInteractive();return(c.length>0||d)&&c.push(t),c}}}const o=this._isInteractive(e),a=t.isInteractive();return o&&n(t,i)?a?[t]:[]:null}_isInteractive(t){return t==="static"||t==="dynamic"}_interactivePrune(t){return!!(!t||t.isMask||!t.visible||!t.renderable||t.eventMode==="none"||t.eventMode==="passive"&&!t.interactiveChildren||t.isMask)}hitPruneFn(t,e){var i;if(t.hitArea&&(t.worldTransform.applyInverse(e,hu),!t.hitArea.contains(hu.x,hu.y)))return!0;if(t._mask){const n=t._mask.isMaskData?t._mask.maskObject:t._mask;if(n&&!((i=n.containsPoint)!=null&&i.call(n,e)))return!0}return!1}hitTestFn(t,e){return t.eventMode==="passive"?!1:t.hitArea?!0:t.containsPoint?t.containsPoint(e):!1}notifyTarget(t,e){var s,o;e=e??t.type;const i=`on${e}`;(o=(s=t.currentTarget)[i])==null||o.call(s,t);const n=t.eventPhase===t.CAPTURING_PHASE||t.eventPhase===t.AT_TARGET?`${e}capture`:e;this.notifyListeners(t,n),t.eventPhase===t.AT_TARGET&&this.notifyListeners(t,e)}mapPointerDown(t){if(!(t instanceof Ve)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const e=this.createPointerEvent(t);if(this.dispatchEvent(e,"pointerdown"),e.pointerType==="touch")this.dispatchEvent(e,"touchstart");else if(e.pointerType==="mouse"||e.pointerType==="pen"){const n=e.button===2;this.dispatchEvent(e,n?"rightdown":"mousedown")}const i=this.trackingData(t.pointerId);i.pressTargetsByButton[t.button]=e.composedPath(),this.freeEvent(e)}mapPointerMove(t){var h,l;if(!(t instanceof Ve)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const e=this.createPointerEvent(t);this._isPointerMoveEvent=!1;const i=e.pointerType==="mouse"||e.pointerType==="pen",n=this.trackingData(t.pointerId),s=this.findMountedTarget(n.overTargets);if(((h=n.overTargets)==null?void 0:h.length)>0&&s!==e.target){const u=t.type==="mousemove"?"mouseout":"pointerout",c=this.createPointerEvent(t,u,s);if(this.dispatchEvent(c,"pointerout"),i&&this.dispatchEvent(c,"mouseout"),!e.composedPath().includes(s)){const d=this.createPointerEvent(t,"pointerleave",s);for(d.eventPhase=d.AT_TARGET;d.target&&!e.composedPath().includes(d.target);)d.currentTarget=d.target,this.notifyTarget(d),i&&this.notifyTarget(d,"mouseleave"),d.target=d.target.parent;this.freeEvent(d)}this.freeEvent(c)}if(s!==e.target){const u=t.type==="mousemove"?"mouseover":"pointerover",c=this.clonePointerEvent(e,u);this.dispatchEvent(c,"pointerover"),i&&this.dispatchEvent(c,"mouseover");let d=s==null?void 0:s.parent;for(;d&&d!==this.rootTarget.parent&&d!==e.target;)d=d.parent;if(!d||d===this.rootTarget.parent){const f=this.clonePointerEvent(e,"pointerenter");for(f.eventPhase=f.AT_TARGET;f.target&&f.target!==s&&f.target!==this.rootTarget.parent;)f.currentTarget=f.target,this.notifyTarget(f),i&&this.notifyTarget(f,"mouseenter"),f.target=f.target.parent;this.freeEvent(f)}this.freeEvent(c)}const o=[],a=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(e,"pointermove"),a&&o.push("globalpointermove"),e.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(e,"touchmove"),a&&o.push("globaltouchmove")),i&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(e,"mousemove"),a&&o.push("globalmousemove"),this.cursor=(l=e.target)==null?void 0:l.cursor),o.length>0&&this.all(e,o),this._allInteractiveElements.length=0,this._hitElements.length=0,n.overTargets=e.composedPath(),this.freeEvent(e)}mapPointerOver(t){var o;if(!(t instanceof Ve)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const e=this.trackingData(t.pointerId),i=this.createPointerEvent(t),n=i.pointerType==="mouse"||i.pointerType==="pen";this.dispatchEvent(i,"pointerover"),n&&this.dispatchEvent(i,"mouseover"),i.pointerType==="mouse"&&(this.cursor=(o=i.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(i,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),n&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;e.overTargets=i.composedPath(),this.freeEvent(i),this.freeEvent(s)}mapPointerOut(t){if(!(t instanceof Ve)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const e=this.trackingData(t.pointerId);if(e.overTargets){const i=t.pointerType==="mouse"||t.pointerType==="pen",n=this.findMountedTarget(e.overTargets),s=this.createPointerEvent(t,"pointerout",n);this.dispatchEvent(s),i&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(t,"pointerleave",n);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),i&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;e.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(t){if(!(t instanceof Ve)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const e=performance.now(),i=this.createPointerEvent(t);if(this.dispatchEvent(i,"pointerup"),i.pointerType==="touch")this.dispatchEvent(i,"touchend");else if(i.pointerType==="mouse"||i.pointerType==="pen"){const a=i.button===2;this.dispatchEvent(i,a?"rightup":"mouseup")}const n=this.trackingData(t.pointerId),s=this.findMountedTarget(n.pressTargetsByButton[t.button]);let o=s;if(s&&!i.composedPath().includes(s)){let a=s;for(;a&&!i.composedPath().includes(a);){if(i.currentTarget=a,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch")this.notifyTarget(i,"touchendoutside");else if(i.pointerType==="mouse"||i.pointerType==="pen"){const h=i.button===2;this.notifyTarget(i,h?"rightupoutside":"mouseupoutside")}a=a.parent}delete n.pressTargetsByButton[t.button],o=a}if(o){const a=this.clonePointerEvent(i,"click");a.target=o,a.path=null,n.clicksByButton[t.button]||(n.clicksByButton[t.button]={clickCount:0,target:a.target,timeStamp:e});const h=n.clicksByButton[t.button];if(h.target===a.target&&e-h.timeStamp<200?++h.clickCount:h.clickCount=1,h.target=a.target,h.timeStamp=e,a.detail=h.clickCount,a.pointerType==="mouse"){const l=a.button===2;this.dispatchEvent(a,l?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(i)}mapPointerUpOutside(t){if(!(t instanceof Ve)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const e=this.trackingData(t.pointerId),i=this.findMountedTarget(e.pressTargetsByButton[t.button]),n=this.createPointerEvent(t);if(i){let s=i;for(;s;)n.currentTarget=s,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch"?this.notifyTarget(n,"touchendoutside"):(n.pointerType==="mouse"||n.pointerType==="pen")&&this.notifyTarget(n,n.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete e.pressTargetsByButton[t.button]}this.freeEvent(n)}mapWheel(t){if(!(t instanceof yr)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const e=this.createWheelEvent(t);this.dispatchEvent(e),this.freeEvent(e)}findMountedTarget(t){if(!t)return null;let e=t[0];for(let i=1;i<t.length&&t[i].parent===e;i++)e=t[i];return e}createPointerEvent(t,e,i){const n=this.allocateEvent(Ve);return this.copyPointerData(t,n),this.copyMouseData(t,n),this.copyData(t,n),n.nativeEvent=t.nativeEvent,n.originalEvent=t,n.target=i??this.hitTest(n.global.x,n.global.y)??this._hitElements[0],typeof e=="string"&&(n.type=e),n}createWheelEvent(t){const e=this.allocateEvent(yr);return this.copyWheelData(t,e),this.copyMouseData(t,e),this.copyData(t,e),e.nativeEvent=t.nativeEvent,e.originalEvent=t,e.target=this.hitTest(e.global.x,e.global.y),e}clonePointerEvent(t,e){const i=this.allocateEvent(Ve);return i.nativeEvent=t.nativeEvent,i.originalEvent=t.originalEvent,this.copyPointerData(t,i),this.copyMouseData(t,i),this.copyData(t,i),i.target=t.target,i.path=t.composedPath().slice(),i.type=e??i.type,i}copyWheelData(t,e){e.deltaMode=t.deltaMode,e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ}copyPointerData(t,e){t instanceof Ve&&e instanceof Ve&&(e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist)}copyMouseData(t,e){t instanceof oo&&e instanceof oo&&(e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.copyFrom(t.client),e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.copyFrom(t.movement),e.screen.copyFrom(t.screen),e.shiftKey=t.shiftKey,e.global.copyFrom(t.global))}copyData(t,e){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.detail=t.detail,e.view=t.view,e.which=t.which,e.layer.copyFrom(t.layer),e.page.copyFrom(t.page)}trackingData(t){return this.mappingState.trackingData[t]||(this.mappingState.trackingData[t]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[t]}allocateEvent(t){this.eventPool.has(t)||this.eventPool.set(t,[]);const e=this.eventPool.get(t).pop()||new t(this);return e.eventPhase=e.NONE,e.currentTarget=null,e.path=null,e.target=null,e}freeEvent(t){if(t.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const e=t.constructor;this.eventPool.has(e)||this.eventPool.set(e,[]),this.eventPool.get(e).push(t)}notifyListeners(t,e){const i=t.currentTarget._events[e];if(i&&t.currentTarget.isInteractive())if("fn"in i)i.once&&t.currentTarget.removeListener(e,i.fn,void 0,!0),i.fn.call(i.context,t);else for(let n=0,s=i.length;n<s&&!t.propagationImmediatelyStopped;n++)i[n].once&&t.currentTarget.removeListener(e,i[n].fn,void 0,!0),i[n].fn.call(i[n].context,t)}}const eS=1,iS={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},pf=class mf{constructor(t){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new _v(null),zn.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new Ve(null),this.rootWheelEvent=new yr(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...mf.defaultEventFeatures},{set:(e,i,n)=>(i==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=n),e[i]=n,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(t){const{view:e,resolution:i}=this.renderer;this.setTargetElement(e),this.resolution=i,mf._defaultEventMode=t.eventMode??"auto",Object.assign(this.features,t.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(t){this.resolution=t}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(t){t=t||"default";let e=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(e=!1),this.currentCursor===t)return;this.currentCursor=t;const i=this.cursorStyles[t];if(i)switch(typeof i){case"string":e&&(this.domElement.style.cursor=i);break;case"function":i(t);break;case"object":e&&Object.assign(this.domElement.style,i);break}else e&&typeof t=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.domElement.style.cursor=t)}get pointer(){return this.rootPointerEvent}onPointerDown(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(let i=0,n=e.length;i<n;i++){const s=e[i],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(t){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,zn.pointerMoved();const e=this.normalizeToPointerData(t);for(let i=0,n=e.length;i<n;i++){const s=this.bootstrapEvent(this.rootPointerEvent,e[i]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let e=t.target;t.composedPath&&t.composedPath().length>0&&(e=t.composedPath()[0]);const i=e!==this.domElement?"outside":"",n=this.normalizeToPointerData(t);for(let s=0,o=n.length;s<o;s++){const a=this.bootstrapEvent(this.rootPointerEvent,n[s]);a.type+=i,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const e=this.normalizeToPointerData(t);for(let i=0,n=e.length;i<n;i++){const s=this.bootstrapEvent(this.rootPointerEvent,e[i]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(t){if(!this.features.wheel)return;const e=this.normalizeWheelEvent(t);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(e)}setTargetElement(t){this.removeEvents(),this.domElement=t,zn.domElement=t,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;zn.addTickerListener();const t=this.domElement.style;t&&(globalThis.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;zn.removeTickerListener();const t=this.domElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(t,e,i){const n=this.domElement.isConnected?this.domElement.getBoundingClientRect():{width:this.domElement.width,height:this.domElement.height,left:0,top:0},s=1/this.resolution;t.x=(e-n.left)*(this.domElement.width/n.width)*s,t.y=(i-n.top)*(this.domElement.height/n.height)*s}normalizeToPointerData(t){const e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(let i=0,n=t.changedTouches.length;i<n;i++){const s=t.changedTouches[i];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=t.touches.length===1&&t.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=t.type,e.push(s)}else if(!globalThis.MouseEvent||t instanceof MouseEvent&&(!this.supportsPointerEvents||!(t instanceof globalThis.PointerEvent))){const i=t;typeof i.isPrimary>"u"&&(i.isPrimary=!0),typeof i.width>"u"&&(i.width=1),typeof i.height>"u"&&(i.height=1),typeof i.tiltX>"u"&&(i.tiltX=0),typeof i.tiltY>"u"&&(i.tiltY=0),typeof i.pointerType>"u"&&(i.pointerType="mouse"),typeof i.pointerId>"u"&&(i.pointerId=eS),typeof i.pressure>"u"&&(i.pressure=.5),typeof i.twist>"u"&&(i.twist=0),typeof i.tangentialPressure>"u"&&(i.tangentialPressure=0),i.isNormalized=!0,e.push(i)}else e.push(t);return e}normalizeWheelEvent(t){const e=this.rootWheelEvent;return this.transferMouseData(e,t),e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ,e.deltaMode=t.deltaMode,this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.nativeEvent=t,e.type=t.type,e}bootstrapEvent(t,e){return t.originalEvent=null,t.nativeEvent=e,t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist,this.transferMouseData(t,e),this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.isTrusted=e.isTrusted,t.type==="pointerleave"&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=iS[t.type]||t.type),t}transferMouseData(t,e){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.x=e.clientX,t.client.y=e.clientY,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.x=e.movementX,t.movement.y=e.movementY,t.page.x=e.pageX,t.page.y=e.pageY,t.relatedTarget=null,t.shiftKey=e.shiftKey}};pf.extension={name:"events",type:[J.RendererSystem,J.CanvasRendererSystem]},pf.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let Ua=pf;at.add(Ua);function py(r){return r==="dynamic"||r==="static"}const xv={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??py(Ua.defaultEventMode)},set interactive(r){mt("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=r,this.eventMode=r?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??Ua.defaultEventMode},set eventMode(r){this._internalInteractive=py(r),this._internalEventMode=r},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(r,t,e){const i=typeof e=="boolean"&&e||typeof e=="object"&&e.capture,n=typeof e=="object"?e.signal:void 0,s=typeof e=="object"?e.once===!0:!1,o=typeof t=="function"?void 0:t;r=i?`${r}capture`:r;const a=typeof t=="function"?t:t.handleEvent,h=this;n&&n.addEventListener("abort",()=>{h.off(r,a,o)}),s?h.once(r,a,o):h.on(r,a,o)},removeEventListener(r,t,e){const i=typeof e=="boolean"&&e||typeof e=="object"&&e.capture,n=typeof t=="function"?void 0:t;r=i?`${r}capture`:r,t=typeof t=="function"?t:t.handleEvent,this.off(r,t,n)},dispatchEvent(r){if(!(r instanceof ms))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return r.defaultPrevented=!1,r.path=null,r.target=this,r.manager.dispatchEvent(r),!r.defaultPrevented}};Nt.mixin(xv);const bv={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Nt.mixin(bv);const nS=9,ia=100,rS=0,sS=0,my=2,yy=1,oS=-1e3,aS=-1e3,hS=2;class Fg{constructor(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(_i.tablet||_i.phone)&&this.createTouchHook();const e=document.createElement("div");e.style.width=`${ia}px`,e.style.height=`${ia}px`,e.style.position="absolute",e.style.top=`${rS}px`,e.style.left=`${sS}px`,e.style.zIndex=my.toString(),this.div=e,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const t=document.createElement("button");t.style.width=`${yy}px`,t.style.height=`${yy}px`,t.style.position="absolute",t.style.top=`${oS}px`,t.style.left=`${aS}px`,t.style.zIndex=hS.toString(),t.style.backgroundColor="#FF0000",t.title="select to enable accessibility for this content",t.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(t),this._hookDiv=t}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var t;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(t=this.renderer.view.parentNode)==null||t.appendChild(this.div))}deactivate(){var t;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(t=this.div.parentNode)==null||t.removeChild(this.div))}updateAccessibleObjects(t){if(!t.visible||!t.accessibleChildren)return;t.accessible&&t.isInteractive()&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);const e=t.children;if(e)for(let i=0;i<e.length;i++)this.updateAccessibleObjects(e[i])}update(){const t=performance.now();if(_i.android.device&&t<this.androidUpdateCount||(this.androidUpdateCount=t+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:e,y:i,width:n,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:h}=this.renderer,l=n/o*h,u=s/a*h;let c=this.div;c.style.left=`${e}px`,c.style.top=`${i}px`,c.style.width=`${o}px`,c.style.height=`${a}px`;for(let d=0;d<this.children.length;d++){const f=this.children[d];if(f.renderId!==this.renderId)f._accessibleActive=!1,pr(this.children,d,1),this.div.removeChild(f._accessibleDiv),this.pool.push(f._accessibleDiv),f._accessibleDiv=null,d--;else{c=f._accessibleDiv;let g=f.hitArea;const p=f.worldTransform;f.hitArea?(c.style.left=`${(p.tx+g.x*p.a)*l}px`,c.style.top=`${(p.ty+g.y*p.d)*u}px`,c.style.width=`${g.width*p.a*l}px`,c.style.height=`${g.height*p.d*u}px`):(g=f.getBounds(),this.capHitArea(g),c.style.left=`${g.x*l}px`,c.style.top=`${g.y*u}px`,c.style.width=`${g.width*l}px`,c.style.height=`${g.height*u}px`,c.title!==f.accessibleTitle&&f.accessibleTitle!==null&&(c.title=f.accessibleTitle),c.getAttribute("aria-label")!==f.accessibleHint&&f.accessibleHint!==null&&c.setAttribute("aria-label",f.accessibleHint)),(f.accessibleTitle!==c.title||f.tabIndex!==c.tabIndex)&&(c.title=f.accessibleTitle,c.tabIndex=f.tabIndex,this.debug&&this.updateDebugHTML(c))}}this.renderId++}updateDebugHTML(t){t.innerHTML=`type: ${t.type}</br> title : ${t.title}</br> tabIndex: ${t.tabIndex}`}capHitArea(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);const{width:e,height:i}=this.renderer;t.x+t.width>e&&(t.width=e-t.x),t.y+t.height>i&&(t.height=i-t.y)}addChild(t){let e=this.pool.pop();e||(e=document.createElement("button"),e.style.width=`${ia}px`,e.style.height=`${ia}px`,e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=my.toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&t.accessibleTitle!==null?e.title=t.accessibleTitle:(!t.accessibleHint||t.accessibleHint===null)&&(e.title=`displayObject ${t.tabIndex}`),t.accessibleHint&&t.accessibleHint!==null&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex}_dispatchEvent(t,e){const{displayObject:i}=t.target,n=this.renderer.events.rootBoundary,s=Object.assign(new ms(n),{target:i});n.rootTarget=this.renderer.lastObjectRendered,e.forEach(o=>n.dispatchEvent(s,o))}_onClick(t){this._dispatchEvent(t,["click","pointertap","tap"])}_onFocus(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive"),this._dispatchEvent(t,["mouseover"])}_onFocusOut(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite"),this._dispatchEvent(t,["mouseout"])}_onKeyDown(t){t.keyCode===nS&&this.activate()}_onMouseMove(t){t.movementX===0&&t.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}Fg.extension={name:"accessibility",type:[J.RendererPlugin,J.CanvasRendererPlugin]};at.add(Fg);const vv=class yf{constructor(t){this.stage=new ct,t=Object.assign({forceCanvas:!1},t),this.renderer=sv(t),yf._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){var t;return(t=this.renderer)==null?void 0:t.view}get screen(){var t;return(t=this.renderer)==null?void 0:t.screen}destroy(t,e){const i=yf._plugins.slice(0);i.reverse(),i.forEach(n=>{n.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};vv._plugins=[];let Og=vv;at.handleByList(J.Application,Og._plugins);class Lg{static init(t){Object.defineProperty(this,"resizeTo",{set(e){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=e,e&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let e,i;if(this._resizeTo===globalThis.window)e=globalThis.innerWidth,i=globalThis.innerHeight;else{const{clientWidth:n,clientHeight:s}=this._resizeTo;e=n,i=s}this.renderer.resize(e,i),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}Lg.extension=J.Application;at.add(Lg);const _y={loader:J.LoadParser,resolver:J.ResolveParser,cache:J.CacheParser,detection:J.DetectionParser};at.handle(J.Asset,r=>{const t=r.ref;Object.entries(_y).filter(([e])=>!!t[e]).forEach(([e,i])=>at.add(Object.assign(t[e],{extension:t[e].extension??i})))},r=>{const t=r.ref;Object.keys(_y).filter(e=>!!t[e]).forEach(e=>at.remove(t[e]))});class lS{constructor(t,e=!1){this._loader=t,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=e}add(t){t.forEach(e=>{this._assetList.push(e)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const t=[],e=Math.min(this._assetList.length,this._maxConcurrent);for(let i=0;i<e;i++)t.push(this._assetList.pop());await this._loader.load(t),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(t){this._isActive!==t&&(this._isActive=t,t&&!this._isLoading&&this._next())}}function Sr(r,t){if(Array.isArray(t)){for(const e of t)if(r.startsWith(`data:${e}`))return!0;return!1}return r.startsWith(`data:${t}`)}function _n(r,t){const e=r.split("?")[0],i=ee.extname(e).toLowerCase();return Array.isArray(t)?t.includes(i):i===t}const Ke=(r,t,e=!1)=>(Array.isArray(r)||(r=[r]),t?r.map(i=>typeof i=="string"||e?t(i):i):r),Ga=(r,t)=>{const e=t.split("?")[1];return e&&(r+=`?${e}`),r};function wv(r,t,e,i,n){const s=t[e];for(let o=0;o<s.length;o++){const a=s[o];e<t.length-1?wv(r.replace(i[e],a),t,e+1,i,n):n.push(r.replace(i[e],a))}}function Tv(r){const t=/\{(.*?)\}/g,e=r.match(t),i=[];if(e){const n=[];e.forEach(s=>{const o=s.substring(1,s.length-1).split(",");n.push(o)}),wv(r,n,0,e,i)}else i.push(r);return i}const ao=r=>!Array.isArray(r);class uS{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const e=this._cache.get(t);return e||console.warn(`[Assets] Asset id ${t} was not found in the Cache`),e}set(t,e){const i=Ke(t);let n;for(let a=0;a<this.parsers.length;a++){const h=this.parsers[a];if(h.test(e)){n=h.getCacheableAssets(i,e);break}}n||(n={},i.forEach(a=>{n[a]=e}));const s=Object.keys(n),o={cacheKeys:s,keys:i};if(i.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{const h=n?n[a]:e;this._cache.has(a)&&this._cache.get(a)!==h&&console.warn("[Cache] already has key:",a),this._cache.set(a,n[a])}),e instanceof et){const a=e;i.forEach(h=>{a.baseTexture!==et.EMPTY.baseTexture&&_t.addToCache(a.baseTexture,h),et.addToCache(a,h)})}}remove(t){if(!this._cacheMap.has(t)){console.warn(`[Assets] Asset id ${t} was not found in the Cache`);return}const e=this._cacheMap.get(t);e.cacheKeys.forEach(i=>{this._cache.delete(i)}),e.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const Pn=new uS;class cS{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(t,e,i)=>(this._parsersValidated=!1,t[e]=i,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(t,e){const i={promise:null,parser:null};return i.promise=(async()=>{var o,a;let n=null,s=null;if(e.loadParser&&(s=this._parserHash[e.loadParser],s||console.warn(`[Assets] specified load parser "${e.loadParser}" not found while loading ${t}`)),!s){for(let h=0;h<this.parsers.length;h++){const l=this.parsers[h];if(l.load&&((o=l.test)!=null&&o.call(l,t,e,this))){s=l;break}}if(!s)return console.warn(`[Assets] ${t} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}n=await s.load(t,e,this),i.parser=s;for(let h=0;h<this.parsers.length;h++){const l=this.parsers[h];l.parse&&l.parse&&await((a=l.testParse)==null?void 0:a.call(l,n,e,this))&&(n=await l.parse(n,e,this)||n,i.parser=l)}return n})(),i}async load(t,e){this._parsersValidated||this._validateParsers();let i=0;const n={},s=ao(t),o=Ke(t,l=>({alias:[l],src:l})),a=o.length,h=o.map(async l=>{const u=ee.toAbsolute(l.src);if(!n[l.src])try{this.promiseCache[u]||(this.promiseCache[u]=this._getLoadPromiseAndParser(u,l)),n[l.src]=await this.promiseCache[u].promise,e&&e(++i/a)}catch(c){throw delete this.promiseCache[u],delete n[l.src],new Error(`[Loader.load] Failed to load ${u}.
${c}`)}});return await Promise.all(h),s?n[o[0].src]:n}async unload(t){const e=Ke(t,i=>({alias:[i],src:i})).map(async i=>{var o,a;const n=ee.toAbsolute(i.src),s=this.promiseCache[n];if(s){const h=await s.promise;delete this.promiseCache[n],(a=(o=s.parser)==null?void 0:o.unload)==null||a.call(o,h,i,this)}});await Promise.all(e)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(t=>t.name).reduce((t,e)=>(t[e.name]&&console.warn(`[Assets] loadParser name conflict "${e.name}"`),{...t,[e.name]:e}),{})}}var si=(r=>(r[r.Low=0]="Low",r[r.Normal=1]="Normal",r[r.High=2]="High",r))(si||{});const dS=".json",fS="application/json",Av={extension:{type:J.LoadParser,priority:si.Low},name:"loadJson",test(r){return Sr(r,fS)||_n(r,dS)},async load(r){return await(await Q.ADAPTER.fetch(r)).json()}};at.add(Av);const gS=".txt",pS="text/plain",Ev={name:"loadTxt",extension:{type:J.LoadParser,priority:si.Low},test(r){return Sr(r,pS)||_n(r,gS)},async load(r){return await(await Q.ADAPTER.fetch(r)).text()}};at.add(Ev);const mS=["normal","bold","100","200","300","400","500","600","700","800","900"],yS=[".ttf",".otf",".woff",".woff2"],_S=["font/ttf","font/otf","font/woff","font/woff2"],xS=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function Sv(r){const t=ee.extname(r),e=ee.basename(r,t).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1));let i=e.length>0;for(const s of e)if(!s.match(xS)){i=!1;break}let n=e.join(" ");return i||(n=`"${n.replace(/[\\"]/g,"\\$&")}"`),n}const bS=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function vS(r){return bS.test(r)?r:encodeURI(r)}const Cv={extension:{type:J.LoadParser,priority:si.Low},name:"loadWebFont",test(r){return Sr(r,_S)||_n(r,yS)},async load(r,t){var i,n,s;const e=Q.ADAPTER.getFontFaceSet();if(e){const o=[],a=((i=t.data)==null?void 0:i.family)??Sv(r),h=((s=(n=t.data)==null?void 0:n.weights)==null?void 0:s.filter(u=>mS.includes(u)))??["normal"],l=t.data??{};for(let u=0;u<h.length;u++){const c=h[u],d=new FontFace(a,`url(${vS(r)})`,{...l,weight:c});await d.load(),e.add(d),o.push(d)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(r){(Array.isArray(r)?r:[r]).forEach(t=>Q.ADAPTER.getFontFaceSet().delete(t))}};at.add(Cv);const wS=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let Kr=null,_f=class{constructor(){Kr||(Kr=URL.createObjectURL(new Blob([wS],{type:"application/javascript"}))),this.worker=new Worker(Kr)}};_f.revokeObjectURL=function(){Kr&&(URL.revokeObjectURL(Kr),Kr=null)};const TS=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let Jr=null;class Iv{constructor(){Jr||(Jr=URL.createObjectURL(new Blob([TS],{type:"application/javascript"}))),this.worker=new Worker(Jr)}}Iv.revokeObjectURL=function(){Jr&&(URL.revokeObjectURL(Jr),Jr=null)};let xy=0,lu;class AS{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(t=>{const{worker:e}=new _f;e.addEventListener("message",i=>{e.terminate(),_f.revokeObjectURL(),t(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(t){return this._run("loadImageBitmap",[t])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){lu===void 0&&(lu=navigator.hardwareConcurrency||4);let t=this.workerPool.pop();return!t&&this._createdWorkers<lu&&(this._createdWorkers++,t=new Iv().worker,t.addEventListener("message",e=>{this.complete(e.data),this.returnWorker(e.target),this.next()})),t}returnWorker(t){this.workerPool.push(t)}complete(t){t.error!==void 0?this.resolveHash[t.uuid].reject(t.error):this.resolveHash[t.uuid].resolve(t.data),this.resolveHash[t.uuid]=null}async _run(t,e){await this._initWorkers();const i=new Promise((n,s)=>{this.queue.push({id:t,arguments:e,resolve:n,reject:s})});return this.next(),i}next(){if(!this.queue.length)return;const t=this.getWorker();if(!t)return;const e=this.queue.pop(),i=e.id;this.resolveHash[xy]={resolve:e.resolve,reject:e.reject},t.postMessage({data:e.arguments,uuid:xy++,id:i})}}const by=new AS;function ys(r,t,e){r.resource.internal=!0;const i=new et(r),n=()=>{delete t.promiseCache[e],Pn.has(e)&&Pn.remove(e)};return i.baseTexture.once("destroyed",()=>{e in t.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),n())}),i.once("destroyed",()=>{r.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),n())}),i}const ES=[".jpeg",".jpg",".png",".webp",".avif"],SS=["image/jpeg","image/png","image/webp","image/avif"];async function zv(r){const t=await Q.ADAPTER.fetch(r);if(!t.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${r}: ${t.status} ${t.statusText}`);const e=await t.blob();return await createImageBitmap(e)}const Mo={name:"loadTextures",extension:{type:J.LoadParser,priority:si.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(r){return Sr(r,SS)||_n(r,ES)},async load(r,t,e){var a;const i=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let n;i?this.config.preferWorkers&&await by.isImageBitmapSupported()?n=await by.loadImageBitmap(r):n=await zv(r):n=await new Promise((h,l)=>{const u=new Image;u.crossOrigin=this.config.crossOrigin,u.src=r,u.complete?h(u):(u.onload=()=>h(u),u.onerror=c=>l(c))});const s={...t.data};s.resolution??(s.resolution=Ui(r)),i&&((a=s.resourceOptions)==null?void 0:a.ownsImageBitmap)===void 0&&(s.resourceOptions={...s.resourceOptions},s.resourceOptions.ownsImageBitmap=!0);const o=new _t(n,s);return o.resource.src=r,ys(o,e,r)},unload(r){r.destroy(!0)}};at.add(Mo);const CS=".svg",IS="image/svg+xml",Pv={extension:{type:J.LoadParser,priority:si.High},name:"loadSVG",test(r){return Sr(r,IS)||_n(r,CS)},async testParse(r){return Na.test(r)},async parse(r,t,e){var s;const i=new Na(r,(s=t==null?void 0:t.data)==null?void 0:s.resourceOptions);await i.load();const n=new _t(i,{resolution:Ui(r),...t==null?void 0:t.data});return n.resource.src=t.src,ys(n,e,t.src)},async load(r,t){return(await Q.ADAPTER.fetch(r)).text()},unload:Mo.unload};at.add(Pv);const zS=[".mp4",".m4v",".webm",".ogv"],PS=["video/mp4","video/webm","video/ogg"],Mv={name:"loadVideo",extension:{type:J.LoadParser,priority:si.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(r){return Sr(r,PS)||_n(r,zS)},async load(r,t,e){var o;let i;const n=await(await Q.ADAPTER.fetch(r)).blob(),s=URL.createObjectURL(n);try{const a={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...(o=t==null?void 0:t.data)==null?void 0:o.resourceOptions,autoLoad:!0},h=new jg(s,a);await h.load();const l=new _t(h,{alphaMode:await yb(),resolution:Ui(r),...t==null?void 0:t.data});l.resource.src=r,i=ys(l,e,r),i.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(s)})}catch(a){throw URL.revokeObjectURL(s),a}return i},unload(r){r.destroy(!0)}};at.add(Mv);class MS{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,e)=>`${t}${this._bundleIdConnector}${e}`,extractAssetIdFromBundle:(t,e)=>e.replace(`${t}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){if(this._bundleIdConnector=t.connector??this._bundleIdConnector,this._createBundleAssetId=t.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=t.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach(e=>{this._preferredOrder.push(e),e.priority||(e.priority=Object.keys(e.params))}),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if(typeof t=="string")this._defaultSearchParams=t;else{const e=t;this._defaultSearchParams=Object.keys(e).map(i=>`${encodeURIComponent(i)}=${encodeURIComponent(e[i])}`).join("&")}}getAlias(t){const{alias:e,name:i,src:n,srcs:s}=t;return Ke(e||i||n||s,o=>typeof o=="string"?o:Array.isArray(o)?o.map(a=>(a==null?void 0:a.src)??(a==null?void 0:a.srcs)??a):o!=null&&o.src||o!=null&&o.srcs?o.src??o.srcs:o,!0)}addManifest(t){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach(e=>{this.addBundle(e.name,e.assets)})}addBundle(t,e){const i=[];Array.isArray(e)?e.forEach(n=>{const s=n.src??n.srcs,o=n.alias??n.name;let a;if(typeof o=="string"){const h=this._createBundleAssetId(t,o);i.push(h),a=[o,h]}else{const h=o.map(l=>this._createBundleAssetId(t,l));i.push(...h),a=[...o,...h]}this.add({...n,alias:a,src:s})}):Object.keys(e).forEach(n=>{const s=[n,this._createBundleAssetId(t,n)];if(typeof e[n]=="string")this.add({alias:s,src:e[n]});else if(Array.isArray(e[n]))this.add({alias:s,src:e[n]});else{const o=e[n],a=o.src??o.srcs;this.add({...o,alias:s,src:Array.isArray(a)?a:[a]})}i.push(...s)}),this._bundles[t]=i}add(t,e,i,n,s){const o=[];typeof t=="string"||Array.isArray(t)&&typeof t[0]=="string"?(mt("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),o.push({alias:t,src:e,data:i,format:n,loadParser:s})):Array.isArray(t)?o.push(...t):o.push(t);let a;a=h=>{this.hasKey(h)&&console.warn(`[Resolver] already has key: ${h} overwriting`)},Ke(o).forEach(h=>{const{src:l,srcs:u}=h;let{data:c,format:d,loadParser:f}=h;const g=Ke(l||u).map(y=>typeof y=="string"?Tv(y):Array.isArray(y)?y:[y]),p=this.getAlias(h);Array.isArray(p)?p.forEach(a):a(p);const m=[];g.forEach(y=>{y.forEach(x=>{let _={};if(typeof x!="object"){_.src=x;for(let v=0;v<this._parsers.length;v++){const b=this._parsers[v];if(b.test(x)){_=b.parse(x);break}}}else c=x.data??c,d=x.format??d,f=x.loadParser??f,_={..._,...x};if(!p)throw new Error(`[Resolver] alias is undefined for this asset: ${_.src}`);_=this.buildResolvedAsset(_,{aliases:p,data:c,format:d,loadParser:f}),m.push(_)})}),p.forEach(y=>{this._assetMap[y]=m})})}resolveBundle(t){const e=ao(t);t=Ke(t);const i={};return t.forEach(n=>{const s=this._bundles[n];if(s){const o=this.resolve(s),a={};for(const h in o){const l=o[h];a[this._extractAssetIdFromBundle(n,h)]=l}i[n]=a}}),e?i[t[0]]:i}resolveUrl(t){const e=this.resolve(t);if(typeof t!="string"){const i={};for(const n in e)i[n]=e[n].src;return i}return e.src}resolve(t){const e=ao(t);t=Ke(t);const i={};return t.forEach(n=>{if(!this._resolverHash[n])if(this._assetMap[n]){let s=this._assetMap[n];const o=s[0],a=this._getPreferredOrder(s);a==null||a.priority.forEach(h=>{a.params[h].forEach(l=>{const u=s.filter(c=>c[h]?c[h]===l:!1);u.length&&(s=u)})}),this._resolverHash[n]=s[0]??o}else this._resolverHash[n]=this.buildResolvedAsset({alias:[n],src:n},{});i[n]=this._resolverHash[n]}),e?i[t[0]]:i}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let e=0;e<t.length;e++){const i=t[0],n=this._preferredOrder.find(s=>s.params.format.includes(i.format));if(n)return n}return this._preferredOrder[0]}_appendDefaultSearchParams(t){if(!this._defaultSearchParams)return t;const e=/\?/.test(t)?"&":"?";return`${t}${e}${this._defaultSearchParams}`}buildResolvedAsset(t,e){const{aliases:i,data:n,loadParser:s,format:o}=e;return(this._basePath||this._rootPath)&&(t.src=ee.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=i??t.alias??[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data={...n||{},...t.data},t.loadParser=s??t.loadParser,t.format=o??t.format??ee.extname(t.src).slice(1),t.srcs=t.src,t.name=t.alias,t}}class Rv{constructor(){this._detections=[],this._initialized=!1,this.resolver=new MS,this.loader=new cS,this.cache=Pn,this._backgroundLoader=new lS(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(t={}){var s,o;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,t.defaultSearchParams&&this.resolver.setDefaultSearchParams(t.defaultSearchParams),t.basePath&&(this.resolver.basePath=t.basePath),t.bundleIdentifier&&this.resolver.setBundleIdentifier(t.bundleIdentifier),t.manifest){let a=t.manifest;typeof a=="string"&&(a=await this.load(a)),this.resolver.addManifest(a)}const e=((s=t.texturePreference)==null?void 0:s.resolution)??1,i=typeof e=="number"?[e]:e,n=await this._detectFormats({preferredFormats:(o=t.texturePreference)==null?void 0:o.format,skipDetections:t.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:n,resolution:i}}),t.preferences&&this.setPreferences(t.preferences)}add(t,e,i,n,s){this.resolver.add(t,e,i,n,s)}async load(t,e){this._initialized||await this.init();const i=ao(t),n=Ke(t).map(a=>{if(typeof a!="string"){const h=this.resolver.getAlias(a);return h.some(l=>!this.resolver.hasKey(l))&&this.add(a),Array.isArray(h)?h[0]:h}return this.resolver.hasKey(a)||this.add({alias:a,src:a}),a}),s=this.resolver.resolve(n),o=await this._mapLoadToResolve(s,e);return i?o[n[0]]:o}addBundle(t,e){this.resolver.addBundle(t,e)}async loadBundle(t,e){this._initialized||await this.init();let i=!1;typeof t=="string"&&(i=!0,t=[t]);const n=this.resolver.resolveBundle(t),s={},o=Object.keys(n);let a=0,h=0;const l=()=>{e==null||e(++a/h)},u=o.map(c=>{const d=n[c];return h+=Object.keys(d).length,this._mapLoadToResolve(d,l).then(f=>{s[c]=f})});return await Promise.all(u),i?s[t[0]]:s}async backgroundLoad(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const e=this.resolver.resolve(t);this._backgroundLoader.add(Object.values(e))}async backgroundLoadBundle(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const e=this.resolver.resolveBundle(t);Object.values(e).forEach(i=>{this._backgroundLoader.add(Object.values(i))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(t){if(typeof t=="string")return Pn.get(t);const e={};for(let i=0;i<t.length;i++)e[i]=Pn.get(t[i]);return e}async _mapLoadToResolve(t,e){const i=Object.values(t),n=Object.keys(t);this._backgroundLoader.active=!1;const s=await this.loader.load(i,e);this._backgroundLoader.active=!0;const o={};return i.forEach((a,h)=>{const l=s[a.src],u=[a.src];a.alias&&u.push(...a.alias),o[n[h]]=l,Pn.set(u,l)}),o}async unload(t){this._initialized||await this.init();const e=Ke(t).map(n=>typeof n!="string"?n.src:n),i=this.resolver.resolve(e);await this._unloadFromResolved(i)}async unloadBundle(t){this._initialized||await this.init(),t=Ke(t);const e=this.resolver.resolveBundle(t),i=Object.keys(e).map(n=>this._unloadFromResolved(e[n]));await Promise.all(i)}async _unloadFromResolved(t){const e=Object.values(t);e.forEach(i=>{Pn.remove(i.src)}),await this.loader.unload(e)}async _detectFormats(t){let e=[];t.preferredFormats&&(e=Array.isArray(t.preferredFormats)?t.preferredFormats:[t.preferredFormats]);for(const i of t.detections)t.skipDetections||await i.test()?e=await i.add(e):t.skipDetections||(e=await i.remove(e));return e=e.filter((i,n)=>e.indexOf(i)===n),e}get detections(){return this._detections}get preferWorkers(){return Mo.config.preferWorkers}set preferWorkers(t){mt("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:t})}setPreferences(t){this.loader.parsers.forEach(e=>{e.config&&Object.keys(e.config).filter(i=>i in t).forEach(i=>{e.config[i]=t[i]})})}}const be=new Rv;at.handleByList(J.LoadParser,be.loader.parsers).handleByList(J.ResolveParser,be.resolver.parsers).handleByList(J.CacheParser,be.cache.parsers).handleByList(J.DetectionParser,be.detections);const kv={extension:J.CacheParser,test:r=>Array.isArray(r)&&r.every(t=>t instanceof et),getCacheableAssets:(r,t)=>{const e={};return r.forEach(i=>{t.forEach((n,s)=>{e[i+(s===0?"":s+1)]=n})}),e}};at.add(kv);async function jv(r){if("Image"in globalThis)return new Promise(t=>{const e=new Image;e.onload=()=>{t(!0)},e.onerror=()=>{t(!1)},e.src=r});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const t=await(await fetch(r)).blob();await createImageBitmap(t)}catch{return!1}return!0}return!1}const Dv={extension:{type:J.DetectionParser,priority:1},test:async()=>jv("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async r=>[...r,"avif"],remove:async r=>r.filter(t=>t!=="avif")};at.add(Dv);const Fv={extension:{type:J.DetectionParser,priority:0},test:async()=>jv("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async r=>[...r,"webp"],remove:async r=>r.filter(t=>t!=="webp")};at.add(Fv);const vy=["png","jpg","jpeg"],Ov={extension:{type:J.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async r=>[...r,...vy],remove:async r=>r.filter(t=>!vy.includes(t))};at.add(Ov);const RS="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function Bg(r){return RS?!1:document.createElement("video").canPlayType(r)!==""}const Lv={extension:{type:J.DetectionParser,priority:0},test:async()=>Bg("video/webm"),add:async r=>[...r,"webm"],remove:async r=>r.filter(t=>t!=="webm")};at.add(Lv);const Bv={extension:{type:J.DetectionParser,priority:0},test:async()=>Bg("video/mp4"),add:async r=>[...r,"mp4","m4v"],remove:async r=>r.filter(t=>t!=="mp4"&&t!=="m4v")};at.add(Bv);const Nv={extension:{type:J.DetectionParser,priority:0},test:async()=>Bg("video/ogg"),add:async r=>[...r,"ogv"],remove:async r=>r.filter(t=>t!=="ogv")};at.add(Nv);const qv={extension:J.ResolveParser,test:Mo.test,parse:r=>{var t;return{resolution:parseFloat(((t=Q.RETINA_PREFIX.exec(r))==null?void 0:t[1])??"1"),format:ee.extname(r).slice(1),src:r}}};at.add(qv);var re=(r=>(r[r.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",r[r.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",r[r.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",r[r.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",r[r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",r[r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",r[r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",r[r.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",r[r.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",r[r.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",r[r.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",r[r.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",r[r.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",r[r.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",r[r.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",r[r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",r[r.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",r[r.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",r[r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",r[r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",r[r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",r[r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",r[r.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",r[r.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",r[r.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",r[r.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",r[r.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",r[r.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",r[r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",r[r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",r[r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",r))(re||{});const ho={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};let Pi,Gr;function wy(){Gr={bptc:Pi.getExtension("EXT_texture_compression_bptc"),astc:Pi.getExtension("WEBGL_compressed_texture_astc"),etc:Pi.getExtension("WEBGL_compressed_texture_etc"),s3tc:Pi.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:Pi.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:Pi.getExtension("WEBGL_compressed_texture_pvrtc")||Pi.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:Pi.getExtension("WEBGL_compressed_texture_etc1"),atc:Pi.getExtension("WEBGL_compressed_texture_atc")}}const Uv={extension:{type:J.DetectionParser,priority:2},test:async()=>{const r=Q.ADAPTER.createCanvas().getContext("webgl");return r?(Pi=r,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async r=>{Gr||wy();const t=[];for(const e in Gr)Gr[e]&&t.push(e);return[...t,...r]},remove:async r=>(Gr||wy(),r.filter(t=>!(t in Gr)))};at.add(Uv);class Gv extends Eo{constructor(t,e={width:1,height:1,autoLoad:!0}){let i,n;typeof t=="string"?(i=t,n=new Uint8Array):(i=null,n=t),super(n,e),this.origin=i,this.buffer=n?new ja(n):null,this._load=null,this.loaded=!1,this.origin!==null&&e.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(t){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(t=>t.blob()).then(t=>t.arrayBuffer()).then(t=>(this.data=new Uint32Array(t),this.buffer=new ja(t),this.loaded=!0,this.onBlobLoaded(t),this.update(),this)),this._load)}}class Nn extends Gv{constructor(t,e){super(t,e),this.format=e.format,this.levels=e.levels||1,this._width=e.width,this._height=e.height,this._extension=Nn._formatToExtension(this.format),(e.levelBuffers||this.buffer)&&(this._levelBuffers=e.levelBuffers||Nn._createLevelBuffers(t instanceof Uint8Array?t:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(t,e,i){const n=t.gl;if(!t.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;n.pixelStorei(n.UNPACK_ALIGNMENT,4);for(let s=0,o=this.levels;s<o;s++){const{levelID:a,levelWidth:h,levelHeight:l,levelBuffer:u}=this._levelBuffers[s];n.compressedTexImage2D(n.TEXTURE_2D,a,this.format,h,l,0,u)}return!0}onBlobLoaded(){this._levelBuffers=Nn._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(t){if(t>=33776&&t<=33779)return"s3tc";if(t>=35916&&t<=35919)return"s3tc_sRGB";if(t>=37488&&t<=37497)return"etc";if(t>=35840&&t<=35843)return"pvrtc";if(t===36196)return"etc1";if(t===35986||t===35987||t===34798)return"atc";if(t>=36492&&t<=36495)return"bptc";if(t===37808)return"astc";throw new Error(`Invalid (compressed) texture format given: ${t}`)}static _createLevelBuffers(t,e,i,n,s,o,a){const h=new Array(i);let l=t.byteOffset,u=o,c=a,d=u+n-1&~(n-1),f=c+s-1&~(s-1),g=d*f*ho[e];for(let p=0;p<i;p++)h[p]={levelID:p,levelWidth:i>1?u:d,levelHeight:i>1?c:f,levelBuffer:new Uint8Array(t.buffer,l,g)},l+=g,u=u>>1||1,c=c>>1||1,d=u+n-1&~(n-1),f=c+s-1&~(s-1),g=d*f*ho[e];return h}}const uu=4,na=124,kS=32,Ty=20,jS=542327876,ra={HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},DS={FOURCC:2},sa={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3},FS=1,OS=2,LS=4,BS=64,NS=512,qS=131072,US=827611204,GS=861165636,HS=894720068,WS=808540228,$S=4,VS={[US]:re.COMPRESSED_RGBA_S3TC_DXT1_EXT,[GS]:re.COMPRESSED_RGBA_S3TC_DXT3_EXT,[HS]:re.COMPRESSED_RGBA_S3TC_DXT5_EXT},XS={70:re.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:re.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:re.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:re.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:re.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:re.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:re.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:re.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:re.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:re.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:re.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:re.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:re.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function Hv(r){const t=new Uint32Array(r);if(t[0]!==jS)throw new Error("Invalid DDS file magic word");const e=new Uint32Array(r,0,na/Uint32Array.BYTES_PER_ELEMENT),i=e[ra.HEIGHT],n=e[ra.WIDTH],s=e[ra.MIPMAP_COUNT],o=new Uint32Array(r,ra.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,kS/Uint32Array.BYTES_PER_ELEMENT),a=o[FS];if(a&LS){const h=o[DS.FOURCC];if(h!==WS){const x=VS[h],_=uu+na,v=new Uint8Array(r,_);return[new Nn(v,{format:x,width:n,height:i,levels:s})]}const l=uu+na,u=new Uint32Array(t.buffer,l,Ty/Uint32Array.BYTES_PER_ELEMENT),c=u[sa.DXGI_FORMAT],d=u[sa.RESOURCE_DIMENSION],f=u[sa.MISC_FLAG],g=u[sa.ARRAY_SIZE],p=XS[c];if(p===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${c}`);if(f===$S)throw new Error("DDSParser does not support cubemap textures");if(d===6)throw new Error("DDSParser does not supported 3D texture data");const m=new Array,y=uu+na+Ty;if(g===1)m.push(new Uint8Array(r,y));else{const x=ho[p];let _=0,v=n,b=i;for(let w=0;w<s;w++){const C=Math.max(1,v+3&-4),z=Math.max(1,b+3&-4),F=C*z*x;_+=F,v=v>>>1,b=b>>>1}let E=y;for(let w=0;w<g;w++)m.push(new Uint8Array(r,E,_)),E+=_}return m.map(x=>new Nn(x,{format:p,width:n,height:i,levels:s}))}throw a&BS?new Error("DDSParser does not support uncompressed texture data."):a&NS?new Error("DDSParser does not supported YUV uncompressed texture data."):a&qS?new Error("DDSParser does not support single-channel (lumninance) texture data!"):a&OS?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const Ay=[171,75,84,88,32,49,49,187,13,10,26,10],YS=67305985,ui={ENDIANNESS:12,GL_TYPE:16,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},xf=64,bf={[lt.UNSIGNED_BYTE]:1,[lt.UNSIGNED_SHORT]:2,[lt.INT]:4,[lt.UNSIGNED_INT]:4,[lt.FLOAT]:4,[lt.HALF_FLOAT]:8},Wv={[X.RGBA]:4,[X.RGB]:3,[X.RG]:2,[X.RED]:1,[X.LUMINANCE]:1,[X.LUMINANCE_ALPHA]:2,[X.ALPHA]:1},$v={[lt.UNSIGNED_SHORT_4_4_4_4]:2,[lt.UNSIGNED_SHORT_5_5_5_1]:2,[lt.UNSIGNED_SHORT_5_6_5]:2};function Vv(r,t,e=!1){const i=new DataView(t);if(!ZS(r,i))return null;const n=i.getUint32(ui.ENDIANNESS,!0)===YS,s=i.getUint32(ui.GL_TYPE,n),o=i.getUint32(ui.GL_FORMAT,n),a=i.getUint32(ui.GL_INTERNAL_FORMAT,n),h=i.getUint32(ui.PIXEL_WIDTH,n),l=i.getUint32(ui.PIXEL_HEIGHT,n)||1,u=i.getUint32(ui.PIXEL_DEPTH,n)||1,c=i.getUint32(ui.NUMBER_OF_ARRAY_ELEMENTS,n)||1,d=i.getUint32(ui.NUMBER_OF_FACES,n),f=i.getUint32(ui.NUMBER_OF_MIPMAP_LEVELS,n),g=i.getUint32(ui.BYTES_OF_KEY_VALUE_DATA,n);if(l===0||u!==1)throw new Error("Only 2D textures are supported");if(d!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(c!==1)throw new Error("WebGL does not support array textures");const p=4,m=4,y=h+3&-4,x=l+3&-4,_=new Array(c);let v=h*l;s===0&&(v=y*x);let b;if(s!==0?bf[s]?b=bf[s]*Wv[o]:b=$v[s]:b=ho[a],b===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const E=e?JS(i,g,n):null;let w=v*b,C=h,z=l,F=y,D=x,M=xf+g;for(let k=0;k<f;k++){const j=i.getUint32(M,n);let O=M+4;for(let T=0;T<c;T++){let S=_[T];S||(S=_[T]=new Array(f)),S[k]={levelID:k,levelWidth:f>1||s!==0?C:F,levelHeight:f>1||s!==0?z:D,levelBuffer:new Uint8Array(t,O,w)},O+=w}M+=j+4,M=M%4!==0?M+4-M%4:M,C=C>>1||1,z=z>>1||1,F=C+p-1&-4,D=z+m-1&-4,w=F*D*b}return s!==0?{uncompressed:_.map(k=>{let j=k[0].levelBuffer,O=!1;return s===lt.FLOAT?j=new Float32Array(k[0].levelBuffer.buffer,k[0].levelBuffer.byteOffset,k[0].levelBuffer.byteLength/4):s===lt.UNSIGNED_INT?(O=!0,j=new Uint32Array(k[0].levelBuffer.buffer,k[0].levelBuffer.byteOffset,k[0].levelBuffer.byteLength/4)):s===lt.INT&&(O=!0,j=new Int32Array(k[0].levelBuffer.buffer,k[0].levelBuffer.byteOffset,k[0].levelBuffer.byteLength/4)),{resource:new Eo(j,{width:k[0].levelWidth,height:k[0].levelHeight}),type:s,format:O?KS(o):o}}),kvData:E}:{compressed:_.map(k=>new Nn(null,{format:a,width:h,height:l,levels:f,levelBuffers:k})),kvData:E}}function ZS(r,t){for(let e=0;e<Ay.length;e++)if(t.getUint8(e)!==Ay[e])return console.error(`${r} is not a valid *.ktx file!`),!1;return!0}function KS(r){switch(r){case X.RGBA:return X.RGBA_INTEGER;case X.RGB:return X.RGB_INTEGER;case X.RG:return X.RG_INTEGER;case X.RED:return X.RED_INTEGER;default:return r}}function JS(r,t,e){const i=new Map;let n=0;for(;n<t;){const s=r.getUint32(xf+n,e),o=xf+n+4,a=3-(s+3)%4;if(s===0||s>t-n){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let h=0;for(;h<s&&r.getUint8(o+h)!==0;h++);if(h===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const l=new TextDecoder().decode(new Uint8Array(r.buffer,o,h)),u=new DataView(r.buffer,o+h+1,s-h-1);i.set(l,u),n+=4+s+a}return i}const Xv={extension:{type:J.LoadParser,priority:si.High},name:"loadDDS",test(r){return _n(r,".dds")},async load(r,t,e){const i=await(await Q.ADAPTER.fetch(r)).arrayBuffer(),n=Hv(i).map(s=>{const o=new _t(s,{mipmap:Ai.OFF,alphaMode:xe.NO_PREMULTIPLIED_ALPHA,resolution:Ui(r),...t.data});return ys(o,e,r)});return n.length===1?n[0]:n},unload(r){Array.isArray(r)?r.forEach(t=>t.destroy(!0)):r.destroy(!0)}};at.add(Xv);const Yv={extension:{type:J.LoadParser,priority:si.High},name:"loadKTX",test(r){return _n(r,".ktx")},async load(r,t,e){const i=await(await Q.ADAPTER.fetch(r)).arrayBuffer(),{compressed:n,uncompressed:s,kvData:o}=Vv(r,i),a=n??s,h={mipmap:Ai.OFF,alphaMode:xe.NO_PREMULTIPLIED_ALPHA,resolution:Ui(r),...t.data},l=a.map(u=>{a===s&&Object.assign(h,{type:u.type,format:u.format});const c=u.resource??u,d=new _t(c,h);return d.ktxKeyValueData=o,ys(d,e,r)});return l.length===1?l[0]:l},unload(r){Array.isArray(r)?r.forEach(t=>t.destroy(!0)):r.destroy(!0)}};at.add(Yv);const QS=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],Zv={extension:J.ResolveParser,test:r=>{const t=ee.extname(r).slice(1);return["basis","ktx","dds"].includes(t)},parse:r=>{var i,n;const t=r.split("."),e=t.pop();if(["ktx","dds"].includes(e)){const s=t.pop();if(QS.includes(s))return{resolution:parseFloat(((i=Q.RETINA_PREFIX.exec(r))==null?void 0:i[1])??"1"),format:s,src:r}}return{resolution:parseFloat(((n=Q.RETINA_PREFIX.exec(r))==null?void 0:n[1])??"1"),format:e,src:r}}};at.add(Zv);const oa=new xt,tC=4,Kv=class js{constructor(t){this.renderer=t,this._rendererPremultipliedAlpha=!1}contextChange(){var e;const t=(e=this.renderer)==null?void 0:e.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(t&&t.alpha&&t.premultipliedAlpha)}async image(t,e,i,n){const s=new Image;return s.src=await this.base64(t,e,i,n),s}async base64(t,e,i,n){const s=this.canvas(t,n);if(s.toBlob!==void 0)return new Promise((o,a)=>{s.toBlob(h=>{if(!h){a(new Error("ICanvas.toBlob failed!"));return}const l=new FileReader;l.onload=()=>o(l.result),l.onerror=a,l.readAsDataURL(h)},e,i)});if(s.toDataURL!==void 0)return s.toDataURL(e,i);if(s.convertToBlob!==void 0){const o=await s.convertToBlob({type:e,quality:i});return new Promise((a,h)=>{const l=new FileReader;l.onload=()=>a(l.result),l.onerror=h,l.readAsDataURL(o)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(t,e){const{pixels:i,width:n,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(t,e);o&&js._flipY(i,n,s),a&&js._unpremultiplyAlpha(i);const h=new Sb(n,s,1),l=new ImageData(new Uint8ClampedArray(i.buffer),n,s);return h.context.putImageData(l,0,0),h.canvas}pixels(t,e){const{pixels:i,width:n,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(t,e);return o&&js._flipY(i,n,s),a&&js._unpremultiplyAlpha(i),i}_rawPixels(t,e){const i=this.renderer;if(!i)throw new Error("The Extract has already been destroyed");let n,s=!1,o=!1,a,h=!1;t&&(t instanceof Kn?a=t:(a=i.generateTexture(t,{region:e,resolution:i.resolution,multisample:i.multisample}),h=!0,e&&(oa.width=e.width,oa.height=e.height,e=oa)));const l=i.gl;if(a){if(n=a.baseTexture.resolution,e=e??a.frame,s=!1,o=a.baseTexture.alphaMode>0&&a.baseTexture.format===X.RGBA,!h){i.renderTexture.bind(a);const f=a.framebuffer.glFramebuffers[i.CONTEXT_UID];f.blitFramebuffer&&i.framebuffer.bind(f.blitFramebuffer)}}else n=i.resolution,e||(e=oa,e.width=i.width/n,e.height=i.height/n),s=!0,o=this._rendererPremultipliedAlpha,i.renderTexture.bind();const u=Math.max(Math.round(e.width*n),1),c=Math.max(Math.round(e.height*n),1),d=new Uint8Array(tC*u*c);return l.readPixels(Math.round(e.x*n),Math.round(e.y*n),u,c,l.RGBA,l.UNSIGNED_BYTE,d),h&&(a==null||a.destroy(!0)),{pixels:d,width:u,height:c,flipY:s,premultipliedAlpha:o}}destroy(){this.renderer=null}static _flipY(t,e,i){const n=e<<2,s=i>>1,o=new Uint8Array(n);for(let a=0;a<s;a++){const h=a*n,l=(i-a-1)*n;o.set(t.subarray(h,h+n)),t.copyWithin(h,l,l+n),t.set(o,l)}}static _unpremultiplyAlpha(t){t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));const e=t.length;for(let i=0;i<e;i+=4){const n=t[i+3];if(n!==0){const s=255.001/n;t[i]=t[i]*s+.5,t[i+1]=t[i+1]*s+.5,t[i+2]=t[i+2]*s+.5}}}};Kv.extension={name:"extract",type:J.RendererSystem};let Jv=Kv;at.add(Jv);const lo={build(r){const t=r.points;let e,i,n,s,o,a;if(r.type===oe.CIRC){const g=r.shape;e=g.x,i=g.y,o=a=g.radius,n=s=0}else if(r.type===oe.ELIP){const g=r.shape;e=g.x,i=g.y,o=g.width,a=g.height,n=s=0}else{const g=r.shape,p=g.width/2,m=g.height/2;e=g.x+p,i=g.y+m,o=a=Math.max(0,Math.min(g.radius,Math.min(p,m))),n=p-o,s=m-a}if(!(o>=0&&a>=0&&n>=0&&s>=0)){t.length=0;return}const h=Math.ceil(2.3*Math.sqrt(o+a)),l=h*8+(n?4:0)+(s?4:0);if(t.length=l,l===0)return;if(h===0){t.length=8,t[0]=t[6]=e+n,t[1]=t[3]=i+s,t[2]=t[4]=e-n,t[5]=t[7]=i-s;return}let u=0,c=h*4+(n?2:0)+2,d=c,f=l;{const g=n+o,p=s,m=e+g,y=e-g,x=i+p;if(t[u++]=m,t[u++]=x,t[--c]=x,t[--c]=y,s){const _=i-p;t[d++]=y,t[d++]=_,t[--f]=_,t[--f]=m}}for(let g=1;g<h;g++){const p=Math.PI/2*(g/h),m=n+Math.cos(p)*o,y=s+Math.sin(p)*a,x=e+m,_=e-m,v=i+y,b=i-y;t[u++]=x,t[u++]=v,t[--c]=v,t[--c]=_,t[d++]=_,t[d++]=b,t[--f]=b,t[--f]=x}{const g=n,p=s+a,m=e+g,y=e-g,x=i+p,_=i-p;t[u++]=m,t[u++]=x,t[--f]=_,t[--f]=m,n&&(t[u++]=y,t[u++]=x,t[--f]=_,t[--f]=y)}},triangulate(r,t){const e=r.points,i=t.points,n=t.indices;if(e.length===0)return;let s=i.length/2;const o=s;let a,h;if(r.type!==oe.RREC){const u=r.shape;a=u.x,h=u.y}else{const u=r.shape;a=u.x+u.width/2,h=u.y+u.height/2}const l=r.matrix;i.push(r.matrix?l.a*a+l.c*h+l.tx:a,r.matrix?l.b*a+l.d*h+l.ty:h),s++,i.push(e[0],e[1]);for(let u=2;u<e.length;u+=2)i.push(e[u],e[u+1]),n.push(s++,o,s);n.push(o+1,o,s)}};function Ey(r,t=!1){const e=r.length;if(e<6)return;let i=0;for(let n=0,s=r[e-2],o=r[e-1];n<e;n+=2){const a=r[n],h=r[n+1];i+=(a-s)*(h+o),s=a,o=h}if(!t&&i>0||t&&i<=0){const n=e/2;for(let s=n+n%2;s<e;s+=2){const o=e-s-2,a=e-s-1,h=s,l=s+1;[r[o],r[h]]=[r[h],r[o]],[r[a],r[l]]=[r[l],r[a]]}}}const Ng={build(r){r.points=r.shape.points.slice()},triangulate(r,t){let e=r.points;const i=r.holes,n=t.points,s=t.indices;if(e.length>=6){Ey(e,!1);const o=[];for(let l=0;l<i.length;l++){const u=i[l];Ey(u.points,!0),o.push(e.length/2),e=e.concat(u.points)}const a=ab(e,o,2);if(!a)return;const h=n.length/2;for(let l=0;l<a.length;l+=3)s.push(a[l]+h),s.push(a[l+1]+h),s.push(a[l+2]+h);for(let l=0;l<e.length;l++)n.push(e[l])}}},Qv={build(r){const t=r.shape,e=t.x,i=t.y,n=t.width,s=t.height,o=r.points;o.length=0,n>=0&&s>=0&&o.push(e,i,e+n,i,e+n,i+s,e,i+s)},triangulate(r,t){const e=r.points,i=t.points;if(e.length===0)return;const n=i.length/2;i.push(e[0],e[1],e[2],e[3],e[6],e[7],e[4],e[5]),t.indices.push(n,n+1,n+2,n+1,n+2,n+3)}},t1={build(r){lo.build(r)},triangulate(r,t){lo.triangulate(r,t)}};var De=(r=>(r.MITER="miter",r.BEVEL="bevel",r.ROUND="round",r))(De||{}),cn=(r=>(r.BUTT="butt",r.ROUND="round",r.SQUARE="square",r))(cn||{});const Wn={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(r,t=20){if(!this.adaptive||!r||isNaN(r))return t;let e=Math.ceil(r/this.maxLength);return e<this.minSegments?e=this.minSegments:e>this.maxSegments&&(e=this.maxSegments),e}},eC=Wn;class vf{static curveTo(t,e,i,n,s,o){const a=o[o.length-2],h=o[o.length-1]-e,l=a-t,u=n-e,c=i-t,d=Math.abs(h*c-l*u);if(d<1e-8||s===0)return(o[o.length-2]!==t||o[o.length-1]!==e)&&o.push(t,e),null;const f=h*h+l*l,g=u*u+c*c,p=h*u+l*c,m=s*Math.sqrt(f)/d,y=s*Math.sqrt(g)/d,x=m*p/f,_=y*p/g,v=m*c+y*l,b=m*u+y*h,E=l*(y+x),w=h*(y+x),C=c*(m+_),z=u*(m+_),F=Math.atan2(w-b,E-v),D=Math.atan2(z-b,C-v);return{cx:v+t,cy:b+e,radius:s,startAngle:F,endAngle:D,anticlockwise:l*u>c*h}}static arc(t,e,i,n,s,o,a,h,l){const u=a-o,c=Wn._segmentsCount(Math.abs(u)*s,Math.ceil(Math.abs(u)/to)*40),d=u/(c*2),f=d*2,g=Math.cos(d),p=Math.sin(d),m=c-1,y=m%1/m;for(let x=0;x<=m;++x){const _=x+y*x,v=d+o+f*_,b=Math.cos(v),E=-Math.sin(v);l.push((g*b+p*E)*s+i,(g*-E+p*b)*s+n)}}}class e1{constructor(){this.reset()}begin(t,e,i){this.reset(),this.style=t,this.start=e,this.attribStart=i}end(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class mh{static curveLength(t,e,i,n,s,o,a,h){let l=0,u=0,c=0,d=0,f=0,g=0,p=0,m=0,y=0,x=0,_=0,v=t,b=e;for(let E=1;E<=10;++E)u=E/10,c=u*u,d=c*u,f=1-u,g=f*f,p=g*f,m=p*t+3*g*u*i+3*f*c*s+d*a,y=p*e+3*g*u*n+3*f*c*o+d*h,x=v-m,_=b-y,v=m,b=y,l+=Math.sqrt(x*x+_*_);return l}static curveTo(t,e,i,n,s,o,a){const h=a[a.length-2],l=a[a.length-1];a.length-=2;const u=Wn._segmentsCount(mh.curveLength(h,l,t,e,i,n,s,o));let c=0,d=0,f=0,g=0,p=0;a.push(h,l);for(let m=1,y=0;m<=u;++m)y=m/u,c=1-y,d=c*c,f=d*c,g=y*y,p=g*y,a.push(f*h+3*d*y*t+3*c*g*i+p*s,f*l+3*d*y*e+3*c*g*n+p*o)}}function Sy(r,t,e,i,n,s,o,a){const h=r-e*n,l=t-i*n,u=r+e*s,c=t+i*s;let d,f;o?(d=i,f=-e):(d=-i,f=e);const g=h+d,p=l+f,m=u+d,y=c+f;return a.push(g,p,m,y),2}function nr(r,t,e,i,n,s,o,a){const h=e-r,l=i-t;let u=Math.atan2(h,l),c=Math.atan2(n-r,s-t);a&&u<c?u+=Math.PI*2:!a&&u>c&&(c+=Math.PI*2);let d=u;const f=c-u,g=Math.abs(f),p=Math.sqrt(h*h+l*l),m=(15*g*Math.sqrt(p)/Math.PI>>0)+1,y=f/m;if(d+=y,a){o.push(r,t,e,i);for(let x=1,_=d;x<m;x++,_+=y)o.push(r,t,r+Math.sin(_)*p,t+Math.cos(_)*p);o.push(r,t,n,s)}else{o.push(e,i,r,t);for(let x=1,_=d;x<m;x++,_+=y)o.push(r+Math.sin(_)*p,t+Math.cos(_)*p,r,t);o.push(n,s,r,t)}return m*2}function iC(r,t){const e=r.shape;let i=r.points||e.points.slice();const n=t.closePointEps;if(i.length===0)return;const s=r.lineStyle,o=new bt(i[0],i[1]),a=new bt(i[i.length-2],i[i.length-1]),h=e.type!==oe.POLY||e.closeStroke,l=Math.abs(o.x-a.x)<n&&Math.abs(o.y-a.y)<n;if(h){i=i.slice(),l&&(i.pop(),i.pop(),a.set(i[i.length-2],i[i.length-1]));const S=(o.x+a.x)*.5,A=(a.y+o.y)*.5;i.unshift(S,A),i.push(S,A)}const u=t.points,c=i.length/2;let d=i.length;const f=u.length/2,g=s.width/2,p=g*g,m=s.miterLimit*s.miterLimit;let y=i[0],x=i[1],_=i[2],v=i[3],b=0,E=0,w=-(x-v),C=y-_,z=0,F=0,D=Math.sqrt(w*w+C*C);w/=D,C/=D,w*=g,C*=g;const M=s.alignment,k=(1-M)*2,j=M*2;h||(s.cap===cn.ROUND?d+=nr(y-w*(k-j)*.5,x-C*(k-j)*.5,y-w*k,x-C*k,y+w*j,x+C*j,u,!0)+2:s.cap===cn.SQUARE&&(d+=Sy(y,x,w,C,k,j,!0,u))),u.push(y-w*k,x-C*k,y+w*j,x+C*j);for(let S=1;S<c-1;++S){y=i[(S-1)*2],x=i[(S-1)*2+1],_=i[S*2],v=i[S*2+1],b=i[(S+1)*2],E=i[(S+1)*2+1],w=-(x-v),C=y-_,D=Math.sqrt(w*w+C*C),w/=D,C/=D,w*=g,C*=g,z=-(v-E),F=_-b,D=Math.sqrt(z*z+F*F),z/=D,F/=D,z*=g,F*=g;const A=_-y,R=x-v,I=_-b,P=E-v,L=A*I+R*P,B=R*I-P*A,U=B<0;if(Math.abs(B)<.001*Math.abs(L)){u.push(_-w*k,v-C*k,_+w*j,v+C*j),L>=0&&(s.join===De.ROUND?d+=nr(_,v,_-w*k,v-C*k,_-z*k,v-F*k,u,!1)+4:d+=2,u.push(_-z*j,v-F*j,_+z*k,v+F*k));continue}const H=(-w+y)*(-C+v)-(-w+_)*(-C+x),Z=(-z+b)*(-F+v)-(-z+_)*(-F+E),K=(A*Z-I*H)/B,nt=(P*H-R*Z)/B,rt=(K-_)*(K-_)+(nt-v)*(nt-v),$=_+(K-_)*k,it=v+(nt-v)*k,st=_-(K-_)*j,ft=v-(nt-v)*j,Tt=Math.min(A*A+R*R,I*I+P*P),Y=U?k:j,ot=Tt+Y*Y*p,gt=rt<=ot;let Rt=s.join;if(Rt===De.MITER&&rt/p>m&&(Rt=De.BEVEL),gt)switch(Rt){case De.MITER:{u.push($,it,st,ft);break}case De.BEVEL:{U?u.push($,it,_+w*j,v+C*j,$,it,_+z*j,v+F*j):u.push(_-w*k,v-C*k,st,ft,_-z*k,v-F*k,st,ft),d+=2;break}case De.ROUND:{U?(u.push($,it,_+w*j,v+C*j),d+=nr(_,v,_+w*j,v+C*j,_+z*j,v+F*j,u,!0)+4,u.push($,it,_+z*j,v+F*j)):(u.push(_-w*k,v-C*k,st,ft),d+=nr(_,v,_-w*k,v-C*k,_-z*k,v-F*k,u,!1)+4,u.push(_-z*k,v-F*k,st,ft));break}}else{switch(u.push(_-w*k,v-C*k,_+w*j,v+C*j),Rt){case De.MITER:{U?u.push(st,ft,st,ft):u.push($,it,$,it),d+=2;break}case De.ROUND:{U?d+=nr(_,v,_+w*j,v+C*j,_+z*j,v+F*j,u,!0)+2:d+=nr(_,v,_-w*k,v-C*k,_-z*k,v-F*k,u,!1)+2;break}}u.push(_-z*k,v-F*k,_+z*j,v+F*j),d+=2}}y=i[(c-2)*2],x=i[(c-2)*2+1],_=i[(c-1)*2],v=i[(c-1)*2+1],w=-(x-v),C=y-_,D=Math.sqrt(w*w+C*C),w/=D,C/=D,w*=g,C*=g,u.push(_-w*k,v-C*k,_+w*j,v+C*j),h||(s.cap===cn.ROUND?d+=nr(_-w*(k-j)*.5,v-C*(k-j)*.5,_-w*k,v-C*k,_+w*j,v+C*j,u,!1)+2:s.cap===cn.SQUARE&&(d+=Sy(_,v,w,C,k,j,!1,u)));const O=t.indices,T=Wn.epsilon*Wn.epsilon;for(let S=f;S<d+f-2;++S)y=u[S*2],x=u[S*2+1],_=u[(S+1)*2],v=u[(S+1)*2+1],b=u[(S+2)*2],E=u[(S+2)*2+1],!(Math.abs(y*(v-E)+_*(E-x)+b*(x-v))<T)&&O.push(S,S+1,S+2)}function nC(r,t){let e=0;const i=r.shape,n=r.points||i.points,s=i.type!==oe.POLY||i.closeStroke;if(n.length===0)return;const o=t.points,a=t.indices,h=n.length/2,l=o.length/2;let u=l;for(o.push(n[0],n[1]),e=1;e<h;e++)o.push(n[e*2],n[e*2+1]),a.push(u,u+1),u++;s&&a.push(u,l)}function wf(r,t){r.lineStyle.native?nC(r,t):iC(r,t)}class yh{static curveLength(t,e,i,n,s,o){const a=t-2*i+s,h=e-2*n+o,l=2*i-2*t,u=2*n-2*e,c=4*(a*a+h*h),d=4*(a*l+h*u),f=l*l+u*u,g=2*Math.sqrt(c+d+f),p=Math.sqrt(c),m=2*c*p,y=2*Math.sqrt(f),x=d/p;return(m*g+p*d*(g-y)+(4*f*c-d*d)*Math.log((2*p+x+g)/(x+y)))/(4*m)}static curveTo(t,e,i,n,s){const o=s[s.length-2],a=s[s.length-1],h=Wn._segmentsCount(yh.curveLength(o,a,t,e,i,n));let l=0,u=0;for(let c=1;c<=h;++c){const d=c/h;l=o+(t-o)*d,u=a+(e-a)*d,s.push(l+(t+(i-t)*d-l)*d,u+(e+(n-e)*d-u)*d)}}}const ba={[oe.POLY]:Ng,[oe.CIRC]:lo,[oe.ELIP]:lo,[oe.RECT]:Qv,[oe.RREC]:t1},Tf=[],Ds=[];class uo{constructor(t,e=null,i=null,n=null){this.points=[],this.holes=[],this.shape=t,this.lineStyle=i,this.fillStyle=e,this.matrix=n,this.type=t.type}clone(){return new uo(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Or=new bt,i1=class n1 extends ug{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new so,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),Ds.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),Tf.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,i=null,n=null){const s=new uo(t,e,i,n);return this.graphicsData.push(s),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const i=new uo(t,null,null,e),n=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=n.lineStyle,n.holes.push(i),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let i=0;i<e.length;++i){const n=e[i];if(n.fillStyle.visible&&n.shape&&(n.matrix?n.matrix.applyInverse(t,Or):Or.copyFrom(t),n.shape.contains(Or.x,Or.y))){let s=!1;if(n.holes){for(let o=0;o<n.holes.length;o++)if(n.holes[o].shape.contains(Or.x,Or.y)){s=!0;break}}if(!s)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let i=null,n=null;this.batches.length>0&&(i=this.batches[this.batches.length-1],n=i.style);for(let h=this.shapeIndex;h<e.length;h++){this.shapeIndex++;const l=e[h],u=l.fillStyle,c=l.lineStyle;ba[l.type].build(l),l.matrix&&this.transformPoints(l.points,l.matrix),(u.visible||c.visible)&&this.processHoles(l.holes);for(let d=0;d<2;d++){const f=d===0?u:c;if(!f.visible)continue;const g=f.texture.baseTexture,p=this.indices.length,m=this.points.length/2;g.wrapMode=Bi.REPEAT,d===0?this.processFill(l):this.processLine(l);const y=this.points.length/2-m;y!==0&&(i&&!this._compareStyles(n,f)&&(i.end(p,m),i=null),i||(i=Tf.pop()||new e1,i.begin(f,p,m),this.batches.push(i),n=f),this.addUvs(this.points,t,f.texture,m,y,f.matrix))}}const s=this.indices.length,o=this.points.length/2;if(i&&i.end(s,o),this.batches.length===0){this.batchable=!0;return}const a=o>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&a===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=a?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const i=this.graphicsData[t],n=i.fillStyle,s=i.lineStyle;if(n&&!n.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,i=t.length;e<i;e++){const n=t[e];for(let s=0;s<n.size;s++){const o=n.start+s;this.indicesUint16[o]=this.indicesUint16[o]-n.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<n1.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++_t._globalBatch;for(let c=0;c<this.drawCalls.length;c++)this.drawCalls[c].texArray.clear(),Ds.push(this.drawCalls[c]);this.drawCalls.length=0;const e=this.colors,i=this.textureIds;let n=Ds.pop();n||(n=new Fa,n.texArray=new La),n.texArray.count=0,n.start=0,n.size=0,n.type=yi.TRIANGLES;let s=0,o=null,a=0,h=!1,l=yi.TRIANGLES,u=0;this.drawCalls.push(n);for(let c=0;c<this.batches.length;c++){const d=this.batches[c],f=8,g=d.style,p=g.texture.baseTexture;h!==!!g.native&&(h=!!g.native,l=h?yi.LINES:yi.TRIANGLES,o=null,s=f,t++),o!==p&&(o=p,p._batchEnabled!==t&&(s===f&&(t++,s=0,n.size>0&&(n=Ds.pop(),n||(n=new Fa,n.texArray=new La),this.drawCalls.push(n)),n.start=u,n.size=0,n.texArray.count=0,n.type=l),p.touched=1,p._batchEnabled=t,p._batchLocation=s,p.wrapMode=Bi.REPEAT,n.texArray.elements[n.texArray.count++]=p,s++)),n.size+=d.size,u+=d.size,a=p._batchLocation,this.addColors(e,g.color,g.alpha,d.attribSize,d.attribStart),this.addTextureIds(i,a,d.attribSize,d.attribStart)}_t._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,i=this.colors,n=this.textureIds,s=new ArrayBuffer(t.length*3*4),o=new Float32Array(s),a=new Uint32Array(s);let h=0;for(let l=0;l<t.length/2;l++)o[h++]=t[l*2],o[h++]=t[l*2+1],o[h++]=e[l*2],o[h++]=e[l*2+1],a[h++]=i[l],o[h++]=n[l];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?Ng.triangulate(t,this):ba[t.type].triangulate(t,this)}processLine(t){wf(t,this);for(let e=0;e<t.holes.length;e++)wf(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const i=t[e];ba[i.type].build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let i=0;i<t.length/2;i++){const n=t[i*2],s=t[i*2+1];t[i*2]=e.a*n+e.c*s+e.tx,t[i*2+1]=e.b*n+e.d*s+e.ty}}addColors(t,e,i,n,s=0){const o=St.shared.setValue(e).toLittleEndianNumber(),a=St.shared.setValue(o).toPremultiplied(i);t.length=Math.max(t.length,s+n);for(let h=0;h<n;h++)t[s+h]=a}addTextureIds(t,e,i,n=0){t.length=Math.max(t.length,n+i);for(let s=0;s<i;s++)t[n+s]=e}addUvs(t,e,i,n,s,o=null){let a=0;const h=e.length,l=i.frame;for(;a<s;){let c=t[(n+a)*2],d=t[(n+a)*2+1];if(o){const f=o.a*c+o.c*d+o.tx;d=o.b*c+o.d*d+o.ty,c=f}a++,e.push(c/l.width,d/l.height)}const u=i.baseTexture;(l.width<u.width||l.height<u.height)&&this.adjustUvs(e,i,h,s)}adjustUvs(t,e,i,n){const s=e.baseTexture,o=1e-6,a=i+n*2,h=e.frame,l=h.width/s.width,u=h.height/s.height;let c=h.x/h.width,d=h.y/h.height,f=Math.floor(t[i]+o),g=Math.floor(t[i+1]+o);for(let p=i+2;p<a;p+=2)f=Math.min(f,Math.floor(t[p]+o)),g=Math.min(g,Math.floor(t[p+1]+o));c-=f,d-=g;for(let p=i;p<a;p+=2)t[p]=(t[p]+c)*l,t[p+1]=(t[p+1]+d)*u}};i1.BATCHABLE_SIZE=100;let r1=i1;class Ro{constructor(){this.color=16777215,this.alpha=1,this.texture=et.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const t=new Ro;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t}reset(){this.color=16777215,this.alpha=1,this.texture=et.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class _h extends Ro{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=cn.BUTT,this.join=De.MITER,this.miterLimit=10}clone(){const t=new _h;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=cn.BUTT,this.join=De.MITER,this.miterLimit=10}}const cu={},Af=class va extends ct{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Ro,this._lineStyle=new _h,this._matrix=null,this._holeMode=!1,this.state=Si.for2d(),this._geometry=t||new r1,this._geometry.refCount++,this._transformID=-1,this._tintColor=new St(16777215),this.blendMode=dt.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new va(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,i,n=.5,s=!1){return typeof t=="number"&&(t={width:t,color:e,alpha:i,alignment:n,native:s}),this.lineTextureStyle(t)}lineTextureStyle(t){const e={width:0,texture:et.WHITE,color:t!=null&&t.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:cn.BUTT,join:De.MITER,miterLimit:10};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const i=t.width>0&&t.alpha>0;return i?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:i},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new Bn,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new Bn,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const i=this.currentPath.points,n=i[i.length-2],s=i[i.length-1];return(n!==t||s!==e)&&i.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,i,n){this._initCurve();const s=this.currentPath.points;return s.length===0&&this.moveTo(0,0),yh.curveTo(t,e,i,n,s),this}bezierCurveTo(t,e,i,n,s,o){return this._initCurve(),mh.curveTo(t,e,i,n,s,o,this.currentPath.points),this}arcTo(t,e,i,n,s){this._initCurve(t,e);const o=this.currentPath.points,a=vf.curveTo(t,e,i,n,s,o);if(a){const{cx:h,cy:l,radius:u,startAngle:c,endAngle:d,anticlockwise:f}=a;this.arc(h,l,u,c,d,f)}return this}arc(t,e,i,n,s,o=!1){if(n===s)return this;if(!o&&s<=n?s+=to:o&&n<=s&&(n+=to),s-n===0)return this;const a=t+Math.cos(n)*i,h=e+Math.sin(n)*i,l=this._geometry.closePointEps;let u=this.currentPath?this.currentPath.points:null;if(u){const c=Math.abs(u[u.length-2]-a),d=Math.abs(u[u.length-1]-h);c<l&&d<l||u.push(a,h)}else this.moveTo(a,h),u=this.currentPath.points;return vf.arc(a,h,t,e,i,n,s,o,u),this}beginFill(t=0,e){return this.beginTextureFill({texture:et.WHITE,color:t,alpha:e})}normalizeColor(t){const e=St.shared.setValue(t.color??0);t.color=e.toNumber(),t.alpha??(t.alpha=e.alpha)}beginTextureFill(t){const e={texture:et.WHITE,color:16777215,matrix:null};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const i=t.alpha>0;return i?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:i},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,i,n){return this.drawShape(new xt(t,e,i,n))}drawRoundedRect(t,e,i,n,s){return this.drawShape(new Io(t,e,i,n,s))}drawCircle(t,e,i){return this.drawShape(new So(t,e,i))}drawEllipse(t,e,i,n){return this.drawShape(new Co(t,e,i,n))}drawPolygon(...t){let e,i=!0;const n=t[0];n.points?(i=n.closeStroke,e=n.points):Array.isArray(t[0])?e=t[0]:e=t;const s=new Bn(e);return s.closeStroke=i,this.drawShape(s),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===oe.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,i=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(t.points);for(let n=0;n<i;n++){const s=t.batches[n],o=s.style.color,a=new Float32Array(this.vertexData.buffer,s.attribStart*4*2,s.attribSize*2),h=new Float32Array(t.uvsFloat32.buffer,s.attribStart*4*2,s.attribSize*2),l=new Uint16Array(t.indicesUint16.buffer,s.start*2,s.size),u={vertexData:a,blendMode:e,indices:l,uvs:h,_batchRGB:St.shared.setValue(o).toRgbArray(),_tintRGB:o,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[n]=u}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,i=this.batches.length;e<i;e++){const n=this.batches[e];n.worldAlpha=this.worldAlpha*n.alpha,t.plugins[this.pluginName].render(n)}}}_renderDirect(t){const e=this._resolveDirectShader(t),i=this._geometry,n=this.worldAlpha,s=e.uniforms,o=i.drawCalls;s.translationMatrix=this.transform.worldTransform,St.shared.setValue(this._tintColor).premultiply(n).toArray(s.tint),t.shader.bind(e),t.geometry.bind(i,e),t.state.set(this.state);for(let a=0,h=o.length;a<h;a++)this._renderDrawCallDirect(t,i.drawCalls[a])}_renderDrawCallDirect(t,e){const{texArray:i,type:n,size:s,start:o}=e,a=i.count;for(let h=0;h<a;h++)t.texture.bind(i.elements[h],h);t.geometry.draw(n,s,o)}_resolveDirectShader(t){let e=this.shader;const i=this.pluginName;if(!e){if(!cu[i]){const{maxTextures:n}=t.plugins[i],s=new Int32Array(n);for(let h=0;h<n;h++)s[h]=h;const o={tint:new Float32Array([1,1,1,1]),translationMatrix:new Dt,default:ri.from({uSamplers:s},!0)},a=t.plugins[i]._shader.program;cu[i]=new vi(a,o)}e=cu[i]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:i,maxX:n,maxY:s}=t.bounds;this._bounds.addFrame(this.transform,e,i,n,s)}containsPoint(t){return this.worldTransform.applyInverse(t,va._TEMP_POINT),this._geometry.containsPoint(va._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e._tintRGB=St.shared.setValue(this._tintColor).multiply(e._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,i=e.a,n=e.b,s=e.c,o=e.d,a=e.tx,h=e.ty,l=this._geometry.points,u=this.vertexData;let c=0;for(let d=0;d<l.length;d+=2){const f=l[d],g=l[d+1];u[c++]=i*f+s*g+a,u[c++]=o*g+n*f+h}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};Af.curves=Wn,Af._TEMP_POINT=new bt;let Xt=Af;const rC={buildPoly:Ng,buildCircle:lo,buildRectangle:Qv,buildRoundedRectangle:t1,buildLine:wf,ArcUtils:vf,BezierUtils:mh,QuadraticUtils:yh,BatchPart:e1,FILL_COMMANDS:ba,BATCH_POOL:Tf,DRAW_CALL_POOL:Ds};class s1{constructor(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(t){if(!t&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const e=this.uvBuffer.data;(!this.data||this.data.length!==e.length)&&(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}}const du=new bt,Cy=new Bn,o1=class a1 extends ct{constructor(t,e,i,n=yi.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=i||Si.for2d(),this.drawMode=n,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=Q.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===yi.TRIANGLES&&e.length<a1.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;const n=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[n]),t.plugins[n].render(this)}calculateVertices(){const t=this.geometry.buffers[0],e=t.data,i=t._updateID;if(i===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));const n=this.transform.worldTransform,s=n.a,o=n.b,a=n.c,h=n.d,l=n.tx,u=n.ty,c=this.vertexData;for(let d=0;d<c.length/2;d++){const f=e[d*2],g=e[d*2+1];c[d*2]=s*f+a*g+l,c[d*2+1]=o*f+h*g+u}if(this._roundPixels){const d=Q.RESOLUTION;for(let f=0;f<c.length;++f)c[f]=Math.round(c[f]*d)/d}this.vertexDirty=i}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new s1(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,du);const e=this.geometry.getBuffer("aVertexPosition").data,i=Cy.points,n=this.geometry.getIndex().data,s=n.length,o=this.drawMode===4?3:1;for(let a=0;a+2<s;a+=o){const h=n[a]*2,l=n[a+1]*2,u=n[a+2]*2;if(i[0]=e[h],i[1]=e[h+1],i[2]=e[l],i[3]=e[l+1],i[4]=e[u],i[5]=e[u+1],Cy.contains(du.x,du.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};o1.BATCHABLE_SIZE=100;let ns=o1;class ko extends pn{constructor(t,e,i){super();const n=new Gt(t),s=new Gt(e,!0),o=new Gt(i,!0,!0);this.addAttribute("aVertexPosition",n,2,!1,lt.FLOAT).addAttribute("aTextureCoord",s,2,!1,lt.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var sC=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,oC=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class rs extends vi{constructor(t,e){const i={uSampler:t,alpha:1,uTextureMatrix:Dt.IDENTITY,uColor:new Float32Array([1,1,1,1])};e=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},e),e.uniforms&&Object.assign(i,e.uniforms),super(e.program||Fi.from(oC,sC),i),this._colorDirty=!1,this.uvMatrix=new gh(t),this.batchable=e.program===void 0,this.pluginName=e.pluginName,this._tintColor=new St(e.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=e.alpha}get texture(){return this.uniforms.uSampler}set texture(t){this.uniforms.uSampler!==t&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!t.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=t,this.uvMatrix.texture=t)}set alpha(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(t){t!==this.tint&&(this._tintColor.setValue(t),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const t=this.texture.baseTexture.alphaMode;St.shared.setValue(this._tintColor).premultiply(this._alpha,t).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class h1 extends ko{constructor(t=100,e=100,i=10,n=10){super(),this.segWidth=i,this.segHeight=n,this.width=t,this.height=e,this.build()}build(){const t=this.segWidth*this.segHeight,e=[],i=[],n=[],s=this.segWidth-1,o=this.segHeight-1,a=this.width/s,h=this.height/o;for(let u=0;u<t;u++){const c=u%this.segWidth,d=u/this.segWidth|0;e.push(c*a,d*h),i.push(c/s,d/o)}const l=s*o;for(let u=0;u<l;u++){const c=u%s,d=u/s|0,f=d*this.segWidth+c,g=d*this.segWidth+c+1,p=(d+1)*this.segWidth+c,m=(d+1)*this.segWidth+c+1;n.push(f,g,p,g,m,p)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(n),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class l1 extends ko{constructor(t=200,e,i=0){super(new Float32Array(e.length*4),new Float32Array(e.length*4),new Uint16Array((e.length-1)*6)),this.points=e,this._width=t,this.textureScale=i,this.build()}get width(){return this._width}build(){const t=this.points;if(!t)return;const e=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),n=this.getIndex();if(t.length<1)return;e.data.length/4!==t.length&&(e.data=new Float32Array(t.length*4),i.data=new Float32Array(t.length*4),n.data=new Uint16Array((t.length-1)*6));const s=i.data,o=n.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let a=0,h=t[0];const l=this._width*this.textureScale,u=t.length;for(let d=0;d<u;d++){const f=d*4;if(this.textureScale>0){const g=h.x-t[d].x,p=h.y-t[d].y,m=Math.sqrt(g*g+p*p);h=t[d],a+=m/l}else a=d/(u-1);s[f]=a,s[f+1]=0,s[f+2]=a,s[f+3]=1}let c=0;for(let d=0;d<u-1;d++){const f=d*2;o[c++]=f,o[c++]=f+1,o[c++]=f+2,o[c++]=f+2,o[c++]=f+1,o[c++]=f+3}i.update(),n.update(),this.updateVertices()}updateVertices(){const t=this.points;if(t.length<1)return;let e=t[0],i,n=0,s=0;const o=this.buffers[0].data,a=t.length,h=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let l=0;l<a;l++){const u=t[l],c=l*4;l<t.length-1?i=t[l+1]:i=u,s=-(i.x-e.x),n=i.y-e.y;const d=Math.sqrt(n*n+s*s);d<1e-6?(n=0,s=0):(n/=d,s/=d,n*=h,s*=h),o[c]=u.x+n,o[c+1]=u.y+s,o[c+2]=u.x-n,o[c+3]=u.y-s,e=u}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class u1 extends ns{constructor(t,e,i){const n=new h1(t.width,t.height,e,i),s=new rs(et.WHITE);super(n,s),this.texture=t,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const t=this.geometry,{width:e,height:i}=this.shader.texture;this.autoResize&&(t.width!==e||t.height!==i)&&(t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build())}set texture(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(t){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(t)}destroy(t){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(t)}}const aa=10;class aC extends u1{constructor(t,e,i,n,s){var o,a,h,l;super(et.WHITE,4,4),this._origWidth=t.orig.width,this._origHeight=t.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=e??((o=t.defaultBorders)==null?void 0:o.left)??aa,this._rightWidth=n??((a=t.defaultBorders)==null?void 0:a.right)??aa,this._topHeight=i??((h=t.defaultBorders)==null?void 0:h.top)??aa,this._bottomHeight=s??((l=t.defaultBorders)==null?void 0:l.bottom)??aa,this.texture=t}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(t){this.geometry.getBuffer("aVertexPosition").data=t}updateHorizontalVertices(){const t=this.vertices,e=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*e,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*e,t[25]=t[27]=t[29]=t[31]=this._height}updateVerticalVertices(){const t=this.vertices,e=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*e,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*e,t[6]=t[14]=t[22]=t[30]=this._width}_getMinScale(){const t=this._leftWidth+this._rightWidth,e=this._width>t?1:this._width/t,i=this._topHeight+this._bottomHeight,n=this._height>i?1:this._height/i;return Math.min(e,n)}get width(){return this._width}set width(t){this._width=t,this._refresh()}get height(){return this._height}set height(t){this._height=t,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(t){this._leftWidth=t,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(t){this._rightWidth=t,this._refresh()}get topHeight(){return this._topHeight}set topHeight(t){this._topHeight=t,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(t){this._bottomHeight=t,this._refresh()}_refresh(){const t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;const i=1/this._origWidth,n=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=i*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-i*this._rightWidth,e[9]=e[11]=e[13]=e[15]=n*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-n*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class hC extends ns{constructor(t=et.EMPTY,e,i,n,s){const o=new ko(e,i,n);o.getBuffer("aVertexPosition").static=!1;const a=new rs(t);super(o,a,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(t){this.geometry.getBuffer("aVertexPosition").data=t}_render(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(t)}}class lC extends ns{constructor(t,e,i=0){const n=new l1(t.height,e,i),s=new rs(t);i>0&&(t.baseTexture.wrapMode=Bi.REPEAT),super(n,s),this.autoUpdate=!0}_render(t){const e=this.geometry;(this.autoUpdate||e._width!==this.shader.texture.height)&&(e._width=this.shader.texture.height,e.update()),super._render(t)}}class uC extends ct{constructor(t=1500,e,i=16384,n=!1){super();const s=16384;i>s&&(i=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=t,this._batchSize=i,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=dt.NORMAL,this.autoResize=n,this.roundPixels=!0,this.baseTexture=null,this.setProperties(e),this._tintColor=new St(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t),this._tintColor.toRgbArray(this.tintRgb)}render(t){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))}onChildrenChange(t){const e=Math.floor(t/this._batchSize);for(;this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID}dispose(){if(this._buffers){for(let t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}}destroy(t){super.destroy(t),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class Iy{constructor(t,e,i){this.geometry=new pn,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(let n=0;n<t.length;++n){let s=t[n];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||lt.FLOAT,offset:s.offset},e[n]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const t=this.geometry;let e=0;this.indexBuffer=new Gt(Eb(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=e,e+=a.size,this.dynamicStride+=a.size}const i=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(i),this.dynamicDataUint32=new Uint32Array(i),this.dynamicBuffer=new Gt(this.dynamicData,!1,!1);let n=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=n,n+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new Gt(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];t.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===lt.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];t.addAttribute(a.attributeName,this.staticBuffer,0,a.type===lt.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(t,e,i){for(let n=0;n<this.dynamicProperties.length;n++){const s=this.dynamicProperties[n];s.uploadFunction(t,e,i,s.type===lt.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(t,e,i){for(let n=0;n<this.staticProperties.length;n++){const s=this.staticProperties[n];s.uploadFunction(t,e,i,s.type===lt.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var cC=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,dC=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class qg extends Po{constructor(t){super(t),this.shader=null,this.properties=null,this.tempMatrix=new Dt,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:lt.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=vi.from(dC,cC,{}),this.state=Si.for2d()}render(t){const e=t.children,i=t._maxSize,n=t._batchSize,s=this.renderer;let o=e.length;if(o===0)return;o>i&&!t.autoResize&&(o=i);let a=t._buffers;a||(a=t._buffers=this.generateBuffers(t));const h=e[0]._texture.baseTexture,l=h.alphaMode>0;this.state.blendMode=hg(t.blendMode,l),s.state.set(this.state);const u=s.gl,c=t.worldTransform.copyTo(this.tempMatrix);c.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=c.toArray(!0),this.shader.uniforms.uColor=St.shared.setValue(t.tintRgb).premultiply(t.worldAlpha,l).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=h,this.renderer.shader.bind(this.shader);let d=!1;for(let f=0,g=0;f<o;f+=n,g+=1){let p=o-f;p>n&&(p=n),g>=a.length&&a.push(this._generateOneMoreBuffer(t));const m=a[g];m.uploadDynamic(e,f,p);const y=t._bufferUpdateIDs[g]||0;d=d||m._updateID<y,d&&(m._updateID=t._updateID,m.uploadStatic(e,f,p)),s.geometry.bind(m.geometry),u.drawElements(u.TRIANGLES,p*6,u.UNSIGNED_SHORT,0)}}generateBuffers(t){const e=[],i=t._maxSize,n=t._batchSize,s=t._properties;for(let o=0;o<i;o+=n)e.push(new Iy(this.properties,s,n));return e}_generateOneMoreBuffer(t){const e=t._batchSize,i=t._properties;return new Iy(this.properties,i,e)}uploadVertices(t,e,i,n,s,o){let a=0,h=0,l=0,u=0;for(let c=0;c<i;++c){const d=t[e+c],f=d._texture,g=d.scale.x,p=d.scale.y,m=f.trim,y=f.orig;m?(h=m.x-d.anchor.x*y.width,a=h+m.width,u=m.y-d.anchor.y*y.height,l=u+m.height):(a=y.width*(1-d.anchor.x),h=y.width*-d.anchor.x,l=y.height*(1-d.anchor.y),u=y.height*-d.anchor.y),n[o]=h*g,n[o+1]=u*p,n[o+s]=a*g,n[o+s+1]=u*p,n[o+s*2]=a*g,n[o+s*2+1]=l*p,n[o+s*3]=h*g,n[o+s*3+1]=l*p,o+=s*4}}uploadPosition(t,e,i,n,s,o){for(let a=0;a<i;a++){const h=t[e+a].position;n[o]=h.x,n[o+1]=h.y,n[o+s]=h.x,n[o+s+1]=h.y,n[o+s*2]=h.x,n[o+s*2+1]=h.y,n[o+s*3]=h.x,n[o+s*3+1]=h.y,o+=s*4}}uploadRotation(t,e,i,n,s,o){for(let a=0;a<i;a++){const h=t[e+a].rotation;n[o]=h,n[o+s]=h,n[o+s*2]=h,n[o+s*3]=h,o+=s*4}}uploadUvs(t,e,i,n,s,o){for(let a=0;a<i;++a){const h=t[e+a]._texture._uvs;h?(n[o]=h.x0,n[o+1]=h.y0,n[o+s]=h.x1,n[o+s+1]=h.y1,n[o+s*2]=h.x2,n[o+s*2+1]=h.y2,n[o+s*3]=h.x3,n[o+s*3+1]=h.y3,o+=s*4):(n[o]=0,n[o+1]=0,n[o+s]=0,n[o+s+1]=0,n[o+s*2]=0,n[o+s*2+1]=0,n[o+s*3]=0,n[o+s*3+1]=0,o+=s*4)}}uploadTint(t,e,i,n,s,o){for(let a=0;a<i;++a){const h=t[e+a],l=St.shared.setValue(h._tintRGB).toPremultiplied(h.alpha,h.texture.baseTexture.alphaMode>0);n[o]=l,n[o+s]=l,n[o+s*2]=l,n[o+s*3]=l,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}qg.extension={name:"particle",type:J.RendererPlugin};at.add(qg);var Tr=(r=>(r[r.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",r[r.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",r))(Tr||{});const ha={willReadFrequently:!0},Mi=class ht{static get experimentalLetterSpacingSupported(){let t=ht._experimentalLetterSpacingSupported;if(t!==void 0){const e=Q.ADAPTER.getCanvasRenderingContext2D().prototype;t=ht._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,i,n,s,o,a,h,l){this.text=t,this.style=e,this.width=i,this.height=n,this.lines=s,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=h,this.fontProperties=l}static measureText(t,e,i,n=ht._canvas){i=i??e.wordWrap;const s=e.toFontString(),o=ht.measureFont(s);o.fontSize===0&&(o.fontSize=e.fontSize,o.ascent=e.fontSize);const a=n.getContext("2d",ha);a.font=s;const h=(i?ht.wordWrap(t,e,n):t).split(/(?:\r\n|\r|\n)/),l=new Array(h.length);let u=0;for(let g=0;g<h.length;g++){const p=ht._measureText(h[g],e.letterSpacing,a);l[g]=p,u=Math.max(u,p)}let c=u+e.strokeThickness;e.dropShadow&&(c+=e.dropShadowDistance);const d=e.lineHeight||o.fontSize+e.strokeThickness;let f=Math.max(d,o.fontSize+e.strokeThickness*2)+e.leading+(h.length-1)*(d+e.leading);return e.dropShadow&&(f+=e.dropShadowDistance),new ht(t,e,c,f,h,l,d+e.leading,u,o)}static _measureText(t,e,i){let n=!1;ht.experimentalLetterSpacingSupported&&(ht.experimentalLetterSpacing?(i.letterSpacing=`${e}px`,i.textLetterSpacing=`${e}px`,n=!0):(i.letterSpacing="0px",i.textLetterSpacing="0px"));let s=i.measureText(t).width;return s>0&&(n?s-=e:s+=(ht.graphemeSegmenter(t).length-1)*e),s}static wordWrap(t,e,i=ht._canvas){const n=i.getContext("2d",ha);let s=0,o="",a="";const h=Object.create(null),{letterSpacing:l,whiteSpace:u}=e,c=ht.collapseSpaces(u),d=ht.collapseNewlines(u);let f=!c;const g=e.wordWrapWidth+l,p=ht.tokenize(t);for(let m=0;m<p.length;m++){let y=p[m];if(ht.isNewline(y)){if(!d){a+=ht.addLine(o),f=!c,o="",s=0;continue}y=" "}if(c){const _=ht.isBreakingSpace(y),v=ht.isBreakingSpace(o[o.length-1]);if(_&&v)continue}const x=ht.getFromCache(y,l,h,n);if(x>g)if(o!==""&&(a+=ht.addLine(o),o="",s=0),ht.canBreakWords(y,e.breakWords)){const _=ht.wordWrapSplit(y);for(let v=0;v<_.length;v++){let b=_[v],E=b,w=1;for(;_[v+w];){const z=_[v+w];if(!ht.canBreakChars(E,z,y,v,e.breakWords))b+=z;else break;E=z,w++}v+=w-1;const C=ht.getFromCache(b,l,h,n);C+s>g&&(a+=ht.addLine(o),f=!1,o="",s=0),o+=b,s+=C}}else{o.length>0&&(a+=ht.addLine(o),o="",s=0);const _=m===p.length-1;a+=ht.addLine(y,!_),f=!1,o="",s=0}else x+s>g&&(f=!1,a+=ht.addLine(o),o="",s=0),(o.length>0||!ht.isBreakingSpace(y)||f)&&(o+=y,s+=x)}return a+=ht.addLine(o,!1),a}static addLine(t,e=!0){return t=ht.trimRight(t),t=e?`${t}
`:t,t}static getFromCache(t,e,i,n){let s=i[t];return typeof s!="number"&&(s=ht._measureText(t,e,n)+e,i[t]=s),s}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const i=t[e];if(!ht.isBreakingSpace(i))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:ht._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:ht._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let i="";if(typeof t!="string")return e;for(let n=0;n<t.length;n++){const s=t[n],o=t[n+1];if(ht.isBreakingSpace(s,o)||ht.isNewline(s)){i!==""&&(e.push(i),i=""),e.push(s);continue}i+=s}return i!==""&&e.push(i),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,i,n,s){return!0}static wordWrapSplit(t){return ht.graphemeSegmenter(t)}static measureFont(t){if(ht._fonts[t])return ht._fonts[t];const e={ascent:0,descent:0,fontSize:0},i=ht._canvas,n=ht._context;n.font=t;const s=ht.METRICS_STRING+ht.BASELINE_SYMBOL,o=Math.ceil(n.measureText(s).width);let a=Math.ceil(n.measureText(ht.BASELINE_SYMBOL).width);const h=Math.ceil(ht.HEIGHT_MULTIPLIER*a);if(a=a*ht.BASELINE_MULTIPLIER|0,o===0||h===0)return ht._fonts[t]=e,e;i.width=o,i.height=h,n.fillStyle="#f00",n.fillRect(0,0,o,h),n.font=t,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(s,0,a);const l=n.getImageData(0,0,o,h).data,u=l.length,c=o*4;let d=0,f=0,g=!1;for(d=0;d<a;++d){for(let p=0;p<c;p+=4)if(l[f+p]!==255){g=!0;break}if(!g)f+=c;else break}for(e.ascent=a-d,f=u-c,g=!1,d=h;d>a;--d){for(let p=0;p<c;p+=4)if(l[f+p]!==255){g=!0;break}if(!g)f-=c;else break}return e.descent=d-a,e.fontSize=e.ascent+e.descent,ht._fonts[t]=e,e}static clearMetrics(t=""){t?delete ht._fonts[t]:ht._fonts={}}static get _canvas(){var t;if(!ht.__canvas){let e;try{const i=new OffscreenCanvas(0,0);if((t=i.getContext("2d",ha))!=null&&t.measureText)return ht.__canvas=i,i;e=Q.ADAPTER.createCanvas()}catch{e=Q.ADAPTER.createCanvas()}e.width=e.height=10,ht.__canvas=e}return ht.__canvas}static get _context(){return ht.__context||(ht.__context=ht._canvas.getContext("2d",ha)),ht.__context}};Mi.METRICS_STRING="|q",Mi.BASELINE_SYMBOL="M",Mi.BASELINE_MULTIPLIER=1.4,Mi.HEIGHT_MULTIPLIER=2,Mi.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const r=new Intl.Segmenter;return t=>[...r.segment(t)].map(e=>e.segment)}return r=>[...r]})(),Mi.experimentalLetterSpacing=!1,Mi._fonts={},Mi._newlines=[10,13],Mi._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let rn=Mi;const fC=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],c1=class Fs{constructor(t){this.styleID=0,this.reset(),gu(this,t,t)}clone(){const t={};return gu(t,this,Fs.defaultStyle),new Fs(t)}reset(){gu(this,Fs.defaultStyle,Fs.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=fu(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=fu(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){gC(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=fu(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let i=e.length-1;i>=0;i--){let n=e[i].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&!fC.includes(n)&&(n=`"${n}"`),e[i]=n}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};c1.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Tr.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let Wi=c1;function fu(r){const t=St.shared,e=i=>{const n=t.setValue(i);return n.alpha===1?n.toHex():n.toRgbaString()};return Array.isArray(r)?r.map(e):e(r)}function gC(r,t){if(!Array.isArray(r)||!Array.isArray(t)||r.length!==t.length)return!1;for(let e=0;e<r.length;++e)if(r[e]!==t[e])return!1;return!0}function gu(r,t,e){for(const i in e)Array.isArray(t[i])?r[i]=t[i].slice():r[i]=t[i]}const pC={texture:!0,children:!1,baseTexture:!0},d1=class Ef extends qe{constructor(t,e,i){let n=!1;i||(i=Q.ADAPTER.createCanvas(),n=!0),i.width=3,i.height=3;const s=et.from(i);s.orig=new xt,s.trim=new xt,super(s),this._ownCanvas=n,this.canvas=i,this.context=i.getContext("2d",{willReadFrequently:!0}),this._resolution=Ef.defaultResolution??Q.RESOLUTION,this._autoResolution=Ef.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return rn.experimentalLetterSpacing}static set experimentalLetterSpacing(t){mt("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),rn.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const i=this.context,n=rn.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=n.width,o=n.height,a=n.lines,h=n.lineHeight,l=n.lineWidths,u=n.maxLineWidth,c=n.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+e.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=e.strokeThickness,i.textBaseline=e.textBaseline,i.lineJoin=e.lineJoin,i.miterLimit=e.miterLimit;let d,f;const g=e.dropShadow?2:1;for(let p=0;p<g;++p){const m=e.dropShadow&&p===0,y=m?Math.ceil(Math.max(1,o)+e.padding*2):0,x=y*this._resolution;if(m){i.fillStyle="black",i.strokeStyle="black";const v=e.dropShadowColor,b=e.dropShadowBlur*this._resolution,E=e.dropShadowDistance*this._resolution;i.shadowColor=St.shared.setValue(v).setAlpha(e.dropShadowAlpha).toRgbaString(),i.shadowBlur=b,i.shadowOffsetX=Math.cos(e.dropShadowAngle)*E,i.shadowOffsetY=Math.sin(e.dropShadowAngle)*E+x}else i.fillStyle=this._generateFillStyle(e,a,n),i.strokeStyle=e.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;let _=(h-c.fontSize)/2;h-c.fontSize<0&&(_=0);for(let v=0;v<a.length;v++)d=e.strokeThickness/2,f=e.strokeThickness/2+v*h+c.ascent+_,e.align==="right"?d+=u-l[v]:e.align==="center"&&(d+=(u-l[v])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(a[v],d+e.padding,f+e.padding-y,!0),e.fill&&this.drawLetterSpacing(a[v],d+e.padding,f+e.padding-y)}this.updateTexture()}drawLetterSpacing(t,e,i,n=!1){const s=this._style.letterSpacing;let o=!1;if(rn.experimentalLetterSpacingSupported&&(rn.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){n?this.context.strokeText(t,e,i):this.context.fillText(t,e,i);return}let a=e;const h=rn.graphemeSegmenter(t);let l=this.context.measureText(t).width,u=0;for(let c=0;c<h.length;++c){const d=h[c];n?this.context.strokeText(d,a,i):this.context.fillText(d,a,i);let f="";for(let g=c+1;g<h.length;++g)f+=h[g];u=this.context.measureText(f).width,a+=l-u+s,l=u}}updateTexture(){const t=this.canvas;if(this._style.trim){const o=Ib(t);o.data&&(t.width=o.width,t.height=o.height,this.context.putImageData(o.data,0,0))}const e=this._texture,i=this._style,n=i.trim?0:i.padding,s=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-n,e.trim.y=-n,e.orig.width=e._frame.width-n*2,e.orig.height=e._frame.height-n*2,this._onTextureUpdate(),s.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,i){const n=t.fill;if(Array.isArray(n)){if(n.length===1)return n[0]}else return n;let s;const o=t.dropShadow?t.dropShadowDistance:0,a=t.padding||0,h=this.canvas.width/this._resolution-o-a*2,l=this.canvas.height/this._resolution-o-a*2,u=n.slice(),c=t.fillGradientStops.slice();if(!c.length){const d=u.length+1;for(let f=1;f<d;++f)c.push(f/d)}if(u.unshift(n[0]),c.unshift(0),u.push(n[n.length-1]),c.push(1),t.fillGradientType===Tr.LINEAR_VERTICAL){s=this.context.createLinearGradient(h/2,a,h/2,l+a);const d=i.fontProperties.fontSize+t.strokeThickness;for(let f=0;f<e.length;f++){const g=i.lineHeight*(f-1)+d,p=i.lineHeight*f;let m=p;f>0&&g>p&&(m=(p+g)/2);const y=p+d,x=i.lineHeight*(f+1);let _=y;f+1<e.length&&x<y&&(_=(y+x)/2);const v=(_-m)/l;for(let b=0;b<u.length;b++){let E=0;typeof c[b]=="number"?E=c[b]:E=b/u.length;let w=Math.min(1,Math.max(0,m/l+E*v));w=Number(w.toFixed(5)),s.addColorStop(w,u[b])}}}else{s=this.context.createLinearGradient(a,l/2,h+a,l/2);const d=u.length+1;let f=1;for(let g=0;g<u.length;g++){let p;typeof c[g]=="number"?p=c[g]:p=f/d,s.addColorStop(p,u[g]),f++}}return s}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},pC,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=un(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=un(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof Wi?this._style=t:this._style=new Wi(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};d1.defaultAutoResolution=!0;let xh=d1;class f1{constructor(t){this.maxItemsPerFrame=t,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function mC(r,t){var i;let e=!1;if((i=r==null?void 0:r._textures)!=null&&i.length){for(let n=0;n<r._textures.length;n++)if(r._textures[n]instanceof et){const s=r._textures[n].baseTexture;t.includes(s)||(t.push(s),e=!0)}}return e}function yC(r,t){if(r.baseTexture instanceof _t){const e=r.baseTexture;return t.includes(e)||t.push(e),!0}return!1}function _C(r,t){if(r._texture&&r._texture instanceof et){const e=r._texture.baseTexture;return t.includes(e)||t.push(e),!0}return!1}function xC(r,t){return t instanceof xh?(t.updateText(!0),!0):!1}function bC(r,t){if(t instanceof Wi){const e=t.toFontString();return rn.measureFont(e),!0}return!1}function vC(r,t){if(r instanceof xh){t.includes(r.style)||t.push(r.style),t.includes(r)||t.push(r);const e=r._texture.baseTexture;return t.includes(e)||t.push(e),!0}return!1}function wC(r,t){return r instanceof Wi?(t.includes(r)||t.push(r),!0):!1}const g1=class p1{constructor(t){this.limiter=new f1(p1.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(vC),this.registerFindHook(wC),this.registerFindHook(mC),this.registerFindHook(yC),this.registerFindHook(_C),this.registerUploadHook(xC),this.registerUploadHook(bC)}upload(t){return new Promise(e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,wt.system.addOnce(this.tick,this,Hi.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed){for(let i=0,n=this.uploadHooks.length;i<n;i++)if(this.uploadHooks[i](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)wt.system.addOnce(this.tick,this,Hi.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,i=t.length;e<i;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,i=this.addHooks.length;e<i&&!this.addHooks[e](t,this.queue);e++);if(t instanceof ct)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&wt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};g1.uploadsPerFrame=4;let Ha=g1;Object.defineProperties(Q,{UPLOADS_PER_FRAME:{get(){return Ha.uploadsPerFrame},set(r){mt("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),Ha.uploadsPerFrame=r}}});function m1(r,t){return t instanceof _t?(t._glTextures[r.CONTEXT_UID]||r.texture.bind(t),!0):!1}function TC(r,t){if(!(t instanceof Xt))return!1;const{geometry:e}=t;t.finishPoly(),e.updateBatches();const{batches:i}=e;for(let n=0;n<i.length;n++){const{texture:s}=i[n].style;s&&m1(r,s.baseTexture)}return e.batchable||r.geometry.bind(e,t._resolveDirectShader(r)),!0}function AC(r,t){return r instanceof Xt?(t.push(r),!0):!1}class Ug extends Ha{constructor(t){super(t),this.uploadHookHelper=this.renderer,this.registerFindHook(AC),this.registerUploadHook(m1),this.registerUploadHook(TC)}}Ug.extension={name:"prepare",type:J.RendererSystem};at.add(Ug);class EC{constructor(t){this.maxMilliseconds=t,this.frameStart=0}beginFrame(){this.frameStart=Date.now()}allowedToUpload(){return Date.now()-this.frameStart<this.maxMilliseconds}}class Wa extends qe{constructor(t,e=!0){super(t[0]instanceof et?t[0]:t[0].texture),this._textures=null,this._durations=null,this._autoUpdate=e,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=t}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(wt.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(wt.shared.add(this.update,this,Hi.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(t){this.stop(),this.currentFrame=t}gotoAndPlay(t){this.currentFrame=t,this.play()}update(t){if(!this._playing)return;const e=this.animationSpeed*t,i=this.currentFrame;if(this._durations!==null){let n=this._currentTime%1*this._durations[this.currentFrame];for(n+=e/60*1e3;n<0;)this._currentTime--,n+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i||this.animationSpeed<0&&this.currentFrame>i)&&this.onLoop(),this.updateTexture())}updateTexture(){const t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(t){this.stop(),super.destroy(t),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(t){const e=[];for(let i=0;i<t.length;++i)e.push(et.from(t[i]));return new Wa(e)}static fromImages(t){const e=[];for(let i=0;i<t.length;++i)e.push(et.from(t[i]));return new Wa(e)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(t){if(t[0]instanceof et)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(let e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}set currentFrame(t){if(t<0||t>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${t}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(wt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(wt.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const Ss=new bt;class fn extends qe{constructor(t,e=100,i=100){super(t),this.tileTransform=new zo,this._width=e,this._height=i,this.uvMatrix=this.texture.uvMatrix||new gh(t),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(t){this.tileTransform.scale.copyFrom(t)}get tilePosition(){return this.tileTransform.position}set tilePosition(t){this.tileTransform.position.copyFrom(t)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(t){const e=this._texture;!e||!e.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))}_calculateBounds(){const t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),n=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,i,n)}getLocalBounds(t){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new xt),t=this._localBoundsRect),this._bounds.getRectangle(t)):super.getLocalBounds.call(this,t)}containsPoint(t){this.worldTransform.applyInverse(t,Ss);const e=this._width,i=this._height,n=-e*this.anchor._x;if(Ss.x>=n&&Ss.x<n+e){const s=-i*this.anchor._y;if(Ss.y>=s&&Ss.y<s+i)return!0}return!1}destroy(t){super.destroy(t),this.tileTransform=null,this.uvMatrix=null}static from(t,e){const i=t instanceof et?t:et.from(t,e);return new fn(i,e.width,e.height)}get width(){return this._width}set width(t){this._width=t}get height(){return this._height}set height(t){this._height=t}}var SC=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,CC=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,IC=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,zy=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,zC=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const la=new Dt;class Gg extends Po{constructor(t){super(t),t.runners.contextChange.add(this),this.quad=new pg,this.state=Si.for2d()}contextChange(){const t=this.renderer,e={globals:t.globalUniforms};this.simpleShader=vi.from(zy,zC,e),this.shader=t.context.webGLVersion>1?vi.from(CC,SC,e):vi.from(zy,IC,e)}render(t){const e=this.renderer,i=this.quad;let n=i.vertices;n[0]=n[6]=t._width*-t.anchor.x,n[1]=n[3]=t._height*-t.anchor.y,n[2]=n[4]=t._width*(1-t.anchor.x),n[5]=n[7]=t._height*(1-t.anchor.y);const s=t.uvRespectAnchor?t.anchor.x:0,o=t.uvRespectAnchor?t.anchor.y:0;n=i.uvs,n[0]=n[6]=-s,n[1]=n[3]=-o,n[2]=n[4]=1-s,n[5]=n[7]=1-o,i.invalidate();const a=t._texture,h=a.baseTexture,l=h.alphaMode>0,u=t.tileTransform.localTransform,c=t.uvMatrix;let d=h.isPowerOfTwo&&a.frame.width===h.width&&a.frame.height===h.height;d&&(h._glTextures[e.CONTEXT_UID]?d=h.wrapMode!==Bi.CLAMP:h.wrapMode===Bi.CLAMP&&(h.wrapMode=Bi.REPEAT));const f=d?this.simpleShader:this.shader,g=a.width,p=a.height,m=t._width,y=t._height;la.set(u.a*g/m,u.b*g/y,u.c*p/m,u.d*p/y,u.tx/m,u.ty/y),la.invert(),d?la.prepend(c.mapCoord):(f.uniforms.uMapCoord=c.mapCoord.toArray(!0),f.uniforms.uClampFrame=c.uClampFrame,f.uniforms.uClampOffset=c.uClampOffset),f.uniforms.uTransform=la.toArray(!0),f.uniforms.uColor=St.shared.setValue(t.tint).premultiply(t.worldAlpha,l).toArray(f.uniforms.uColor),f.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),f.uniforms.uSampler=a,e.shader.bind(f),e.geometry.bind(i),this.state.blendMode=hg(t.blendMode,l),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}Gg.extension={name:"tilingSprite",type:J.RendererPlugin};at.add(Gg);const y1=class Os{constructor(t,e,i){this.linkedSheets=[],(t instanceof _t||t instanceof et)&&(t={texture:t,data:e,resolutionFilename:i});const{texture:n,data:s,resolutionFilename:o=null,cachePrefix:a=""}=t;this.cachePrefix=a,this._texture=n instanceof et?n:null,this.baseTexture=n instanceof _t?n:this._texture.baseTexture,this.textures={},this.animations={},this.data=s;const h=this.baseTexture.resource;this.resolution=this._updateResolution(o||(h?h.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let i=Ui(t,null);return i===null&&(i=typeof e=="number"?e:parseFloat(e??"1")),i!==1&&this.baseTexture.setResolution(i),i}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=Os.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const i=Os.BATCH_SIZE;for(;e-t<i&&e<this._frameKeys.length;){const n=this._frameKeys[e],s=this._frames[n],o=s.frame;if(o){let a=null,h=null;const l=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,u=new xt(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);s.rotated?a=new xt(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):a=new xt(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(h=new xt(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[n]=new et(this.baseTexture,a,u,h,s.rotated?2:0,s.anchor,s.borders),et.addToCache(this.textures[n],this.cachePrefix+n.toString())}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let i=0;i<t[e].length;i++){const n=t[e][i];this.animations[e].push(this.textures[n])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Os.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Os.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var e;for(const i in this.textures)this.textures[i].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((e=this._texture)==null||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};y1.BATCH_SIZE=1e3;let Sf=y1;const PC=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function _1(r,t,e){const i={};if(r.forEach(n=>{i[n]=t}),Object.keys(t.textures).forEach(n=>{i[`${t.cachePrefix}${n}`]=t.textures[n]}),!e){const n=ee.dirname(r[0]);t.linkedSheets.forEach((s,o)=>{Object.assign(i,_1([`${n}/${t.data.meta.related_multi_packs[o]}`],s,!0))})}return i}const x1={extension:J.Asset,cache:{test:r=>r instanceof Sf,getCacheableAssets:(r,t)=>_1(r,t,!1)},resolver:{test:r=>{const t=r.split("?")[0].split("."),e=t.pop(),i=t.pop();return e==="json"&&PC.includes(i)},parse:r=>{var e;const t=r.split(".");return{resolution:parseFloat(((e=Q.RETINA_PREFIX.exec(r))==null?void 0:e[1])??"1"),format:t[t.length-2],src:r}}},loader:{name:"spritesheetLoader",extension:{type:J.LoadParser,priority:si.Normal},async testParse(r,t){return ee.extname(t.src).toLowerCase()===".json"&&!!r.frames},async parse(r,t,e){var u,c;const{texture:i,imageFilename:n,cachePrefix:s}=(t==null?void 0:t.data)??{};let o=ee.dirname(t.src);o&&o.lastIndexOf("/")!==o.length-1&&(o+="/");let a;if(i&&i.baseTexture)a=i;else{const d=Ga(o+(n??r.meta.image),t.src);a=(await e.load([d]))[d]}const h=new Sf({texture:a.baseTexture,data:r,resolutionFilename:t.src,cachePrefix:s});await h.parse();const l=(u=r==null?void 0:r.meta)==null?void 0:u.related_multi_packs;if(Array.isArray(l)){const d=[];for(const g of l){if(typeof g!="string")continue;let p=o+g;(c=t.data)!=null&&c.ignoreMultiPack||(p=Ga(p,t.src),d.push(e.load({src:p,data:{ignoreMultiPack:!0}})))}const f=await Promise.all(d);h.linkedSheets=f,f.forEach(g=>{g.linkedSheets=[h].concat(h.linkedSheets.filter(p=>p!==g))})}return h},unload(r){r.destroy(!0)}}};at.add(x1);class co{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class $s{static test(t){return typeof t=="string"&&t.startsWith("info face=")}static parse(t){const e=t.match(/^[a-z]+\s+.+$/gm),i={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in e){const o=e[s].match(/^[a-z]+/gm)[0],a=e[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),h={};for(const l in a){const u=a[l].split("="),c=u[0],d=u[1].replace(/"/gm,""),f=parseFloat(d),g=isNaN(f)?d:f;h[c]=g}i[o].push(h)}const n=new co;return i.info.forEach(s=>n.info.push({face:s.face,size:parseInt(s.size,10)})),i.common.forEach(s=>n.common.push({lineHeight:parseInt(s.lineHeight,10)})),i.page.forEach(s=>n.page.push({id:parseInt(s.id,10),file:s.file})),i.char.forEach(s=>n.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),i.kerning.forEach(s=>n.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),i.distanceField.forEach(s=>n.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),n}}class $a{static test(t){const e=t;return typeof t!="string"&&"getElementsByTagName"in t&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(t){const e=new co,i=t.getElementsByTagName("info"),n=t.getElementsByTagName("common"),s=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),a=t.getElementsByTagName("kerning"),h=t.getElementsByTagName("distanceField");for(let l=0;l<i.length;l++)e.info.push({face:i[l].getAttribute("face"),size:parseInt(i[l].getAttribute("size"),10)});for(let l=0;l<n.length;l++)e.common.push({lineHeight:parseInt(n[l].getAttribute("lineHeight"),10)});for(let l=0;l<s.length;l++)e.page.push({id:parseInt(s[l].getAttribute("id"),10)||0,file:s[l].getAttribute("file")});for(let l=0;l<o.length;l++){const u=o[l];e.char.push({id:parseInt(u.getAttribute("id"),10),page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xoffset:parseInt(u.getAttribute("xoffset"),10),yoffset:parseInt(u.getAttribute("yoffset"),10),xadvance:parseInt(u.getAttribute("xadvance"),10)})}for(let l=0;l<a.length;l++)e.kerning.push({first:parseInt(a[l].getAttribute("first"),10),second:parseInt(a[l].getAttribute("second"),10),amount:parseInt(a[l].getAttribute("amount"),10)});for(let l=0;l<h.length;l++)e.distanceField.push({fieldType:h[l].getAttribute("fieldType"),distanceRange:parseInt(h[l].getAttribute("distanceRange"),10)});return e}}class Va{static test(t){return typeof t=="string"&&t.includes("<font>")?$a.test(Q.ADAPTER.parseXML(t)):!1}static parse(t){return $a.parse(Q.ADAPTER.parseXML(t))}}const pu=[$s,$a,Va];function b1(r){for(let t=0;t<pu.length;t++)if(pu[t].test(r))return pu[t];return null}function MC(r,t,e,i,n,s){const o=e.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const h=e.dropShadow?e.dropShadowDistance:0,l=e.padding||0,u=r.width/i-h-l*2,c=r.height/i-h-l*2,d=o.slice(),f=e.fillGradientStops.slice();if(!f.length){const g=d.length+1;for(let p=1;p<g;++p)f.push(p/g)}if(d.unshift(o[0]),f.unshift(0),d.push(o[o.length-1]),f.push(1),e.fillGradientType===Tr.LINEAR_VERTICAL){a=t.createLinearGradient(u/2,l,u/2,c+l);let g=0;const p=(s.fontProperties.fontSize+e.strokeThickness)/c;for(let m=0;m<n.length;m++){const y=s.lineHeight*m;for(let x=0;x<d.length;x++){let _=0;typeof f[x]=="number"?_=f[x]:_=x/d.length;const v=y/c+_*p;let b=Math.max(g,v);b=Math.min(b,1),a.addColorStop(b,d[x]),g=b}}}else{a=t.createLinearGradient(l,c/2,u+l,c/2);const g=d.length+1;let p=1;for(let m=0;m<d.length;m++){let y;typeof f[m]=="number"?y=f[m]:y=p/g,a.addColorStop(y,d[m]),p++}}return a}function RC(r,t,e,i,n,s,o){const a=e.text,h=e.fontProperties;t.translate(i,n),t.scale(s,s);const l=o.strokeThickness/2,u=-(o.strokeThickness/2);if(t.font=o.toFontString(),t.lineWidth=o.strokeThickness,t.textBaseline=o.textBaseline,t.lineJoin=o.lineJoin,t.miterLimit=o.miterLimit,t.fillStyle=MC(r,t,o,s,[a],e),t.strokeStyle=o.stroke,o.dropShadow){const c=o.dropShadowColor,d=o.dropShadowBlur*s,f=o.dropShadowDistance*s;t.shadowColor=St.shared.setValue(c).setAlpha(o.dropShadowAlpha).toRgbaString(),t.shadowBlur=d,t.shadowOffsetX=Math.cos(o.dropShadowAngle)*f,t.shadowOffsetY=Math.sin(o.dropShadowAngle)*f}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;o.stroke&&o.strokeThickness&&t.strokeText(a,l,u+e.lineHeight-h.descent),o.fill&&t.fillText(a,l,u+e.lineHeight-h.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function wa(r){return r.codePointAt?r.codePointAt(0):r.charCodeAt(0)}function v1(r){return Array.from?Array.from(r):r.split("")}function kC(r){typeof r=="string"&&(r=[r]);const t=[];for(let e=0,i=r.length;e<i;e++){const n=r[e];if(Array.isArray(n)){if(n.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${n.length}.`);const s=n[0].charCodeAt(0),o=n[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,h=o;a<=h;a++)t.push(String.fromCharCode(a))}else t.push(...v1(n))}if(t.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}const An=class Ri{constructor(t,e,i){var u;const[n]=t.info,[s]=t.common,[o]=t.page,[a]=t.distanceField,h=Ui(o.file),l={};this._ownsTextures=i,this.font=n.face,this.size=n.size,this.lineHeight=s.lineHeight/h,this.chars={},this.pageTextures=l;for(let c=0;c<t.page.length;c++){const{id:d,file:f}=t.page[c];l[d]=e instanceof Array?e[c]:e[f],a!=null&&a.fieldType&&a.fieldType!=="none"&&(l[d].baseTexture.alphaMode=xe.NO_PREMULTIPLIED_ALPHA,l[d].baseTexture.mipmap=Ai.OFF)}for(let c=0;c<t.char.length;c++){const{id:d,page:f}=t.char[c];let{x:g,y:p,width:m,height:y,xoffset:x,yoffset:_,xadvance:v}=t.char[c];g/=h,p/=h,m/=h,y/=h,x/=h,_/=h,v/=h;const b=new xt(g+l[f].frame.x/h,p+l[f].frame.y/h,m,y);this.chars[d]={xOffset:x,yOffset:_,xAdvance:v,kerning:{},texture:new et(l[f].baseTexture,b),page:f}}for(let c=0;c<t.kerning.length;c++){let{first:d,second:f,amount:g}=t.kerning[c];d/=h,f/=h,g/=h,this.chars[f]&&(this.chars[f].kerning[d]=g)}this.distanceFieldRange=a==null?void 0:a.distanceRange,this.distanceFieldType=((u=a==null?void 0:a.fieldType)==null?void 0:u.toLowerCase())??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,i){let n;if(t instanceof co)n=t;else{const o=b1(t);if(!o)throw new Error("Unrecognized data format for font.");n=o.parse(t)}e instanceof et&&(e=[e]);const s=new Ri(n,e,i);return Ri.available[s.font]=s,s}static uninstall(t){const e=Ri.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete Ri.available[t]}static from(t,e,i){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:n,padding:s,resolution:o,textureWidth:a,textureHeight:h,...l}=Object.assign({},Ri.defaultOptions,i),u=kC(n),c=e instanceof Wi?e:new Wi(e),d=a,f=new co;f.info[0]={face:c.fontFamily,size:c.fontSize},f.common[0]={lineHeight:c.fontSize};let g=0,p=0,m,y,x,_=0;const v=[];for(let E=0;E<u.length;E++){m||(m=Q.ADAPTER.createCanvas(),m.width=a,m.height=h,y=m.getContext("2d"),x=new _t(m,{resolution:o,...l}),v.push(new et(x)),f.page.push({id:v.length-1,file:""}));const w=u[E],C=rn.measureText(w,c,!1,m),z=C.width,F=Math.ceil(C.height),D=Math.ceil((c.fontStyle==="italic"?2:1)*z);if(p>=h-F*o){if(p===0)throw new Error(`[BitmapFont] textureHeight ${h}px is too small (fontFamily: '${c.fontFamily}', fontSize: ${c.fontSize}px, char: '${w}')`);--E,m=null,y=null,x=null,p=0,g=0,_=0;continue}if(_=Math.max(F+C.fontProperties.descent,_),D*o+g>=d){if(g===0)throw new Error(`[BitmapFont] textureWidth ${a}px is too small (fontFamily: '${c.fontFamily}', fontSize: ${c.fontSize}px, char: '${w}')`);--E,p+=_*o,p=Math.ceil(p),g=0,_=0;continue}RC(m,y,C,g,p,o,c);const M=wa(C.text);f.char.push({id:M,page:v.length-1,x:g/o,y:p/o,width:D,height:F,xoffset:0,yoffset:0,xadvance:z-(c.dropShadow?c.dropShadowDistance:0)-(c.stroke?c.strokeThickness:0)}),g+=(D+2*s)*o,g=Math.ceil(g)}if(!(i!=null&&i.skipKerning))for(let E=0,w=u.length;E<w;E++){const C=u[E];for(let z=0;z<w;z++){const F=u[z],D=y.measureText(C).width,M=y.measureText(F).width,k=y.measureText(C+F).width-(D+M);k&&f.kerning.push({first:wa(C),second:wa(F),amount:k})}}const b=new Ri(f,v,!0);return Ri.available[t]!==void 0&&Ri.uninstall(t),Ri.available[t]=b,b}};An.ALPHA=[["a","z"],["A","Z"]," "],An.NUMERIC=[["0","9"]],An.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],An.ASCII=[[" ","~"]],An.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:An.ALPHANUMERIC},An.available={};let en=An;var jC=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,DC=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const Py=[],My=[],Ry=[],w1=class T1 extends ct{constructor(t,e={}){super();const{align:i,tint:n,maxWidth:s,letterSpacing:o,fontName:a,fontSize:h}=Object.assign({},T1.styleDefaults,e);if(!en.available[a])throw new Error(`Missing BitmapFont "${a}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=i,this._tintColor=new St(n),this._font=void 0,this._fontName=a,this._fontSize=h,this.text=t,this._maxWidth=s,this._maxLineHeight=0,this._letterSpacing=o,this._anchor=new xi(()=>{this.dirty=!0},this,0,0),this._roundPixels=Q.ROUND_PIXELS,this.dirty=!0,this._resolution=Q.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var D;const t=en.available[this._fontName],e=this.fontSize,i=e/t.size,n=new bt,s=[],o=[],a=[],h=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",l=v1(h),u=this._maxWidth*t.size/e,c=t.distanceFieldType==="none"?Py:My;let d=null,f=0,g=0,p=0,m=-1,y=0,x=0,_=0,v=0;for(let M=0;M<l.length;M++){const k=l[M],j=wa(k);if(/(?:\s)/.test(k)&&(m=M,y=f,v++),k==="\r"||k===`
`){o.push(f),a.push(-1),g=Math.max(g,f),++p,++x,n.x=0,n.y+=t.lineHeight,d=null,v=0;continue}const O=t.chars[j];if(!O)continue;d&&O.kerning[d]&&(n.x+=O.kerning[d]);const T=Ry.pop()||{texture:et.EMPTY,line:0,charCode:0,prevSpaces:0,position:new bt};T.texture=O.texture,T.line=p,T.charCode=j,T.position.x=Math.round(n.x+O.xOffset+this._letterSpacing/2),T.position.y=Math.round(n.y+O.yOffset),T.prevSpaces=v,s.push(T),f=T.position.x+Math.max(O.xAdvance-O.xOffset,O.texture.orig.width),n.x+=O.xAdvance+this._letterSpacing,_=Math.max(_,O.yOffset+O.texture.height),d=j,m!==-1&&u>0&&n.x>u&&(++x,pr(s,1+m-x,1+M-m),M=m,m=-1,o.push(y),a.push(s.length>0?s[s.length-1].prevSpaces:0),g=Math.max(g,y),p++,n.x=0,n.y+=t.lineHeight,d=null,v=0)}const b=l[l.length-1];b!=="\r"&&b!==`
`&&(/(?:\s)/.test(b)&&(f=y),o.push(f),g=Math.max(g,f),a.push(-1));const E=[];for(let M=0;M<=p;M++){let k=0;this._align==="right"?k=g-o[M]:this._align==="center"?k=(g-o[M])/2:this._align==="justify"&&(k=a[M]<0?0:(g-o[M])/a[M]),E.push(k)}const w=s.length,C={},z=[],F=this._activePagesMeshData;c.push(...F);for(let M=0;M<w;M++){const k=s[M].texture,j=k.baseTexture.uid;if(!C[j]){let O=c.pop();if(!O){const S=new ko;let A,R;t.distanceFieldType==="none"?(A=new rs(et.EMPTY),R=dt.NORMAL):(A=new rs(et.EMPTY,{program:Fi.from(DC,jC),uniforms:{uFWidth:0}}),R=dt.NORMAL_NPM);const I=new ns(S,A);I.blendMode=R,O={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:I,vertices:null,uvs:null,indices:null}}O.index=0,O.indexCount=0,O.vertexCount=0,O.uvsCount=0,O.total=0;const{_textureCache:T}=this;T[j]=T[j]||new et(k.baseTexture),O.mesh.texture=T[j],O.mesh.tint=this._tintColor.value,z.push(O),C[j]=O}C[j].total++}for(let M=0;M<F.length;M++)z.includes(F[M])||this.removeChild(F[M].mesh);for(let M=0;M<z.length;M++)z[M].mesh.parent!==this&&this.addChild(z[M].mesh);this._activePagesMeshData=z;for(const M in C){const k=C[M],j=k.total;if(!(((D=k.indices)==null?void 0:D.length)>6*j)||k.vertices.length<ns.BATCHABLE_SIZE*2)k.vertices=new Float32Array(8*j),k.uvs=new Float32Array(8*j),k.indices=new Uint16Array(6*j);else{const O=k.total,T=k.vertices;for(let S=O*4*2;S<T.length;S++)T[S]=0}k.mesh.size=6*j}for(let M=0;M<w;M++){const k=s[M];let j=k.position.x+E[k.line]*(this._align==="justify"?k.prevSpaces:1);this._roundPixels&&(j=Math.round(j));const O=j*i,T=k.position.y*i,S=k.texture,A=C[S.baseTexture.uid],R=S.frame,I=S._uvs,P=A.index++;A.indices[P*6+0]=0+P*4,A.indices[P*6+1]=1+P*4,A.indices[P*6+2]=2+P*4,A.indices[P*6+3]=0+P*4,A.indices[P*6+4]=2+P*4,A.indices[P*6+5]=3+P*4,A.vertices[P*8+0]=O,A.vertices[P*8+1]=T,A.vertices[P*8+2]=O+R.width*i,A.vertices[P*8+3]=T,A.vertices[P*8+4]=O+R.width*i,A.vertices[P*8+5]=T+R.height*i,A.vertices[P*8+6]=O,A.vertices[P*8+7]=T+R.height*i,A.uvs[P*8+0]=I.x0,A.uvs[P*8+1]=I.y0,A.uvs[P*8+2]=I.x1,A.uvs[P*8+3]=I.y1,A.uvs[P*8+4]=I.x2,A.uvs[P*8+5]=I.y2,A.uvs[P*8+6]=I.x3,A.uvs[P*8+7]=I.y3}this._textWidth=g*i,this._textHeight=(n.y+t.lineHeight)*i;for(const M in C){const k=C[M];if(this.anchor.x!==0||this.anchor.y!==0){let S=0;const A=this._textWidth*this.anchor.x,R=this._textHeight*this.anchor.y;for(let I=0;I<k.total;I++)k.vertices[S++]-=A,k.vertices[S++]-=R,k.vertices[S++]-=A,k.vertices[S++]-=R,k.vertices[S++]-=A,k.vertices[S++]-=R,k.vertices[S++]-=A,k.vertices[S++]-=R}this._maxLineHeight=_*i;const j=k.mesh.geometry.getBuffer("aVertexPosition"),O=k.mesh.geometry.getBuffer("aTextureCoord"),T=k.mesh.geometry.getIndex();j.data=k.vertices,O.data=k.uvs,T.data=k.indices,j.update(),O.update(),T.update()}for(let M=0;M<s.length;M++)Ry.push(s[M]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:i,size:n}=en.available[this._fontName];if(i!=="none"){const{a:s,b:o,c:a,d:h}=this.worldTransform,l=Math.sqrt(s*s+o*o),u=Math.sqrt(a*a+h*h),c=(Math.abs(l)+Math.abs(u))/2,d=this.fontSize/n,f=t._view.resolution;for(const g of this._activePagesMeshData)g.mesh.shader.uniforms.uFWidth=c*e*d*f}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=en.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(t){if(this.tint!==t){this._tintColor.setValue(t);for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!en.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??en.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,i=en.available[this._fontName].distanceFieldType==="none"?Py:My;i.push(...this._activePagesMeshData);for(const n of this._activePagesMeshData)this.removeChild(n.mesh);this._activePagesMeshData=[],i.filter(n=>e[n.mesh.texture.baseTexture.uid]).forEach(n=>{n.mesh.texture=et.EMPTY});for(const n in e)e[n].destroy(),delete e[n];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(t)}};w1.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let FC=w1;const OC=[".xml",".fnt"],A1={extension:{type:J.LoadParser,priority:si.Normal},name:"loadBitmapFont",test(r){return OC.includes(ee.extname(r).toLowerCase())},async testParse(r){return $s.test(r)||Va.test(r)},async parse(r,t,e){const i=$s.test(r)?$s.parse(r):Va.parse(r),{src:n}=t,{page:s}=i,o=[];for(let l=0;l<s.length;++l){const u=s[l].file;let c=ee.join(ee.dirname(n),u);c=Ga(c,n),o.push(c)}const a=await e.load(o),h=o.map(l=>a[l]);return en.install(i,h,!0)},async load(r,t){return(await Q.ADAPTER.fetch(r)).text()},unload(r){r.destroy()}};at.add(A1);const Cf=class Hr extends Wi{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(t){return new Hr(Object.keys(Hr.defaultOptions).reduce((e,i)=>({...e,[i]:t[i]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(t=>{URL.revokeObjectURL(t.src),t.refs--,t.refs===0&&(t.fontFace&&document.fonts.delete(t.fontFace),delete Hr.availableFonts[t.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(t,e={}){const{availableFonts:i}=Hr;if(i[t]){const n=i[t];return this._fonts.push(n),n.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return Q.ADAPTER.fetch(t).then(n=>n.blob()).then(async n=>new Promise((s,o)=>{const a=URL.createObjectURL(n),h=new FileReader;h.onload=()=>s([a,h.result]),h.onerror=o,h.readAsDataURL(n)})).then(async([n,s])=>{const o=Object.assign({family:ee.basename(t,ee.extname(t)),weight:"normal",style:"normal",display:"auto",src:n,dataSrc:s,refs:1,originalUrl:t,fontFace:null},e);i[t]=o,this._fonts.push(o),this.styleID++;const a=new FontFace(o.family,`url(${o.src})`,{weight:o.weight,style:o.style,display:o.display});o.fontFace=a,await a.load(),document.fonts.add(a),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...t){const e=t.filter(i=>!this._overrides.includes(i));e.length>0&&(this._overrides.push(...e),this.styleID++)}removeOverride(...t){const e=t.filter(i=>this._overrides.includes(i));e.length>0&&(this._overrides=this._overrides.filter(i=>!e.includes(i)),this.styleID++)}toCSS(t){return[`transform: scale(${t})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((t,e)=>`${t}
            @font-face {
                font-family: "${e.family}";
                src: url('${e.dataSrc}');
                font-weight: ${e.weight};
                font-style: ${e.style};
                font-display: ${e.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(t){this._stylesheet!==t&&(this._stylesheet=t,this.styleID++)}normalizeColor(t){return Array.isArray(t)&&(t=og(t)),typeof t=="number"?Tb(t):t}dropShadowToCSS(){let t=this.normalizeColor(this.dropShadowColor);const e=this.dropShadowAlpha,i=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),n=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);t.startsWith("#")&&e<1&&(t+=(e*255|0).toString(16).padStart(2,"0"));const s=`${i}px ${n}px`;return this.dropShadowBlur>0?`text-shadow: ${s} ${this.dropShadowBlur}px ${t}`:`text-shadow: ${s} ${t}`}reset(){Object.assign(this,Hr.defaultOptions)}onBeforeDraw(){const{fontsDirty:t}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&t?new Promise(e=>setTimeout(e,100)):Promise.resolve()}get isSafari(){const{userAgent:t}=Q.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(t)}set fillGradientStops(t){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(t){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(t){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(t){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(t){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(t){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(t){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};Cf.availableFonts={},Cf.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let Ta=Cf;const Ls=class Wr extends qe{constructor(t="",e={}){super(et.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const i=new Image,n=et.from(i,{scaleMode:Q.SCALE_MODE,resourceOptions:{autoLoad:!1}});n.orig=new xt,n.trim=new xt,this.texture=n;const s="http://www.w3.org/2000/svg",o="http://www.w3.org/1999/xhtml",a=document.createElementNS(s,"svg"),h=document.createElementNS(s,"foreignObject"),l=document.createElementNS(o,"div"),u=document.createElementNS(o,"style");h.setAttribute("width","10000"),h.setAttribute("height","10000"),h.style.overflow="hidden",a.appendChild(h),this.maxWidth=Wr.defaultMaxWidth,this.maxHeight=Wr.defaultMaxHeight,this._domElement=l,this._styleElement=u,this._svgRoot=a,this._foreignObject=h,this._foreignObject.appendChild(u),this._foreignObject.appendChild(l),this._image=i,this._loadImage=new Image,this._autoResolution=Wr.defaultAutoResolution,this._resolution=Wr.defaultResolution??Q.RESOLUTION,this.text=t,this.style=e}measureText(t){var u,c;const{text:e,style:i,resolution:n}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},t);Object.assign(this._domElement,{innerHTML:e,style:i.toCSS(n)}),this._styleElement.textContent=i.toGlobalCSS(),document.body.appendChild(this._svgRoot);const s=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:o,height:a}=s;(o>this.maxWidth||a>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const h=Math.min(this.maxWidth,Math.ceil(o)),l=Math.min(this.maxHeight,Math.ceil(a));return this._svgRoot.setAttribute("width",h.toString()),this._svgRoot.setAttribute("height",l.toString()),e!==this._text&&(this._domElement.innerHTML=this._text),i!==this._style&&(Object.assign(this._domElement,{style:(u=this._style)==null?void 0:u.toCSS(n)}),this._styleElement.textContent=(c=this._style)==null?void 0:c.toGlobalCSS()),{width:h+i.padding*2,height:l+i.padding*2}}async updateText(t=!0){const{style:e,_image:i,_loadImage:n}=this;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;const{width:s,height:o}=this.measureText();i.width=n.width=Math.ceil(Math.max(1,s)),i.height=n.height=Math.ceil(Math.max(1,o)),this._updateID++;const a=this._updateID;await new Promise(h=>{n.onload=async()=>{if(a<this._updateID){h();return}await e.onBeforeDraw(),i.src=n.src,n.onload=null,n.src="",this.updateTexture(),h()};const l=new XMLSerializer().serializeToString(this._svgRoot);n.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(l)}`})}get source(){return this._image}updateTexture(){const{style:t,texture:e,_image:i,resolution:n}=this,{padding:s}=t,{baseTexture:o}=e;e.trim.width=e._frame.width=i.width/n,e.trim.height=e._frame.height=i.height/n,e.trim.x=-s,e.trim.y=-s,e.orig.width=e._frame.width-s*2,e.orig.height=e._frame.height-s*2,this._onTextureUpdate(),o.setRealSize(i.width,i.height,n),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}_renderCanvas(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(t)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds(t)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(t){var i,n,s,o,a;typeof t=="boolean"&&(t={children:t}),t=Object.assign({},Wr.defaultDestroyOptions,t),super.destroy(t);const e=null;this.ownsStyle&&((i=this._style)==null||i.cleanFonts()),this._style=e,(n=this._svgRoot)==null||n.remove(),this._svgRoot=e,(s=this._domElement)==null||s.remove(),this._domElement=e,(o=this._foreignObject)==null||o.remove(),this._foreignObject=e,(a=this._styleElement)==null||a.remove(),this._styleElement=e,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=e,this._image.src="",this._image=e}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(t){this.updateText(!0);const e=un(this.scale.x)||1;this.scale.x=e*t/this._image.width/this.resolution,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(t){this.updateText(!0);const e=un(this.scale.y)||1;this.scale.y=e*t/this._image.height/this.resolution,this._height=t}get style(){return this._style}set style(t){this._style!==t&&(t=t||{},t instanceof Ta?(this.ownsStyle=!1,this._style=t):t instanceof Wi?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=Ta.from(t)):(this.ownsStyle=!0,this._style=new Ta(t)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(t){t=String(t===""||t===null||t===void 0?" ":t),t=this.sanitiseText(t),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}sanitiseText(t){return t.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};Ls.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},Ls.defaultMaxWidth=2024,Ls.defaultMaxHeight=2024,Ls.defaultAutoResolution=!0;let LC=Ls;const BC=Object.freeze(Object.defineProperty({__proto__:null,ALPHA_MODES:xe,AbstractMultiResource:kg,AccessibilityManager:Fg,AlphaFilter:gv,AnimatedSprite:Wa,Application:Og,ArrayResource:av,Assets:be,AssetsClass:Rv,Attribute:Qs,BLEND_MODES:dt,BUFFER_BITS:ka,BUFFER_TYPE:bi,BackgroundSystem:eo,BaseImageResource:Gi,BasePrepare:Ha,BaseRenderTexture:dg,BaseTexture:_t,BatchDrawCall:Fa,BatchGeometry:ug,BatchRenderer:Sn,BatchShaderGenerator:Bb,BatchSystem:cg,BatchTextureArray:La,BitmapFont:en,BitmapFontData:co,BitmapText:FC,BlobResource:Gv,BlurFilter:Dg,BlurFilterPass:qa,Bounds:so,BrowserAdapter:ob,Buffer:Gt,BufferResource:Eo,BufferSystem:Mg,CLEAR_MODES:gi,COLOR_MASK_BITS:sb,Cache:Pn,CanvasResource:hv,Circle:So,Color:St,ColorMatrixFilter:Rn,CompressedTextureResource:Nn,Container:ct,ContextSystem:io,CountLimiter:f1,CubeResource:uv,DEG_TO_RAD:Oa,DRAW_MODES:yi,DisplacementFilter:pv,DisplayObject:Nt,ENV:Zn,Ellipse:Co,EventBoundary:_v,EventSystem:Ua,ExtensionType:J,Extract:Jv,FORMATS:X,FORMATS_TO_COMPONENTS:Wv,FXAAFilter:mv,FederatedDisplayObject:xv,FederatedEvent:ms,FederatedMouseEvent:oo,FederatedPointerEvent:Ve,FederatedWheelEvent:yr,FillStyle:Ro,Filter:te,FilterState:qb,FilterSystem:mg,Framebuffer:Ba,FramebufferSystem:yg,GC_MODES:lh,GLFramebuffer:Ub,GLProgram:Xb,GLTexture:ya,GRAPHICS_CURVES:eC,GenerateTextureSystem:Tg,Geometry:pn,GeometrySystem:_g,Graphics:Xt,GraphicsData:uo,GraphicsGeometry:r1,HTMLText:LC,HTMLTextStyle:Ta,IGLUniformData:pE,INSTALLED:Da,INTERNAL_FORMATS:re,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:ho,ImageBitmapResource:dr,ImageResource:fg,LINE_CAP:cn,LINE_JOIN:De,LineStyle:_h,LoaderParserPriority:si,MASK_TYPES:Yt,MIPMAP_MODES:Ai,MSAA_QUALITY:Vt,MaskData:Hb,MaskSystem:xg,Matrix:Dt,Mesh:ns,MeshBatchUvs:s1,MeshGeometry:ko,MeshMaterial:rs,MultisampleSystem:Pg,NineSlicePlane:aC,NoiseFilter:yv,ObjectRenderer:Po,ObjectRendererSystem:Rg,ObservablePoint:xi,PI_2:to,PRECISION:Le,ParticleContainer:uC,ParticleRenderer:qg,PlaneGeometry:h1,PluginSystem:vg,Point:bt,Polygon:Bn,Prepare:Ug,Program:Fi,ProjectionSystem:wg,Quad:Nb,QuadUv:pg,RAD_TO_DEG:Mb,RENDERER_TYPE:ig,Rectangle:xt,RenderTexture:Kn,RenderTexturePool:gg,RenderTextureSystem:Ag,Renderer:ph,ResizePlugin:Lg,Resource:is,RopeGeometry:l1,RoundedRectangle:Io,Runner:Ne,SAMPLER_TYPES:tt,SCALE_MODES:Di,SHAPES:oe,SVGResource:Na,ScissorSystem:Vb,Shader:vi,ShaderSystem:Eg,SimpleMesh:hC,SimplePlane:u1,SimpleRope:lC,Sprite:qe,SpriteMaskFilter:Gb,Spritesheet:Sf,StartupSystem:no,State:Si,StateSystem:ev,StencilSystem:bg,SystemManager:iv,TARGETS:gr,TEXT_GRADIENT:Tr,TYPES:lt,TYPES_TO_BYTES_PER_COMPONENT:bf,TYPES_TO_BYTES_PER_PIXEL:$v,TemporaryDisplayObject:cv,Text:xh,TextFormat:$s,TextMetrics:rn,TextStyle:Wi,Texture:et,TextureGCSystem:Cn,TextureMatrix:gh,TextureSystem:Sg,TextureUvs:fh,Ticker:wt,TickerPlugin:Ig,TilingSprite:fn,TilingSpriteRenderer:Gg,TimeLimiter:EC,Transform:zo,TransformFeedback:jE,TransformFeedbackSystem:Cg,UPDATE_PRIORITY:Hi,UniformGroup:ri,VERSION:DE,VideoResource:jg,ViewSystem:ro,ViewableBuffer:ja,WRAP_MODES:Bi,XMLFormat:$a,XMLStringFormat:Va,accessibleTarget:bv,autoDetectFormat:b1,autoDetectRenderer:sv,autoDetectResource:lg,cacheTextureArray:kv,checkDataUrl:Sr,checkExtension:_n,checkMaxIfStatementsInShader:Pb,convertToList:Ke,copySearchParams:Ga,createStringVariations:Tv,createTexture:ys,createUBOElements:Kb,curves:Wn,defaultFilterVertex:zg,defaultVertex:ov,detectAvif:Dv,detectCompressedTextures:Uv,detectDefaults:Ov,detectMp4:Bv,detectOgv:Nv,detectWebm:Lv,detectWebp:Fv,extensions:at,filters:gf,generateProgram:Yb,generateUniformBufferSync:Qb,getFontFamilyName:Sv,getTestContext:Db,getUBOData:Jb,graphicsUtils:rC,groupD8:Ot,isMobile:_i,isSingleItem:ao,loadBitmapFont:A1,loadDDS:Xv,loadImageBitmap:zv,loadJson:Av,loadKTX:Yv,loadSVG:Pv,loadTextures:Mo,loadTxt:Ev,loadVideo:Mv,loadWebFont:Cv,parseDDS:Hv,parseKTX:Vv,resolveCompressedTextureUrl:Zv,resolveTextureUrl:qv,settings:Q,spritesheetAsset:x1,uniformParsers:mr,unsafeEvalSupported:Lb,utils:BA},Symbol.toStringTag,{value:"Module"}));/*!
 * PixiPlugin 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var kn,Xa,ky,Je,Vs,E1,If,bh,S1=function(){return typeof window<"u"},C1=function(){return kn||S1()&&(kn=window.gsap)&&kn.registerPlugin&&kn},zf=function(t){return typeof t=="function"},I1=function(t){return console.warn(t)},NC=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],di=.212671,Ye=.71516,Ze=.072169,z1=function(t){return zf(Je[t])?Je[t]:Je.filters[t]},vh=function(t,e){var i=[],n=0,s=0,o,a;for(o=0;o<4;o++){for(a=0;a<5;a++)s=a===4?t[n+4]:0,i[n+a]=t[n]*e[a]+t[n+1]*e[a+5]+t[n+2]*e[a+10]+t[n+3]*e[a+15]+s;n+=5}return i},jy=function(t,e){var i=1-e,n=i*di,s=i*Ye,o=i*Ze;return vh([n+e,s,o,0,0,n,s+e,o,0,0,n,s,o+e,0,0,0,0,0,1,0],t)},Dy=function(t,e,i){var n=Xa(e),s=n[0]/255,o=n[1]/255,a=n[2]/255,h=1-i;return vh([h+i*s*di,i*s*Ye,i*s*Ze,0,0,i*o*di,h+i*o*Ye,i*o*Ze,0,0,i*a*di,i*a*Ye,h+i*a*Ze,0,0,0,0,0,1,0],t)},Fy=function(t,e){e*=Math.PI/180;var i=Math.cos(e),n=Math.sin(e);return vh([di+i*(1-di)+n*-di,Ye+i*-Ye+n*-Ye,Ze+i*-Ze+n*(1-Ze),0,0,di+i*-di+n*.143,Ye+i*(1-Ye)+n*.14,Ze+i*-Ze+n*-.283,0,0,di+i*-di+n*-.787329,Ye+i*-Ye+n*Ye,Ze+i*(1-Ze)+n*Ze,0,0,0,0,0,1,0,0,0,0,0,1],t)},Oy=function(t,e){return vh([e,0,0,0,.5*(1-e),0,e,0,0,.5*(1-e),0,0,e,0,.5*(1-e),0,0,0,1,0],t)},P1=function(t,e){var i=z1(e),n=t.filters||[],s=n.length,o;for(i||I1(e+" not found. PixiPlugin.registerPIXI(PIXI)");--s>-1;)if(n[s]instanceof i)return n[s];return o=new i,e==="BlurFilter"&&(bh?o.strength=0:o.blur=0),t.filters=[].concat(n,[o]),o},ie=function(t,e,i,n){e.add(i,t,i[t],n[t]),e._props.push(t)},Ly=function(t,e){var i=z1("ColorMatrixFilter"),n=new i;return n.matrix=e,n.brightness(t,!0),n.matrix},qC=function(t){var e={},i;for(i in t)e[i]=t[i];return e},Re={contrast:1,saturation:1,colorizeAmount:0,colorize:"rgb(255,255,255)",hue:0,brightness:1},UC=function(t,e,i){var n=P1(t,"ColorMatrixFilter"),s=t._gsColorMatrixFilter=t._gsColorMatrixFilter||qC(Re),o=e.combineCMF&&!("colorMatrixFilter"in e&&!e.colorMatrixFilter),a,h,l;for(l=n.matrix,e.resolution&&(n.resolution=e.resolution),e.matrix&&e.matrix.length===l.length?(h=e.matrix,s.contrast!==1&&ie("contrast",i,s,Re),s.hue&&ie("hue",i,s,Re),s.brightness!==1&&ie("brightness",i,s,Re),s.colorizeAmount&&(ie("colorize",i,s,Re),ie("colorizeAmount",i,s,Re)),s.saturation!==1&&ie("saturation",i,s,Re)):(h=NC.slice(),e.contrast!=null?(h=Oy(h,+e.contrast),ie("contrast",i,s,e)):s.contrast!==1&&(o?h=Oy(h,s.contrast):ie("contrast",i,s,Re)),e.hue!=null?(h=Fy(h,+e.hue),ie("hue",i,s,e)):s.hue&&(o?h=Fy(h,s.hue):ie("hue",i,s,Re)),e.brightness!=null?(h=Ly(+e.brightness,h),ie("brightness",i,s,e)):s.brightness!==1&&(o?h=Ly(s.brightness,h):ie("brightness",i,s,Re)),e.colorize!=null?(e.colorizeAmount="colorizeAmount"in e?+e.colorizeAmount:1,h=Dy(h,e.colorize,e.colorizeAmount),ie("colorize",i,s,e),ie("colorizeAmount",i,s,e)):s.colorizeAmount&&(o?h=Dy(h,s.colorize,s.colorizeAmount):(ie("colorize",i,s,Re),ie("colorizeAmount",i,s,Re))),e.saturation!=null?(h=jy(h,+e.saturation),ie("saturation",i,s,e)):s.saturation!==1&&(o?h=jy(h,s.saturation):ie("saturation",i,s,Re))),a=h.length;--a>-1;)h[a]!==l[a]&&i.add(l,a,l[a],h[a],"colorMatrixFilter");i._props.push("colorMatrixFilter")},GC=function(t,e){var i=e.t,n=e.p,s=e.color,o=e.set;o(i,n,s[0]<<16|s[1]<<8|s[2])},HC=function(t,e){var i=e.g;bh?(i.fill(),i.stroke()):i&&(i.dirty++,i.clearDirty++)},WC=function(t,e){e.t.visible=!!e.t.alpha},By=function(t,e,i,n){var s=t[e],o=Xa(zf(s)?t[e.indexOf("set")||!zf(t["get"+e.substr(3)])?e:"get"+e.substr(3)]():s),a=Xa(i);n._pt=new Vs(n._pt,t,e,0,0,GC,{t,p:e,color:o,set:E1(t,e)}),n.add(o,0,o[0],a[0]),n.add(o,1,o[1],a[1]),n.add(o,2,o[2],a[2])},$C={tint:1,lineColor:1,fillColor:1,strokeColor:1},Ny="position,scale,skew,pivot,anchor,tilePosition,tileScale".split(","),Pf={x:"position",y:"position",tileX:"tilePosition",tileY:"tilePosition"},VC={colorMatrixFilter:1,saturation:1,contrast:1,hue:1,colorize:1,colorizeAmount:1,brightness:1,combineCMF:1},Ya=Math.PI/180,M1=function(t){return typeof t=="string"},XC=function(t){return M1(t)&&t.charAt(1)==="="?t.substr(0,2)+parseFloat(t.substr(2))*Ya:t*Ya},YC=function(t,e){return e.set(e.t,e.p,t===1?e.e:Math.round((e.s+e.c*t)*1e5)/1e5,e)},ZC=function(t,e,i,n,s,o){var a=360*(o?Ya:1),h=M1(s),l=h&&s.charAt(1)==="="?+(s.charAt(0)+"1"):0,u=parseFloat(l?s.substr(2):s)*(o?Ya:1),c=l?u*l:u-n,d=n+c,f,g;return h&&(f=s.split("_")[1],f==="short"&&(c%=a,c!==c%(a/2)&&(c+=c<0?a:-a)),f==="cw"&&c<0?c=(c+a*1e10)%a-~~(c/a)*a:f==="ccw"&&c>0&&(c=(c-a*1e10)%a-~~(c/a)*a)),t._pt=g=new Vs(t._pt,e,i,n,c,YC),g.e=d,g},qy=function(){if(!ky){kn=C1(),Je=ky=Je||S1()&&window.PIXI;var t=Je&&Je.VERSION&&parseFloat(Je.VERSION.split(".")[0])||0;If=t===4,bh=t>=8,Xa=function(i){return kn.utils.splitColor((i+"").substr(0,2)==="0x"?"#"+i.substr(2):i)}}},ua,Cs;for(ua=0;ua<Ny.length;ua++)Cs=Ny[ua],Pf[Cs+"X"]=Cs,Pf[Cs+"Y"]=Cs;var Hg={version:"3.13.0",name:"pixi",register:function(t,e,i){kn=t,Vs=i,E1=e.getSetter,qy()},headless:!0,registerPIXI:function(t){Je=t},init:function(t,e,i,n,s){if(Je||qy(),!Je)return I1("PIXI was not found. PixiPlugin.registerPIXI(PIXI);"),!1;var o,a,h,l,u,c,d,f,g,p;for(c in e){if(o=Pf[c],h=e[c],o)a=~c.charAt(c.length-1).toLowerCase().indexOf("x")?"x":"y",this.add(t[o],a,t[o][a],o==="skew"?XC(h):h,0,0,0,0,0,1);else if(c==="scale"||c==="anchor"||c==="pivot"||c==="tileScale")this.add(t[c],"x",t[c].x,h),this.add(t[c],"y",t[c].y,h);else if(c==="rotation"||c==="angle")ZC(this,t,c,t[c],h,c==="rotation");else if(VC[c])l||(UC(t,e.colorMatrixFilter||e,this),l=!0);else if(c==="blur"||c==="blurX"||c==="blurY"||c==="blurPadding"){if(u=P1(t,"BlurFilter"),this.add(u,c,u[c],h),e.blurPadding!==0)for(d=e.blurPadding||Math.max(u[c],h)*2,f=t.filters.length;--f>-1;)t.filters[f].padding=Math.max(t.filters[f].padding,d)}else if($C[c])if((c==="lineColor"||c==="fillColor"||c==="strokeColor")&&t instanceof Je.Graphics)for(g=("fillStyle"in t)?[t]:(t.geometry||t).graphicsData,p=c.substr(0,c.length-5),bh&&p==="line"&&(p="stroke"),this._pt=new Vs(this._pt,t,c,0,0,HC,{g:t.geometry||t}),f=g.length;--f>-1;)By(If?g[f]:g[f][p+"Style"],If?c:"color",h,this);else By(t,c,h,this);else c==="autoAlpha"?(this._pt=new Vs(this._pt,t,"visible",0,0,WC),this.add(t,"alpha",t.alpha,h),this._props.push("alpha","visible")):c!=="resolution"&&this.add(t,c,"get",h);this._props.push(c)}}};C1()&&kn.registerPlugin(Hg);function nn(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function R1(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.__proto__=t}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Ue={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},ss={duration:.5,overwrite:!1,delay:0},Wg,le,Bt,ti=1e8,Pt=1/ti,Mf=Math.PI*2,KC=Mf/4,JC=0,k1=Math.sqrt,QC=Math.cos,tI=Math.sin,ae=function(t){return typeof t=="string"},Ht=function(t){return typeof t=="function"},mn=function(t){return typeof t=="number"},$g=function(t){return typeof t>"u"},$i=function(t){return typeof t=="object"},Ae=function(t){return t!==!1},Vg=function(){return typeof window<"u"},ca=function(t){return Ht(t)||ae(t)},j1=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},fe=Array.isArray,Rf=/(?:-?\.?\d|\.)+/gi,D1=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,$r=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,mu=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,F1=/[+-]=-?[.\d]+/,O1=/[^,'"\[\]\s]+/gi,eI=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,qt,ki,kf,Xg,Ge={},Za={},L1,B1=function(t){return(Za=os(t,Ge))&&Ie},Yg=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},fo=function(t,e){return!e&&console.warn(t)},N1=function(t,e){return t&&(Ge[t]=e)&&Za&&(Za[t]=e)||Ge},go=function(){return 0},iI={suppressEvents:!0,isStart:!0,kill:!1},Aa={suppressEvents:!0,kill:!1},nI={suppressEvents:!0},Zg={},qn=[],jf={},q1,Fe={},yu={},Uy=30,Ea=[],Kg="",Jg=function(t){var e=t[0],i,n;if($i(e)||Ht(e)||(t=[t]),!(i=(e._gsap||{}).harness)){for(n=Ea.length;n--&&!Ea[n].targetTest(e););i=Ea[n]}for(n=t.length;n--;)t[n]&&(t[n]._gsap||(t[n]._gsap=new cw(t[n],i)))||t.splice(n,1);return t},_r=function(t){return t._gsap||Jg(ei(t))[0]._gsap},U1=function(t,e,i){return(i=t[e])&&Ht(i)?t[e]():$g(i)&&t.getAttribute&&t.getAttribute(e)||i},Ee=function(t,e){return(t=t.split(",")).forEach(e)||t},$t=function(t){return Math.round(t*1e5)/1e5||0},Kt=function(t){return Math.round(t*1e7)/1e7||0},Qr=function(t,e){var i=e.charAt(0),n=parseFloat(e.substr(2));return t=parseFloat(t),i==="+"?t+n:i==="-"?t-n:i==="*"?t*n:t/n},rI=function(t,e){for(var i=e.length,n=0;t.indexOf(e[n])<0&&++n<i;);return n<i},Ka=function(){var t=qn.length,e=qn.slice(0),i,n;for(jf={},qn.length=0,i=0;i<t;i++)n=e[i],n&&n._lazy&&(n.render(n._lazy[0],n._lazy[1],!0)._lazy=0)},Qg=function(t){return!!(t._initted||t._startAt||t.add)},G1=function(t,e,i,n){qn.length&&!le&&Ka(),t.render(e,i,!!(le&&e<0&&Qg(t))),qn.length&&!le&&Ka()},H1=function(t){var e=parseFloat(t);return(e||e===0)&&(t+"").match(O1).length<2?e:ae(t)?t.trim():t},W1=function(t){return t},He=function(t,e){for(var i in e)i in t||(t[i]=e[i]);return t},sI=function(t){return function(e,i){for(var n in i)n in e||n==="duration"&&t||n==="ease"||(e[n]=i[n])}},os=function(t,e){for(var i in e)t[i]=e[i];return t},Gy=function r(t,e){for(var i in e)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(t[i]=$i(e[i])?r(t[i]||(t[i]={}),e[i]):e[i]);return t},Ja=function(t,e){var i={},n;for(n in t)n in e||(i[n]=t[n]);return i},Xs=function(t){var e=t.parent||qt,i=t.keyframes?sI(fe(t.keyframes)):He;if(Ae(t.inherit))for(;e;)i(t,e.vars.defaults),e=e.parent||e._dp;return t},oI=function(t,e){for(var i=t.length,n=i===e.length;n&&i--&&t[i]===e[i];);return i<0},$1=function(t,e,i,n,s){var o=t[n],a;if(s)for(a=e[s];o&&o[s]>a;)o=o._prev;return o?(e._next=o._next,o._next=e):(e._next=t[i],t[i]=e),e._next?e._next._prev=e:t[n]=e,e._prev=o,e.parent=e._dp=t,e},wh=function(t,e,i,n){i===void 0&&(i="_first"),n===void 0&&(n="_last");var s=e._prev,o=e._next;s?s._next=o:t[i]===e&&(t[i]=o),o?o._prev=s:t[n]===e&&(t[n]=s),e._next=e._prev=e.parent=null},$n=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},xr=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var i=t;i;)i._dirty=1,i=i.parent;return t},aI=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},Df=function(t,e,i,n){return t._startAt&&(le?t._startAt.revert(Aa):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,n))},hI=function r(t){return!t||t._ts&&r(t.parent)},Hy=function(t){return t._repeat?as(t._tTime,t=t.duration()+t._rDelay)*t:0},as=function(t,e){var i=Math.floor(t=Kt(t/e));return t&&i===t?i-1:i},Qa=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},Th=function(t){return t._end=Kt(t._start+(t._tDur/Math.abs(t._ts||t._rts||Pt)||0))},Ah=function(t,e){var i=t._dp;return i&&i.smoothChildTiming&&t._ts&&(t._start=Kt(i._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),Th(t),i._dirty||xr(i,t)),t},V1=function(t,e){var i;if((e._time||!e._dur&&e._initted||e._start<t._time&&(e._dur||!e.add))&&(i=Qa(t.rawTime(),e),(!e._dur||jo(0,e.totalDuration(),i)-e._tTime>Pt)&&e.render(i,!0)),xr(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(i=t;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;t._zTime=-Pt}},ji=function(t,e,i,n){return e.parent&&$n(e),e._start=Kt((mn(i)?i:i||t!==qt?Xe(t,i,e):t._time)+e._delay),e._end=Kt(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),$1(t,e,"_first","_last",t._sort?"_start":0),Ff(e)||(t._recent=e),n||V1(t,e),t._ts<0&&Ah(t,t._tTime),t},X1=function(t,e){return(Ge.ScrollTrigger||Yg("scrollTrigger",e))&&Ge.ScrollTrigger.create(e,t)},Y1=function(t,e,i,n,s){if(ep(t,e,s),!t._initted)return 1;if(!i&&t._pt&&!le&&(t._dur&&t.vars.lazy!==!1||!t._dur&&t.vars.lazy)&&q1!==Oe.frame)return qn.push(t),t._lazy=[s,n],1},lI=function r(t){var e=t.parent;return e&&e._ts&&e._initted&&!e._lock&&(e.rawTime()<0||r(e))},Ff=function(t){var e=t.data;return e==="isFromStart"||e==="isStart"},uI=function(t,e,i,n){var s=t.ratio,o=e<0||!e&&(!t._start&&lI(t)&&!(!t._initted&&Ff(t))||(t._ts<0||t._dp._ts<0)&&!Ff(t))?0:1,a=t._rDelay,h=0,l,u,c;if(a&&t._repeat&&(h=jo(0,t._tDur,e),u=as(h,a),t._yoyo&&u&1&&(o=1-o),u!==as(t._tTime,a)&&(s=1-o,t.vars.repeatRefresh&&t._initted&&t.invalidate())),o!==s||le||n||t._zTime===Pt||!e&&t._zTime){if(!t._initted&&Y1(t,e,n,i,h))return;for(c=t._zTime,t._zTime=e||(i?Pt:0),i||(i=e&&!c),t.ratio=o,t._from&&(o=1-o),t._time=0,t._tTime=h,l=t._pt;l;)l.r(o,l.d),l=l._next;e<0&&Df(t,e,i,!0),t._onUpdate&&!i&&Be(t,"onUpdate"),h&&t._repeat&&!i&&t.parent&&Be(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===o&&(o&&$n(t,1),!i&&!le&&(Be(t,o?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)},cI=function(t,e,i){var n;if(i>e)for(n=t._first;n&&n._start<=i;){if(n.data==="isPause"&&n._start>e)return n;n=n._next}else for(n=t._last;n&&n._start>=i;){if(n.data==="isPause"&&n._start<e)return n;n=n._prev}},hs=function(t,e,i,n){var s=t._repeat,o=Kt(e)||0,a=t._tTime/t._tDur;return a&&!n&&(t._time*=o/t._dur),t._dur=o,t._tDur=s?s<0?1e10:Kt(o*(s+1)+t._rDelay*s):o,a>0&&!n&&Ah(t,t._tTime=t._tDur*a),t.parent&&Th(t),i||xr(t.parent,t),t},Wy=function(t){return t instanceof _e?xr(t):hs(t,t._dur)},dI={_start:0,endTime:go,totalDuration:go},Xe=function r(t,e,i){var n=t.labels,s=t._recent||dI,o=t.duration()>=ti?s.endTime(!1):t._dur,a,h,l;return ae(e)&&(isNaN(e)||e in n)?(h=e.charAt(0),l=e.substr(-1)==="%",a=e.indexOf("="),h==="<"||h===">"?(a>=0&&(e=e.replace(/=/,"")),(h==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(e.substr(1))||0)*(l?(a<0?s:i).totalDuration()/100:1)):a<0?(e in n||(n[e]=o),n[e]):(h=parseFloat(e.charAt(a-1)+e.substr(a+1)),l&&i&&(h=h/100*(fe(i)?i[0]:i).totalDuration()),a>1?r(t,e.substr(0,a-1),i)+h:o+h)):e==null?o:+e},Ys=function(t,e,i){var n=mn(e[1]),s=(n?2:1)+(t<2?0:1),o=e[s],a,h;if(n&&(o.duration=e[1]),o.parent=i,t){for(a=o,h=i;h&&!("immediateRender"in a);)a=h.vars.defaults||{},h=Ae(h.vars.inherit)&&h.parent;o.immediateRender=Ae(a.immediateRender),t<2?o.runBackwards=1:o.startAt=e[s-1]}return new Zt(e[0],o,e[s+1])},Jn=function(t,e){return t||t===0?e(t):e},jo=function(t,e,i){return i<t?t:i>e?e:i},de=function(t,e){return!ae(t)||!(e=eI.exec(t))?"":e[1]},fI=function(t,e,i){return Jn(i,function(n){return jo(t,e,n)})},Of=[].slice,Z1=function(t,e){return t&&$i(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&$i(t[0]))&&!t.nodeType&&t!==ki},gI=function(t,e,i){return i===void 0&&(i=[]),t.forEach(function(n){var s;return ae(n)&&!e||Z1(n,1)?(s=i).push.apply(s,ei(n)):i.push(n)})||i},ei=function(t,e,i){return Bt&&!e&&Bt.selector?Bt.selector(t):ae(t)&&!i&&(kf||!ls())?Of.call((e||Xg).querySelectorAll(t),0):fe(t)?gI(t,i):Z1(t)?Of.call(t,0):t?[t]:[]},Lf=function(t){return t=ei(t)[0]||fo("Invalid scope")||{},function(e){var i=t.current||t.nativeElement||t;return ei(e,i.querySelectorAll?i:i===t?fo("Invalid scope")||Xg.createElement("div"):t)}},K1=function(t){return t.sort(function(){return .5-Math.random()})},J1=function(t){if(Ht(t))return t;var e=$i(t)?t:{each:t},i=br(e.ease),n=e.from||0,s=parseFloat(e.base)||0,o={},a=n>0&&n<1,h=isNaN(n)||a,l=e.axis,u=n,c=n;return ae(n)?u=c={center:.5,edges:.5,end:1}[n]||0:!a&&h&&(u=n[0],c=n[1]),function(d,f,g){var p=(g||e).length,m=o[p],y,x,_,v,b,E,w,C,z;if(!m){if(z=e.grid==="auto"?0:(e.grid||[1,ti])[1],!z){for(w=-ti;w<(w=g[z++].getBoundingClientRect().left)&&z<p;);z<p&&z--}for(m=o[p]=[],y=h?Math.min(z,p)*u-.5:n%z,x=z===ti?0:h?p*c/z-.5:n/z|0,w=0,C=ti,E=0;E<p;E++)_=E%z-y,v=x-(E/z|0),m[E]=b=l?Math.abs(l==="y"?v:_):k1(_*_+v*v),b>w&&(w=b),b<C&&(C=b);n==="random"&&K1(m),m.max=w-C,m.min=C,m.v=p=(parseFloat(e.amount)||parseFloat(e.each)*(z>p?p-1:l?l==="y"?p/z:z:Math.max(z,p/z))||0)*(n==="edges"?-1:1),m.b=p<0?s-p:s,m.u=de(e.amount||e.each)||0,i=i&&p<0?hw(i):i}return p=(m[d]-m.min)/m.max||0,Kt(m.b+(i?i(p):p)*m.v)+m.u}},Bf=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(i){var n=Kt(Math.round(parseFloat(i)/t)*t*e);return(n-n%1)/e+(mn(i)?0:de(i))}},Q1=function(t,e){var i=fe(t),n,s;return!i&&$i(t)&&(n=i=t.radius||ti,t.values?(t=ei(t.values),(s=!mn(t[0]))&&(n*=n)):t=Bf(t.increment)),Jn(e,i?Ht(t)?function(o){return s=t(o),Math.abs(s-o)<=n?s:o}:function(o){for(var a=parseFloat(s?o.x:o),h=parseFloat(s?o.y:0),l=ti,u=0,c=t.length,d,f;c--;)s?(d=t[c].x-a,f=t[c].y-h,d=d*d+f*f):d=Math.abs(t[c]-a),d<l&&(l=d,u=c);return u=!n||l<=n?t[u]:o,s||u===o||mn(o)?u:u+de(o)}:Bf(t))},tw=function(t,e,i,n){return Jn(fe(t)?!e:i===!0?!!(i=0):!n,function(){return fe(t)?t[~~(Math.random()*t.length)]:(i=i||1e-5)&&(n=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((t-i/2+Math.random()*(e-t+i*.99))/i)*i*n)/n})},pI=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(n){return e.reduce(function(s,o){return o(s)},n)}},mI=function(t,e){return function(i){return t(parseFloat(i))+(e||de(i))}},yI=function(t,e,i){return iw(t,e,0,1,i)},ew=function(t,e,i){return Jn(i,function(n){return t[~~e(n)]})},_I=function r(t,e,i){var n=e-t;return fe(t)?ew(t,r(0,t.length),e):Jn(i,function(s){return(n+(s-t)%n)%n+t})},xI=function r(t,e,i){var n=e-t,s=n*2;return fe(t)?ew(t,r(0,t.length-1),e):Jn(i,function(o){return o=(s+(o-t)%s)%s||0,t+(o>n?s-o:o)})},po=function(t){for(var e=0,i="",n,s,o,a;~(n=t.indexOf("random(",e));)o=t.indexOf(")",n),a=t.charAt(n+7)==="[",s=t.substr(n+7,o-n-7).match(a?O1:Rf),i+=t.substr(e,n-e)+tw(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),e=o+1;return i+t.substr(e,t.length-e)},iw=function(t,e,i,n,s){var o=e-t,a=n-i;return Jn(s,function(h){return i+((h-t)/o*a||0)})},bI=function r(t,e,i,n){var s=isNaN(t+e)?0:function(f){return(1-f)*t+f*e};if(!s){var o=ae(t),a={},h,l,u,c,d;if(i===!0&&(n=1)&&(i=null),o)t={p:t},e={p:e};else if(fe(t)&&!fe(e)){for(u=[],c=t.length,d=c-2,l=1;l<c;l++)u.push(r(t[l-1],t[l]));c--,s=function(g){g*=c;var p=Math.min(d,~~g);return u[p](g-p)},i=e}else n||(t=os(fe(t)?[]:{},t));if(!u){for(h in e)tp.call(a,t,h,"get",e[h]);s=function(g){return rp(g,a)||(o?t.p:t)}}}return Jn(i,s)},$y=function(t,e,i){var n=t.labels,s=ti,o,a,h;for(o in n)a=n[o]-e,a<0==!!i&&a&&s>(a=Math.abs(a))&&(h=o,s=a);return h},Be=function(t,e,i){var n=t.vars,s=n[e],o=Bt,a=t._ctx,h,l,u;if(s)return h=n[e+"Params"],l=n.callbackScope||t,i&&qn.length&&Ka(),a&&(Bt=a),u=h?s.apply(l,h):s.call(l),Bt=o,u},Bs=function(t){return $n(t),t.scrollTrigger&&t.scrollTrigger.kill(!!le),t.progress()<1&&Be(t,"onInterrupt"),t},Vr,nw=[],rw=function(t){if(t)if(t=!t.name&&t.default||t,Vg()||t.headless){var e=t.name,i=Ht(t),n=e&&!i&&t.init?function(){this._props=[]}:t,s={init:go,render:rp,add:tp,kill:FI,modifier:DI,rawVars:0},o={targetTest:0,get:0,getSetter:np,aliases:{},register:0};if(ls(),t!==n){if(Fe[e])return;He(n,He(Ja(t,s),o)),os(n.prototype,os(s,Ja(t,o))),Fe[n.prop=e]=n,t.targetTest&&(Ea.push(n),Zg[e]=1),e=(e==="css"?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}N1(e,n),t.register&&t.register(Ie,n,Se)}else nw.push(t)},zt=255,Ns={aqua:[0,zt,zt],lime:[0,zt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,zt],navy:[0,0,128],white:[zt,zt,zt],olive:[128,128,0],yellow:[zt,zt,0],orange:[zt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[zt,0,0],pink:[zt,192,203],cyan:[0,zt,zt],transparent:[zt,zt,zt,0]},_u=function(t,e,i){return t+=t<0?1:t>1?-1:0,(t*6<1?e+(i-e)*t*6:t<.5?i:t*3<2?e+(i-e)*(2/3-t)*6:e)*zt+.5|0},sw=function(t,e,i){var n=t?mn(t)?[t>>16,t>>8&zt,t&zt]:0:Ns.black,s,o,a,h,l,u,c,d,f,g;if(!n){if(t.substr(-1)===","&&(t=t.substr(0,t.length-1)),Ns[t])n=Ns[t];else if(t.charAt(0)==="#"){if(t.length<6&&(s=t.charAt(1),o=t.charAt(2),a=t.charAt(3),t="#"+s+s+o+o+a+a+(t.length===5?t.charAt(4)+t.charAt(4):"")),t.length===9)return n=parseInt(t.substr(1,6),16),[n>>16,n>>8&zt,n&zt,parseInt(t.substr(7),16)/255];t=parseInt(t.substr(1),16),n=[t>>16,t>>8&zt,t&zt]}else if(t.substr(0,3)==="hsl"){if(n=g=t.match(Rf),!e)h=+n[0]%360/360,l=+n[1]/100,u=+n[2]/100,o=u<=.5?u*(l+1):u+l-u*l,s=u*2-o,n.length>3&&(n[3]*=1),n[0]=_u(h+1/3,s,o),n[1]=_u(h,s,o),n[2]=_u(h-1/3,s,o);else if(~t.indexOf("="))return n=t.match(D1),i&&n.length<4&&(n[3]=1),n}else n=t.match(Rf)||Ns.transparent;n=n.map(Number)}return e&&!g&&(s=n[0]/zt,o=n[1]/zt,a=n[2]/zt,c=Math.max(s,o,a),d=Math.min(s,o,a),u=(c+d)/2,c===d?h=l=0:(f=c-d,l=u>.5?f/(2-c-d):f/(c+d),h=c===s?(o-a)/f+(o<a?6:0):c===o?(a-s)/f+2:(s-o)/f+4,h*=60),n[0]=~~(h+.5),n[1]=~~(l*100+.5),n[2]=~~(u*100+.5)),i&&n.length<4&&(n[3]=1),n},ow=function(t){var e=[],i=[],n=-1;return t.split(Un).forEach(function(s){var o=s.match($r)||[];e.push.apply(e,o),i.push(n+=o.length+1)}),e.c=i,e},Vy=function(t,e,i){var n="",s=(t+n).match(Un),o=e?"hsla(":"rgba(",a=0,h,l,u,c;if(!s)return t;if(s=s.map(function(d){return(d=sw(d,e,1))&&o+(e?d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:d.join(","))+")"}),i&&(u=ow(t),h=i.c,h.join(n)!==u.c.join(n)))for(l=t.replace(Un,"1").split($r),c=l.length-1;a<c;a++)n+=l[a]+(~h.indexOf(a)?s.shift()||o+"0,0,0,0)":(u.length?u:s.length?s:i).shift());if(!l)for(l=t.split(Un),c=l.length-1;a<c;a++)n+=l[a]+s[a];return n+l[c]},Un=function(){var r="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",t;for(t in Ns)r+="|"+t+"\\b";return new RegExp(r+")","gi")}(),vI=/hsl[a]?\(/,aw=function(t){var e=t.join(" "),i;if(Un.lastIndex=0,Un.test(e))return i=vI.test(e),t[1]=Vy(t[1],i),t[0]=Vy(t[0],i,ow(t[1])),!0},mo,Oe=function(){var r=Date.now,t=500,e=33,i=r(),n=i,s=1e3/240,o=s,a=[],h,l,u,c,d,f,g=function p(m){var y=r()-n,x=m===!0,_,v,b,E;if((y>t||y<0)&&(i+=y-e),n+=y,b=n-i,_=b-o,(_>0||x)&&(E=++c.frame,d=b-c.time*1e3,c.time=b=b/1e3,o+=_+(_>=s?4:s-_),v=1),x||(h=l(p)),v)for(f=0;f<a.length;f++)a[f](b,d,E,m)};return c={time:0,frame:0,tick:function(){g(!0)},deltaRatio:function(m){return d/(1e3/(m||60))},wake:function(){L1&&(!kf&&Vg()&&(ki=kf=window,Xg=ki.document||{},Ge.gsap=Ie,(ki.gsapVersions||(ki.gsapVersions=[])).push(Ie.version),B1(Za||ki.GreenSockGlobals||!ki.gsap&&ki||{}),nw.forEach(rw)),u=typeof requestAnimationFrame<"u"&&requestAnimationFrame,h&&c.sleep(),l=u||function(m){return setTimeout(m,o-c.time*1e3+1|0)},mo=1,g(2))},sleep:function(){(u?cancelAnimationFrame:clearTimeout)(h),mo=0,l=go},lagSmoothing:function(m,y){t=m||1/0,e=Math.min(y||33,t)},fps:function(m){s=1e3/(m||240),o=c.time*1e3+s},add:function(m,y,x){var _=y?function(v,b,E,w){m(v,b,E,w),c.remove(_)}:m;return c.remove(m),a[x?"unshift":"push"](_),ls(),_},remove:function(m,y){~(y=a.indexOf(m))&&a.splice(y,1)&&f>=y&&f--},_listeners:a},c}(),ls=function(){return!mo&&Oe.wake()},Et={},wI=/^[\d.\-M][\d.\-,\s]/,TI=/["']/g,AI=function(t){for(var e={},i=t.substr(1,t.length-3).split(":"),n=i[0],s=1,o=i.length,a,h,l;s<o;s++)h=i[s],a=s!==o-1?h.lastIndexOf(","):h.length,l=h.substr(0,a),e[n]=isNaN(l)?l.replace(TI,"").trim():+l,n=h.substr(a+1).trim();return e},EI=function(t){var e=t.indexOf("(")+1,i=t.indexOf(")"),n=t.indexOf("(",e);return t.substring(e,~n&&n<i?t.indexOf(")",i+1):i)},SI=function(t){var e=(t+"").split("("),i=Et[e[0]];return i&&e.length>1&&i.config?i.config.apply(null,~t.indexOf("{")?[AI(e[1])]:EI(t).split(",").map(H1)):Et._CE&&wI.test(t)?Et._CE("",t):i},hw=function(t){return function(e){return 1-t(1-e)}},lw=function r(t,e){for(var i=t._first,n;i;)i instanceof _e?r(i,e):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==e&&(i.timeline?r(i.timeline,e):(n=i._ease,i._ease=i._yEase,i._yEase=n,i._yoyo=e)),i=i._next},br=function(t,e){return t&&(Ht(t)?t:Et[t]||SI(t))||e},Cr=function(t,e,i,n){i===void 0&&(i=function(h){return 1-e(1-h)}),n===void 0&&(n=function(h){return h<.5?e(h*2)/2:1-e((1-h)*2)/2});var s={easeIn:e,easeOut:i,easeInOut:n},o;return Ee(t,function(a){Et[a]=Ge[a]=s,Et[o=a.toLowerCase()]=i;for(var h in s)Et[o+(h==="easeIn"?".in":h==="easeOut"?".out":".inOut")]=Et[a+"."+h]=s[h]}),s},uw=function(t){return function(e){return e<.5?(1-t(1-e*2))/2:.5+t((e-.5)*2)/2}},xu=function r(t,e,i){var n=e>=1?e:1,s=(i||(t?.3:.45))/(e<1?e:1),o=s/Mf*(Math.asin(1/n)||0),a=function(u){return u===1?1:n*Math.pow(2,-10*u)*tI((u-o)*s)+1},h=t==="out"?a:t==="in"?function(l){return 1-a(1-l)}:uw(a);return s=Mf/s,h.config=function(l,u){return r(t,l,u)},h},bu=function r(t,e){e===void 0&&(e=1.70158);var i=function(o){return o?--o*o*((e+1)*o+e)+1:0},n=t==="out"?i:t==="in"?function(s){return 1-i(1-s)}:uw(i);return n.config=function(s){return r(t,s)},n};Ee("Linear,Quad,Cubic,Quart,Quint,Strong",function(r,t){var e=t<5?t+1:t;Cr(r+",Power"+(e-1),t?function(i){return Math.pow(i,e)}:function(i){return i},function(i){return 1-Math.pow(1-i,e)},function(i){return i<.5?Math.pow(i*2,e)/2:1-Math.pow((1-i)*2,e)/2})});Et.Linear.easeNone=Et.none=Et.Linear.easeIn;Cr("Elastic",xu("in"),xu("out"),xu());(function(r,t){var e=1/t,i=2*e,n=2.5*e,s=function(a){return a<e?r*a*a:a<i?r*Math.pow(a-1.5/t,2)+.75:a<n?r*(a-=2.25/t)*a+.9375:r*Math.pow(a-2.625/t,2)+.984375};Cr("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);Cr("Expo",function(r){return Math.pow(2,10*(r-1))*r+r*r*r*r*r*r*(1-r)});Cr("Circ",function(r){return-(k1(1-r*r)-1)});Cr("Sine",function(r){return r===1?1:-QC(r*KC)+1});Cr("Back",bu("in"),bu("out"),bu());Et.SteppedEase=Et.steps=Ge.SteppedEase={config:function(t,e){t===void 0&&(t=1);var i=1/t,n=t+(e?0:1),s=e?1:0,o=1-Pt;return function(a){return((n*jo(0,o,a)|0)+s)*i}}};ss.ease=Et["quad.out"];Ee("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(r){return Kg+=r+","+r+"Params,"});var cw=function(t,e){this.id=JC++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:U1,this.set=e?e.getSetter:np},yo=function(){function r(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,hs(this,+e.duration,1,1),this.data=e.data,Bt&&(this._ctx=Bt,Bt.data.push(this)),mo||Oe.wake()}var t=r.prototype;return t.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},t.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},t.totalDuration=function(i){return arguments.length?(this._dirty=0,hs(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(i,n){if(ls(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(Ah(this,i),!s._dp||s.parent||V1(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&ji(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!n||this._initted&&Math.abs(this._zTime)===Pt||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),G1(this,i,n)),this},t.time=function(i,n){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+Hy(this))%(this._dur+this._rDelay)||(i?this._dur:0),n):this._time},t.totalProgress=function(i,n){return arguments.length?this.totalTime(this.totalDuration()*i,n):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},t.progress=function(i,n){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+Hy(this),n):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(i,n){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*s,n):this._repeat?as(this._tTime,s)+1:1},t.timeScale=function(i,n){if(!arguments.length)return this._rts===-Pt?0:this._rts;if(this._rts===i)return this;var s=this.parent&&this._ts?Qa(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-Pt?0:this._rts,this.totalTime(jo(-Math.abs(this._delay),this.totalDuration(),s),n!==!1),Th(this),aI(this)},t.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(ls(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Pt&&(this._tTime-=Pt)))),this):this._ps},t.startTime=function(i){if(arguments.length){this._start=i;var n=this.parent||this._dp;return n&&(n._sort||!this.parent)&&ji(n,this,i-this._delay),this}return this._start},t.endTime=function(i){return this._start+(Ae(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(i){var n=this.parent||this._dp;return n?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Qa(n.rawTime(i),this):this._tTime:this._tTime},t.revert=function(i){i===void 0&&(i=nI);var n=le;return le=i,Qg(this)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),le=n,this},t.globalTime=function(i){for(var n=this,s=arguments.length?i:n.rawTime();n;)s=n._start+s/(Math.abs(n._ts)||1),n=n._dp;return!this.parent&&this._sat?this._sat.globalTime(i):s},t.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,Wy(this)):this._repeat===-2?1/0:this._repeat},t.repeatDelay=function(i){if(arguments.length){var n=this._time;return this._rDelay=i,Wy(this),n?this.time(n):this}return this._rDelay},t.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},t.seek=function(i,n){return this.totalTime(Xe(this,i),Ae(n))},t.restart=function(i,n){return this.play().totalTime(i?-this._delay:0,Ae(n)),this._dur||(this._zTime=-Pt),this},t.play=function(i,n){return i!=null&&this.seek(i,n),this.reversed(!1).paused(!1)},t.reverse=function(i,n){return i!=null&&this.seek(i||this.totalDuration(),n),this.reversed(!0).paused(!1)},t.pause=function(i,n){return i!=null&&this.seek(i,n),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-Pt:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-Pt,this},t.isActive=function(){var i=this.parent||this._dp,n=this._start,s;return!!(!i||this._ts&&this._initted&&i.isActive()&&(s=i.rawTime(!0))>=n&&s<this.endTime(!0)-Pt)},t.eventCallback=function(i,n,s){var o=this.vars;return arguments.length>1?(n?(o[i]=n,s&&(o[i+"Params"]=s),i==="onUpdate"&&(this._onUpdate=n)):delete o[i],this):o[i]},t.then=function(i){var n=this;return new Promise(function(s){var o=Ht(i)?i:W1,a=function(){var l=n.then;n.then=null,Ht(o)&&(o=o(n))&&(o.then||o===n)&&(n.then=l),s(o),n.then=l};n._initted&&n.totalProgress()===1&&n._ts>=0||!n._tTime&&n._ts<0?a():n._prom=a})},t.kill=function(){Bs(this)},r}();He(yo.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Pt,_prom:0,_ps:!1,_rts:1});var _e=function(r){R1(t,r);function t(i,n){var s;return i===void 0&&(i={}),s=r.call(this,i)||this,s.labels={},s.smoothChildTiming=!!i.smoothChildTiming,s.autoRemoveChildren=!!i.autoRemoveChildren,s._sort=Ae(i.sortChildren),qt&&ji(i.parent||qt,nn(s),n),i.reversed&&s.reverse(),i.paused&&s.paused(!0),i.scrollTrigger&&X1(nn(s),i.scrollTrigger),s}var e=t.prototype;return e.to=function(n,s,o){return Ys(0,arguments,this),this},e.from=function(n,s,o){return Ys(1,arguments,this),this},e.fromTo=function(n,s,o,a){return Ys(2,arguments,this),this},e.set=function(n,s,o){return s.duration=0,s.parent=this,Xs(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Zt(n,s,Xe(this,o),1),this},e.call=function(n,s,o){return ji(this,Zt.delayedCall(0,n,s),o)},e.staggerTo=function(n,s,o,a,h,l,u){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=l,o.onCompleteParams=u,o.parent=this,new Zt(n,o,Xe(this,h)),this},e.staggerFrom=function(n,s,o,a,h,l,u){return o.runBackwards=1,Xs(o).immediateRender=Ae(o.immediateRender),this.staggerTo(n,s,o,a,h,l,u)},e.staggerFromTo=function(n,s,o,a,h,l,u,c){return a.startAt=o,Xs(a).immediateRender=Ae(a.immediateRender),this.staggerTo(n,s,a,h,l,u,c)},e.render=function(n,s,o){var a=this._time,h=this._dirty?this.totalDuration():this._tDur,l=this._dur,u=n<=0?0:Kt(n),c=this._zTime<0!=n<0&&(this._initted||!l),d,f,g,p,m,y,x,_,v,b,E,w;if(this!==qt&&u>h&&n>=0&&(u=h),u!==this._tTime||o||c){if(a!==this._time&&l&&(u+=this._time-a,n+=this._time-a),d=u,v=this._start,_=this._ts,y=!_,c&&(l||(a=this._zTime),(n||!s)&&(this._zTime=n)),this._repeat){if(E=this._yoyo,m=l+this._rDelay,this._repeat<-1&&n<0)return this.totalTime(m*100+n,s,o);if(d=Kt(u%m),u===h?(p=this._repeat,d=l):(b=Kt(u/m),p=~~b,p&&p===b&&(d=l,p--),d>l&&(d=l)),b=as(this._tTime,m),!a&&this._tTime&&b!==p&&this._tTime-b*m-this._dur<=0&&(b=p),E&&p&1&&(d=l-d,w=1),p!==b&&!this._lock){var C=E&&b&1,z=C===(E&&p&1);if(p<b&&(C=!C),a=C?0:u%l?l:u,this._lock=1,this.render(a||(w?0:Kt(p*m)),s,!l)._lock=0,this._tTime=u,!s&&this.parent&&Be(this,"onRepeat"),this.vars.repeatRefresh&&!w&&(this.invalidate()._lock=1),a&&a!==this._time||y!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(l=this._dur,h=this._tDur,z&&(this._lock=2,a=C?l:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!w&&this.invalidate()),this._lock=0,!this._ts&&!y)return this;lw(this,w)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(x=cI(this,Kt(a),Kt(d)),x&&(u-=d-(d=x._start))),this._tTime=u,this._time=d,this._act=!_,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=n,a=0),!a&&u&&!s&&!b&&(Be(this,"onStart"),this._tTime!==u))return this;if(d>=a&&n>=0)for(f=this._first;f;){if(g=f._next,(f._act||d>=f._start)&&f._ts&&x!==f){if(f.parent!==this)return this.render(n,s,o);if(f.render(f._ts>0?(d-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(d-f._start)*f._ts,s,o),d!==this._time||!this._ts&&!y){x=0,g&&(u+=this._zTime=-Pt);break}}f=g}else{f=this._last;for(var F=n<0?n:d;f;){if(g=f._prev,(f._act||F<=f._end)&&f._ts&&x!==f){if(f.parent!==this)return this.render(n,s,o);if(f.render(f._ts>0?(F-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(F-f._start)*f._ts,s,o||le&&Qg(f)),d!==this._time||!this._ts&&!y){x=0,g&&(u+=this._zTime=F?-Pt:Pt);break}}f=g}}if(x&&!s&&(this.pause(),x.render(d>=a?0:-Pt)._zTime=d>=a?1:-1,this._ts))return this._start=v,Th(this),this.render(n,s,o);this._onUpdate&&!s&&Be(this,"onUpdate",!0),(u===h&&this._tTime>=this.totalDuration()||!u&&a)&&(v===this._start||Math.abs(_)!==Math.abs(this._ts))&&(this._lock||((n||!l)&&(u===h&&this._ts>0||!u&&this._ts<0)&&$n(this,1),!s&&!(n<0&&!a)&&(u||a||!h)&&(Be(this,u===h&&n>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<h&&this.timeScale()>0)&&this._prom())))}return this},e.add=function(n,s){var o=this;if(mn(s)||(s=Xe(this,s,n)),!(n instanceof yo)){if(fe(n))return n.forEach(function(a){return o.add(a,s)}),this;if(ae(n))return this.addLabel(n,s);if(Ht(n))n=Zt.delayedCall(0,n);else return this}return this!==n?ji(this,n,s):this},e.getChildren=function(n,s,o,a){n===void 0&&(n=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-ti);for(var h=[],l=this._first;l;)l._start>=a&&(l instanceof Zt?s&&h.push(l):(o&&h.push(l),n&&h.push.apply(h,l.getChildren(!0,s,o)))),l=l._next;return h},e.getById=function(n){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===n)return s[o]},e.remove=function(n){return ae(n)?this.removeLabel(n):Ht(n)?this.killTweensOf(n):(n.parent===this&&wh(this,n),n===this._recent&&(this._recent=this._last),xr(this))},e.totalTime=function(n,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Kt(Oe.time-(this._ts>0?n/this._ts:(this.totalDuration()-n)/-this._ts))),r.prototype.totalTime.call(this,n,s),this._forcing=0,this):this._tTime},e.addLabel=function(n,s){return this.labels[n]=Xe(this,s),this},e.removeLabel=function(n){return delete this.labels[n],this},e.addPause=function(n,s,o){var a=Zt.delayedCall(0,s||go,o);return a.data="isPause",this._hasPause=1,ji(this,a,Xe(this,n))},e.removePause=function(n){var s=this._first;for(n=Xe(this,n);s;)s._start===n&&s.data==="isPause"&&$n(s),s=s._next},e.killTweensOf=function(n,s,o){for(var a=this.getTweensOf(n,o),h=a.length;h--;)jn!==a[h]&&a[h].kill(n,s);return this},e.getTweensOf=function(n,s){for(var o=[],a=ei(n),h=this._first,l=mn(s),u;h;)h instanceof Zt?rI(h._targets,a)&&(l?(!jn||h._initted&&h._ts)&&h.globalTime(0)<=s&&h.globalTime(h.totalDuration())>s:!s||h.isActive())&&o.push(h):(u=h.getTweensOf(a,s)).length&&o.push.apply(o,u),h=h._next;return o},e.tweenTo=function(n,s){s=s||{};var o=this,a=Xe(o,n),h=s,l=h.startAt,u=h.onStart,c=h.onStartParams,d=h.immediateRender,f,g=Zt.to(o,He({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(l&&"time"in l?l.time:o._time))/o.timeScale())||Pt,onStart:function(){if(o.pause(),!f){var m=s.duration||Math.abs((a-(l&&"time"in l?l.time:o._time))/o.timeScale());g._dur!==m&&hs(g,m,0,1).render(g._time,!0,!0),f=1}u&&u.apply(g,c||[])}},s));return d?g.render(0):g},e.tweenFromTo=function(n,s,o){return this.tweenTo(s,He({startAt:{time:Xe(this,n)}},o))},e.recent=function(){return this._recent},e.nextLabel=function(n){return n===void 0&&(n=this._time),$y(this,Xe(this,n))},e.previousLabel=function(n){return n===void 0&&(n=this._time),$y(this,Xe(this,n),1)},e.currentLabel=function(n){return arguments.length?this.seek(n,!0):this.previousLabel(this._time+Pt)},e.shiftChildren=function(n,s,o){o===void 0&&(o=0);for(var a=this._first,h=this.labels,l;a;)a._start>=o&&(a._start+=n,a._end+=n),a=a._next;if(s)for(l in h)h[l]>=o&&(h[l]+=n);return xr(this)},e.invalidate=function(n){var s=this._first;for(this._lock=0;s;)s.invalidate(n),s=s._next;return r.prototype.invalidate.call(this,n)},e.clear=function(n){n===void 0&&(n=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),n&&(this.labels={}),xr(this)},e.totalDuration=function(n){var s=0,o=this,a=o._last,h=ti,l,u,c;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-n:n));if(o._dirty){for(c=o.parent;a;)l=a._prev,a._dirty&&a.totalDuration(),u=a._start,u>h&&o._sort&&a._ts&&!o._lock?(o._lock=1,ji(o,a,u-a._delay,1)._lock=0):h=u,u<0&&a._ts&&(s-=u,(!c&&!o._dp||c&&c.smoothChildTiming)&&(o._start+=u/o._ts,o._time-=u,o._tTime-=u),o.shiftChildren(-u,!1,-1/0),h=0),a._end>s&&a._ts&&(s=a._end),a=l;hs(o,o===qt&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},t.updateRoot=function(n){if(qt._ts&&(G1(qt,Qa(n,qt)),q1=Oe.frame),Oe.frame>=Uy){Uy+=Ue.autoSleep||120;var s=qt._first;if((!s||!s._ts)&&Ue.autoSleep&&Oe._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Oe.sleep()}}},t}(yo);He(_e.prototype,{_lock:0,_hasPause:0,_forcing:0});var CI=function(t,e,i,n,s,o,a){var h=new Se(this._pt,t,e,0,1,yw,null,s),l=0,u=0,c,d,f,g,p,m,y,x;for(h.b=i,h.e=n,i+="",n+="",(y=~n.indexOf("random("))&&(n=po(n)),o&&(x=[i,n],o(x,t,e),i=x[0],n=x[1]),d=i.match(mu)||[];c=mu.exec(n);)g=c[0],p=n.substring(l,c.index),f?f=(f+1)%5:p.substr(-5)==="rgba("&&(f=1),g!==d[u++]&&(m=parseFloat(d[u-1])||0,h._pt={_next:h._pt,p:p||u===1?p:",",s:m,c:g.charAt(1)==="="?Qr(m,g)-m:parseFloat(g)-m,m:f&&f<4?Math.round:0},l=mu.lastIndex);return h.c=l<n.length?n.substring(l,n.length):"",h.fp=a,(F1.test(n)||y)&&(h.e=0),this._pt=h,h},tp=function(t,e,i,n,s,o,a,h,l,u){Ht(n)&&(n=n(s||0,t,o));var c=t[e],d=i!=="get"?i:Ht(c)?l?t[e.indexOf("set")||!Ht(t["get"+e.substr(3)])?e:"get"+e.substr(3)](l):t[e]():c,f=Ht(c)?l?RI:pw:ip,g;if(ae(n)&&(~n.indexOf("random(")&&(n=po(n)),n.charAt(1)==="="&&(g=Qr(d,n)+(de(d)||0),(g||g===0)&&(n=g))),!u||d!==n||Nf)return!isNaN(d*n)&&n!==""?(g=new Se(this._pt,t,e,+d||0,n-(d||0),typeof c=="boolean"?jI:mw,0,f),l&&(g.fp=l),a&&g.modifier(a,this,t),this._pt=g):(!c&&!(e in t)&&Yg(e,n),CI.call(this,t,e,d,n,f,h||Ue.stringFilter,l))},II=function(t,e,i,n,s){if(Ht(t)&&(t=Zs(t,s,e,i,n)),!$i(t)||t.style&&t.nodeType||fe(t)||j1(t))return ae(t)?Zs(t,s,e,i,n):t;var o={},a;for(a in t)o[a]=Zs(t[a],s,e,i,n);return o},dw=function(t,e,i,n,s,o){var a,h,l,u;if(Fe[t]&&(a=new Fe[t]).init(s,a.rawVars?e[t]:II(e[t],n,s,o,i),i,n,o)!==!1&&(i._pt=h=new Se(i._pt,s,t,0,1,a.render,a,0,a.priority),i!==Vr))for(l=i._ptLookup[i._targets.indexOf(s)],u=a._props.length;u--;)l[a._props[u]]=h;return a},jn,Nf,ep=function r(t,e,i){var n=t.vars,s=n.ease,o=n.startAt,a=n.immediateRender,h=n.lazy,l=n.onUpdate,u=n.runBackwards,c=n.yoyoEase,d=n.keyframes,f=n.autoRevert,g=t._dur,p=t._startAt,m=t._targets,y=t.parent,x=y&&y.data==="nested"?y.vars.targets:m,_=t._overwrite==="auto"&&!Wg,v=t.timeline,b,E,w,C,z,F,D,M,k,j,O,T,S;if(v&&(!d||!s)&&(s="none"),t._ease=br(s,ss.ease),t._yEase=c?hw(br(c===!0?s:c,ss.ease)):0,c&&t._yoyo&&!t._repeat&&(c=t._yEase,t._yEase=t._ease,t._ease=c),t._from=!v&&!!n.runBackwards,!v||d&&!n.stagger){if(M=m[0]?_r(m[0]).harness:0,T=M&&n[M.prop],b=Ja(n,Zg),p&&(p._zTime<0&&p.progress(1),e<0&&u&&a&&!f?p.render(-1,!0):p.revert(u&&g?Aa:iI),p._lazy=0),o){if($n(t._startAt=Zt.set(m,He({data:"isStart",overwrite:!1,parent:y,immediateRender:!0,lazy:!p&&Ae(h),startAt:null,delay:0,onUpdate:l&&function(){return Be(t,"onUpdate")},stagger:0},o))),t._startAt._dp=0,t._startAt._sat=t,e<0&&(le||!a&&!f)&&t._startAt.revert(Aa),a&&g&&e<=0&&i<=0){e&&(t._zTime=e);return}}else if(u&&g&&!p){if(e&&(a=!1),w=He({overwrite:!1,data:"isFromStart",lazy:a&&!p&&Ae(h),immediateRender:a,stagger:0,parent:y},b),T&&(w[M.prop]=T),$n(t._startAt=Zt.set(m,w)),t._startAt._dp=0,t._startAt._sat=t,e<0&&(le?t._startAt.revert(Aa):t._startAt.render(-1,!0)),t._zTime=e,!a)r(t._startAt,Pt,Pt);else if(!e)return}for(t._pt=t._ptCache=0,h=g&&Ae(h)||h&&!g,E=0;E<m.length;E++){if(z=m[E],D=z._gsap||Jg(m)[E]._gsap,t._ptLookup[E]=j={},jf[D.id]&&qn.length&&Ka(),O=x===m?E:x.indexOf(z),M&&(k=new M).init(z,T||b,t,O,x)!==!1&&(t._pt=C=new Se(t._pt,z,k.name,0,1,k.render,k,0,k.priority),k._props.forEach(function(A){j[A]=C}),k.priority&&(F=1)),!M||T)for(w in b)Fe[w]&&(k=dw(w,b,t,O,z,x))?k.priority&&(F=1):j[w]=C=tp.call(t,z,w,"get",b[w],O,x,0,n.stringFilter);t._op&&t._op[E]&&t.kill(z,t._op[E]),_&&t._pt&&(jn=t,qt.killTweensOf(z,j,t.globalTime(e)),S=!t.parent,jn=0),t._pt&&h&&(jf[D.id]=1)}F&&_w(t),t._onInit&&t._onInit(t)}t._onUpdate=l,t._initted=(!t._op||t._pt)&&!S,d&&e<=0&&v.render(ti,!0,!0)},zI=function(t,e,i,n,s,o,a,h){var l=(t._pt&&t._ptCache||(t._ptCache={}))[e],u,c,d,f;if(!l)for(l=t._ptCache[e]=[],d=t._ptLookup,f=t._targets.length;f--;){if(u=d[f][e],u&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==e&&u.fp!==e;)u=u._next;if(!u)return Nf=1,t.vars[e]="+=0",ep(t,a),Nf=0,h?fo(e+" not eligible for reset"):1;l.push(u)}for(f=l.length;f--;)c=l[f],u=c._pt||c,u.s=(n||n===0)&&!s?n:u.s+(n||0)+o*u.c,u.c=i-u.s,c.e&&(c.e=$t(i)+de(c.e)),c.b&&(c.b=u.s+de(c.b))},PI=function(t,e){var i=t[0]?_r(t[0]).harness:0,n=i&&i.aliases,s,o,a,h;if(!n)return e;s=os({},e);for(o in n)if(o in s)for(h=n[o].split(","),a=h.length;a--;)s[h[a]]=s[o];return s},MI=function(t,e,i,n){var s=e.ease||n||"power1.inOut",o,a;if(fe(e))a=i[t]||(i[t]=[]),e.forEach(function(h,l){return a.push({t:l/(e.length-1)*100,v:h,e:s})});else for(o in e)a=i[o]||(i[o]=[]),o==="ease"||a.push({t:parseFloat(t),v:e[o],e:s})},Zs=function(t,e,i,n,s){return Ht(t)?t.call(e,i,n,s):ae(t)&&~t.indexOf("random(")?po(t):t},fw=Kg+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",gw={};Ee(fw+",id,stagger,delay,duration,paused,scrollTrigger",function(r){return gw[r]=1});var Zt=function(r){R1(t,r);function t(i,n,s,o){var a;typeof n=="number"&&(s.duration=n,n=s,s=null),a=r.call(this,o?n:Xs(n))||this;var h=a.vars,l=h.duration,u=h.delay,c=h.immediateRender,d=h.stagger,f=h.overwrite,g=h.keyframes,p=h.defaults,m=h.scrollTrigger,y=h.yoyoEase,x=n.parent||qt,_=(fe(i)||j1(i)?mn(i[0]):"length"in n)?[i]:ei(i),v,b,E,w,C,z,F,D;if(a._targets=_.length?Jg(_):fo("GSAP target "+i+" not found. https://gsap.com",!Ue.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=f,g||d||ca(l)||ca(u)){if(n=a.vars,v=a.timeline=new _e({data:"nested",defaults:p||{},targets:x&&x.data==="nested"?x.vars.targets:_}),v.kill(),v.parent=v._dp=nn(a),v._start=0,d||ca(l)||ca(u)){if(w=_.length,F=d&&J1(d),$i(d))for(C in d)~fw.indexOf(C)&&(D||(D={}),D[C]=d[C]);for(b=0;b<w;b++)E=Ja(n,gw),E.stagger=0,y&&(E.yoyoEase=y),D&&os(E,D),z=_[b],E.duration=+Zs(l,nn(a),b,z,_),E.delay=(+Zs(u,nn(a),b,z,_)||0)-a._delay,!d&&w===1&&E.delay&&(a._delay=u=E.delay,a._start+=u,E.delay=0),v.to(z,E,F?F(b,z,_):0),v._ease=Et.none;v.duration()?l=u=0:a.timeline=0}else if(g){Xs(He(v.vars.defaults,{ease:"none"})),v._ease=br(g.ease||n.ease||"none");var M=0,k,j,O;if(fe(g))g.forEach(function(T){return v.to(_,T,">")}),v.duration();else{E={};for(C in g)C==="ease"||C==="easeEach"||MI(C,g[C],E,g.easeEach);for(C in E)for(k=E[C].sort(function(T,S){return T.t-S.t}),M=0,b=0;b<k.length;b++)j=k[b],O={ease:j.e,duration:(j.t-(b?k[b-1].t:0))/100*l},O[C]=j.v,v.to(_,O,M),M+=O.duration;v.duration()<l&&v.to({},{duration:l-v.duration()})}}l||a.duration(l=v.duration())}else a.timeline=0;return f===!0&&!Wg&&(jn=nn(a),qt.killTweensOf(_),jn=0),ji(x,nn(a),s),n.reversed&&a.reverse(),n.paused&&a.paused(!0),(c||!l&&!g&&a._start===Kt(x._time)&&Ae(c)&&hI(nn(a))&&x.data!=="nested")&&(a._tTime=-Pt,a.render(Math.max(0,-u)||0)),m&&X1(nn(a),m),a}var e=t.prototype;return e.render=function(n,s,o){var a=this._time,h=this._tDur,l=this._dur,u=n<0,c=n>h-Pt&&!u?h:n<Pt?0:n,d,f,g,p,m,y,x,_,v;if(!l)uI(this,n,s,o);else if(c!==this._tTime||!n||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u||this._lazy){if(d=c,_=this.timeline,this._repeat){if(p=l+this._rDelay,this._repeat<-1&&u)return this.totalTime(p*100+n,s,o);if(d=Kt(c%p),c===h?(g=this._repeat,d=l):(m=Kt(c/p),g=~~m,g&&g===m?(d=l,g--):d>l&&(d=l)),y=this._yoyo&&g&1,y&&(v=this._yEase,d=l-d),m=as(this._tTime,p),d===a&&!o&&this._initted&&g===m)return this._tTime=c,this;g!==m&&(_&&this._yEase&&lw(_,y),this.vars.repeatRefresh&&!y&&!this._lock&&d!==p&&this._initted&&(this._lock=o=1,this.render(Kt(p*g),!0).invalidate()._lock=0))}if(!this._initted){if(Y1(this,u?n:d,o,s,c))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&g!==m))return this;if(l!==this._dur)return this.render(n,s,o)}if(this._tTime=c,this._time=d,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=x=(v||this._ease)(d/l),this._from&&(this.ratio=x=1-x),!a&&c&&!s&&!m&&(Be(this,"onStart"),this._tTime!==c))return this;for(f=this._pt;f;)f.r(x,f.d),f=f._next;_&&_.render(n<0?n:_._dur*_._ease(d/this._dur),s,o)||this._startAt&&(this._zTime=n),this._onUpdate&&!s&&(u&&Df(this,n,s,o),Be(this,"onUpdate")),this._repeat&&g!==m&&this.vars.onRepeat&&!s&&this.parent&&Be(this,"onRepeat"),(c===this._tDur||!c)&&this._tTime===c&&(u&&!this._onUpdate&&Df(this,n,!0,!0),(n||!l)&&(c===this._tDur&&this._ts>0||!c&&this._ts<0)&&$n(this,1),!s&&!(u&&!a)&&(c||a||y)&&(Be(this,c===h?"onComplete":"onReverseComplete",!0),this._prom&&!(c<h&&this.timeScale()>0)&&this._prom()))}return this},e.targets=function(){return this._targets},e.invalidate=function(n){return(!n||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(n),r.prototype.invalidate.call(this,n)},e.resetTo=function(n,s,o,a,h){mo||Oe.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),u;return this._initted||ep(this,l),u=this._ease(l/this._dur),zI(this,n,s,o,a,u,l,h)?this.resetTo(n,s,o,a,1):(Ah(this,0),this.parent||$1(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},e.kill=function(n,s){if(s===void 0&&(s="all"),!n&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Bs(this):this.scrollTrigger&&this.scrollTrigger.kill(!!le),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(n,s,jn&&jn.vars.overwrite!==!0)._first||Bs(this),this.parent&&o!==this.timeline.totalDuration()&&hs(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,h=n?ei(n):a,l=this._ptLookup,u=this._pt,c,d,f,g,p,m,y;if((!s||s==="all")&&oI(a,h))return s==="all"&&(this._pt=0),Bs(this);for(c=this._op=this._op||[],s!=="all"&&(ae(s)&&(p={},Ee(s,function(x){return p[x]=1}),s=p),s=PI(a,s)),y=a.length;y--;)if(~h.indexOf(a[y])){d=l[y],s==="all"?(c[y]=s,g=d,f={}):(f=c[y]=c[y]||{},g=s);for(p in g)m=d&&d[p],m&&((!("kill"in m.d)||m.d.kill(p)===!0)&&wh(this,m,"_pt"),delete d[p]),f!=="all"&&(f[p]=1)}return this._initted&&!this._pt&&u&&Bs(this),this},t.to=function(n,s){return new t(n,s,arguments[2])},t.from=function(n,s){return Ys(1,arguments)},t.delayedCall=function(n,s,o,a){return new t(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:n,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},t.fromTo=function(n,s,o){return Ys(2,arguments)},t.set=function(n,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new t(n,s)},t.killTweensOf=function(n,s,o){return qt.killTweensOf(n,s,o)},t}(yo);He(Zt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Ee("staggerTo,staggerFrom,staggerFromTo",function(r){Zt[r]=function(){var t=new _e,e=Of.call(arguments,0);return e.splice(r==="staggerFromTo"?5:4,0,0),t[r].apply(t,e)}});var ip=function(t,e,i){return t[e]=i},pw=function(t,e,i){return t[e](i)},RI=function(t,e,i,n){return t[e](n.fp,i)},kI=function(t,e,i){return t.setAttribute(e,i)},np=function(t,e){return Ht(t[e])?pw:$g(t[e])&&t.setAttribute?kI:ip},mw=function(t,e){return e.set(e.t,e.p,Math.round((e.s+e.c*t)*1e6)/1e6,e)},jI=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},yw=function(t,e){var i=e._pt,n="";if(!t&&e.b)n=e.b;else if(t===1&&e.e)n=e.e;else{for(;i;)n=i.p+(i.m?i.m(i.s+i.c*t):Math.round((i.s+i.c*t)*1e4)/1e4)+n,i=i._next;n+=e.c}e.set(e.t,e.p,n,e)},rp=function(t,e){for(var i=e._pt;i;)i.r(t,i.d),i=i._next},DI=function(t,e,i,n){for(var s=this._pt,o;s;)o=s._next,s.p===n&&s.modifier(t,e,i),s=o},FI=function(t){for(var e=this._pt,i,n;e;)n=e._next,e.p===t&&!e.op||e.op===t?wh(this,e,"_pt"):e.dep||(i=1),e=n;return!i},OI=function(t,e,i,n){n.mSet(t,e,n.m.call(n.tween,i,n.mt),n)},_w=function(t){for(var e=t._pt,i,n,s,o;e;){for(i=e._next,n=s;n&&n.pr>e.pr;)n=n._next;(e._prev=n?n._prev:o)?e._prev._next=e:s=e,(e._next=n)?n._prev=e:o=e,e=i}t._pt=s},Se=function(){function r(e,i,n,s,o,a,h,l,u){this.t=i,this.s=s,this.c=o,this.p=n,this.r=a||mw,this.d=h||this,this.set=l||ip,this.pr=u||0,this._next=e,e&&(e._prev=this)}var t=r.prototype;return t.modifier=function(i,n,s){this.mSet=this.mSet||this.set,this.set=OI,this.m=i,this.mt=s,this.tween=n},r}();Ee(Kg+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(r){return Zg[r]=1});Ge.TweenMax=Ge.TweenLite=Zt;Ge.TimelineLite=Ge.TimelineMax=_e;qt=new _e({sortChildren:!1,defaults:ss,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Ue.stringFilter=aw;var vr=[],Sa={},LI=[],Xy=0,BI=0,vu=function(t){return(Sa[t]||LI).map(function(e){return e()})},qf=function(){var t=Date.now(),e=[];t-Xy>2&&(vu("matchMediaInit"),vr.forEach(function(i){var n=i.queries,s=i.conditions,o,a,h,l;for(a in n)o=ki.matchMedia(n[a]).matches,o&&(h=1),o!==s[a]&&(s[a]=o,l=1);l&&(i.revert(),h&&e.push(i))}),vu("matchMediaRevert"),e.forEach(function(i){return i.onMatch(i,function(n){return i.add(null,n)})}),Xy=t,vu("matchMedia"))},xw=function(){function r(e,i){this.selector=i&&Lf(i),this.data=[],this._r=[],this.isReverted=!1,this.id=BI++,e&&this.add(e)}var t=r.prototype;return t.add=function(i,n,s){Ht(i)&&(s=n,n=i,i=Ht);var o=this,a=function(){var l=Bt,u=o.selector,c;return l&&l!==o&&l.data.push(o),s&&(o.selector=Lf(s)),Bt=o,c=n.apply(o,arguments),Ht(c)&&o._r.push(c),Bt=l,o.selector=u,o.isReverted=!1,c};return o.last=a,i===Ht?a(o,function(h){return o.add(null,h)}):i?o[i]=a:a},t.ignore=function(i){var n=Bt;Bt=null,i(this),Bt=n},t.getTweens=function(){var i=[];return this.data.forEach(function(n){return n instanceof r?i.push.apply(i,n.getTweens()):n instanceof Zt&&!(n.parent&&n.parent.data==="nested")&&i.push(n)}),i},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(i,n){var s=this;if(i?function(){for(var a=s.getTweens(),h=s.data.length,l;h--;)l=s.data[h],l.data==="isFlip"&&(l.revert(),l.getChildren(!0,!0,!1).forEach(function(u){return a.splice(a.indexOf(u),1)}));for(a.map(function(u){return{g:u._dur||u._delay||u._sat&&!u._sat.vars.immediateRender?u.globalTime(0):-1/0,t:u}}).sort(function(u,c){return c.g-u.g||-1/0}).forEach(function(u){return u.t.revert(i)}),h=s.data.length;h--;)l=s.data[h],l instanceof _e?l.data!=="nested"&&(l.scrollTrigger&&l.scrollTrigger.revert(),l.kill()):!(l instanceof Zt)&&l.revert&&l.revert(i);s._r.forEach(function(u){return u(i,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),n)for(var o=vr.length;o--;)vr[o].id===this.id&&vr.splice(o,1)},t.revert=function(i){this.kill(i||{})},r}(),NI=function(){function r(e){this.contexts=[],this.scope=e,Bt&&Bt.data.push(this)}var t=r.prototype;return t.add=function(i,n,s){$i(i)||(i={matches:i});var o=new xw(0,s||this.scope),a=o.conditions={},h,l,u;Bt&&!o.selector&&(o.selector=Bt.selector),this.contexts.push(o),n=o.add("onMatch",n),o.queries=i;for(l in i)l==="all"?u=1:(h=ki.matchMedia(i[l]),h&&(vr.indexOf(o)<0&&vr.push(o),(a[l]=h.matches)&&(u=1),h.addListener?h.addListener(qf):h.addEventListener("change",qf)));return u&&n(o,function(c){return o.add(null,c)}),this},t.revert=function(i){this.kill(i||{})},t.kill=function(i){this.contexts.forEach(function(n){return n.kill(i,!0)})},r}(),th={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e.forEach(function(n){return rw(n)})},timeline:function(t){return new _e(t)},getTweensOf:function(t,e){return qt.getTweensOf(t,e)},getProperty:function(t,e,i,n){ae(t)&&(t=ei(t)[0]);var s=_r(t||{}).get,o=i?W1:H1;return i==="native"&&(i=""),t&&(e?o((Fe[e]&&Fe[e].get||s)(t,e,i,n)):function(a,h,l){return o((Fe[a]&&Fe[a].get||s)(t,a,h,l))})},quickSetter:function(t,e,i){if(t=ei(t),t.length>1){var n=t.map(function(u){return Ie.quickSetter(u,e,i)}),s=n.length;return function(u){for(var c=s;c--;)n[c](u)}}t=t[0]||{};var o=Fe[e],a=_r(t),h=a.harness&&(a.harness.aliases||{})[e]||e,l=o?function(u){var c=new o;Vr._pt=0,c.init(t,i?u+i:u,Vr,0,[t]),c.render(1,c),Vr._pt&&rp(1,Vr)}:a.set(t,h);return o?l:function(u){return l(t,h,i?u+i:u,a,1)}},quickTo:function(t,e,i){var n,s=Ie.to(t,He((n={},n[e]="+=0.1",n.paused=!0,n.stagger=0,n),i||{})),o=function(h,l,u){return s.resetTo(e,h,l,u)};return o.tween=s,o},isTweening:function(t){return qt.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=br(t.ease,ss.ease)),Gy(ss,t||{})},config:function(t){return Gy(Ue,t||{})},registerEffect:function(t){var e=t.name,i=t.effect,n=t.plugins,s=t.defaults,o=t.extendTimeline;(n||"").split(",").forEach(function(a){return a&&!Fe[a]&&!Ge[a]&&fo(e+" effect requires "+a+" plugin.")}),yu[e]=function(a,h,l){return i(ei(a),He(h||{},s),l)},o&&(_e.prototype[e]=function(a,h,l){return this.add(yu[e](a,$i(h)?h:(l=h)&&{},this),l)})},registerEase:function(t,e){Et[t]=br(e)},parseEase:function(t,e){return arguments.length?br(t,e):Et},getById:function(t){return qt.getById(t)},exportRoot:function(t,e){t===void 0&&(t={});var i=new _e(t),n,s;for(i.smoothChildTiming=Ae(t.smoothChildTiming),qt.remove(i),i._dp=0,i._time=i._tTime=qt._time,n=qt._first;n;)s=n._next,(e||!(!n._dur&&n instanceof Zt&&n.vars.onComplete===n._targets[0]))&&ji(i,n,n._start-n._delay),n=s;return ji(qt,i,0),i},context:function(t,e){return t?new xw(t,e):Bt},matchMedia:function(t){return new NI(t)},matchMediaRefresh:function(){return vr.forEach(function(t){var e=t.conditions,i,n;for(n in e)e[n]&&(e[n]=!1,i=1);i&&t.revert()})||qf()},addEventListener:function(t,e){var i=Sa[t]||(Sa[t]=[]);~i.indexOf(e)||i.push(e)},removeEventListener:function(t,e){var i=Sa[t],n=i&&i.indexOf(e);n>=0&&i.splice(n,1)},utils:{wrap:_I,wrapYoyo:xI,distribute:J1,random:tw,snap:Q1,normalize:yI,getUnit:de,clamp:fI,splitColor:sw,toArray:ei,selector:Lf,mapRange:iw,pipe:pI,unitize:mI,interpolate:bI,shuffle:K1},install:B1,effects:yu,ticker:Oe,updateRoot:_e.updateRoot,plugins:Fe,globalTimeline:qt,core:{PropTween:Se,globals:N1,Tween:Zt,Timeline:_e,Animation:yo,getCache:_r,_removeLinkedListItem:wh,reverting:function(){return le},context:function(t){return t&&Bt&&(Bt.data.push(t),t._ctx=Bt),Bt},suppressOverwrites:function(t){return Wg=t}}};Ee("to,from,fromTo,delayedCall,set,killTweensOf",function(r){return th[r]=Zt[r]});Oe.add(_e.updateRoot);Vr=th.to({},{duration:0});var qI=function(t,e){for(var i=t._pt;i&&i.p!==e&&i.op!==e&&i.fp!==e;)i=i._next;return i},UI=function(t,e){var i=t._targets,n,s,o;for(n in e)for(s=i.length;s--;)o=t._ptLookup[s][n],o&&(o=o.d)&&(o._pt&&(o=qI(o,n)),o&&o.modifier&&o.modifier(e[n],t,i[s],n))},wu=function(t,e){return{name:t,headless:1,rawVars:1,init:function(n,s,o){o._onInit=function(a){var h,l;if(ae(s)&&(h={},Ee(s,function(u){return h[u]=1}),s=h),e){h={};for(l in s)h[l]=e(s[l]);s=h}UI(a,s)}}}},Ie=th.registerPlugin({name:"attr",init:function(t,e,i,n,s){var o,a,h;this.tween=i;for(o in e)h=t.getAttribute(o)||"",a=this.add(t,"setAttribute",(h||0)+"",e[o],n,s,0,0,o),a.op=o,a.b=h,this._props.push(o)},render:function(t,e){for(var i=e._pt;i;)le?i.set(i.t,i.p,i.b,i):i.r(t,i.d),i=i._next}},{name:"endArray",headless:1,init:function(t,e){for(var i=e.length;i--;)this.add(t,i,t[i]||0,e[i],0,0,0,0,0,1)}},wu("roundProps",Bf),wu("modifiers"),wu("snap",Q1))||th;Zt.version=_e.version=Ie.version="3.13.0";L1=1;Vg()&&ls();Et.Power0;Et.Power1;Et.Power2;Et.Power3;Et.Power4;Et.Linear;Et.Quad;Et.Cubic;Et.Quart;Et.Quint;Et.Strong;Et.Elastic;Et.Back;Et.SteppedEase;Et.Bounce;Et.Sine;Et.Expo;Et.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Yy,Dn,ts,sp,fr,Zy,op,GI=function(){return typeof window<"u"},yn={},cr=180/Math.PI,es=Math.PI/180,Lr=Math.atan2,Ky=1e8,ap=/([A-Z])/g,HI=/(left|right|width|margin|padding|x)/i,WI=/[\s,\(]\S/,Oi={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Uf=function(t,e){return e.set(e.t,e.p,Math.round((e.s+e.c*t)*1e4)/1e4+e.u,e)},$I=function(t,e){return e.set(e.t,e.p,t===1?e.e:Math.round((e.s+e.c*t)*1e4)/1e4+e.u,e)},VI=function(t,e){return e.set(e.t,e.p,t?Math.round((e.s+e.c*t)*1e4)/1e4+e.u:e.b,e)},XI=function(t,e){var i=e.s+e.c*t;e.set(e.t,e.p,~~(i+(i<0?-.5:.5))+e.u,e)},bw=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},vw=function(t,e){return e.set(e.t,e.p,t!==1?e.b:e.e,e)},YI=function(t,e,i){return t.style[e]=i},ZI=function(t,e,i){return t.style.setProperty(e,i)},KI=function(t,e,i){return t._gsap[e]=i},JI=function(t,e,i){return t._gsap.scaleX=t._gsap.scaleY=i},QI=function(t,e,i,n,s){var o=t._gsap;o.scaleX=o.scaleY=i,o.renderTransform(s,o)},tz=function(t,e,i,n,s){var o=t._gsap;o[e]=i,o.renderTransform(s,o)},Ut="transform",Ce=Ut+"Origin",ez=function r(t,e){var i=this,n=this.target,s=n.style,o=n._gsap;if(t in yn&&s){if(this.tfm=this.tfm||{},t!=="transform")t=Oi[t]||t,~t.indexOf(",")?t.split(",").forEach(function(a){return i.tfm[a]=sn(n,a)}):this.tfm[t]=o.x?o[t]:sn(n,t),t===Ce&&(this.tfm.zOrigin=o.zOrigin);else return Oi.transform.split(",").forEach(function(a){return r.call(i,a,e)});if(this.props.indexOf(Ut)>=0)return;o.svg&&(this.svgo=n.getAttribute("data-svg-origin"),this.props.push(Ce,e,"")),t=Ut}(s||e)&&this.props.push(t,e,s[t])},ww=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},iz=function(){var t=this.props,e=this.target,i=e.style,n=e._gsap,s,o;for(s=0;s<t.length;s+=3)t[s+1]?t[s+1]===2?e[t[s]](t[s+2]):e[t[s]]=t[s+2]:t[s+2]?i[t[s]]=t[s+2]:i.removeProperty(t[s].substr(0,2)==="--"?t[s]:t[s].replace(ap,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)n[o]=this.tfm[o];n.svg&&(n.renderTransform(),e.setAttribute("data-svg-origin",this.svgo||"")),s=op(),(!s||!s.isStart)&&!i[Ut]&&(ww(i),n.zOrigin&&i[Ce]&&(i[Ce]+=" "+n.zOrigin+"px",n.zOrigin=0,n.renderTransform()),n.uncache=1)}},Tw=function(t,e){var i={target:t,props:[],revert:iz,save:ez};return t._gsap||Ie.core.getCache(t),e&&t.style&&t.nodeType&&e.split(",").forEach(function(n){return i.save(n)}),i},Aw,Gf=function(t,e){var i=Dn.createElementNS?Dn.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Dn.createElement(t);return i&&i.style?i:Dn.createElement(t)},ii=function r(t,e,i){var n=getComputedStyle(t);return n[e]||n.getPropertyValue(e.replace(ap,"-$1").toLowerCase())||n.getPropertyValue(e)||!i&&r(t,us(e)||e,1)||""},Jy="O,Moz,ms,Ms,Webkit".split(","),us=function(t,e,i){var n=e||fr,s=n.style,o=5;if(t in s&&!i)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);o--&&!(Jy[o]+t in s););return o<0?null:(o===3?"ms":o>=0?Jy[o]:"")+t},Hf=function(){GI()&&window.document&&(Yy=window,Dn=Yy.document,ts=Dn.documentElement,fr=Gf("div")||{style:{}},Gf("div"),Ut=us(Ut),Ce=Ut+"Origin",fr.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Aw=!!us("perspective"),op=Ie.core.reverting,sp=1)},Qy=function(t){var e=t.ownerSVGElement,i=Gf("svg",e&&e.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=t.cloneNode(!0),s;n.style.display="block",i.appendChild(n),ts.appendChild(i);try{s=n.getBBox()}catch{}return i.removeChild(n),ts.removeChild(i),s},t_=function(t,e){for(var i=e.length;i--;)if(t.hasAttribute(e[i]))return t.getAttribute(e[i])},Ew=function(t){var e,i;try{e=t.getBBox()}catch{e=Qy(t),i=1}return e&&(e.width||e.height)||i||(e=Qy(t)),e&&!e.width&&!e.x&&!e.y?{x:+t_(t,["x","cx","x1"])||0,y:+t_(t,["y","cy","y1"])||0,width:0,height:0}:e},Sw=function(t){return!!(t.getCTM&&(!t.parentNode||t.ownerSVGElement)&&Ew(t))},Ar=function(t,e){if(e){var i=t.style,n;e in yn&&e!==Ce&&(e=Ut),i.removeProperty?(n=e.substr(0,2),(n==="ms"||e.substr(0,6)==="webkit")&&(e="-"+e),i.removeProperty(n==="--"?e:e.replace(ap,"-$1").toLowerCase())):i.removeAttribute(e)}},Fn=function(t,e,i,n,s,o){var a=new Se(t._pt,e,i,0,1,o?vw:bw);return t._pt=a,a.b=n,a.e=s,t._props.push(i),a},e_={deg:1,rad:1,turn:1},nz={grid:1,flex:1},Vn=function r(t,e,i,n){var s=parseFloat(i)||0,o=(i+"").trim().substr((s+"").length)||"px",a=fr.style,h=HI.test(e),l=t.tagName.toLowerCase()==="svg",u=(l?"client":"offset")+(h?"Width":"Height"),c=100,d=n==="px",f=n==="%",g,p,m,y;if(n===o||!s||e_[n]||e_[o])return s;if(o!=="px"&&!d&&(s=r(t,e,i,"px")),y=t.getCTM&&Sw(t),(f||o==="%")&&(yn[e]||~e.indexOf("adius")))return g=y?t.getBBox()[h?"width":"height"]:t[u],$t(f?s/g*c:s/100*g);if(a[h?"width":"height"]=c+(d?o:n),p=n!=="rem"&&~e.indexOf("adius")||n==="em"&&t.appendChild&&!l?t:t.parentNode,y&&(p=(t.ownerSVGElement||{}).parentNode),(!p||p===Dn||!p.appendChild)&&(p=Dn.body),m=p._gsap,m&&f&&m.width&&h&&m.time===Oe.time&&!m.uncache)return $t(s/m.width*c);if(f&&(e==="height"||e==="width")){var x=t.style[e];t.style[e]=c+n,g=t[u],x?t.style[e]=x:Ar(t,e)}else(f||o==="%")&&!nz[ii(p,"display")]&&(a.position=ii(t,"position")),p===t&&(a.position="static"),p.appendChild(fr),g=fr[u],p.removeChild(fr),a.position="absolute";return h&&f&&(m=_r(p),m.time=Oe.time,m.width=p[u]),$t(d?g*s/c:g&&s?c/g*s:0)},sn=function(t,e,i,n){var s;return sp||Hf(),e in Oi&&e!=="transform"&&(e=Oi[e],~e.indexOf(",")&&(e=e.split(",")[0])),yn[e]&&e!=="transform"?(s=xo(t,n),s=e!=="transformOrigin"?s[e]:s.svg?s.origin:ih(ii(t,Ce))+" "+s.zOrigin+"px"):(s=t.style[e],(!s||s==="auto"||n||~(s+"").indexOf("calc("))&&(s=eh[e]&&eh[e](t,e,i)||ii(t,e)||U1(t,e)||(e==="opacity"?1:0))),i&&!~(s+"").trim().indexOf(" ")?Vn(t,e,s,i)+i:s},rz=function(t,e,i,n){if(!i||i==="none"){var s=us(e,t,1),o=s&&ii(t,s,1);o&&o!==i?(e=s,i=o):e==="borderColor"&&(i=ii(t,"borderTopColor"))}var a=new Se(this._pt,t.style,e,0,1,yw),h=0,l=0,u,c,d,f,g,p,m,y,x,_,v,b;if(a.b=i,a.e=n,i+="",n+="",n.substring(0,6)==="var(--"&&(n=ii(t,n.substring(4,n.indexOf(")")))),n==="auto"&&(p=t.style[e],t.style[e]=n,n=ii(t,e)||n,p?t.style[e]=p:Ar(t,e)),u=[i,n],aw(u),i=u[0],n=u[1],d=i.match($r)||[],b=n.match($r)||[],b.length){for(;c=$r.exec(n);)m=c[0],x=n.substring(h,c.index),g?g=(g+1)%5:(x.substr(-5)==="rgba("||x.substr(-5)==="hsla(")&&(g=1),m!==(p=d[l++]||"")&&(f=parseFloat(p)||0,v=p.substr((f+"").length),m.charAt(1)==="="&&(m=Qr(f,m)+v),y=parseFloat(m),_=m.substr((y+"").length),h=$r.lastIndex-_.length,_||(_=_||Ue.units[e]||v,h===n.length&&(n+=_,a.e+=_)),v!==_&&(f=Vn(t,e,p,_)||0),a._pt={_next:a._pt,p:x||l===1?x:",",s:f,c:y-f,m:g&&g<4||e==="zIndex"?Math.round:0});a.c=h<n.length?n.substring(h,n.length):""}else a.r=e==="display"&&n==="none"?vw:bw;return F1.test(n)&&(a.e=0),this._pt=a,a},i_={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},sz=function(t){var e=t.split(" "),i=e[0],n=e[1]||"50%";return(i==="top"||i==="bottom"||n==="left"||n==="right")&&(t=i,i=n,n=t),e[0]=i_[i]||i,e[1]=i_[n]||n,e.join(" ")},oz=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var i=e.t,n=i.style,s=e.u,o=i._gsap,a,h,l;if(s==="all"||s===!0)n.cssText="",h=1;else for(s=s.split(","),l=s.length;--l>-1;)a=s[l],yn[a]&&(h=1,a=a==="transformOrigin"?Ce:Ut),Ar(i,a);h&&(Ar(i,Ut),o&&(o.svg&&i.removeAttribute("transform"),n.scale=n.rotate=n.translate="none",xo(i,1),o.uncache=1,ww(n)))}},eh={clearProps:function(t,e,i,n,s){if(s.data!=="isFromStart"){var o=t._pt=new Se(t._pt,e,i,0,0,oz);return o.u=n,o.pr=-10,o.tween=s,t._props.push(i),1}}},_o=[1,0,0,1,0,0],Cw={},Iw=function(t){return t==="matrix(1, 0, 0, 1, 0, 0)"||t==="none"||!t},n_=function(t){var e=ii(t,Ut);return Iw(e)?_o:e.substr(7).match(D1).map($t)},hp=function(t,e){var i=t._gsap||_r(t),n=t.style,s=n_(t),o,a,h,l;return i.svg&&t.getAttribute("transform")?(h=t.transform.baseVal.consolidate().matrix,s=[h.a,h.b,h.c,h.d,h.e,h.f],s.join(",")==="1,0,0,1,0,0"?_o:s):(s===_o&&!t.offsetParent&&t!==ts&&!i.svg&&(h=n.display,n.display="block",o=t.parentNode,(!o||!t.offsetParent&&!t.getBoundingClientRect().width)&&(l=1,a=t.nextElementSibling,ts.appendChild(t)),s=n_(t),h?n.display=h:Ar(t,"display"),l&&(a?o.insertBefore(t,a):o?o.appendChild(t):ts.removeChild(t))),e&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},Wf=function(t,e,i,n,s,o){var a=t._gsap,h=s||hp(t,!0),l=a.xOrigin||0,u=a.yOrigin||0,c=a.xOffset||0,d=a.yOffset||0,f=h[0],g=h[1],p=h[2],m=h[3],y=h[4],x=h[5],_=e.split(" "),v=parseFloat(_[0])||0,b=parseFloat(_[1])||0,E,w,C,z;i?h!==_o&&(w=f*m-g*p)&&(C=v*(m/w)+b*(-p/w)+(p*x-m*y)/w,z=v*(-g/w)+b*(f/w)-(f*x-g*y)/w,v=C,b=z):(E=Ew(t),v=E.x+(~_[0].indexOf("%")?v/100*E.width:v),b=E.y+(~(_[1]||_[0]).indexOf("%")?b/100*E.height:b)),n||n!==!1&&a.smooth?(y=v-l,x=b-u,a.xOffset=c+(y*f+x*p)-y,a.yOffset=d+(y*g+x*m)-x):a.xOffset=a.yOffset=0,a.xOrigin=v,a.yOrigin=b,a.smooth=!!n,a.origin=e,a.originIsAbsolute=!!i,t.style[Ce]="0px 0px",o&&(Fn(o,a,"xOrigin",l,v),Fn(o,a,"yOrigin",u,b),Fn(o,a,"xOffset",c,a.xOffset),Fn(o,a,"yOffset",d,a.yOffset)),t.setAttribute("data-svg-origin",v+" "+b)},xo=function(t,e){var i=t._gsap||new cw(t);if("x"in i&&!e&&!i.uncache)return i;var n=t.style,s=i.scaleX<0,o="px",a="deg",h=getComputedStyle(t),l=ii(t,Ce)||"0",u,c,d,f,g,p,m,y,x,_,v,b,E,w,C,z,F,D,M,k,j,O,T,S,A,R,I,P,L,B,U,H;return u=c=d=p=m=y=x=_=v=0,f=g=1,i.svg=!!(t.getCTM&&Sw(t)),h.translate&&((h.translate!=="none"||h.scale!=="none"||h.rotate!=="none")&&(n[Ut]=(h.translate!=="none"?"translate3d("+(h.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(h.rotate!=="none"?"rotate("+h.rotate+") ":"")+(h.scale!=="none"?"scale("+h.scale.split(" ").join(",")+") ":"")+(h[Ut]!=="none"?h[Ut]:"")),n.scale=n.rotate=n.translate="none"),w=hp(t,i.svg),i.svg&&(i.uncache?(A=t.getBBox(),l=i.xOrigin-A.x+"px "+(i.yOrigin-A.y)+"px",S=""):S=!e&&t.getAttribute("data-svg-origin"),Wf(t,S||l,!!S||i.originIsAbsolute,i.smooth!==!1,w)),b=i.xOrigin||0,E=i.yOrigin||0,w!==_o&&(D=w[0],M=w[1],k=w[2],j=w[3],u=O=w[4],c=T=w[5],w.length===6?(f=Math.sqrt(D*D+M*M),g=Math.sqrt(j*j+k*k),p=D||M?Lr(M,D)*cr:0,x=k||j?Lr(k,j)*cr+p:0,x&&(g*=Math.abs(Math.cos(x*es))),i.svg&&(u-=b-(b*D+E*k),c-=E-(b*M+E*j))):(H=w[6],B=w[7],I=w[8],P=w[9],L=w[10],U=w[11],u=w[12],c=w[13],d=w[14],C=Lr(H,L),m=C*cr,C&&(z=Math.cos(-C),F=Math.sin(-C),S=O*z+I*F,A=T*z+P*F,R=H*z+L*F,I=O*-F+I*z,P=T*-F+P*z,L=H*-F+L*z,U=B*-F+U*z,O=S,T=A,H=R),C=Lr(-k,L),y=C*cr,C&&(z=Math.cos(-C),F=Math.sin(-C),S=D*z-I*F,A=M*z-P*F,R=k*z-L*F,U=j*F+U*z,D=S,M=A,k=R),C=Lr(M,D),p=C*cr,C&&(z=Math.cos(C),F=Math.sin(C),S=D*z+M*F,A=O*z+T*F,M=M*z-D*F,T=T*z-O*F,D=S,O=A),m&&Math.abs(m)+Math.abs(p)>359.9&&(m=p=0,y=180-y),f=$t(Math.sqrt(D*D+M*M+k*k)),g=$t(Math.sqrt(T*T+H*H)),C=Lr(O,T),x=Math.abs(C)>2e-4?C*cr:0,v=U?1/(U<0?-U:U):0),i.svg&&(S=t.getAttribute("transform"),i.forceCSS=t.setAttribute("transform","")||!Iw(ii(t,Ut)),S&&t.setAttribute("transform",S))),Math.abs(x)>90&&Math.abs(x)<270&&(s?(f*=-1,x+=p<=0?180:-180,p+=p<=0?180:-180):(g*=-1,x+=x<=0?180:-180)),e=e||i.uncache,i.x=u-((i.xPercent=u&&(!e&&i.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-u)?-50:0)))?t.offsetWidth*i.xPercent/100:0)+o,i.y=c-((i.yPercent=c&&(!e&&i.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-c)?-50:0)))?t.offsetHeight*i.yPercent/100:0)+o,i.z=d+o,i.scaleX=$t(f),i.scaleY=$t(g),i.rotation=$t(p)+a,i.rotationX=$t(m)+a,i.rotationY=$t(y)+a,i.skewX=x+a,i.skewY=_+a,i.transformPerspective=v+o,(i.zOrigin=parseFloat(l.split(" ")[2])||!e&&i.zOrigin||0)&&(n[Ce]=ih(l)),i.xOffset=i.yOffset=0,i.force3D=Ue.force3D,i.renderTransform=i.svg?hz:Aw?zw:az,i.uncache=0,i},ih=function(t){return(t=t.split(" "))[0]+" "+t[1]},Tu=function(t,e,i){var n=de(e);return $t(parseFloat(e)+parseFloat(Vn(t,"x",i+"px",n)))+n},az=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,zw(t,e)},rr="0deg",Is="0px",sr=") ",zw=function(t,e){var i=e||this,n=i.xPercent,s=i.yPercent,o=i.x,a=i.y,h=i.z,l=i.rotation,u=i.rotationY,c=i.rotationX,d=i.skewX,f=i.skewY,g=i.scaleX,p=i.scaleY,m=i.transformPerspective,y=i.force3D,x=i.target,_=i.zOrigin,v="",b=y==="auto"&&t&&t!==1||y===!0;if(_&&(c!==rr||u!==rr)){var E=parseFloat(u)*es,w=Math.sin(E),C=Math.cos(E),z;E=parseFloat(c)*es,z=Math.cos(E),o=Tu(x,o,w*z*-_),a=Tu(x,a,-Math.sin(E)*-_),h=Tu(x,h,C*z*-_+_)}m!==Is&&(v+="perspective("+m+sr),(n||s)&&(v+="translate("+n+"%, "+s+"%) "),(b||o!==Is||a!==Is||h!==Is)&&(v+=h!==Is||b?"translate3d("+o+", "+a+", "+h+") ":"translate("+o+", "+a+sr),l!==rr&&(v+="rotate("+l+sr),u!==rr&&(v+="rotateY("+u+sr),c!==rr&&(v+="rotateX("+c+sr),(d!==rr||f!==rr)&&(v+="skew("+d+", "+f+sr),(g!==1||p!==1)&&(v+="scale("+g+", "+p+sr),x.style[Ut]=v||"translate(0, 0)"},hz=function(t,e){var i=e||this,n=i.xPercent,s=i.yPercent,o=i.x,a=i.y,h=i.rotation,l=i.skewX,u=i.skewY,c=i.scaleX,d=i.scaleY,f=i.target,g=i.xOrigin,p=i.yOrigin,m=i.xOffset,y=i.yOffset,x=i.forceCSS,_=parseFloat(o),v=parseFloat(a),b,E,w,C,z;h=parseFloat(h),l=parseFloat(l),u=parseFloat(u),u&&(u=parseFloat(u),l+=u,h+=u),h||l?(h*=es,l*=es,b=Math.cos(h)*c,E=Math.sin(h)*c,w=Math.sin(h-l)*-d,C=Math.cos(h-l)*d,l&&(u*=es,z=Math.tan(l-u),z=Math.sqrt(1+z*z),w*=z,C*=z,u&&(z=Math.tan(u),z=Math.sqrt(1+z*z),b*=z,E*=z)),b=$t(b),E=$t(E),w=$t(w),C=$t(C)):(b=c,C=d,E=w=0),(_&&!~(o+"").indexOf("px")||v&&!~(a+"").indexOf("px"))&&(_=Vn(f,"x",o,"px"),v=Vn(f,"y",a,"px")),(g||p||m||y)&&(_=$t(_+g-(g*b+p*w)+m),v=$t(v+p-(g*E+p*C)+y)),(n||s)&&(z=f.getBBox(),_=$t(_+n/100*z.width),v=$t(v+s/100*z.height)),z="matrix("+b+","+E+","+w+","+C+","+_+","+v+")",f.setAttribute("transform",z),x&&(f.style[Ut]=z)},lz=function(t,e,i,n,s){var o=360,a=ae(s),h=parseFloat(s)*(a&&~s.indexOf("rad")?cr:1),l=h-n,u=n+l+"deg",c,d;return a&&(c=s.split("_")[1],c==="short"&&(l%=o,l!==l%(o/2)&&(l+=l<0?o:-o)),c==="cw"&&l<0?l=(l+o*Ky)%o-~~(l/o)*o:c==="ccw"&&l>0&&(l=(l-o*Ky)%o-~~(l/o)*o)),t._pt=d=new Se(t._pt,e,i,n,l,$I),d.e=u,d.u="deg",t._props.push(i),d},r_=function(t,e){for(var i in e)t[i]=e[i];return t},uz=function(t,e,i){var n=r_({},i._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=i.style,a,h,l,u,c,d,f,g;n.svg?(l=i.getAttribute("transform"),i.setAttribute("transform",""),o[Ut]=e,a=xo(i,1),Ar(i,Ut),i.setAttribute("transform",l)):(l=getComputedStyle(i)[Ut],o[Ut]=e,a=xo(i,1),o[Ut]=l);for(h in yn)l=n[h],u=a[h],l!==u&&s.indexOf(h)<0&&(f=de(l),g=de(u),c=f!==g?Vn(i,h,l,g):parseFloat(l),d=parseFloat(u),t._pt=new Se(t._pt,a,h,c,d-c,Uf),t._pt.u=g||0,t._props.push(h));r_(a,n)};Ee("padding,margin,Width,Radius",function(r,t){var e="Top",i="Right",n="Bottom",s="Left",o=(t<3?[e,i,n,s]:[e+s,e+i,n+i,n+s]).map(function(a){return t<2?r+a:"border"+a+r});eh[t>1?"border"+r:r]=function(a,h,l,u,c){var d,f;if(arguments.length<4)return d=o.map(function(g){return sn(a,g,l)}),f=d.join(" "),f.split(d[0]).length===5?d[0]:f;d=(u+"").split(" "),f={},o.forEach(function(g,p){return f[g]=d[p]=d[p]||d[(p-1)/2|0]}),a.init(h,f,c)}});var Pw={name:"css",register:Hf,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,i,n,s){var o=this._props,a=t.style,h=i.vars.startAt,l,u,c,d,f,g,p,m,y,x,_,v,b,E,w,C;sp||Hf(),this.styles=this.styles||Tw(t),C=this.styles.props,this.tween=i;for(p in e)if(p!=="autoRound"&&(u=e[p],!(Fe[p]&&dw(p,e,i,n,t,s)))){if(f=typeof u,g=eh[p],f==="function"&&(u=u.call(i,n,t,s),f=typeof u),f==="string"&&~u.indexOf("random(")&&(u=po(u)),g)g(this,t,p,u,i)&&(w=1);else if(p.substr(0,2)==="--")l=(getComputedStyle(t).getPropertyValue(p)+"").trim(),u+="",Un.lastIndex=0,Un.test(l)||(m=de(l),y=de(u)),y?m!==y&&(l=Vn(t,p,l,y)+y):m&&(u+=m),this.add(a,"setProperty",l,u,n,s,0,0,p),o.push(p),C.push(p,0,a[p]);else if(f!=="undefined"){if(h&&p in h?(l=typeof h[p]=="function"?h[p].call(i,n,t,s):h[p],ae(l)&&~l.indexOf("random(")&&(l=po(l)),de(l+"")||l==="auto"||(l+=Ue.units[p]||de(sn(t,p))||""),(l+"").charAt(1)==="="&&(l=sn(t,p))):l=sn(t,p),d=parseFloat(l),x=f==="string"&&u.charAt(1)==="="&&u.substr(0,2),x&&(u=u.substr(2)),c=parseFloat(u),p in Oi&&(p==="autoAlpha"&&(d===1&&sn(t,"visibility")==="hidden"&&c&&(d=0),C.push("visibility",0,a.visibility),Fn(this,a,"visibility",d?"inherit":"hidden",c?"inherit":"hidden",!c)),p!=="scale"&&p!=="transform"&&(p=Oi[p],~p.indexOf(",")&&(p=p.split(",")[0]))),_=p in yn,_){if(this.styles.save(p),f==="string"&&u.substring(0,6)==="var(--"&&(u=ii(t,u.substring(4,u.indexOf(")"))),c=parseFloat(u)),v||(b=t._gsap,b.renderTransform&&!e.parseTransform||xo(t,e.parseTransform),E=e.smoothOrigin!==!1&&b.smooth,v=this._pt=new Se(this._pt,a,Ut,0,1,b.renderTransform,b,0,-1),v.dep=1),p==="scale")this._pt=new Se(this._pt,b,"scaleY",b.scaleY,(x?Qr(b.scaleY,x+c):c)-b.scaleY||0,Uf),this._pt.u=0,o.push("scaleY",p),p+="X";else if(p==="transformOrigin"){C.push(Ce,0,a[Ce]),u=sz(u),b.svg?Wf(t,u,0,E,0,this):(y=parseFloat(u.split(" ")[2])||0,y!==b.zOrigin&&Fn(this,b,"zOrigin",b.zOrigin,y),Fn(this,a,p,ih(l),ih(u)));continue}else if(p==="svgOrigin"){Wf(t,u,1,E,0,this);continue}else if(p in Cw){lz(this,b,p,d,x?Qr(d,x+u):u);continue}else if(p==="smoothOrigin"){Fn(this,b,"smooth",b.smooth,u);continue}else if(p==="force3D"){b[p]=u;continue}else if(p==="transform"){uz(this,u,t);continue}}else p in a||(p=us(p)||p);if(_||(c||c===0)&&(d||d===0)&&!WI.test(u)&&p in a)m=(l+"").substr((d+"").length),c||(c=0),y=de(u)||(p in Ue.units?Ue.units[p]:m),m!==y&&(d=Vn(t,p,l,y)),this._pt=new Se(this._pt,_?b:a,p,d,(x?Qr(d,x+c):c)-d,!_&&(y==="px"||p==="zIndex")&&e.autoRound!==!1?XI:Uf),this._pt.u=y||0,m!==y&&y!=="%"&&(this._pt.b=l,this._pt.r=VI);else if(p in a)rz.call(this,t,p,l,x?x+u:u);else if(p in t)this.add(t,p,l||t[p],x?x+u:u,n,s);else if(p!=="parseTransform"){Yg(p,u);continue}_||(p in a?C.push(p,0,a[p]):typeof t[p]=="function"?C.push(p,2,t[p]()):C.push(p,1,l||t[p])),o.push(p)}}w&&_w(this)},render:function(t,e){if(e.tween._time||!op())for(var i=e._pt;i;)i.r(t,i.d),i=i._next;else e.styles.revert()},get:sn,aliases:Oi,getSetter:function(t,e,i){var n=Oi[e];return n&&n.indexOf(",")<0&&(e=n),e in yn&&e!==Ce&&(t._gsap.x||sn(t,"x"))?i&&Zy===i?e==="scale"?JI:KI:(Zy=i||{})&&(e==="scale"?QI:tz):t.style&&!$g(t.style[e])?YI:~e.indexOf("-")?ZI:np(t,e)},core:{_removeProperty:Ar,_getMatrix:hp}};Ie.utils.checkPrefix=us;Ie.core.getStyleSaver=Tw;(function(r,t,e,i){var n=Ee(r+","+t+","+e,function(s){yn[s]=1});Ee(t,function(s){Ue.units[s]="deg",Cw[s]=1}),Oi[n[13]]=r+","+t,Ee(i,function(s){var o=s.split(":");Oi[o[1]]=n[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Ee("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(r){Ue.units[r]="px"});Ie.registerPlugin(Pw);var V=Ie.registerPlugin(Pw)||Ie;V.core.Tween;var Ca={exports:{}},cz=Ca.exports,s_;function dz(){return s_||(s_=1,function(r,t){(function(e,i){r.exports=i()})(cz,function(){var e=1e3,i=6e4,n=36e5,s="millisecond",o="second",a="minute",h="hour",l="day",u="week",c="month",d="quarter",f="year",g="date",p="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(j){var O=["th","st","nd","rd"],T=j%100;return"["+j+(O[(T-20)%10]||O[T]||O[0])+"]"}},_=function(j,O,T){var S=String(j);return!S||S.length>=O?j:""+Array(O+1-S.length).join(T)+j},v={s:_,z:function(j){var O=-j.utcOffset(),T=Math.abs(O),S=Math.floor(T/60),A=T%60;return(O<=0?"+":"-")+_(S,2,"0")+":"+_(A,2,"0")},m:function j(O,T){if(O.date()<T.date())return-j(T,O);var S=12*(T.year()-O.year())+(T.month()-O.month()),A=O.clone().add(S,c),R=T-A<0,I=O.clone().add(S+(R?-1:1),c);return+(-(S+(T-A)/(R?A-I:I-A))||0)},a:function(j){return j<0?Math.ceil(j)||0:Math.floor(j)},p:function(j){return{M:c,y:f,w:u,d:l,D:g,h,m:a,s:o,ms:s,Q:d}[j]||String(j||"").toLowerCase().replace(/s$/,"")},u:function(j){return j===void 0}},b="en",E={};E[b]=x;var w="$isDayjsObject",C=function(j){return j instanceof M||!(!j||!j[w])},z=function j(O,T,S){var A;if(!O)return b;if(typeof O=="string"){var R=O.toLowerCase();E[R]&&(A=R),T&&(E[R]=T,A=R);var I=O.split("-");if(!A&&I.length>1)return j(I[0])}else{var P=O.name;E[P]=O,A=P}return!S&&A&&(b=A),A||!S&&b},F=function(j,O){if(C(j))return j.clone();var T=typeof O=="object"?O:{};return T.date=j,T.args=arguments,new M(T)},D=v;D.l=z,D.i=C,D.w=function(j,O){return F(j,{locale:O.$L,utc:O.$u,x:O.$x,$offset:O.$offset})};var M=function(){function j(T){this.$L=z(T.locale,null,!0),this.parse(T),this.$x=this.$x||T.x||{},this[w]=!0}var O=j.prototype;return O.parse=function(T){this.$d=function(S){var A=S.date,R=S.utc;if(A===null)return new Date(NaN);if(D.u(A))return new Date;if(A instanceof Date)return new Date(A);if(typeof A=="string"&&!/Z$/i.test(A)){var I=A.match(m);if(I){var P=I[2]-1||0,L=(I[7]||"0").substring(0,3);return R?new Date(Date.UTC(I[1],P,I[3]||1,I[4]||0,I[5]||0,I[6]||0,L)):new Date(I[1],P,I[3]||1,I[4]||0,I[5]||0,I[6]||0,L)}}return new Date(A)}(T),this.init()},O.init=function(){var T=this.$d;this.$y=T.getFullYear(),this.$M=T.getMonth(),this.$D=T.getDate(),this.$W=T.getDay(),this.$H=T.getHours(),this.$m=T.getMinutes(),this.$s=T.getSeconds(),this.$ms=T.getMilliseconds()},O.$utils=function(){return D},O.isValid=function(){return this.$d.toString()!==p},O.isSame=function(T,S){var A=F(T);return this.startOf(S)<=A&&A<=this.endOf(S)},O.isAfter=function(T,S){return F(T)<this.startOf(S)},O.isBefore=function(T,S){return this.endOf(S)<F(T)},O.$g=function(T,S,A){return D.u(T)?this[S]:this.set(A,T)},O.unix=function(){return Math.floor(this.valueOf()/1e3)},O.valueOf=function(){return this.$d.getTime()},O.startOf=function(T,S){var A=this,R=!!D.u(S)||S,I=D.p(T),P=function(rt,$){var it=D.w(A.$u?Date.UTC(A.$y,$,rt):new Date(A.$y,$,rt),A);return R?it:it.endOf(l)},L=function(rt,$){return D.w(A.toDate()[rt].apply(A.toDate("s"),(R?[0,0,0,0]:[23,59,59,999]).slice($)),A)},B=this.$W,U=this.$M,H=this.$D,Z="set"+(this.$u?"UTC":"");switch(I){case f:return R?P(1,0):P(31,11);case c:return R?P(1,U):P(0,U+1);case u:var K=this.$locale().weekStart||0,nt=(B<K?B+7:B)-K;return P(R?H-nt:H+(6-nt),U);case l:case g:return L(Z+"Hours",0);case h:return L(Z+"Minutes",1);case a:return L(Z+"Seconds",2);case o:return L(Z+"Milliseconds",3);default:return this.clone()}},O.endOf=function(T){return this.startOf(T,!1)},O.$set=function(T,S){var A,R=D.p(T),I="set"+(this.$u?"UTC":""),P=(A={},A[l]=I+"Date",A[g]=I+"Date",A[c]=I+"Month",A[f]=I+"FullYear",A[h]=I+"Hours",A[a]=I+"Minutes",A[o]=I+"Seconds",A[s]=I+"Milliseconds",A)[R],L=R===l?this.$D+(S-this.$W):S;if(R===c||R===f){var B=this.clone().set(g,1);B.$d[P](L),B.init(),this.$d=B.set(g,Math.min(this.$D,B.daysInMonth())).$d}else P&&this.$d[P](L);return this.init(),this},O.set=function(T,S){return this.clone().$set(T,S)},O.get=function(T){return this[D.p(T)]()},O.add=function(T,S){var A,R=this;T=Number(T);var I=D.p(S),P=function(U){var H=F(R);return D.w(H.date(H.date()+Math.round(U*T)),R)};if(I===c)return this.set(c,this.$M+T);if(I===f)return this.set(f,this.$y+T);if(I===l)return P(1);if(I===u)return P(7);var L=(A={},A[a]=i,A[h]=n,A[o]=e,A)[I]||1,B=this.$d.getTime()+T*L;return D.w(B,this)},O.subtract=function(T,S){return this.add(-1*T,S)},O.format=function(T){var S=this,A=this.$locale();if(!this.isValid())return A.invalidDate||p;var R=T||"YYYY-MM-DDTHH:mm:ssZ",I=D.z(this),P=this.$H,L=this.$m,B=this.$M,U=A.weekdays,H=A.months,Z=A.meridiem,K=function($,it,st,ft){return $&&($[it]||$(S,R))||st[it].slice(0,ft)},nt=function($){return D.s(P%12||12,$,"0")},rt=Z||function($,it,st){var ft=$<12?"AM":"PM";return st?ft.toLowerCase():ft};return R.replace(y,function($,it){return it||function(st){switch(st){case"YY":return String(S.$y).slice(-2);case"YYYY":return D.s(S.$y,4,"0");case"M":return B+1;case"MM":return D.s(B+1,2,"0");case"MMM":return K(A.monthsShort,B,H,3);case"MMMM":return K(H,B);case"D":return S.$D;case"DD":return D.s(S.$D,2,"0");case"d":return String(S.$W);case"dd":return K(A.weekdaysMin,S.$W,U,2);case"ddd":return K(A.weekdaysShort,S.$W,U,3);case"dddd":return U[S.$W];case"H":return String(P);case"HH":return D.s(P,2,"0");case"h":return nt(1);case"hh":return nt(2);case"a":return rt(P,L,!0);case"A":return rt(P,L,!1);case"m":return String(L);case"mm":return D.s(L,2,"0");case"s":return String(S.$s);case"ss":return D.s(S.$s,2,"0");case"SSS":return D.s(S.$ms,3,"0");case"Z":return I}return null}($)||I.replace(":","")})},O.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},O.diff=function(T,S,A){var R,I=this,P=D.p(S),L=F(T),B=(L.utcOffset()-this.utcOffset())*i,U=this-L,H=function(){return D.m(I,L)};switch(P){case f:R=H()/12;break;case c:R=H();break;case d:R=H()/3;break;case u:R=(U-B)/6048e5;break;case l:R=(U-B)/864e5;break;case h:R=U/n;break;case a:R=U/i;break;case o:R=U/e;break;default:R=U}return A?R:D.a(R)},O.daysInMonth=function(){return this.endOf(c).$D},O.$locale=function(){return E[this.$L]},O.locale=function(T,S){if(!T)return this.$L;var A=this.clone(),R=z(T,S,!0);return R&&(A.$L=R),A},O.clone=function(){return D.w(this.$d,this)},O.toDate=function(){return new Date(this.valueOf())},O.toJSON=function(){return this.isValid()?this.toISOString():null},O.toISOString=function(){return this.$d.toISOString()},O.toString=function(){return this.$d.toUTCString()},j}(),k=M.prototype;return F.prototype=k,[["$ms",s],["$s",o],["$m",a],["$H",h],["$W",l],["$M",c],["$y",f],["$D",g]].forEach(function(j){k[j[1]]=function(O){return this.$g(O,j[0],j[1])}}),F.extend=function(j,O){return j.$i||(j(O,M,F),j.$i=!0),F},F.locale=z,F.isDayjs=C,F.unix=function(j){return F(1e3*j)},F.en=E[b],F.Ls=E,F.p={},F})}(Ca)),Ca.exports}var fz=dz();const Ei=Ao(fz);class Eh{constructor(t="hv"){this._listeners=[],this._listenerMap=new Map,this._handleResize=()=>{const e=window.innerWidth,i=window.innerHeight;let n;(e>i?"h":"v")==="h"?n=Math.min(e/1920,i/1080):n=Math.min(e/1080,i/1920),this._listeners.forEach(({cb:o})=>o(e,i,n))},this._mode=t,!(t==="h"||t==="v")&&(window.addEventListener("resize",()=>{requestAnimationFrame(this._handleResize)}),window.addEventListener("orientationchange",()=>{requestAnimationFrame(this._handleResize)}))}on(t,e=!0){const i=window.innerWidth,n=window.innerHeight,s=i>n?"h":"v";if(this._mode==="h")return e&&requestAnimationFrame(()=>{t(1920,1080,Math.min(i/1920,n/1080))}),()=>{};if(this._mode==="v")return e&&requestAnimationFrame(()=>{t(1080,1920,Math.min(i/1080,n/1920))}),()=>{};let o;s==="h"?o=Math.min(i/1920,n/1080):o=Math.min(i/1080,n/1920);const a={cb:t,immediate:e};return this._listeners.push(a),e&&requestAnimationFrame(()=>{t(window.innerWidth,window.innerHeight,o)}),()=>{this._listeners=this._listeners.filter(h=>h!==a)}}onById(t,e,i=!0){this.offById(t);const n=this.on(e,i);this._listenerMap.set(t,e),this._listenerMap.set(`${t}_remove`,n)}offById(...t){const e=t.flat();for(const i of e){const n=this._listenerMap.get(`${i}_remove`);typeof n=="function"&&n(),this._listenerMap.delete(i),this._listenerMap.delete(`${i}_remove`)}}}var gz=function(r,t,e,i){function n(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(u){try{l(i.next(u))}catch(c){o(c)}}function h(u){try{l(i.throw(u))}catch(c){o(c)}}function l(u){u.done?s(u.value):n(u.value).then(a,h)}l((i=i.apply(r,t||[])).next())})};class xn extends ct{constructor(){super()}destroy(){const t=Object.create(null,{destroy:{get:()=>super.destroy}});return gz(this,void 0,void 0,function*(){var e;yield(e=this._onBeforeDestroy)===null||e===void 0?void 0:e.call(this),requestAnimationFrame(()=>{var i;t.destroy.call(this,{children:!0}),(i=this._onDestroyed)===null||i===void 0||i.call(this)})})}}class wr extends Xt{constructor(){super(),this.alpha=wr.bgAlpha}updateSize(){const t=wr.stage.getLocalBounds();this.clear(),this.beginFill(0,1),this.drawRect(t.x,t.y,t.width,t.height),this.endFill()}}wr.bgAlpha=.5;const pz=(r,t)=>{let e=0;return(...i)=>{const n=Date.now();n-e>=t&&(e=n,r(...i))}},Lt=(r,t,e,i={})=>{const{once:n=!1,throttle:s=!1,throttleTime:o=1e3,preventDragClick:a=!1}=i;r.cursor="pointer",r.eventMode="static";let h=0,l=0,u=!1;a&&r.on("pointerdown",f=>{u=!1,h=f.globalX,l=f.globalY;const g=10,p=y=>{const x=y.globalX-h,_=y.globalY-l;x*x+_*_>g*g&&(u=!0)},m=()=>{r.off("pointermove",p),r.off("pointerup",m)};r.on("pointermove",p),r.on("pointerup",m)});const c=f=>{u&&["pointertap","pointerup"].includes(t)||f.button!==2&&e(f)},d=s?pz(c,o):c;return n?r.once(t,d):r.on(t,d),()=>{r.off(t,d)}};class Vi{static add(t,e){return this._callbacks.has(t)&&wt.shared.remove(this._callbacks.get(t).fn),this._callbacks.set(t,{fn:e,active:!0}),wt.shared.add(e),()=>{Vi.remove(t)}}static remove(t){const e=this._callbacks.get(t);e&&(wt.shared.remove(e.fn),this._callbacks.delete(t))}static stop(t){const e=this._callbacks.get(t);e&&e.active&&(wt.shared.remove(e.fn),e.active=!1)}static start(t){const e=this._callbacks.get(t);e&&!e.active&&(wt.shared.add(e.fn),e.active=!0)}static clearAll(){this._callbacks.forEach(t=>{wt.shared.remove(t.fn)}),this._callbacks.clear()}}Vi._callbacks=new Map;const lp=(r,t=0,e=t)=>{const{x:i,y:n,width:s,height:o}=r.getLocalBounds();r.pivot.x=i+s*t,r.pivot.y=n+o*e};var mz=function(r,t,e,i){function n(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(u){try{l(i.next(u))}catch(c){o(c)}}function h(u){try{l(i.throw(u))}catch(c){o(c)}}function l(u){u.done?s(u.value):n(u.value).then(a,h)}l((i=i.apply(r,t||[])).next())})};let Sh=class me extends xn{constructor(t){super(),this._vScale=1,wr.stage=me.stage,wr.bgAlpha=me.bgAlpha;const{onClickMask:e,vScale:i=1,needBg:n=!0}=t||{};this._vScale=i,this._maskUI=new wr,this.addChild(this._maskUI),this._maskUI.alpha=0,this._maskUI.eventMode="static",this._maskUI.visible=n,e&&Lt(this._maskUI,"pointertap",()=>{var h;e==null||e(),(h=this._offResize)===null||h===void 0||h.call(this)},{once:!0}),this._maskUI.cursor="default",this._dialogContainer=new ct,this.addChild(this._dialogContainer),this._dialogContainer.eventMode="static";const o=new Eh(me.adaptation).on(this._redraw.bind(this),!1),a=Vi.add("LibPixiDialog",()=>{this._maskUI.updateSize()});this._offResize=()=>{o(),a()}}setDialogContent(t){this._dialogContainer.addChild(t),this._dialogContainer.alpha=0,requestAnimationFrame(()=>{me.adaptation==="h"?this._redraw(1920,1080):me.adaptation==="v"?this._redraw(1080,1920):this._redraw(window.innerWidth,window.innerHeight),V.to(this._maskUI,{duration:me.durationIn,alpha:me.bgAlpha}),V.to(this._dialogContainer,{duration:me.durationIn,alpha:1})})}updatePosition(t,e){lp(this._dialogContainer,.5,.5);const i=1920/2,n=1080/2;t>e?this._dialogContainer.position.set(i,n):this._dialogContainer.position.set(n,i)}close(){return mz(this,void 0,void 0,function*(){var t;this._maskUI.eventMode="none",(t=this._offResize)===null||t===void 0||t.call(this),V.to(this._dialogContainer.scale,{duration:me.durationOut,ease:"back.in",x:0,y:0}),V.to(this._dialogContainer,{duration:me.durationOut,delay:me.durationOut/2,alpha:0}),yield V.to(this._maskUI,{duration:me.durationOut,delay:me.durationOut/2,alpha:0})})}_redraw(t,e){if(this._maskUI.updateSize(),this._lastIsH===t>e)return;this._lastIsH=t>e;let i=0;t>e?i=1:i=this._vScale,this.updatePosition(t,e),this._dialogContainer.scale.set(0),V.to(this._dialogContainer.scale,{duration:me.durationIn,ease:"back.out",x:i,y:i})}};Sh.bgAlpha=.5;Sh.durationIn=.5;Sh.durationOut=.5;Sh.adaptation="hv";var o_=function(r,t,e,i){function n(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(u){try{l(i.next(u))}catch(c){o(c)}}function h(u){try{l(i.throw(u))}catch(c){o(c)}}function l(u){u.done?s(u.value):n(u.value).then(a,h)}l((i=i.apply(r,t||[])).next())})};class yz{constructor(t){this._views={},this._closeListeners=new Map,this._openContainer=t}open(t,e,...i){if(this._views[e])return this._views[e];const n=new t(...i);return this._openContainer.addChild(n),this._views[e]=n,n}onClose(t,e){this._closeListeners.has(t)||this._closeListeners.set(t,new Set),this._closeListeners.get(t).add(e)}close(t){return o_(this,void 0,void 0,function*(){var e;const i=this._views[t];if(i){yield(e=i.destroy)===null||e===void 0?void 0:e.call(i),delete this._views[t];const n=this._closeListeners.get(t);if(!n)return;for(const s of n)s();this._closeListeners.delete(t)}})}closeAll(){return o_(this,void 0,void 0,function*(){const t=Object.keys(this._views);for(const e of t)yield this.close(e)})}}class ve extends Xt{constructor(t,e,i){super(),this.beginFill(i||0),this.drawRect(0,0,t,e),this.endFill(),i||(this.alpha=0)}}const we=class we extends xn{constructor(e){super();G(this,"_maskUI");G(this,"_dialogContainer");G(this,"_offResize");const{onClickMask:i}=e||{};this._maskUI=new ve(1920,1080,"#000"),this.addChild(this._maskUI),this._maskUI.alpha=0,this._maskUI.eventMode="static",i&&Lt(this._maskUI,"pointertap",()=>{var n;i==null||i(),(n=this._offResize)==null||n.call(this)},{once:!0}),this._dialogContainer=new ct,this.addChild(this._dialogContainer),this._dialogContainer.eventMode="static"}setDialogContent(e){this._dialogContainer.addChild(e);const i=this._dialogContainer.width/2,n=this._dialogContainer.height/2;this._dialogContainer.pivot.set(i,n),this._dialogContainer.scale.set(0),this._dialogContainer.alpha=0,V.to(this._maskUI,{duration:we.durationIn,alpha:we.bgAlpha}),V.to(this._dialogContainer,{duration:we.durationIn,alpha:1});const s=new Eh("hv");this._offResize=s.on((o,a)=>{const h=o/2,l=a/2,u=Math.min(o/1920,a/1080);this._dialogContainer.position.set(h,l),V.killTweensOf(this._dialogContainer.scale),V.to(this._dialogContainer.scale,{duration:we.durationIn,ease:"back.out",x:u,y:u})})}async close(){var e;(e=this._offResize)==null||e.call(this),V.to(this._dialogContainer.scale,{duration:we.durationOut,ease:"back.in",x:0,y:0}),V.to(this._dialogContainer,{duration:we.durationOut,delay:we.durationOut/2,alpha:0}),await V.to(this._maskUI,{duration:we.durationOut,delay:we.durationOut/2,alpha:0})}};G(we,"bgAlpha",.5),G(we,"durationIn",.5),G(we,"durationOut",.5);let $f=we;class Qi extends Xt{constructor(t){super();const{start:e,end:i,radius:n,color:s,strokeColor:o,thickness:a,alpha:h=1,anticlockwise:l=!1}=t;this.beginFill(s,h),o&&this.lineStyle(a,o),this.moveTo(0,0),this.arc(0,0,n,e,i,l),this.closePath(),this.endFill()}}class Mw extends Xt{constructor(t,e,i){super(),this.beginFill(i),this.drawRoundedRect(0,0,t,e,t/2),this.endFill()}}class Xi extends Xt{constructor(t,e){super(),this.beginFill(e),this.drawCircle(0,0,t),this.endFill()}}class _z extends Xt{constructor(t){super(),this.radius=0,this.enableTint=!0,this.bgColor="#fff",this.borderWidth=0,this.borderColor="black",this.bgAlpha=1;const{width:e,height:i,bgColor:n="#fff",alpha:s=1,radius:o=0,borderWidth:a=0,borderColor:h="black",enableTint:l=!0}=t;this.bgAlpha=s,this.radius=o,this.enableTint=l,this.bgColor=n,this.borderWidth=a,this.borderColor=h,this.renderBg(e,i)}updateColor(t){V.to(this,{tint:t,duration:.25})}renderBg(t,e){this.clear(),this.enableTint?(this.beginFill("#fff",this.bgAlpha),this.tint=this.bgColor):this.beginFill(this.bgColor,this.bgAlpha),this.borderWidth&&this.lineStyle(this.borderWidth,this.borderColor,1),this.radius!==0?typeof this.radius=="number"?this.drawRoundedRect(0,0,t,e,this.radius):(this.moveTo(0+this.radius[0],0),this.lineTo(0+t-this.radius[1],0),this.radius[1]>0?this.arcTo(0+t,0,0+t,0+this.radius[1],this.radius[1]):this.lineTo(0+t,0),this.lineTo(0+t,0+e-this.radius[2]),this.radius[2]>0?this.arcTo(0+t,0+e,0+t-this.radius[2],0+e,this.radius[2]):this.lineTo(0+t,0+e),this.lineTo(0+this.radius[3],0+e),this.radius[3]>0?this.arcTo(0,0+e,0,0+e-this.radius[3],this.radius[3]):this.lineTo(0,0+e),this.lineTo(0,0+this.radius[0]),this.radius[0]>0?this.arcTo(0,0,0+this.radius[0],0,this.radius[0]):this.lineTo(0,0),this.closePath()):this.drawRect(0,0,t,e),this.endFill()}}class Ch extends ct{constructor(t,e,i,n){if(super(),n){const s=new Xt;s.beginFill(16777215),s.drawRect(0,0,t,e),s.endFill(),this.addChild(s),this.mask=s}i?(this._bgColorFill=new _z({width:t,height:e,bgColor:i}),this.addChild(this._bgColorFill)):(this._fill=new qe,this._fill.width=t,this._fill.height=e,this.addChild(this._fill))}setSize(t,e){this._fill&&(this._fill.width=t,this._fill.height=e),this._bgColorFill&&this._bgColorFill.renderBg(t,e)}}class Ih extends ct{constructor(t){super(),this._elementList=[],this._params=t||{},this._elementList=this._params.elementList||[]}push(t){this.addChild(t),this._elementList.push(t)}layout(){const{colNum:t=this._elementList.length,colGap:e=325,rowGap:i=75,anchorX:n=0,anchorY:s=0}=this._params;this._elementList.forEach((o,a)=>{const h=a%t,l=Math.floor(a/t);o.x=h*e,o.y=l*i}),lp(this,n,s)}getList(){return this._elementList}destroyList(){this._elementList.forEach(t=>{t.destroy()}),this._elementList=[]}}const En=(r,t)=>{let e;if(r==="brightness")e=new Rn,e.brightness(t,!1);else if(r==="blur")e=new Dg;else if(r==="desaturate")e=new Rn,e.desaturate();else if(r==="contrast")e=new Rn,e.contrast(t,!1);else if(r==="saturate")e=new Rn,e.saturate(t,!1);else throw new Error("");return e.resolution=window.devicePixelRatio||1,e},a_=r=>{const t=document.createElement("textarea");t.value=r,t.style.position="fixed",t.style.opacity="0",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},xz=r=>{navigator.clipboard?navigator.clipboard.writeText(r).catch(()=>a_(r)):a_(r)};class on extends ct{constructor(){super(),this._positionValue="",this._isLocalte=!1,this._showInput=!1,this._allowMove=!1,this._downPos={x:0,y:0},window.addEventListener("keydown",t=>{if(t.ctrlKey&&t.key.toLowerCase()==="q"&&t.shiftKey){if(t.preventDefault(),this._isLocalte)return;this._showInput=!this._showInput}t.key==="Escape"&&(this._showInput=!1)}),this._createInput(),this._createResultList(),this._createStatusBar(),on.stage.on("pointerdown",t=>{if(!this._currentMoveContainer)return;this._allowMove=!0;const{x:e,y:i}=on.stage.toLocal(t.global);this._downPos={x:e,y:i}}),on.stage.on("pointermove",t=>{if(!this._allowMove||!this._currentMoveContainer)return;const{x:e,y:i}=on.stage.toLocal(t.global),n=e-this._downPos.x,s=i-this._downPos.y;this._currentMoveContainer.x+=n,this._currentMoveContainer.y+=s,this._downPos={x:e,y:i};const o=Math.round(this._currentMoveContainer.x),a=Math.round(this._currentMoveContainer.y);this._positionEl.textContent=`X: ${o}, Y: ${a}`,this._positionValue=`xxx.position.set(${o}, ${a})`}),on.stage.on("pointerup",()=>{this._allowMove=!1},this),wt.shared.add(()=>{this._showInput?this._isLocalte?(this._inputEl.style.display="none",this._resultEl.style.display="none",this._statusBarEl.style.display="flex"):(this._inputEl.style.display="block",this._resultEl.style.display="flex",this._statusBarEl.style.display="none",this._inputEl.focus()):(this._inputEl.style.display="none",this._resultEl.style.display="none")})}_createInput(){this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.style.cssText=`
      background-color: rgba(0,0,0,0.75);
      border: 2px solid rgba(255,255,255,0.5);
      color: #fff;
      display: none;
      font-size: 25px;
      height: 50px;
      left: 50%;
      outline: none;
      position: fixed;
      text-align: center;
      top: 25%;
      transform: translate(-50%, -50%);
      width: 50vw;
    `,document.body.appendChild(this._inputEl),this._inputEl.addEventListener("input",()=>{const t=this._findByName(on.stage,this._inputEl.value);this._resultEl.innerHTML="";const e=i=>{const n=this._createResultEl(i.node.constructor.name,i.node.name,i.depth);this._resultEl.appendChild(n),V.killTweensOf(i.node),n.addEventListener("mouseenter",()=>{V.to(i.node,{alpha:0,duration:.25,yoyo:!0,ease:"none",repeat:-1})}),n.addEventListener("mouseleave",()=>{V.killTweensOf(i.node),i.node.alpha=1}),n.addEventListener("click",()=>{V.killTweensOf(i.node),this._currentMoveContainer=i.node,i.node.alpha=1,i.node.filters=[En("desaturate",0)],this._isLocalte=!0}),i.children.forEach(e)};t.forEach(e)})}_createResultList(){this._resultEl=document.createElement("div"),this._resultEl.style.cssText=`
      background-color: rgba(0,0,0,0.75);
      border: 2px solid rgba(255,255,255,0.5);
      left: 50%;
      transform: translateX(-50%);
      height: 300px;
      overflow-y: auto;
      position: fixed;
      display: none;
      gap: 10px;
      flex-direction: column;
      top: calc(25% + 50px);
      width: 50vw;
    `,document.body.appendChild(this._resultEl)}_createResultEl(t,e,i){const n=document.createElement("div");n.style.cssText=`
      display: flex;
      justify-content: space-between;
      padding: 5px 10px;
      align-items: center;
      width: 100%;
      font-size: 25px;
      background-color: rgba(255,255,255,0.1);
      color: #fff;
      padding-left: ${i*20}px;
    `;const s=document.createElement("div");s.textContent=t,n.appendChild(s);const o=document.createElement("div");return o.textContent=e,n.appendChild(o),n}_createStatusBar(){this._statusBarEl=document.createElement("div"),this._statusBarEl.style.cssText=`
      align-items: center;
      background-color: rgba(0,0,0,0.75);
      border: 2px solid rgba(0, 255, 13, 0.5);
      color: #fff;
      display: none;
      font-size: 25px;
      justify-content: center;
      position: fixed;
      top: 25%;
      height: 50px;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 50vw;
    `,this._positionEl=document.createElement("div"),this._statusBarEl.appendChild(this._positionEl),document.body.appendChild(this._statusBarEl),this._statusBarEl.addEventListener("click",()=>{this._isLocalte=!1,xz(this._positionValue),this._currentMoveContainer&&(this._currentMoveContainer.filters=[],this._currentMoveContainer=void 0)})}_findByName(t,e){if(!e)return[];const i=s=>{var o;return((o=s.name)===null||o===void 0?void 0:o.toLowerCase().includes(e.toLowerCase()))||s.constructor.name.toLowerCase().includes(e.toLowerCase())},n=(s,o)=>{const a=s.children.filter(h=>h instanceof ct).flatMap(h=>n(h,o+1));return i(s)||a.length>0?[{node:s,depth:o,children:a,expanded:!0}]:[]};return n(t,0)}}/*!
 *  decimal.js v10.6.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var Xr=9e15,Qn=1e9,Vf="0123456789abcdef",nh="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",rh="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Xf={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Xr,maxE:Xr,crypto:!1},Rw,dn,yt=!0,zh="[DecimalError] ",Xn=zh+"Invalid argument: ",kw=zh+"Precision limit exceeded",jw=zh+"crypto unavailable",Dw="[object Decimal]",ge=Math.floor,Jt=Math.pow,bz=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,vz=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,wz=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Fw=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wi=1e7,pt=7,Tz=9007199254740991,Az=nh.length-1,Yf=rh.length-1,W={toStringTag:Dw};W.absoluteValue=W.abs=function(){var r=new this.constructor(this);return r.s<0&&(r.s=1),ut(r)};W.ceil=function(){return ut(new this.constructor(this),this.e+1,2)};W.clampedTo=W.clamp=function(r,t){var e,i=this,n=i.constructor;if(r=new n(r),t=new n(t),!r.s||!t.s)return new n(NaN);if(r.gt(t))throw Error(Xn+t);return e=i.cmp(r),e<0?r:i.cmp(t)>0?t:new n(i)};W.comparedTo=W.cmp=function(r){var t,e,i,n,s=this,o=s.d,a=(r=new s.constructor(r)).d,h=s.s,l=r.s;if(!o||!a)return!h||!l?NaN:h!==l?h:o===a?0:!o^h<0?1:-1;if(!o[0]||!a[0])return o[0]?h:a[0]?-l:0;if(h!==l)return h;if(s.e!==r.e)return s.e>r.e^h<0?1:-1;for(i=o.length,n=a.length,t=0,e=i<n?i:n;t<e;++t)if(o[t]!==a[t])return o[t]>a[t]^h<0?1:-1;return i===n?0:i>n^h<0?1:-1};W.cosine=W.cos=function(){var r,t,e=this,i=e.constructor;return e.d?e.d[0]?(r=i.precision,t=i.rounding,i.precision=r+Math.max(e.e,e.sd())+pt,i.rounding=1,e=Ez(i,qw(i,e)),i.precision=r,i.rounding=t,ut(dn==2||dn==3?e.neg():e,r,t,!0)):new i(1):new i(NaN)};W.cubeRoot=W.cbrt=function(){var r,t,e,i,n,s,o,a,h,l,u=this,c=u.constructor;if(!u.isFinite()||u.isZero())return new c(u);for(yt=!1,s=u.s*Jt(u.s*u,1/3),!s||Math.abs(s)==1/0?(e=he(u.d),r=u.e,(s=(r-e.length+1)%3)&&(e+=s==1||s==-2?"0":"00"),s=Jt(e,1/3),r=ge((r+1)/3)-(r%3==(r<0?-1:2)),s==1/0?e="5e"+r:(e=s.toExponential(),e=e.slice(0,e.indexOf("e")+1)+r),i=new c(e),i.s=u.s):i=new c(s.toString()),o=(r=c.precision)+3;;)if(a=i,h=a.times(a).times(a),l=h.plus(u),i=Mt(l.plus(u).times(a),l.plus(h),o+2,1),he(a.d).slice(0,o)===(e=he(i.d)).slice(0,o))if(e=e.slice(o-3,o+1),e=="9999"||!n&&e=="4999"){if(!n&&(ut(a,r+1,0),a.times(a).times(a).eq(u))){i=a;break}o+=4,n=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(ut(i,r+1,1),t=!i.times(i).times(i).eq(u));break}return yt=!0,ut(i,r,c.rounding,t)};W.decimalPlaces=W.dp=function(){var r,t=this.d,e=NaN;if(t){if(r=t.length-1,e=(r-ge(this.e/pt))*pt,r=t[r],r)for(;r%10==0;r/=10)e--;e<0&&(e=0)}return e};W.dividedBy=W.div=function(r){return Mt(this,new this.constructor(r))};W.dividedToIntegerBy=W.divToInt=function(r){var t=this,e=t.constructor;return ut(Mt(t,new e(r),0,1,1),e.precision,e.rounding)};W.equals=W.eq=function(r){return this.cmp(r)===0};W.floor=function(){return ut(new this.constructor(this),this.e+1,3)};W.greaterThan=W.gt=function(r){return this.cmp(r)>0};W.greaterThanOrEqualTo=W.gte=function(r){var t=this.cmp(r);return t==1||t===0};W.hyperbolicCosine=W.cosh=function(){var r,t,e,i,n,s=this,o=s.constructor,a=new o(1);if(!s.isFinite())return new o(s.s?1/0:NaN);if(s.isZero())return a;e=o.precision,i=o.rounding,o.precision=e+Math.max(s.e,s.sd())+4,o.rounding=1,n=s.d.length,n<32?(r=Math.ceil(n/3),t=(1/Mh(4,r)).toString()):(r=16,t="2.3283064365386962890625e-10"),s=cs(o,1,s.times(t),new o(1),!0);for(var h,l=r,u=new o(8);l--;)h=s.times(s),s=a.minus(h.times(u.minus(h.times(u))));return ut(s,o.precision=e,o.rounding=i,!0)};W.hyperbolicSine=W.sinh=function(){var r,t,e,i,n=this,s=n.constructor;if(!n.isFinite()||n.isZero())return new s(n);if(t=s.precision,e=s.rounding,s.precision=t+Math.max(n.e,n.sd())+4,s.rounding=1,i=n.d.length,i<3)n=cs(s,2,n,n,!0);else{r=1.4*Math.sqrt(i),r=r>16?16:r|0,n=n.times(1/Mh(5,r)),n=cs(s,2,n,n,!0);for(var o,a=new s(5),h=new s(16),l=new s(20);r--;)o=n.times(n),n=n.times(a.plus(o.times(h.times(o).plus(l))))}return s.precision=t,s.rounding=e,ut(n,t,e,!0)};W.hyperbolicTangent=W.tanh=function(){var r,t,e=this,i=e.constructor;return e.isFinite()?e.isZero()?new i(e):(r=i.precision,t=i.rounding,i.precision=r+7,i.rounding=1,Mt(e.sinh(),e.cosh(),i.precision=r,i.rounding=t)):new i(e.s)};W.inverseCosine=W.acos=function(){var r=this,t=r.constructor,e=r.abs().cmp(1),i=t.precision,n=t.rounding;return e!==-1?e===0?r.isNeg()?Li(t,i,n):new t(0):new t(NaN):r.isZero()?Li(t,i+4,n).times(.5):(t.precision=i+6,t.rounding=1,r=new t(1).minus(r).div(r.plus(1)).sqrt().atan(),t.precision=i,t.rounding=n,r.times(2))};W.inverseHyperbolicCosine=W.acosh=function(){var r,t,e=this,i=e.constructor;return e.lte(1)?new i(e.eq(1)?0:NaN):e.isFinite()?(r=i.precision,t=i.rounding,i.precision=r+Math.max(Math.abs(e.e),e.sd())+4,i.rounding=1,yt=!1,e=e.times(e).minus(1).sqrt().plus(e),yt=!0,i.precision=r,i.rounding=t,e.ln()):new i(e)};W.inverseHyperbolicSine=W.asinh=function(){var r,t,e=this,i=e.constructor;return!e.isFinite()||e.isZero()?new i(e):(r=i.precision,t=i.rounding,i.precision=r+2*Math.max(Math.abs(e.e),e.sd())+6,i.rounding=1,yt=!1,e=e.times(e).plus(1).sqrt().plus(e),yt=!0,i.precision=r,i.rounding=t,e.ln())};W.inverseHyperbolicTangent=W.atanh=function(){var r,t,e,i,n=this,s=n.constructor;return n.isFinite()?n.e>=0?new s(n.abs().eq(1)?n.s/0:n.isZero()?n:NaN):(r=s.precision,t=s.rounding,i=n.sd(),Math.max(i,r)<2*-n.e-1?ut(new s(n),r,t,!0):(s.precision=e=i-n.e,n=Mt(n.plus(1),new s(1).minus(n),e+r,1),s.precision=r+4,s.rounding=1,n=n.ln(),s.precision=r,s.rounding=t,n.times(.5))):new s(NaN)};W.inverseSine=W.asin=function(){var r,t,e,i,n=this,s=n.constructor;return n.isZero()?new s(n):(t=n.abs().cmp(1),e=s.precision,i=s.rounding,t!==-1?t===0?(r=Li(s,e+4,i).times(.5),r.s=n.s,r):new s(NaN):(s.precision=e+6,s.rounding=1,n=n.div(new s(1).minus(n.times(n)).sqrt().plus(1)).atan(),s.precision=e,s.rounding=i,n.times(2)))};W.inverseTangent=W.atan=function(){var r,t,e,i,n,s,o,a,h,l=this,u=l.constructor,c=u.precision,d=u.rounding;if(l.isFinite()){if(l.isZero())return new u(l);if(l.abs().eq(1)&&c+4<=Yf)return o=Li(u,c+4,d).times(.25),o.s=l.s,o}else{if(!l.s)return new u(NaN);if(c+4<=Yf)return o=Li(u,c+4,d).times(.5),o.s=l.s,o}for(u.precision=a=c+10,u.rounding=1,e=Math.min(28,a/pt+2|0),r=e;r;--r)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(yt=!1,t=Math.ceil(a/pt),i=1,h=l.times(l),o=new u(l),n=l;r!==-1;)if(n=n.times(h),s=o.minus(n.div(i+=2)),n=n.times(h),o=s.plus(n.div(i+=2)),o.d[t]!==void 0)for(r=t;o.d[r]===s.d[r]&&r--;);return e&&(o=o.times(2<<e-1)),yt=!0,ut(o,u.precision=c,u.rounding=d,!0)};W.isFinite=function(){return!!this.d};W.isInteger=W.isInt=function(){return!!this.d&&ge(this.e/pt)>this.d.length-2};W.isNaN=function(){return!this.s};W.isNegative=W.isNeg=function(){return this.s<0};W.isPositive=W.isPos=function(){return this.s>0};W.isZero=function(){return!!this.d&&this.d[0]===0};W.lessThan=W.lt=function(r){return this.cmp(r)<0};W.lessThanOrEqualTo=W.lte=function(r){return this.cmp(r)<1};W.logarithm=W.log=function(r){var t,e,i,n,s,o,a,h,l=this,u=l.constructor,c=u.precision,d=u.rounding,f=5;if(r==null)r=new u(10),t=!0;else{if(r=new u(r),e=r.d,r.s<0||!e||!e[0]||r.eq(1))return new u(NaN);t=r.eq(10)}if(e=l.d,l.s<0||!e||!e[0]||l.eq(1))return new u(e&&!e[0]?-1/0:l.s!=1?NaN:e?0:1/0);if(t)if(e.length>1)s=!0;else{for(n=e[0];n%10===0;)n/=10;s=n!==1}if(yt=!1,a=c+f,o=On(l,a),i=t?sh(u,a+10):On(r,a),h=Mt(o,i,a,1),bo(h.d,n=c,d))do if(a+=10,o=On(l,a),i=t?sh(u,a+10):On(r,a),h=Mt(o,i,a,1),!s){+he(h.d).slice(n+1,n+15)+1==1e14&&(h=ut(h,c+1,0));break}while(bo(h.d,n+=10,d));return yt=!0,ut(h,c,d)};W.minus=W.sub=function(r){var t,e,i,n,s,o,a,h,l,u,c,d,f=this,g=f.constructor;if(r=new g(r),!f.d||!r.d)return!f.s||!r.s?r=new g(NaN):f.d?r.s=-r.s:r=new g(r.d||f.s!==r.s?f:NaN),r;if(f.s!=r.s)return r.s=-r.s,f.plus(r);if(l=f.d,d=r.d,a=g.precision,h=g.rounding,!l[0]||!d[0]){if(d[0])r.s=-r.s;else if(l[0])r=new g(f);else return new g(h===3?-0:0);return yt?ut(r,a,h):r}if(e=ge(r.e/pt),u=ge(f.e/pt),l=l.slice(),s=u-e,s){for(c=s<0,c?(t=l,s=-s,o=d.length):(t=d,e=u,o=l.length),i=Math.max(Math.ceil(a/pt),o)+2,s>i&&(s=i,t.length=1),t.reverse(),i=s;i--;)t.push(0);t.reverse()}else{for(i=l.length,o=d.length,c=i<o,c&&(o=i),i=0;i<o;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}s=0}for(c&&(t=l,l=d,d=t,r.s=-r.s),o=l.length,i=d.length-o;i>0;--i)l[o++]=0;for(i=d.length;i>s;){if(l[--i]<d[i]){for(n=i;n&&l[--n]===0;)l[n]=wi-1;--l[n],l[i]+=wi}l[i]-=d[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--e;return l[0]?(r.d=l,r.e=Ph(l,e),yt?ut(r,a,h):r):new g(h===3?-0:0)};W.modulo=W.mod=function(r){var t,e=this,i=e.constructor;return r=new i(r),!e.d||!r.s||r.d&&!r.d[0]?new i(NaN):!r.d||e.d&&!e.d[0]?ut(new i(e),i.precision,i.rounding):(yt=!1,i.modulo==9?(t=Mt(e,r.abs(),0,3,1),t.s*=r.s):t=Mt(e,r,0,i.modulo,1),t=t.times(r),yt=!0,e.minus(t))};W.naturalExponential=W.exp=function(){return Zf(this)};W.naturalLogarithm=W.ln=function(){return On(this)};W.negated=W.neg=function(){var r=new this.constructor(this);return r.s=-r.s,ut(r)};W.plus=W.add=function(r){var t,e,i,n,s,o,a,h,l,u,c=this,d=c.constructor;if(r=new d(r),!c.d||!r.d)return!c.s||!r.s?r=new d(NaN):c.d||(r=new d(r.d||c.s===r.s?c:NaN)),r;if(c.s!=r.s)return r.s=-r.s,c.minus(r);if(l=c.d,u=r.d,a=d.precision,h=d.rounding,!l[0]||!u[0])return u[0]||(r=new d(c)),yt?ut(r,a,h):r;if(s=ge(c.e/pt),i=ge(r.e/pt),l=l.slice(),n=s-i,n){for(n<0?(e=l,n=-n,o=u.length):(e=u,i=s,o=l.length),s=Math.ceil(a/pt),o=s>o?s+1:o+1,n>o&&(n=o,e.length=1),e.reverse();n--;)e.push(0);e.reverse()}for(o=l.length,n=u.length,o-n<0&&(n=o,e=u,u=l,l=e),t=0;n;)t=(l[--n]=l[n]+u[n]+t)/wi|0,l[n]%=wi;for(t&&(l.unshift(t),++i),o=l.length;l[--o]==0;)l.pop();return r.d=l,r.e=Ph(l,i),yt?ut(r,a,h):r};W.precision=W.sd=function(r){var t,e=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(Xn+r);return e.d?(t=Ow(e.d),r&&e.e+1>t&&(t=e.e+1)):t=NaN,t};W.round=function(){var r=this,t=r.constructor;return ut(new t(r),r.e+1,t.rounding)};W.sine=W.sin=function(){var r,t,e=this,i=e.constructor;return e.isFinite()?e.isZero()?new i(e):(r=i.precision,t=i.rounding,i.precision=r+Math.max(e.e,e.sd())+pt,i.rounding=1,e=Cz(i,qw(i,e)),i.precision=r,i.rounding=t,ut(dn>2?e.neg():e,r,t,!0)):new i(NaN)};W.squareRoot=W.sqrt=function(){var r,t,e,i,n,s,o=this,a=o.d,h=o.e,l=o.s,u=o.constructor;if(l!==1||!a||!a[0])return new u(!l||l<0&&(!a||a[0])?NaN:a?o:1/0);for(yt=!1,l=Math.sqrt(+o),l==0||l==1/0?(t=he(a),(t.length+h)%2==0&&(t+="0"),l=Math.sqrt(t),h=ge((h+1)/2)-(h<0||h%2),l==1/0?t="5e"+h:(t=l.toExponential(),t=t.slice(0,t.indexOf("e")+1)+h),i=new u(t)):i=new u(l.toString()),e=(h=u.precision)+3;;)if(s=i,i=s.plus(Mt(o,s,e+2,1)).times(.5),he(s.d).slice(0,e)===(t=he(i.d)).slice(0,e))if(t=t.slice(e-3,e+1),t=="9999"||!n&&t=="4999"){if(!n&&(ut(s,h+1,0),s.times(s).eq(o))){i=s;break}e+=4,n=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(ut(i,h+1,1),r=!i.times(i).eq(o));break}return yt=!0,ut(i,h,u.rounding,r)};W.tangent=W.tan=function(){var r,t,e=this,i=e.constructor;return e.isFinite()?e.isZero()?new i(e):(r=i.precision,t=i.rounding,i.precision=r+10,i.rounding=1,e=e.sin(),e.s=1,e=Mt(e,new i(1).minus(e.times(e)).sqrt(),r+10,0),i.precision=r,i.rounding=t,ut(dn==2||dn==4?e.neg():e,r,t,!0)):new i(NaN)};W.times=W.mul=function(r){var t,e,i,n,s,o,a,h,l,u=this,c=u.constructor,d=u.d,f=(r=new c(r)).d;if(r.s*=u.s,!d||!d[0]||!f||!f[0])return new c(!r.s||d&&!d[0]&&!f||f&&!f[0]&&!d?NaN:!d||!f?r.s/0:r.s*0);for(e=ge(u.e/pt)+ge(r.e/pt),h=d.length,l=f.length,h<l&&(s=d,d=f,f=s,o=h,h=l,l=o),s=[],o=h+l,i=o;i--;)s.push(0);for(i=l;--i>=0;){for(t=0,n=h+i;n>i;)a=s[n]+f[i]*d[n-i-1]+t,s[n--]=a%wi|0,t=a/wi|0;s[n]=(s[n]+t)%wi|0}for(;!s[--o];)s.pop();return t?++e:s.shift(),r.d=s,r.e=Ph(s,e),yt?ut(r,c.precision,c.rounding):r};W.toBinary=function(r,t){return up(this,2,r,t)};W.toDecimalPlaces=W.toDP=function(r,t){var e=this,i=e.constructor;return e=new i(e),r===void 0?e:(ze(r,0,Qn),t===void 0?t=i.rounding:ze(t,0,8),ut(e,r+e.e+1,t))};W.toExponential=function(r,t){var e,i=this,n=i.constructor;return r===void 0?e=Yi(i,!0):(ze(r,0,Qn),t===void 0?t=n.rounding:ze(t,0,8),i=ut(new n(i),r+1,t),e=Yi(i,!0,r+1)),i.isNeg()&&!i.isZero()?"-"+e:e};W.toFixed=function(r,t){var e,i,n=this,s=n.constructor;return r===void 0?e=Yi(n):(ze(r,0,Qn),t===void 0?t=s.rounding:ze(t,0,8),i=ut(new s(n),r+n.e+1,t),e=Yi(i,!1,r+i.e+1)),n.isNeg()&&!n.isZero()?"-"+e:e};W.toFraction=function(r){var t,e,i,n,s,o,a,h,l,u,c,d,f=this,g=f.d,p=f.constructor;if(!g)return new p(f);if(l=e=new p(1),i=h=new p(0),t=new p(i),s=t.e=Ow(g)-f.e-1,o=s%pt,t.d[0]=Jt(10,o<0?pt+o:o),r==null)r=s>0?t:l;else{if(a=new p(r),!a.isInt()||a.lt(l))throw Error(Xn+a);r=a.gt(t)?s>0?t:l:a}for(yt=!1,a=new p(he(g)),u=p.precision,p.precision=s=g.length*pt*2;c=Mt(a,t,0,1,1),n=e.plus(c.times(i)),n.cmp(r)!=1;)e=i,i=n,n=l,l=h.plus(c.times(n)),h=n,n=t,t=a.minus(c.times(n)),a=n;return n=Mt(r.minus(e),i,0,1,1),h=h.plus(n.times(l)),e=e.plus(n.times(i)),h.s=l.s=f.s,d=Mt(l,i,s,1).minus(f).abs().cmp(Mt(h,e,s,1).minus(f).abs())<1?[l,i]:[h,e],p.precision=u,yt=!0,d};W.toHexadecimal=W.toHex=function(r,t){return up(this,16,r,t)};W.toNearest=function(r,t){var e=this,i=e.constructor;if(e=new i(e),r==null){if(!e.d)return e;r=new i(1),t=i.rounding}else{if(r=new i(r),t===void 0?t=i.rounding:ze(t,0,8),!e.d)return r.s?e:r;if(!r.d)return r.s&&(r.s=e.s),r}return r.d[0]?(yt=!1,e=Mt(e,r,0,t,1).times(r),yt=!0,ut(e)):(r.s=e.s,e=r),e};W.toNumber=function(){return+this};W.toOctal=function(r,t){return up(this,8,r,t)};W.toPower=W.pow=function(r){var t,e,i,n,s,o,a=this,h=a.constructor,l=+(r=new h(r));if(!a.d||!r.d||!a.d[0]||!r.d[0])return new h(Jt(+a,l));if(a=new h(a),a.eq(1))return a;if(i=h.precision,s=h.rounding,r.eq(1))return ut(a,i,s);if(t=ge(r.e/pt),t>=r.d.length-1&&(e=l<0?-l:l)<=Tz)return n=Lw(h,a,e,i),r.s<0?new h(1).div(n):ut(n,i,s);if(o=a.s,o<0){if(t<r.d.length-1)return new h(NaN);if((r.d[t]&1)==0&&(o=1),a.e==0&&a.d[0]==1&&a.d.length==1)return a.s=o,a}return e=Jt(+a,l),t=e==0||!isFinite(e)?ge(l*(Math.log("0."+he(a.d))/Math.LN10+a.e+1)):new h(e+"").e,t>h.maxE+1||t<h.minE-1?new h(t>0?o/0:0):(yt=!1,h.rounding=a.s=1,e=Math.min(12,(t+"").length),n=Zf(r.times(On(a,i+e)),i),n.d&&(n=ut(n,i+5,1),bo(n.d,i,s)&&(t=i+10,n=ut(Zf(r.times(On(a,t+e)),t),t+5,1),+he(n.d).slice(i+1,i+15)+1==1e14&&(n=ut(n,i+1,0)))),n.s=o,yt=!0,h.rounding=s,ut(n,i,s))};W.toPrecision=function(r,t){var e,i=this,n=i.constructor;return r===void 0?e=Yi(i,i.e<=n.toExpNeg||i.e>=n.toExpPos):(ze(r,1,Qn),t===void 0?t=n.rounding:ze(t,0,8),i=ut(new n(i),r,t),e=Yi(i,r<=i.e||i.e<=n.toExpNeg,r)),i.isNeg()&&!i.isZero()?"-"+e:e};W.toSignificantDigits=W.toSD=function(r,t){var e=this,i=e.constructor;return r===void 0?(r=i.precision,t=i.rounding):(ze(r,1,Qn),t===void 0?t=i.rounding:ze(t,0,8)),ut(new i(e),r,t)};W.toString=function(){var r=this,t=r.constructor,e=Yi(r,r.e<=t.toExpNeg||r.e>=t.toExpPos);return r.isNeg()&&!r.isZero()?"-"+e:e};W.truncated=W.trunc=function(){return ut(new this.constructor(this),this.e+1,1)};W.valueOf=W.toJSON=function(){var r=this,t=r.constructor,e=Yi(r,r.e<=t.toExpNeg||r.e>=t.toExpPos);return r.isNeg()?"-"+e:e};function he(r){var t,e,i,n=r.length-1,s="",o=r[0];if(n>0){for(s+=o,t=1;t<n;t++)i=r[t]+"",e=pt-i.length,e&&(s+=In(e)),s+=i;o=r[t],i=o+"",e=pt-i.length,e&&(s+=In(e))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}function ze(r,t,e){if(r!==~~r||r<t||r>e)throw Error(Xn+r)}function bo(r,t,e,i){var n,s,o,a;for(s=r[0];s>=10;s/=10)--t;return--t<0?(t+=pt,n=0):(n=Math.ceil((t+1)/pt),t%=pt),s=Jt(10,pt-t),a=r[n]%s|0,i==null?t<3?(t==0?a=a/100|0:t==1&&(a=a/10|0),o=e<4&&a==99999||e>3&&a==49999||a==5e4||a==0):o=(e<4&&a+1==s||e>3&&a+1==s/2)&&(r[n+1]/s/100|0)==Jt(10,t-2)-1||(a==s/2||a==0)&&(r[n+1]/s/100|0)==0:t<4?(t==0?a=a/1e3|0:t==1?a=a/100|0:t==2&&(a=a/10|0),o=(i||e<4)&&a==9999||!i&&e>3&&a==4999):o=((i||e<4)&&a+1==s||!i&&e>3&&a+1==s/2)&&(r[n+1]/s/1e3|0)==Jt(10,t-3)-1,o}function Ia(r,t,e){for(var i,n=[0],s,o=0,a=r.length;o<a;){for(s=n.length;s--;)n[s]*=t;for(n[0]+=Vf.indexOf(r.charAt(o++)),i=0;i<n.length;i++)n[i]>e-1&&(n[i+1]===void 0&&(n[i+1]=0),n[i+1]+=n[i]/e|0,n[i]%=e)}return n.reverse()}function Ez(r,t){var e,i,n;if(t.isZero())return t;i=t.d.length,i<32?(e=Math.ceil(i/3),n=(1/Mh(4,e)).toString()):(e=16,n="2.3283064365386962890625e-10"),r.precision+=e,t=cs(r,1,t.times(n),new r(1));for(var s=e;s--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return r.precision-=e,t}var Mt=function(){function r(i,n,s){var o,a=0,h=i.length;for(i=i.slice();h--;)o=i[h]*n+a,i[h]=o%s|0,a=o/s|0;return a&&i.unshift(a),i}function t(i,n,s,o){var a,h;if(s!=o)h=s>o?1:-1;else for(a=h=0;a<s;a++)if(i[a]!=n[a]){h=i[a]>n[a]?1:-1;break}return h}function e(i,n,s,o){for(var a=0;s--;)i[s]-=a,a=i[s]<n[s]?1:0,i[s]=a*o+i[s]-n[s];for(;!i[0]&&i.length>1;)i.shift()}return function(i,n,s,o,a,h){var l,u,c,d,f,g,p,m,y,x,_,v,b,E,w,C,z,F,D,M,k=i.constructor,j=i.s==n.s?1:-1,O=i.d,T=n.d;if(!O||!O[0]||!T||!T[0])return new k(!i.s||!n.s||(O?T&&O[0]==T[0]:!T)?NaN:O&&O[0]==0||!T?j*0:j/0);for(h?(f=1,u=i.e-n.e):(h=wi,f=pt,u=ge(i.e/f)-ge(n.e/f)),D=T.length,z=O.length,y=new k(j),x=y.d=[],c=0;T[c]==(O[c]||0);c++);if(T[c]>(O[c]||0)&&u--,s==null?(E=s=k.precision,o=k.rounding):a?E=s+(i.e-n.e)+1:E=s,E<0)x.push(1),g=!0;else{if(E=E/f+2|0,c=0,D==1){for(d=0,T=T[0],E++;(c<z||d)&&E--;c++)w=d*h+(O[c]||0),x[c]=w/T|0,d=w%T|0;g=d||c<z}else{for(d=h/(T[0]+1)|0,d>1&&(T=r(T,d,h),O=r(O,d,h),D=T.length,z=O.length),C=D,_=O.slice(0,D),v=_.length;v<D;)_[v++]=0;M=T.slice(),M.unshift(0),F=T[0],T[1]>=h/2&&++F;do d=0,l=t(T,_,D,v),l<0?(b=_[0],D!=v&&(b=b*h+(_[1]||0)),d=b/F|0,d>1?(d>=h&&(d=h-1),p=r(T,d,h),m=p.length,v=_.length,l=t(p,_,m,v),l==1&&(d--,e(p,D<m?M:T,m,h))):(d==0&&(l=d=1),p=T.slice()),m=p.length,m<v&&p.unshift(0),e(_,p,v,h),l==-1&&(v=_.length,l=t(T,_,D,v),l<1&&(d++,e(_,D<v?M:T,v,h))),v=_.length):l===0&&(d++,_=[0]),x[c++]=d,l&&_[0]?_[v++]=O[C]||0:(_=[O[C]],v=1);while((C++<z||_[0]!==void 0)&&E--);g=_[0]!==void 0}x[0]||x.shift()}if(f==1)y.e=u,Rw=g;else{for(c=1,d=x[0];d>=10;d/=10)c++;y.e=c+u*f-1,ut(y,a?s+y.e+1:s,o,g)}return y}}();function ut(r,t,e,i){var n,s,o,a,h,l,u,c,d,f=r.constructor;t:if(t!=null){if(c=r.d,!c)return r;for(n=1,a=c[0];a>=10;a/=10)n++;if(s=t-n,s<0)s+=pt,o=t,u=c[d=0],h=u/Jt(10,n-o-1)%10|0;else if(d=Math.ceil((s+1)/pt),a=c.length,d>=a)if(i){for(;a++<=d;)c.push(0);u=h=0,n=1,s%=pt,o=s-pt+1}else break t;else{for(u=a=c[d],n=1;a>=10;a/=10)n++;s%=pt,o=s-pt+n,h=o<0?0:u/Jt(10,n-o-1)%10|0}if(i=i||t<0||c[d+1]!==void 0||(o<0?u:u%Jt(10,n-o-1)),l=e<4?(h||i)&&(e==0||e==(r.s<0?3:2)):h>5||h==5&&(e==4||i||e==6&&(s>0?o>0?u/Jt(10,n-o):0:c[d-1])%10&1||e==(r.s<0?8:7)),t<1||!c[0])return c.length=0,l?(t-=r.e+1,c[0]=Jt(10,(pt-t%pt)%pt),r.e=-t||0):c[0]=r.e=0,r;if(s==0?(c.length=d,a=1,d--):(c.length=d+1,a=Jt(10,pt-s),c[d]=o>0?(u/Jt(10,n-o)%Jt(10,o)|0)*a:0),l)for(;;)if(d==0){for(s=1,o=c[0];o>=10;o/=10)s++;for(o=c[0]+=a,a=1;o>=10;o/=10)a++;s!=a&&(r.e++,c[0]==wi&&(c[0]=1));break}else{if(c[d]+=a,c[d]!=wi)break;c[d--]=0,a=1}for(s=c.length;c[--s]===0;)c.pop()}return yt&&(r.e>f.maxE?(r.d=null,r.e=NaN):r.e<f.minE&&(r.e=0,r.d=[0])),r}function Yi(r,t,e){if(!r.isFinite())return Nw(r);var i,n=r.e,s=he(r.d),o=s.length;return t?(e&&(i=e-o)>0?s=s.charAt(0)+"."+s.slice(1)+In(i):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(r.e<0?"e":"e+")+r.e):n<0?(s="0."+In(-n-1)+s,e&&(i=e-o)>0&&(s+=In(i))):n>=o?(s+=In(n+1-o),e&&(i=e-n-1)>0&&(s=s+"."+In(i))):((i=n+1)<o&&(s=s.slice(0,i)+"."+s.slice(i)),e&&(i=e-o)>0&&(n+1===o&&(s+="."),s+=In(i))),s}function Ph(r,t){var e=r[0];for(t*=pt;e>=10;e/=10)t++;return t}function sh(r,t,e){if(t>Az)throw yt=!0,e&&(r.precision=e),Error(kw);return ut(new r(nh),t,1,!0)}function Li(r,t,e){if(t>Yf)throw Error(kw);return ut(new r(rh),t,e,!0)}function Ow(r){var t=r.length-1,e=t*pt+1;if(t=r[t],t){for(;t%10==0;t/=10)e--;for(t=r[0];t>=10;t/=10)e++}return e}function In(r){for(var t="";r--;)t+="0";return t}function Lw(r,t,e,i){var n,s=new r(1),o=Math.ceil(i/pt+4);for(yt=!1;;){if(e%2&&(s=s.times(t),l_(s.d,o)&&(n=!0)),e=ge(e/2),e===0){e=s.d.length-1,n&&s.d[e]===0&&++s.d[e];break}t=t.times(t),l_(t.d,o)}return yt=!0,s}function h_(r){return r.d[r.d.length-1]&1}function Bw(r,t,e){for(var i,n,s=new r(t[0]),o=0;++o<t.length;){if(n=new r(t[o]),!n.s){s=n;break}i=s.cmp(n),(i===e||i===0&&s.s===e)&&(s=n)}return s}function Zf(r,t){var e,i,n,s,o,a,h,l=0,u=0,c=0,d=r.constructor,f=d.rounding,g=d.precision;if(!r.d||!r.d[0]||r.e>17)return new d(r.d?r.d[0]?r.s<0?0:1/0:1:r.s?r.s<0?0:r:NaN);for(t==null?(yt=!1,h=g):h=t,a=new d(.03125);r.e>-2;)r=r.times(a),c+=5;for(i=Math.log(Jt(2,c))/Math.LN10*2+5|0,h+=i,e=s=o=new d(1),d.precision=h;;){if(s=ut(s.times(r),h,1),e=e.times(++u),a=o.plus(Mt(s,e,h,1)),he(a.d).slice(0,h)===he(o.d).slice(0,h)){for(n=c;n--;)o=ut(o.times(o),h,1);if(t==null)if(l<3&&bo(o.d,h-i,f,l))d.precision=h+=10,e=s=a=new d(1),u=0,l++;else return ut(o,d.precision=g,f,yt=!0);else return d.precision=g,o}o=a}}function On(r,t){var e,i,n,s,o,a,h,l,u,c,d,f=1,g=10,p=r,m=p.d,y=p.constructor,x=y.rounding,_=y.precision;if(p.s<0||!m||!m[0]||!p.e&&m[0]==1&&m.length==1)return new y(m&&!m[0]?-1/0:p.s!=1?NaN:m?0:p);if(t==null?(yt=!1,u=_):u=t,y.precision=u+=g,e=he(m),i=e.charAt(0),Math.abs(s=p.e)<15e14){for(;i<7&&i!=1||i==1&&e.charAt(1)>3;)p=p.times(r),e=he(p.d),i=e.charAt(0),f++;s=p.e,i>1?(p=new y("0."+e),s++):p=new y(i+"."+e.slice(1))}else return l=sh(y,u+2,_).times(s+""),p=On(new y(i+"."+e.slice(1)),u-g).plus(l),y.precision=_,t==null?ut(p,_,x,yt=!0):p;for(c=p,h=o=p=Mt(p.minus(1),p.plus(1),u,1),d=ut(p.times(p),u,1),n=3;;){if(o=ut(o.times(d),u,1),l=h.plus(Mt(o,new y(n),u,1)),he(l.d).slice(0,u)===he(h.d).slice(0,u))if(h=h.times(2),s!==0&&(h=h.plus(sh(y,u+2,_).times(s+""))),h=Mt(h,new y(f),u,1),t==null)if(bo(h.d,u-g,x,a))y.precision=u+=g,l=o=p=Mt(c.minus(1),c.plus(1),u,1),d=ut(p.times(p),u,1),n=a=1;else return ut(h,y.precision=_,x,yt=!0);else return y.precision=_,h;h=l,n+=2}}function Nw(r){return String(r.s*r.s/0)}function za(r,t){var e,i,n;for((e=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(e<0&&(e=i),e+=+t.slice(i+1),t=t.substring(0,i)):e<0&&(e=t.length),i=0;t.charCodeAt(i)===48;i++);for(n=t.length;t.charCodeAt(n-1)===48;--n);if(t=t.slice(i,n),t){if(n-=i,r.e=e=e-i-1,r.d=[],i=(e+1)%pt,e<0&&(i+=pt),i<n){for(i&&r.d.push(+t.slice(0,i)),n-=pt;i<n;)r.d.push(+t.slice(i,i+=pt));t=t.slice(i),i=pt-t.length}else i-=n;for(;i--;)t+="0";r.d.push(+t),yt&&(r.e>r.constructor.maxE?(r.d=null,r.e=NaN):r.e<r.constructor.minE&&(r.e=0,r.d=[0]))}else r.e=0,r.d=[0];return r}function Sz(r,t){var e,i,n,s,o,a,h,l,u;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),Fw.test(t))return za(r,t)}else if(t==="Infinity"||t==="NaN")return+t||(r.s=NaN),r.e=NaN,r.d=null,r;if(vz.test(t))e=16,t=t.toLowerCase();else if(bz.test(t))e=2;else if(wz.test(t))e=8;else throw Error(Xn+t);for(s=t.search(/p/i),s>0?(h=+t.slice(s+1),t=t.substring(2,s)):t=t.slice(2),s=t.indexOf("."),o=s>=0,i=r.constructor,o&&(t=t.replace(".",""),a=t.length,s=a-s,n=Lw(i,new i(e),s,s*2)),l=Ia(t,e,wi),u=l.length-1,s=u;l[s]===0;--s)l.pop();return s<0?new i(r.s*0):(r.e=Ph(l,u),r.d=l,yt=!1,o&&(r=Mt(r,n,a*4)),h&&(r=r.times(Math.abs(h)<54?Jt(2,h):Ti.pow(2,h))),yt=!0,r)}function Cz(r,t){var e,i=t.d.length;if(i<3)return t.isZero()?t:cs(r,2,t,t);e=1.4*Math.sqrt(i),e=e>16?16:e|0,t=t.times(1/Mh(5,e)),t=cs(r,2,t,t);for(var n,s=new r(5),o=new r(16),a=new r(20);e--;)n=t.times(t),t=t.times(s.plus(n.times(o.times(n).minus(a))));return t}function cs(r,t,e,i,n){var s,o,a,h,l=r.precision,u=Math.ceil(l/pt);for(yt=!1,h=e.times(e),a=new r(i);;){if(o=Mt(a.times(h),new r(t++*t++),l,1),a=n?i.plus(o):i.minus(o),i=Mt(o.times(h),new r(t++*t++),l,1),o=a.plus(i),o.d[u]!==void 0){for(s=u;o.d[s]===a.d[s]&&s--;);if(s==-1)break}s=a,a=i,i=o,o=s}return yt=!0,o.d.length=u+1,o}function Mh(r,t){for(var e=r;--t;)e*=r;return e}function qw(r,t){var e,i=t.s<0,n=Li(r,r.precision,1),s=n.times(.5);if(t=t.abs(),t.lte(s))return dn=i?4:1,t;if(e=t.divToInt(n),e.isZero())dn=i?3:2;else{if(t=t.minus(e.times(n)),t.lte(s))return dn=h_(e)?i?2:3:i?4:1,t;dn=h_(e)?i?1:4:i?3:2}return t.minus(n).abs()}function up(r,t,e,i){var n,s,o,a,h,l,u,c,d,f=r.constructor,g=e!==void 0;if(g?(ze(e,1,Qn),i===void 0?i=f.rounding:ze(i,0,8)):(e=f.precision,i=f.rounding),!r.isFinite())u=Nw(r);else{for(u=Yi(r),o=u.indexOf("."),g?(n=2,t==16?e=e*4-3:t==8&&(e=e*3-2)):n=t,o>=0&&(u=u.replace(".",""),d=new f(1),d.e=u.length-o,d.d=Ia(Yi(d),10,n),d.e=d.d.length),c=Ia(u,10,n),s=h=c.length;c[--h]==0;)c.pop();if(!c[0])u=g?"0p+0":"0";else{if(o<0?s--:(r=new f(r),r.d=c,r.e=s,r=Mt(r,d,e,i,0,n),c=r.d,s=r.e,l=Rw),o=c[e],a=n/2,l=l||c[e+1]!==void 0,l=i<4?(o!==void 0||l)&&(i===0||i===(r.s<0?3:2)):o>a||o===a&&(i===4||l||i===6&&c[e-1]&1||i===(r.s<0?8:7)),c.length=e,l)for(;++c[--e]>n-1;)c[e]=0,e||(++s,c.unshift(1));for(h=c.length;!c[h-1];--h);for(o=0,u="";o<h;o++)u+=Vf.charAt(c[o]);if(g){if(h>1)if(t==16||t==8){for(o=t==16?4:3,--h;h%o;h++)u+="0";for(c=Ia(u,n,t),h=c.length;!c[h-1];--h);for(o=1,u="1.";o<h;o++)u+=Vf.charAt(c[o])}else u=u.charAt(0)+"."+u.slice(1);u=u+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)u="0"+u;u="0."+u}else if(++s>h)for(s-=h;s--;)u+="0";else s<h&&(u=u.slice(0,s)+"."+u.slice(s))}u=(t==16?"0x":t==2?"0b":t==8?"0o":"")+u}return r.s<0?"-"+u:u}function l_(r,t){if(r.length>t)return r.length=t,!0}function Iz(r){return new this(r).abs()}function zz(r){return new this(r).acos()}function Pz(r){return new this(r).acosh()}function Mz(r,t){return new this(r).plus(t)}function Rz(r){return new this(r).asin()}function kz(r){return new this(r).asinh()}function jz(r){return new this(r).atan()}function Dz(r){return new this(r).atanh()}function Fz(r,t){r=new this(r),t=new this(t);var e,i=this.precision,n=this.rounding,s=i+4;return!r.s||!t.s?e=new this(NaN):!r.d&&!t.d?(e=Li(this,s,1).times(t.s>0?.25:.75),e.s=r.s):!t.d||r.isZero()?(e=t.s<0?Li(this,i,n):new this(0),e.s=r.s):!r.d||t.isZero()?(e=Li(this,s,1).times(.5),e.s=r.s):t.s<0?(this.precision=s,this.rounding=1,e=this.atan(Mt(r,t,s,1)),t=Li(this,s,1),this.precision=i,this.rounding=n,e=r.s<0?e.minus(t):e.plus(t)):e=this.atan(Mt(r,t,s,1)),e}function Oz(r){return new this(r).cbrt()}function Lz(r){return ut(r=new this(r),r.e+1,2)}function Bz(r,t,e){return new this(r).clamp(t,e)}function Nz(r){if(!r||typeof r!="object")throw Error(zh+"Object expected");var t,e,i,n=r.defaults===!0,s=["precision",1,Qn,"rounding",0,8,"toExpNeg",-Xr,0,"toExpPos",0,Xr,"maxE",0,Xr,"minE",-Xr,0,"modulo",0,9];for(t=0;t<s.length;t+=3)if(e=s[t],n&&(this[e]=Xf[e]),(i=r[e])!==void 0)if(ge(i)===i&&i>=s[t+1]&&i<=s[t+2])this[e]=i;else throw Error(Xn+e+": "+i);if(e="crypto",n&&(this[e]=Xf[e]),(i=r[e])!==void 0)if(i===!0||i===!1||i===0||i===1)if(i)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[e]=!0;else throw Error(jw);else this[e]=!1;else throw Error(Xn+e+": "+i);return this}function qz(r){return new this(r).cos()}function Uz(r){return new this(r).cosh()}function Uw(r){var t,e,i;function n(s){var o,a,h,l=this;if(!(l instanceof n))return new n(s);if(l.constructor=n,u_(s)){l.s=s.s,yt?!s.d||s.e>n.maxE?(l.e=NaN,l.d=null):s.e<n.minE?(l.e=0,l.d=[0]):(l.e=s.e,l.d=s.d.slice()):(l.e=s.e,l.d=s.d?s.d.slice():s.d);return}if(h=typeof s,h==="number"){if(s===0){l.s=1/s<0?-1:1,l.e=0,l.d=[0];return}if(s<0?(s=-s,l.s=-1):l.s=1,s===~~s&&s<1e7){for(o=0,a=s;a>=10;a/=10)o++;yt?o>n.maxE?(l.e=NaN,l.d=null):o<n.minE?(l.e=0,l.d=[0]):(l.e=o,l.d=[s]):(l.e=o,l.d=[s]);return}if(s*0!==0){s||(l.s=NaN),l.e=NaN,l.d=null;return}return za(l,s.toString())}if(h==="string")return(a=s.charCodeAt(0))===45?(s=s.slice(1),l.s=-1):(a===43&&(s=s.slice(1)),l.s=1),Fw.test(s)?za(l,s):Sz(l,s);if(h==="bigint")return s<0?(s=-s,l.s=-1):l.s=1,za(l,s.toString());throw Error(Xn+s)}if(n.prototype=W,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.EUCLID=9,n.config=n.set=Nz,n.clone=Uw,n.isDecimal=u_,n.abs=Iz,n.acos=zz,n.acosh=Pz,n.add=Mz,n.asin=Rz,n.asinh=kz,n.atan=jz,n.atanh=Dz,n.atan2=Fz,n.cbrt=Oz,n.ceil=Lz,n.clamp=Bz,n.cos=qz,n.cosh=Uz,n.div=Gz,n.exp=Hz,n.floor=Wz,n.hypot=$z,n.ln=Vz,n.log=Xz,n.log10=Zz,n.log2=Yz,n.max=Kz,n.min=Jz,n.mod=Qz,n.mul=tP,n.pow=eP,n.random=iP,n.round=nP,n.sign=rP,n.sin=sP,n.sinh=oP,n.sqrt=aP,n.sub=hP,n.sum=lP,n.tan=uP,n.tanh=cP,n.trunc=dP,r===void 0&&(r={}),r&&r.defaults!==!0)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<i.length;)r.hasOwnProperty(e=i[t++])||(r[e]=this[e]);return n.config(r),n}function Gz(r,t){return new this(r).div(t)}function Hz(r){return new this(r).exp()}function Wz(r){return ut(r=new this(r),r.e+1,3)}function $z(){var r,t,e=new this(0);for(yt=!1,r=0;r<arguments.length;)if(t=new this(arguments[r++]),t.d)e.d&&(e=e.plus(t.times(t)));else{if(t.s)return yt=!0,new this(1/0);e=t}return yt=!0,e.sqrt()}function u_(r){return r instanceof Ti||r&&r.toStringTag===Dw||!1}function Vz(r){return new this(r).ln()}function Xz(r,t){return new this(r).log(t)}function Yz(r){return new this(r).log(2)}function Zz(r){return new this(r).log(10)}function Kz(){return Bw(this,arguments,-1)}function Jz(){return Bw(this,arguments,1)}function Qz(r,t){return new this(r).mod(t)}function tP(r,t){return new this(r).mul(t)}function eP(r,t){return new this(r).pow(t)}function iP(r){var t,e,i,n,s=0,o=new this(1),a=[];if(r===void 0?r=this.precision:ze(r,1,Qn),i=Math.ceil(r/pt),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(i));s<i;)n=t[s],n>=429e7?t[s]=crypto.getRandomValues(new Uint32Array(1))[0]:a[s++]=n%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(i*=4);s<i;)n=t[s]+(t[s+1]<<8)+(t[s+2]<<16)+((t[s+3]&127)<<24),n>=214e7?crypto.randomBytes(4).copy(t,s):(a.push(n%1e7),s+=4);s=i/4}else throw Error(jw);else for(;s<i;)a[s++]=Math.random()*1e7|0;for(i=a[--s],r%=pt,i&&r&&(n=Jt(10,pt-r),a[s]=(i/n|0)*n);a[s]===0;s--)a.pop();if(s<0)e=0,a=[0];else{for(e=-1;a[0]===0;e-=pt)a.shift();for(i=1,n=a[0];n>=10;n/=10)i++;i<pt&&(e-=pt-i)}return o.e=e,o.d=a,o}function nP(r){return ut(r=new this(r),r.e+1,this.rounding)}function rP(r){return r=new this(r),r.d?r.d[0]?r.s:0*r.s:r.s||NaN}function sP(r){return new this(r).sin()}function oP(r){return new this(r).sinh()}function aP(r){return new this(r).sqrt()}function hP(r,t){return new this(r).sub(t)}function lP(){var r=0,t=arguments,e=new this(t[r]);for(yt=!1;e.s&&++r<t.length;)e=e.plus(t[r]);return yt=!0,ut(e,this.precision,this.rounding)}function uP(r){return new this(r).tan()}function cP(r){return new this(r).tanh()}function dP(r){return ut(r=new this(r),r.e+1,1)}W[Symbol.for("nodejs.util.inspect.custom")]=W.toString;W[Symbol.toStringTag]="Decimal";var Ti=W.constructor=Uw(Xf);nh=new Ti(nh);rh=new Ti(rh);const Pa=(r,t,e)=>{const i=t/r.width*r.scale.x,s=Math.min(i,i);r.scale.set(s>1?1:s)};class It extends xh{constructor(t){const{text:e,fontSize:i=36,fontColor:n=16777215,stroke:s,strokeThickness:o,fontFamily:a="Arial",fontWeight:h="normal",wordWrapWidth:l,lineHeight:u=1,align:c="left",indent:d=0,shadow:f,gradientDirection:g,breakWord:p=!0}=t,m=new Wi({fontSize:i,wordWrap:!!l,wordWrapWidth:l,fontWeight:h,lineHeight:u*i,breakWords:p,fill:n,align:c,fontFamily:It.fontFamily||a,stroke:s||"transparent",strokeThickness:o||0,lineJoin:"round",fillGradientType:g==="h"?Tr.LINEAR_HORIZONTAL:Tr.LINEAR_VERTICAL});f&&(m.dropShadow=!0,m.dropShadowColor=f[0],m.dropShadowAngle=f[1]*(Math.PI/180),m.dropShadowBlur=f[2],m.dropShadowDistance=f[3]),super(e,m),this.position.x=d*i}}class Rh extends Ch{constructor(t){const{width:e,height:i,bgColor:n,value:s=""}=t;super(e,i,n),this._value="",this._onBlurHandler=()=>{const{type:a="text",integer:h=!1}=this._params;let l=this._input.value.trim();return["text","password"].includes(a)?l:Number(l)<=0?"":(h&&(l=parseInt(l).toString()),l=new Ti(Number(l)).toFixed(2,Ti.ROUND_DOWN),l)},this.cursor="text",this._params=t,this._value=s,this._createInput(),this._createReadOnlyInput(),Lt(this,"pointertap",this.focus.bind(this));const o=new wt;o.add(()=>{if(this.destroyed){o.stop();return}this._updateInputPosition()}),o.start()}setValue(t){const{onFormatValue:e,type:i="text",onValue:n,width:s}=this._params;this._value=t;const o=e==null?void 0:e(t),a=i==="password"?o||"".repeat(t.length):o||t;this._readonlyInput.text=a,this._input.style.display="none",Pa(this._readonlyInput,s);const h=t==="",l=i==="number",u=Number(t);if(l){const c=!isNaN(u)&&u!==0;this._readonlyInput.visible=c,this._placeholder.visible=!c,n==null||n(u)}else this._readonlyInput.visible=!h,this._placeholder.visible=h,n==null||n(t)}setPlaceholder(t){this._placeholder.text=t,Pa(this._placeholder,this._params.width)}focus(){const{type:t}=this._params;this._input.style.display="block",this._input.focus(),this._readonlyInput.visible=!1,this._placeholder.visible=!1,t==="number"?this._input.value=this._value&&Number(this._value).toString():this._input.value=this._value}toggleType(t){this._input.type=t,this._params.type=t,this.setValue(this._value)}clear(){this._input.value="",this._blur()}_createInput(){const{color:t="#fff",maxLength:e=999999,align:i="left",type:n="text",fontFamily:s="",bold:o=!1}=this._params;this._input=document.createElement("input"),this._input.type=n,this._input.maxLength=e,this._input.style.cssText=`
      position: absolute;
      border: none;
      outline: none;
      display: none;
      background-color: transparent;
      color: ${t};
      text-align: ${i};
      font-family: ${s};
      font-weight: ${o?"bold":"normal"}
      `,document.querySelector("#game").appendChild(this._input),this._input.addEventListener("input",function(){this.value.length>e&&n==="number"&&(this.value=this.value.slice(0,e))}),this._input.addEventListener("paste",function(a){var h,l;const u=(l=(h=a.clipboardData)===null||h===void 0?void 0:h.getData("text"))!==null&&l!==void 0?l:"";u.length>e&&(a.preventDefault(),this.value=u.slice(0,e))}),this._input.addEventListener("blur",this._blur.bind(this))}_createReadOnlyInput(){const{color:t="#fff",value:e="",width:i,height:n,fontSizeRatio:s=.5,align:o="left",placeholder:a="",placeholderColor:h,fontFamily:l="",bold:u=!1}=this._params;this._placeholder=new It({text:a,fontColor:h,fontSize:n*s,fontFamily:l,fontWeight:u?"bold":"normal"}),this.addChild(this._placeholder),this._placeholder.visible=!e,this._placeholder.anchor.set(o==="left"?0:.5,.5),this._placeholder.position.set(o==="left"?0:i/2,n/2),Pa(this._placeholder,this._params.width),this._readonlyInput=new It({text:e,fontColor:t,fontSize:n*s,fontFamily:l,fontWeight:u?"bold":"normal"}),this.addChild(this._readonlyInput),this._readonlyInput.visible=!!e,this._readonlyInput.anchor.set(o==="left"?0:.5,.5),this._readonlyInput.position.set(o==="left"?0:i/2,n/2)}_updateInputPosition(){const{width:t,height:e,x:i,y:n}=this.getBounds(),{fontSizeRatio:s=.5}=this._params;if(this._input.style.width=`${t}px`,this._input.style.height=`${e}px`,this._input.style.fontSize=`${e*s}px`,Rh.stage.rotation===0)this._input.style.left=`${i}px`,this._input.style.top=`${n}px`,this._input.style.width=`${t}px`,this._input.style.height=`${e}px`,this._input.style.fontSize=`${e*s}px`,this._input.style.transform="rotate(0deg)";else{const o=i+t/2,a=n+e/2;this._input.style.left=`${o-e/2}px`,this._input.style.top=`${a-t/2}px`,this._input.style.width=`${e}px`,this._input.style.height=`${t}px`,this._input.style.fontSize=`${t*s}px`,this._input.style.transform="rotate(90deg)"}}_blur(){const t=this._onBlurHandler();this.setValue(t)}}class Gw extends Xt{constructor(t,e,i){super(),this.beginFill(i),this.drawEllipse(0,0,t,e),this.endFill()}}class ds extends ct{constructor(t){super(),this.COLLECT_TIME=5*1e3,this._nowTime=0,this._lastTime=0,this._drawCount=0,this._maxDrawCount=0,this._tempMaxDrawCount=0,this._lastCollectTime=0,this._containerWidth=590,this._containerHeight=50,this.pivot.x=this._containerWidth/2,this._bg=new ve(this._containerWidth,this._containerHeight,"#0000007e"),this.addChild(this._bg);const e=new ct;this.addChild(e),e.x=25,e.y=this._containerHeight/2,this._fpsText=new Au("FPS"),e.addChild(this._fpsText),this._drawCallText=new Au("Draw Call"),e.addChild(this._drawCallText),this._drawCallText.x=125,this._maxDrawCallText=new Au("Max Draw Call"),e.addChild(this._maxDrawCallText),this._maxDrawCallText.x=320,this._renderer=t.renderer,this._drawElements=this._renderer.gl.drawElements,this.init(),ds.ADAPT_MODE==="h"?this.x=1920/2:ds.ADAPT_MODE==="v"?this.x=1080/2:new Eh().on((n,s)=>{n>s?this.x=1920/2:this.x=1080/2})}init(){this._renderer.gl.drawElements=(...t)=>{this._drawElements.call(this._renderer.gl,...t),this._drawCount++},wt.shared.add(()=>{const t=wt.system.FPS;this._nowTime=performance.now(),this._nowTime-this._lastTime>=100&&(this._setTextInfo("fps",Number(Math.floor(t).toFixed(0))),this._lastTime=this._nowTime),this._nowTime-this._lastCollectTime<this.COLLECT_TIME?this._tempMaxDrawCount<this._drawCount&&(this._tempMaxDrawCount=this._drawCount):(this._maxDrawCount=this._tempMaxDrawCount,this._tempMaxDrawCount=0,this._lastCollectTime=this._nowTime),this._setTextInfo("drawCall",this._drawCount),this._setTextInfo("maxDrawCall",this._maxDrawCount),this._drawCount=0},Hi.UTILITY)}_setTextInfo(t,e){const n={fps:this._fpsText,drawCall:this._drawCallText,maxDrawCall:this._maxDrawCallText}[t];n.updateValue(e),t==="fps"?n.updateColor(this.getFpsColor(e)):n.updateColor(this.getDrawCallColor(e))}getFpsColor(t){let e="#00ff04";return t<30&&(e="#ffd20a"),t<20&&(e="#ff000d"),e}getDrawCallColor(t){let e="#00ff04";return t>=75&&(e="#ffd20a"),t>=100&&(e="#ff000d"),e}}ds.ADAPT_MODE="hv";class Au extends ct{constructor(t,e=26){super();const i=new It({text:t,fontSize:e,fontWeight:"bold"});this.addChild(i),i.anchor.y=.5,this._valueText=new It({text:"0",fontSize:e,fontWeight:"bold"}),this.addChild(this._valueText),this._valueText.anchor.y=.5,this._valueText.x=i.width+10}updateColor(t){this._valueText.style.fill=t}updateValue(t){this._valueText.text=t}}class vo extends Ch{constructor(t){const{width:e,height:i,scrollbar:n=!1,scrollContent:s,scrollbarRgiht:o=0,scrollbarWidth:a=10,scrollbarColor:h="#ffffff",onScroll:l,bgColor:u,maskTexture:c,maskX:d=0,maskY:f=0}=t;super(e,i,u),this._startY=0,this._velocity=0,this._startTime=0,this._startContentY=0,this._scrollSpeed=200,this._isDragging=!1,this._scrollbarDragging=!1,this._scrollbarDragOffset=0,this._topMargin=0,this._scrollbarRgiht=o,this._scrollbarWidth=a,this._scrollContent=s,this._scrollbarColor=h,this._onScroll=l,this._showScrollbar=n,this._content=new ct,this.addChild(this._content),this._content.addChild(this._scrollContent),c?(this._maskGraphics=new qe(c),this.addChild(this._maskGraphics),this._maskGraphics.width=e,this._maskGraphics.height=i,this._maskGraphics.position.set(d,f),this.mask=this._maskGraphics):(this._maskGraphics=new ve(e,i,"#000"),this.addChild(this._maskGraphics),this.mask=this._maskGraphics),this._scrollbar=new ve(a,i,this._scrollbarColor),this._scrollbar.x=e-(o||a),this.addChild(this._scrollbar),this._scrollbar.visible=this._showScrollbar,this._scrollbar.alpha=0,this._updateScrollbarSize(),Lt(this._scrollbar,"pointerdown",this._onScrollbarDragStart.bind(this)),Lt(this._scrollbar,"pointerenter",()=>{V.killTweensOf(this._scrollbar),this._scrollbar.alpha=1,this._updateScrollbarSize()}),Lt(this._scrollbar,"pointerleave",()=>{V.to(this._scrollbar,{duration:.5,alpha:0,delay:1})}),Lt(this,"pointerdown",g=>{this._onDragStart(g),this._updateScrollbarSize()}),Lt(vo.stage,"pointermove",g=>{this._onScrollbarDragMove(g),this._onDragMove(g)}),vo.stage.cursor="default",Lt(this,"pointerup",g=>{this._onScrollbarDragEnd(g),this._onDragEnd()}),Lt(this,"wheel",g=>{this._onWheelScroll(g),this._updateScrollbarSize()}),Lt(this,"pointerupoutside",()=>{this._onDragEnd()}),this.cursor="default"}addMargin(t,e=t){if(this._topMargin=t,t){const i=new qe;this._content.addChild(i),i.height=t,this._scrollContent.y+=t}e&&(this._bottomMarginBox=new qe,this._content.addChild(this._bottomMarginBox),this._bottomMarginBox.height=e,this._bottomMarginBox.y=t+this._scrollContent.height)}setDimensions(t,e){this._maskGraphics.width=t,this._maskGraphics.height=e,this.setSize(t,e),this._scrollbar.x=t-(this._scrollbarRgiht||this._scrollbarWidth),this._updateBottomMargin()}scrollToTop(t=!1){V.killTweensOf(this._content),t?V.to(this._content,{y:0,duration:.25}):this._content.y=0}addContent(t){this._scrollContent.addChild(t)}_updateBottomMargin(){this._bottomMarginBox&&(this._bottomMarginBox.x=this._topMargin+this._scrollContent.width)}_onDragStart(t){if(this._content.height<=this._maskGraphics.height)return;const{y:e}=t.getLocalPosition(this);this._startY=e-this._content.y,this._isDragging=!0,this._velocity=0,this._startTime=Date.now(),this._startContentY=this._content.y,V.killTweensOf(this._content)}_onDragMove(t){if(this._isDragging){const{y:e}=t.getLocalPosition(this),i=e-this._startY;this._content.y=i,this._updateScrollbar()}}_onDragEnd(){this._isDragging=!1,this._scrollbarDragging=!1;const e=Date.now()-this._startTime;e<250?(this._velocity=(this._content.y-this._startContentY)/e,this._applyInertia()):this._velocity=0,this._limitScrollRange(),V.to(this._scrollbar,{duration:.5,alpha:0,delay:.25})}_onWheelScroll(t){if(this._content.height<=this._maskGraphics.height)return;let e=this._content.y-t.deltaY*(this._scrollSpeed/100);e>0?e=0:Math.abs(e)>=this._content.height-this._maskGraphics.height&&(e=-(this._content.height-this._maskGraphics.height)),V.to(this._content,{duration:.25,ease:"power1.out",y:e,onUpdate:()=>{this._updateScrollbar()},onComplete:()=>{this._hideScrollbar()}})}_applyInertia(){V.to(this._content,{y:this._content.y+this._velocity*250,duration:.5,ease:"power1.out",onUpdate:()=>{this._limitScrollRange(),this._updateScrollbar()},onComplete:()=>{this._hideScrollbar()}})}_limitScrollRange(){if(this._content.y>0)V.to(this._content,{duration:.2,y:0,ease:"power1.out",onUpdate:()=>{this._updateScrollbar()},onComplete:()=>{this._hideScrollbar()}});else if(Math.abs(this._content.y)>=this._content.height-this._maskGraphics.height)if(this._content.height>this._maskGraphics.height){const t=-(this._content.height-this._maskGraphics.height);V.to(this._content,{duration:.2,y:t,ease:"power1.out",onUpdate:()=>{this._updateScrollbar()},onComplete:()=>{this._hideScrollbar()}})}else V.to(this._content,{duration:.25,y:0,onUpdate:()=>{this._updateScrollbar()},onComplete:()=>{this._hideScrollbar()}})}_updateScrollbar(){var t;this._scrollbar.alpha=1,V.killTweensOf(this._scrollbar);const e=this._maskGraphics.height,i=this._content.height,n=e/i,s=e*n,o=i-e,h=Math.min(Math.max(-this._content.y,0),o)/o*(e-s);this._scrollbar.y=h,(t=this._onScroll)===null||t===void 0||t.call(this,this._content.y)}_updateScrollbarSize(){if(!this._showScrollbar)return;const t=this._maskGraphics.height,e=this._content.height;e<=t?this._scrollbar.visible=!1:this._scrollbar.visible=!0;const i=t/e,n=t*i;this._scrollbar.clear(),this._scrollbar.beginFill(this._scrollbarColor),this._scrollbar.drawRect(0,0,10,n),this._scrollbar.endFill()}_onScrollbarDragStart(t){t.stopPropagation(),this._scrollbarDragging=!0,this._scrollbarDragOffset=t.getLocalPosition(this._scrollbar).y,V.killTweensOf(this._content)}_onScrollbarDragMove(t){if(t.stopPropagation(),!this._scrollbarDragging)return;const e=t.getLocalPosition(this).y,i=this._maskGraphics.height,n=this._content.height,s=i/n,o=i*s,a=i-o,l=Math.min(Math.max(e-this._scrollbarDragOffset,0),a)/a*(n-i);this._content.y=-l,this._updateScrollbar()}_onScrollbarDragEnd(t){t.stopPropagation(),this._scrollbarDragging=!1}_hideScrollbar(){V.to(this._scrollbar,{duration:.5,alpha:0,delay:.25})}}class Ni extends Xt{constructor(t,e){super(),this.beginFill(e),this.moveTo(0,0),this.lineTo(t[0][0],t[0][1]),this.lineTo(t[1][0],t[1][1]),this.endFill()}}class _s extends Xt{constructor(t,e,i,n){super(),this.beginFill(n),this.drawRoundedRect(0,0,t,e,i),this.endFill()}}var Eu,c_;function fP(){if(c_)return Eu;c_=1;function r(){this.__data__=[],this.size=0}return Eu=r,Eu}var Su,d_;function Hw(){if(d_)return Su;d_=1;function r(t,e){return t===e||t!==t&&e!==e}return Su=r,Su}var Cu,f_;function kh(){if(f_)return Cu;f_=1;var r=Hw();function t(e,i){for(var n=e.length;n--;)if(r(e[n][0],i))return n;return-1}return Cu=t,Cu}var Iu,g_;function gP(){if(g_)return Iu;g_=1;var r=kh(),t=Array.prototype,e=t.splice;function i(n){var s=this.__data__,o=r(s,n);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():e.call(s,o,1),--this.size,!0}return Iu=i,Iu}var zu,p_;function pP(){if(p_)return zu;p_=1;var r=kh();function t(e){var i=this.__data__,n=r(i,e);return n<0?void 0:i[n][1]}return zu=t,zu}var Pu,m_;function mP(){if(m_)return Pu;m_=1;var r=kh();function t(e){return r(this.__data__,e)>-1}return Pu=t,Pu}var Mu,y_;function yP(){if(y_)return Mu;y_=1;var r=kh();function t(e,i){var n=this.__data__,s=r(n,e);return s<0?(++this.size,n.push([e,i])):n[s][1]=i,this}return Mu=t,Mu}var Ru,__;function jh(){if(__)return Ru;__=1;var r=fP(),t=gP(),e=pP(),i=mP(),n=yP();function s(o){var a=-1,h=o==null?0:o.length;for(this.clear();++a<h;){var l=o[a];this.set(l[0],l[1])}}return s.prototype.clear=r,s.prototype.delete=t,s.prototype.get=e,s.prototype.has=i,s.prototype.set=n,Ru=s,Ru}var ku,x_;function _P(){if(x_)return ku;x_=1;var r=jh();function t(){this.__data__=new r,this.size=0}return ku=t,ku}var ju,b_;function xP(){if(b_)return ju;b_=1;function r(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}return ju=r,ju}var Du,v_;function bP(){if(v_)return Du;v_=1;function r(t){return this.__data__.get(t)}return Du=r,Du}var Fu,w_;function vP(){if(w_)return Fu;w_=1;function r(t){return this.__data__.has(t)}return Fu=r,Fu}var Ou,T_;function Ww(){if(T_)return Ou;T_=1;var r=typeof Mn=="object"&&Mn&&Mn.Object===Object&&Mn;return Ou=r,Ou}var Lu,A_;function Zi(){if(A_)return Lu;A_=1;var r=Ww(),t=typeof self=="object"&&self&&self.Object===Object&&self,e=r||t||Function("return this")();return Lu=e,Lu}var Bu,E_;function cp(){if(E_)return Bu;E_=1;var r=Zi(),t=r.Symbol;return Bu=t,Bu}var Nu,S_;function wP(){if(S_)return Nu;S_=1;var r=cp(),t=Object.prototype,e=t.hasOwnProperty,i=t.toString,n=r?r.toStringTag:void 0;function s(o){var a=e.call(o,n),h=o[n];try{o[n]=void 0;var l=!0}catch{}var u=i.call(o);return l&&(a?o[n]=h:delete o[n]),u}return Nu=s,Nu}var qu,C_;function TP(){if(C_)return qu;C_=1;var r=Object.prototype,t=r.toString;function e(i){return t.call(i)}return qu=e,qu}var Uu,I_;function Dh(){if(I_)return Uu;I_=1;var r=cp(),t=wP(),e=TP(),i="[object Null]",n="[object Undefined]",s=r?r.toStringTag:void 0;function o(a){return a==null?a===void 0?n:i:s&&s in Object(a)?t(a):e(a)}return Uu=o,Uu}var Gu,z_;function Do(){if(z_)return Gu;z_=1;function r(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}return Gu=r,Gu}var Hu,P_;function $w(){if(P_)return Hu;P_=1;var r=Dh(),t=Do(),e="[object AsyncFunction]",i="[object Function]",n="[object GeneratorFunction]",s="[object Proxy]";function o(a){if(!t(a))return!1;var h=r(a);return h==i||h==n||h==e||h==s}return Hu=o,Hu}var Wu,M_;function AP(){if(M_)return Wu;M_=1;var r=Zi(),t=r["__core-js_shared__"];return Wu=t,Wu}var $u,R_;function EP(){if(R_)return $u;R_=1;var r=AP(),t=function(){var i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function e(i){return!!t&&t in i}return $u=e,$u}var Vu,k_;function Vw(){if(k_)return Vu;k_=1;var r=Function.prototype,t=r.toString;function e(i){if(i!=null){try{return t.call(i)}catch{}try{return i+""}catch{}}return""}return Vu=e,Vu}var Xu,j_;function SP(){if(j_)return Xu;j_=1;var r=$w(),t=EP(),e=Do(),i=Vw(),n=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,h=o.toString,l=a.hasOwnProperty,u=RegExp("^"+h.call(l).replace(n,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function c(d){if(!e(d)||t(d))return!1;var f=r(d)?u:s;return f.test(i(d))}return Xu=c,Xu}var Yu,D_;function CP(){if(D_)return Yu;D_=1;function r(t,e){return t==null?void 0:t[e]}return Yu=r,Yu}var Zu,F_;function Ir(){if(F_)return Zu;F_=1;var r=SP(),t=CP();function e(i,n){var s=t(i,n);return r(s)?s:void 0}return Zu=e,Zu}var Ku,O_;function dp(){if(O_)return Ku;O_=1;var r=Ir(),t=Zi(),e=r(t,"Map");return Ku=e,Ku}var Ju,L_;function Fh(){if(L_)return Ju;L_=1;var r=Ir(),t=r(Object,"create");return Ju=t,Ju}var Qu,B_;function IP(){if(B_)return Qu;B_=1;var r=Fh();function t(){this.__data__=r?r(null):{},this.size=0}return Qu=t,Qu}var tc,N_;function zP(){if(N_)return tc;N_=1;function r(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}return tc=r,tc}var ec,q_;function PP(){if(q_)return ec;q_=1;var r=Fh(),t="__lodash_hash_undefined__",e=Object.prototype,i=e.hasOwnProperty;function n(s){var o=this.__data__;if(r){var a=o[s];return a===t?void 0:a}return i.call(o,s)?o[s]:void 0}return ec=n,ec}var ic,U_;function MP(){if(U_)return ic;U_=1;var r=Fh(),t=Object.prototype,e=t.hasOwnProperty;function i(n){var s=this.__data__;return r?s[n]!==void 0:e.call(s,n)}return ic=i,ic}var nc,G_;function RP(){if(G_)return nc;G_=1;var r=Fh(),t="__lodash_hash_undefined__";function e(i,n){var s=this.__data__;return this.size+=this.has(i)?0:1,s[i]=r&&n===void 0?t:n,this}return nc=e,nc}var rc,H_;function kP(){if(H_)return rc;H_=1;var r=IP(),t=zP(),e=PP(),i=MP(),n=RP();function s(o){var a=-1,h=o==null?0:o.length;for(this.clear();++a<h;){var l=o[a];this.set(l[0],l[1])}}return s.prototype.clear=r,s.prototype.delete=t,s.prototype.get=e,s.prototype.has=i,s.prototype.set=n,rc=s,rc}var sc,W_;function jP(){if(W_)return sc;W_=1;var r=kP(),t=jh(),e=dp();function i(){this.size=0,this.__data__={hash:new r,map:new(e||t),string:new r}}return sc=i,sc}var oc,$_;function DP(){if($_)return oc;$_=1;function r(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}return oc=r,oc}var ac,V_;function Oh(){if(V_)return ac;V_=1;var r=DP();function t(e,i){var n=e.__data__;return r(i)?n[typeof i=="string"?"string":"hash"]:n.map}return ac=t,ac}var hc,X_;function FP(){if(X_)return hc;X_=1;var r=Oh();function t(e){var i=r(this,e).delete(e);return this.size-=i?1:0,i}return hc=t,hc}var lc,Y_;function OP(){if(Y_)return lc;Y_=1;var r=Oh();function t(e){return r(this,e).get(e)}return lc=t,lc}var uc,Z_;function LP(){if(Z_)return uc;Z_=1;var r=Oh();function t(e){return r(this,e).has(e)}return uc=t,uc}var cc,K_;function BP(){if(K_)return cc;K_=1;var r=Oh();function t(e,i){var n=r(this,e),s=n.size;return n.set(e,i),this.size+=n.size==s?0:1,this}return cc=t,cc}var dc,J_;function NP(){if(J_)return dc;J_=1;var r=jP(),t=FP(),e=OP(),i=LP(),n=BP();function s(o){var a=-1,h=o==null?0:o.length;for(this.clear();++a<h;){var l=o[a];this.set(l[0],l[1])}}return s.prototype.clear=r,s.prototype.delete=t,s.prototype.get=e,s.prototype.has=i,s.prototype.set=n,dc=s,dc}var fc,Q_;function qP(){if(Q_)return fc;Q_=1;var r=jh(),t=dp(),e=NP(),i=200;function n(s,o){var a=this.__data__;if(a instanceof r){var h=a.__data__;if(!t||h.length<i-1)return h.push([s,o]),this.size=++a.size,this;a=this.__data__=new e(h)}return a.set(s,o),this.size=a.size,this}return fc=n,fc}var gc,t0;function UP(){if(t0)return gc;t0=1;var r=jh(),t=_P(),e=xP(),i=bP(),n=vP(),s=qP();function o(a){var h=this.__data__=new r(a);this.size=h.size}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=i,o.prototype.has=n,o.prototype.set=s,gc=o,gc}var pc,e0;function GP(){if(e0)return pc;e0=1;function r(t,e){for(var i=-1,n=t==null?0:t.length;++i<n&&e(t[i],i,t)!==!1;);return t}return pc=r,pc}var mc,i0;function HP(){if(i0)return mc;i0=1;var r=Ir(),t=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch{}}();return mc=t,mc}var yc,n0;function Xw(){if(n0)return yc;n0=1;var r=HP();function t(e,i,n){i=="__proto__"&&r?r(e,i,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[i]=n}return yc=t,yc}var _c,r0;function Yw(){if(r0)return _c;r0=1;var r=Xw(),t=Hw(),e=Object.prototype,i=e.hasOwnProperty;function n(s,o,a){var h=s[o];(!(i.call(s,o)&&t(h,a))||a===void 0&&!(o in s))&&r(s,o,a)}return _c=n,_c}var xc,s0;function Lh(){if(s0)return xc;s0=1;var r=Yw(),t=Xw();function e(i,n,s,o){var a=!s;s||(s={});for(var h=-1,l=n.length;++h<l;){var u=n[h],c=o?o(s[u],i[u],u,s,i):void 0;c===void 0&&(c=i[u]),a?t(s,u,c):r(s,u,c)}return s}return xc=e,xc}var bc,o0;function WP(){if(o0)return bc;o0=1;function r(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}return bc=r,bc}var vc,a0;function Fo(){if(a0)return vc;a0=1;function r(t){return t!=null&&typeof t=="object"}return vc=r,vc}var wc,h0;function $P(){if(h0)return wc;h0=1;var r=Dh(),t=Fo(),e="[object Arguments]";function i(n){return t(n)&&r(n)==e}return wc=i,wc}var Tc,l0;function VP(){if(l0)return Tc;l0=1;var r=$P(),t=Fo(),e=Object.prototype,i=e.hasOwnProperty,n=e.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(o){return t(o)&&i.call(o,"callee")&&!n.call(o,"callee")};return Tc=s,Tc}var Ac,u0;function fp(){if(u0)return Ac;u0=1;var r=Array.isArray;return Ac=r,Ac}var qs={exports:{}},Ec,c0;function XP(){if(c0)return Ec;c0=1;function r(){return!1}return Ec=r,Ec}qs.exports;var d0;function Zw(){return d0||(d0=1,function(r,t){var e=Zi(),i=XP(),n=t&&!t.nodeType&&t,s=n&&!0&&r&&!r.nodeType&&r,o=s&&s.exports===n,a=o?e.Buffer:void 0,h=a?a.isBuffer:void 0,l=h||i;r.exports=l}(qs,qs.exports)),qs.exports}var Sc,f0;function YP(){if(f0)return Sc;f0=1;var r=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function e(i,n){var s=typeof i;return n=n??r,!!n&&(s=="number"||s!="symbol"&&t.test(i))&&i>-1&&i%1==0&&i<n}return Sc=e,Sc}var Cc,g0;function Kw(){if(g0)return Cc;g0=1;var r=9007199254740991;function t(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=r}return Cc=t,Cc}var Ic,p0;function ZP(){if(p0)return Ic;p0=1;var r=Dh(),t=Kw(),e=Fo(),i="[object Arguments]",n="[object Array]",s="[object Boolean]",o="[object Date]",a="[object Error]",h="[object Function]",l="[object Map]",u="[object Number]",c="[object Object]",d="[object RegExp]",f="[object Set]",g="[object String]",p="[object WeakMap]",m="[object ArrayBuffer]",y="[object DataView]",x="[object Float32Array]",_="[object Float64Array]",v="[object Int8Array]",b="[object Int16Array]",E="[object Int32Array]",w="[object Uint8Array]",C="[object Uint8ClampedArray]",z="[object Uint16Array]",F="[object Uint32Array]",D={};D[x]=D[_]=D[v]=D[b]=D[E]=D[w]=D[C]=D[z]=D[F]=!0,D[i]=D[n]=D[m]=D[s]=D[y]=D[o]=D[a]=D[h]=D[l]=D[u]=D[c]=D[d]=D[f]=D[g]=D[p]=!1;function M(k){return e(k)&&t(k.length)&&!!D[r(k)]}return Ic=M,Ic}var zc,m0;function gp(){if(m0)return zc;m0=1;function r(t){return function(e){return t(e)}}return zc=r,zc}var Us={exports:{}};Us.exports;var y0;function pp(){return y0||(y0=1,function(r,t){var e=Ww(),i=t&&!t.nodeType&&t,n=i&&!0&&r&&!r.nodeType&&r,s=n&&n.exports===i,o=s&&e.process,a=function(){try{var h=n&&n.require&&n.require("util").types;return h||o&&o.binding&&o.binding("util")}catch{}}();r.exports=a}(Us,Us.exports)),Us.exports}var Pc,_0;function KP(){if(_0)return Pc;_0=1;var r=ZP(),t=gp(),e=pp(),i=e&&e.isTypedArray,n=i?t(i):r;return Pc=n,Pc}var Mc,x0;function Jw(){if(x0)return Mc;x0=1;var r=WP(),t=VP(),e=fp(),i=Zw(),n=YP(),s=KP(),o=Object.prototype,a=o.hasOwnProperty;function h(l,u){var c=e(l),d=!c&&t(l),f=!c&&!d&&i(l),g=!c&&!d&&!f&&s(l),p=c||d||f||g,m=p?r(l.length,String):[],y=m.length;for(var x in l)(u||a.call(l,x))&&!(p&&(x=="length"||f&&(x=="offset"||x=="parent")||g&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||n(x,y)))&&m.push(x);return m}return Mc=h,Mc}var Rc,b0;function mp(){if(b0)return Rc;b0=1;var r=Object.prototype;function t(e){var i=e&&e.constructor,n=typeof i=="function"&&i.prototype||r;return e===n}return Rc=t,Rc}var kc,v0;function Qw(){if(v0)return kc;v0=1;function r(t,e){return function(i){return t(e(i))}}return kc=r,kc}var jc,w0;function JP(){if(w0)return jc;w0=1;var r=Qw(),t=r(Object.keys,Object);return jc=t,jc}var Dc,T0;function QP(){if(T0)return Dc;T0=1;var r=mp(),t=JP(),e=Object.prototype,i=e.hasOwnProperty;function n(s){if(!r(s))return t(s);var o=[];for(var a in Object(s))i.call(s,a)&&a!="constructor"&&o.push(a);return o}return Dc=n,Dc}var Fc,A0;function tT(){if(A0)return Fc;A0=1;var r=$w(),t=Kw();function e(i){return i!=null&&t(i.length)&&!r(i)}return Fc=e,Fc}var Oc,E0;function yp(){if(E0)return Oc;E0=1;var r=Jw(),t=QP(),e=tT();function i(n){return e(n)?r(n):t(n)}return Oc=i,Oc}var Lc,S0;function tM(){if(S0)return Lc;S0=1;var r=Lh(),t=yp();function e(i,n){return i&&r(n,t(n),i)}return Lc=e,Lc}var Bc,C0;function eM(){if(C0)return Bc;C0=1;function r(t){var e=[];if(t!=null)for(var i in Object(t))e.push(i);return e}return Bc=r,Bc}var Nc,I0;function iM(){if(I0)return Nc;I0=1;var r=Do(),t=mp(),e=eM(),i=Object.prototype,n=i.hasOwnProperty;function s(o){if(!r(o))return e(o);var a=t(o),h=[];for(var l in o)l=="constructor"&&(a||!n.call(o,l))||h.push(l);return h}return Nc=s,Nc}var qc,z0;function _p(){if(z0)return qc;z0=1;var r=Jw(),t=iM(),e=tT();function i(n){return e(n)?r(n,!0):t(n)}return qc=i,qc}var Uc,P0;function nM(){if(P0)return Uc;P0=1;var r=Lh(),t=_p();function e(i,n){return i&&r(n,t(n),i)}return Uc=e,Uc}var Gs={exports:{}};Gs.exports;var M0;function rM(){return M0||(M0=1,function(r,t){var e=Zi(),i=t&&!t.nodeType&&t,n=i&&!0&&r&&!r.nodeType&&r,s=n&&n.exports===i,o=s?e.Buffer:void 0,a=o?o.allocUnsafe:void 0;function h(l,u){if(u)return l.slice();var c=l.length,d=a?a(c):new l.constructor(c);return l.copy(d),d}r.exports=h}(Gs,Gs.exports)),Gs.exports}var Gc,R0;function sM(){if(R0)return Gc;R0=1;function r(t,e){var i=-1,n=t.length;for(e||(e=Array(n));++i<n;)e[i]=t[i];return e}return Gc=r,Gc}var Hc,k0;function oM(){if(k0)return Hc;k0=1;function r(t,e){for(var i=-1,n=t==null?0:t.length,s=0,o=[];++i<n;){var a=t[i];e(a,i,t)&&(o[s++]=a)}return o}return Hc=r,Hc}var Wc,j0;function eT(){if(j0)return Wc;j0=1;function r(){return[]}return Wc=r,Wc}var $c,D0;function xp(){if(D0)return $c;D0=1;var r=oM(),t=eT(),e=Object.prototype,i=e.propertyIsEnumerable,n=Object.getOwnPropertySymbols,s=n?function(o){return o==null?[]:(o=Object(o),r(n(o),function(a){return i.call(o,a)}))}:t;return $c=s,$c}var Vc,F0;function aM(){if(F0)return Vc;F0=1;var r=Lh(),t=xp();function e(i,n){return r(i,t(i),n)}return Vc=e,Vc}var Xc,O0;function iT(){if(O0)return Xc;O0=1;function r(t,e){for(var i=-1,n=e.length,s=t.length;++i<n;)t[s+i]=e[i];return t}return Xc=r,Xc}var Yc,L0;function nT(){if(L0)return Yc;L0=1;var r=Qw(),t=r(Object.getPrototypeOf,Object);return Yc=t,Yc}var Zc,B0;function rT(){if(B0)return Zc;B0=1;var r=iT(),t=nT(),e=xp(),i=eT(),n=Object.getOwnPropertySymbols,s=n?function(o){for(var a=[];o;)r(a,e(o)),o=t(o);return a}:i;return Zc=s,Zc}var Kc,N0;function hM(){if(N0)return Kc;N0=1;var r=Lh(),t=rT();function e(i,n){return r(i,t(i),n)}return Kc=e,Kc}var Jc,q0;function sT(){if(q0)return Jc;q0=1;var r=iT(),t=fp();function e(i,n,s){var o=n(i);return t(i)?o:r(o,s(i))}return Jc=e,Jc}var Qc,U0;function lM(){if(U0)return Qc;U0=1;var r=sT(),t=xp(),e=yp();function i(n){return r(n,e,t)}return Qc=i,Qc}var td,G0;function uM(){if(G0)return td;G0=1;var r=sT(),t=rT(),e=_p();function i(n){return r(n,e,t)}return td=i,td}var ed,H0;function cM(){if(H0)return ed;H0=1;var r=Ir(),t=Zi(),e=r(t,"DataView");return ed=e,ed}var id,W0;function dM(){if(W0)return id;W0=1;var r=Ir(),t=Zi(),e=r(t,"Promise");return id=e,id}var nd,$0;function fM(){if($0)return nd;$0=1;var r=Ir(),t=Zi(),e=r(t,"Set");return nd=e,nd}var rd,V0;function gM(){if(V0)return rd;V0=1;var r=Ir(),t=Zi(),e=r(t,"WeakMap");return rd=e,rd}var sd,X0;function bp(){if(X0)return sd;X0=1;var r=cM(),t=dp(),e=dM(),i=fM(),n=gM(),s=Dh(),o=Vw(),a="[object Map]",h="[object Object]",l="[object Promise]",u="[object Set]",c="[object WeakMap]",d="[object DataView]",f=o(r),g=o(t),p=o(e),m=o(i),y=o(n),x=s;return(r&&x(new r(new ArrayBuffer(1)))!=d||t&&x(new t)!=a||e&&x(e.resolve())!=l||i&&x(new i)!=u||n&&x(new n)!=c)&&(x=function(_){var v=s(_),b=v==h?_.constructor:void 0,E=b?o(b):"";if(E)switch(E){case f:return d;case g:return a;case p:return l;case m:return u;case y:return c}return v}),sd=x,sd}var od,Y0;function pM(){if(Y0)return od;Y0=1;var r=Object.prototype,t=r.hasOwnProperty;function e(i){var n=i.length,s=new i.constructor(n);return n&&typeof i[0]=="string"&&t.call(i,"index")&&(s.index=i.index,s.input=i.input),s}return od=e,od}var ad,Z0;function mM(){if(Z0)return ad;Z0=1;var r=Zi(),t=r.Uint8Array;return ad=t,ad}var hd,K0;function vp(){if(K0)return hd;K0=1;var r=mM();function t(e){var i=new e.constructor(e.byteLength);return new r(i).set(new r(e)),i}return hd=t,hd}var ld,J0;function yM(){if(J0)return ld;J0=1;var r=vp();function t(e,i){var n=i?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}return ld=t,ld}var ud,Q0;function _M(){if(Q0)return ud;Q0=1;var r=/\w*$/;function t(e){var i=new e.constructor(e.source,r.exec(e));return i.lastIndex=e.lastIndex,i}return ud=t,ud}var cd,tx;function xM(){if(tx)return cd;tx=1;var r=cp(),t=r?r.prototype:void 0,e=t?t.valueOf:void 0;function i(n){return e?Object(e.call(n)):{}}return cd=i,cd}var dd,ex;function bM(){if(ex)return dd;ex=1;var r=vp();function t(e,i){var n=i?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}return dd=t,dd}var fd,ix;function vM(){if(ix)return fd;ix=1;var r=vp(),t=yM(),e=_M(),i=xM(),n=bM(),s="[object Boolean]",o="[object Date]",a="[object Map]",h="[object Number]",l="[object RegExp]",u="[object Set]",c="[object String]",d="[object Symbol]",f="[object ArrayBuffer]",g="[object DataView]",p="[object Float32Array]",m="[object Float64Array]",y="[object Int8Array]",x="[object Int16Array]",_="[object Int32Array]",v="[object Uint8Array]",b="[object Uint8ClampedArray]",E="[object Uint16Array]",w="[object Uint32Array]";function C(z,F,D){var M=z.constructor;switch(F){case f:return r(z);case s:case o:return new M(+z);case g:return t(z,D);case p:case m:case y:case x:case _:case v:case b:case E:case w:return n(z,D);case a:return new M;case h:case c:return new M(z);case l:return e(z);case u:return new M;case d:return i(z)}}return fd=C,fd}var gd,nx;function wM(){if(nx)return gd;nx=1;var r=Do(),t=Object.create,e=function(){function i(){}return function(n){if(!r(n))return{};if(t)return t(n);i.prototype=n;var s=new i;return i.prototype=void 0,s}}();return gd=e,gd}var pd,rx;function TM(){if(rx)return pd;rx=1;var r=wM(),t=nT(),e=mp();function i(n){return typeof n.constructor=="function"&&!e(n)?r(t(n)):{}}return pd=i,pd}var md,sx;function AM(){if(sx)return md;sx=1;var r=bp(),t=Fo(),e="[object Map]";function i(n){return t(n)&&r(n)==e}return md=i,md}var yd,ox;function EM(){if(ox)return yd;ox=1;var r=AM(),t=gp(),e=pp(),i=e&&e.isMap,n=i?t(i):r;return yd=n,yd}var _d,ax;function SM(){if(ax)return _d;ax=1;var r=bp(),t=Fo(),e="[object Set]";function i(n){return t(n)&&r(n)==e}return _d=i,_d}var xd,hx;function CM(){if(hx)return xd;hx=1;var r=SM(),t=gp(),e=pp(),i=e&&e.isSet,n=i?t(i):r;return xd=n,xd}var bd,lx;function IM(){if(lx)return bd;lx=1;var r=UP(),t=GP(),e=Yw(),i=tM(),n=nM(),s=rM(),o=sM(),a=aM(),h=hM(),l=lM(),u=uM(),c=bp(),d=pM(),f=vM(),g=TM(),p=fp(),m=Zw(),y=EM(),x=Do(),_=CM(),v=yp(),b=_p(),E=1,w=2,C=4,z="[object Arguments]",F="[object Array]",D="[object Boolean]",M="[object Date]",k="[object Error]",j="[object Function]",O="[object GeneratorFunction]",T="[object Map]",S="[object Number]",A="[object Object]",R="[object RegExp]",I="[object Set]",P="[object String]",L="[object Symbol]",B="[object WeakMap]",U="[object ArrayBuffer]",H="[object DataView]",Z="[object Float32Array]",K="[object Float64Array]",nt="[object Int8Array]",rt="[object Int16Array]",$="[object Int32Array]",it="[object Uint8Array]",st="[object Uint8ClampedArray]",ft="[object Uint16Array]",Tt="[object Uint32Array]",Y={};Y[z]=Y[F]=Y[U]=Y[H]=Y[D]=Y[M]=Y[Z]=Y[K]=Y[nt]=Y[rt]=Y[$]=Y[T]=Y[S]=Y[A]=Y[R]=Y[I]=Y[P]=Y[L]=Y[it]=Y[st]=Y[ft]=Y[Tt]=!0,Y[k]=Y[j]=Y[B]=!1;function ot(gt,Rt,Pe,Ci,ue,pe){var Wt,oi=Rt&E,Mr=Rt&w,Hh=Rt&C;if(Pe&&(Wt=ue?Pe(gt,Ci,ue,pe):Pe(gt)),Wt!==void 0)return Wt;if(!x(gt))return gt;var bs=p(gt);if(bs){if(Wt=d(gt),!oi)return o(gt,Wt)}else{var bn=c(gt),vn=bn==j||bn==O;if(m(gt))return s(gt,oi);if(bn==A||bn==z||vn&&!ue){if(Wt=Mr||vn?{}:g(gt),!oi)return Mr?h(gt,n(Wt,gt)):a(gt,i(Wt,gt))}else{if(!Y[bn])return ue?gt:{};Wt=f(gt,bn,oi)}}pe||(pe=new r);var Rr=pe.get(gt);if(Rr)return Rr;pe.set(gt,Wt),_(gt)?gt.forEach(function(Ii){Wt.add(ot(Ii,Rt,Pe,Ii,gt,pe))}):y(gt)&&gt.forEach(function(Ii,ai){Wt.set(ai,ot(Ii,Rt,Pe,ai,gt,pe))});var No=Hh?Mr?u:l:Mr?b:v,qo=bs?void 0:No(gt);return t(qo||gt,function(Ii,ai){qo&&(ai=Ii,Ii=gt[ai]),e(Wt,ai,ot(Ii,Rt,Pe,ai,gt,pe))}),Wt}return bd=ot,bd}var vd,ux;function zM(){if(ux)return vd;ux=1;var r=IM(),t=1,e=4;function i(n){return r(n,t|e)}return vd=i,vd}var PM=zM();const MM=Ao(PM),RM=()=>{const r=new Map;return{on:(s,o)=>{r.has(s)||r.set(s,[]),r.get(s).push(o)},emit:(s,...o)=>{var a;(a=r.get(s))===null||a===void 0||a.forEach(h=>h(...o))},off:(s,o)=>{if(!o)r.delete(s);else{const a=r.get(s);a&&r.set(s,a.filter(h=>h!==o))}},clear:()=>r.clear()}},fs=(r,t,e,i=2)=>{const s={"+":(o,a)=>o.add(a),"-":(o,a)=>o.sub(a),"*":(o,a)=>o.mul(a),"/":(o,a)=>{if(a.eq(0))throw new Error("0");return o.div(a)}}[e](new Ti(r),new Ti(t));return Number(s.toFixed(i,Ti.ROUND_DOWN))},jt=(r,t,e=0)=>parseFloat((Math.random()*(t-r)+r).toFixed(e)),kM=(r=1,t)=>{let e,i=r,n=Date.now(),s=!1;return new Promise(o=>{const a=()=>{document.hidden?(s=!0,clearTimeout(e),i-=Date.now()-n):s&&(s=!1,n=Date.now(),h(o))},h=l=>{e=setTimeout(()=>{l(),document.removeEventListener("visibilitychange",a)},i)};document.addEventListener("visibilitychange",a),h(o)})};class Oo{constructor(t){this.listeners=new Map,this.listenerIds=new Map,this.index=0,this.data=Object.assign({},t)}getData(){return this.data}getValue(t){return this.data[t]}setValue(t,e,i=!0){var n;const s=this.data[t];return s===e||(this.data[t]=e,i&&((n=this.listeners.get(t))===null||n===void 0||n.forEach(o=>o(e,s)))),e}onValue(t,e,i=!0){const n=this.index++;return this.listeners.has(t)||this.listeners.set(t,new Map),this.listeners.get(t).set(n,e),i&&e(this.data[t],this.data[t]),()=>{this.listeners.get(t).delete(n)}}onValueById(t,e,i,n=!0){this.offValueById(t);const s=this.onValue(e,i,n),o=this.index-1;this.listenerIds.set(t,o),this.listenerIds.set(`${t}_remove`,s)}offValueById(...t){const e=t.flat();for(const i of e){const n=this.listenerIds.get(`${i}_remove`);typeof n=="function"&&n(),this.listenerIds.delete(i),this.listenerIds.delete(`${i}_remove`)}}updateFake(t){var e;const i=this.data[t];return(e=this.listeners.get(t))===null||e===void 0||e.forEach(n=>n(i,i)),i}setNumberValue(t,e,i=1,n=!0){let s;return e==="add"?(s=fs(this.data[t],i,"+"),this.setValue(t,s,n)):(s=fs(this.data[t],i,"-"),this.setValue(t,s,n)),s}setBooleanValue(t,e=!0){const i=!this.data[t];return this.setValue(t,i,e),i}clear(){this.listeners.clear(),this.listenerIds.clear()}}const jM=r=>Math.random()*100<r,DM=/^[\uD800-\uDBFF]$/,FM=/^[\uDC00-\uDFFF]$/,OM=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;var cx;(function(r){r[r.Unknown=1e-13]="Unknown",r[r.Rule=1e-12]="Rule",r[r.DICT=2e-8]="DICT",r[r.Surname=1]="Surname",r[r.Custom=1]="Custom"})(cx||(cx={}));const We={Normal:1,Surname:10,Custom:100};function mi(r){var t;return r.length-(((t=r.match(OM))===null||t===void 0?void 0:t.length)||0)}function Er(r){const t=[];let e=0;for(;e<r.length;){const i=r[e];DM.test(i)&&FM.test(r[e+1])?(t.push(r.substring(e,e+2)),e+=2):(t.push(i),e+=1)}return t}class oT{constructor(){this.NumberDICT=[],this.StringDICT=new Map}get(t){if(t.length>1)return this.StringDICT.get(t);{const e=t.charCodeAt(0);return this.NumberDICT[e]}}set(t,e){if(t.length>1)this.StringDICT.set(t,e);else{const i=t.charCodeAt(0);this.NumberDICT[i]=e}}clear(){this.NumberDICT=[],this.StringDICT.clear()}}const dx={"bng png png":[""],lng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"dng zhng":[""],"ko qio y":[""],q:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],shng:["","","","","",""],xi:["","","","","","","","","","","","",""],hn:["","","","","",""],"wn m":[""],zhng:["","","","","","","","","","","","","","","","","","","",""],sn:["","","","","","","","",""],"shng shng shang":[""],"q j":["","",""],"b fu":[""],"y y y":[""],min:["","","","","","","","","","","","","","","","","","","",""],gi:["","","","","","","","","","","","","","",""],chu:["","","","","","","","",""],zhun:["","","","","","","","","","","","","","","","",""],"qi j":[""],p:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],sh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],qi:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],bng:["","","","","","","","","","","","","","","","","","","","",""],y:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],cng:["","","","","","","","","","","","","","","","","","","",""],dng:["","","","","","","","","","","","","","","","","","","","","","","",""],s:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],chng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],di:["","","",""],ling:["","","","","","","","","","","","",""],yu:["","","","","","","","","","","","","","","",""],yn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],bng:["","","","","","","","","","","","",""],"sng sng":[""],gn:["","","","","","","","","","","","","","","",""],ji:["","","","","","","","","","","","","","","",""],"g g":["","",""],y:["","","","","","","","","","","","","","",""],pn:["","","","","","","","","","","","","","","","",""],"zhng zhng":[""],j:["","","","","","","","","","","","","","","","",""],ji:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],fng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"gun kung":[""],chun:["","","","","",""],chn:["","","","","","","","","","","","","","","","","","","","","","","","","",""],ln:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zhu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zh:["","","","","","","","","","","","","","","","","","","","",""],b:["","","","","","","","","","","","","","","","","","",""],wn:["","","","","","","","","","","","","","","","","",""],dn:["","","","","","","","","","","","","","","","","","","","","","","",""],"wi wi":[""],"jng dn":[""],"l l":[""],j:["","","","","","","","","","","","","","","","","","",""],pi:["","","",""],f:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"y j":[""],y:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],ni:["","","","","","","","","",""],w:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],ji:["","","","","","","","","","","","","","",""],"tu zh":["","",""],"me m ma yo":[""],zh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"w w":[""],zh:["","","","","","","","","","","","",""],h:["","","","","","","","","","","","","","","","","","","","","","","","",""],f:["","","","","","","","","","","","","","","","","",""],"l yu yo lo":["",""],yn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],png:["","","","","","","","",""],png:["","","","","",""],qio:["","","","","","","","","","","","","","","","","","","","","","","",""],h:["","","","","","",""],gui:[""],"chng shng":["","",""],y:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ho y":[""],"ni mi":[""],q:["","","","","","","","","","","","","","","","","","","",""],y:["","","","","","",""],x:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],xing:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],sh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],du:["","","","","","",""],sh:["","","","","","","","","","","","","",""],j:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],nng:["","","","",""],ji:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],sh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],mo:["","","","","","","","","","",""],mi:["","","","","",""],lun:["","",""],r:["","","","","",""],xu:["","","","","","","","","","","","","","",""],yn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],f:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],sh:["","","","","","","","","","","","","","","","","","","","","","",""],n:["",""],qin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],su:["","","","","","","","","","","","","","","",""],y:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zh:["","","","","","","",""],"qin gn":[""],"zh lun":[""],gu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ln ln":[""],ju:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"le lio":[""],"g m":[""],"y y":["",""],zhng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],r:["","","","","","","","","","",""],ch:["","","","","","","","","","","","","","","","","","","","",""],ku:["","","","","","","","","","",""],yn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],h:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],q:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],jng:["","","","","","","","","","","","","","","","","","","","","","",""],s:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],su:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],gn:["","","","",""],y:["","","","","","","","","","","","","","","","","","","","","","",""],"xi su":[""],"q zhi":["",""],"y y":["","","","",""],"j q":["",""],tu:["","","",""],"wng w":[""],"kng hng gng":[""],d:["",""],jio:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],hi:["","","","","","","","",""],"hng png":[""],m:["","","","","","","","","","","","","","","","","","",""],ye:[""],xing:["","","","","","","","","","","","","","","",""],jng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],tng:["","","","","","","","","","","","","","","","","","",""],ling:["","","","","","","","","","",""],"qn qng":["",""],b:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],yu:["","","","","","","","","","","","","","","","","","","","","","",""],xi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"dn dn":["",""],lin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],du:["","","","","","","","","","","","",""],"wi mn":["",""],rn:["","","","","","","","","","",""],j:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],wng:["","","","",""],"shn sh":[""],l:["","","","","","","","","","","","","","",""],dng:["","","","","","","","",""],z:["","","","","","",""],"jn jn":["","",""],"p p":[""],"chu qi":[""],zhng:["","","",""],jn:["","","","","","","","","","","","","","","","","","","","","",""],bng:["","","","","","","",""],rng:["","","","",""],f:["","",""],"jn sn":[""],ln:["","","","","","","","","","","","","","","","","","","","","","",""],cng:["","","","","","","","","","","","","","",""],"zi z z":[""],t:["","","","","","","","","","",""],f:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],xin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"tu ch du":[""],hng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],tng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],rn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],qin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"gn hn":[""],"y g":[""],di:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"lng lng lng":[""],cho:["","",""],"chng zhng":["","","",""],s:[""],chng:["","","","","","","","","","","","","","","","","","","",""],y:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],m:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"men mn":[""],fn:["","","",""],"cho mio":[""],"yng ng":[""],zhng:["","","","","","","","","","","","","",""],"p p":[""],w:["","","","","","","","","","","","","","","","","",""],jin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ji ji jie":[""],"yo f":[""],"rn rn":[""],"fn bn":[""],d:["","","","","","","","","","","","","","","","",""],fng:["","","","","","","","","","","","","",""],zhng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],pi:["","","","","","","","","","","","","","",""],dio:["","","","","","","","","","","","","","","","","","",""],dn:["","","","","","","","","","","","",""],wn:["","","","","","","","","","","",""],xn:[""],kng:["","","","","","",""],i:["","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"j q":["",""],"xi x":[""],"jn yn":[""],dn:["","","","","","","","","","","","",""],f:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],tng:["","","","","","","","","","","",""],yu:["","","","","","","","","","","","","","","","","","",""],hu:["","","","","","",""],"hu kui":["","","",""],y:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],cu:["","","","","","","","","","","","","","","","","","","","","","","","",""],sn:["","","","","",""],wi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"chun zhun":["",""],"ch j":["","",""],"j ch":[""],y:["","","","","","","","","","","","","","","","","",""],qin:["","","","","","","","","","","","","","","","","","","","","",""],shng:["","","","","","","","","","","","","","","",""],chng:["","","","","","","","","","","","","","","","",""],"chen cng":[""],xn:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],xn:["","","","","","","","","",""],ch:["","","","","","","","","","","","","","","","","",""],"xin xun":[""],"n n":[""],"b bi":[""],"g g":[""],n:["","","","","","","","","","","",""],"n n":[""],bn:["","","","","","","","","","","","",""],x:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zhu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],shn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],q:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"s c":[""],bng:["","","","","",""],"s sh":[""],"ji qi g":[""],"y ch":[""],"din tin":["",""],"hn gn":[""],mi:["","","","","","","","","","","","","","","",""],dn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b:["","","","","","","","","","","","","","","","","","","","","","",""],b:["","","","","","","","","","","","","","","","","","","",""],"zho sho":[""],c:["","","","",""],wi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zu:["","",""],yng:["","","","","","","","","","","","","","","","","","",""],"t t":["",""],zhn:["","","","","","","","","","","","","","","","","","","",""],"h h h":[""],b:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],tu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],sh:["","","",""],"y di":["","","",""],"f f b b":[""],"zu zu":[""],gu:["","","","","","","","","","","","","","",""],nng:["","","","","","",""],q:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"yng yng":[""],w:["","","",""],k:["","","","",""],bo:["","","","","","","","","","","","","","",""],"hui hu":[""],"g h":[""],lo:["","","","","","","","","","","","","","",""],xing:["","","","","","","",""],g:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],yng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],bi:["","","","","","","","",""],f:["","","","","",""],mng:["","","","",""],"r ni":[""],hn:["","","","",""],hu:["",""],gu:["","","","","","","","","","","","","","","","","","","","","","","",""],qun:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],tio:["","","","",""],jio:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],c:["","","","","","","","","","","","",""],xng:["","","","","","","","","","","","","","","","","","","",""],tu:["","","","","","","","","","","","","","","","","",""],kn:["","","","","","","","","",""],zh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],gi:["","","","","","","","","","","","","","",""],li:["","","","","","","","","","","","","","","","","","","","","","","","",""],ku:["","","",""],gng:["","","","","","","","","","","","","","","","","","","","","","","","","",""],l:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],yn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],m:["","","","","","","","","","","","","","",""],zh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],n:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],l:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],mu:["","","","","","","","","","",""],r:["","","","","","","","","","","","","","","","","","","","",""],"dng tng tng":[""],ch:["","","","","","",""],ch:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"gng gng":["",""],zhu:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],r:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"jin cn":[""],xi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],l:["","","","","","","","","","","","","","","","","","","","","","","","","",""],ta:[""],"jio yo":["","",""],zhn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"c z zhi":["",""],kui:["","","","","","","","","","","","","","","","","","","","","","",""],chi:["","","","","","",""],nng:["","","","","","","","","","","","","","","","","","","","","","",""],jn:["","","","","","","","","","","","","","","","","",""],"hu hu":["",""],jing:["","","","","","","","","","","","","","","","","","","",""],"chng tng":[""],"zhn zhn":["",""],zu:["","","","","","","","","","","","","","",""],qn:["","","","","","","","","","","","",""],j:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"sh du":[""],tng:["","","","","","","","","","","",""],shn:["","","","","","","","","","","","","","","","","",""],"tu tu":[""],nn:["","","","","","","","","","","","",""],xio:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"bin pin":["","",""],tu:["","","",""],x:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],c:["","","","","","","","","","","","","","","","","","","",""],:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],qi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x:["","",""],"gung kung":[""],k:["","","","","","","","","","","","",""],w:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],jn:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],ling:["","","","","","","","","","","",""],z:["","","","","","","","","","",""],"qio xio":[""],yng:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],hn:["","","","","","","","","","","",""],jng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],sn:["",""],pi:[""],s:[""],x:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],l:["","","","","","","","","","","","","","","","","","","","","","","","",""],bo:["","","","","","","","","","","","","","","","","","","","",""],"y sh y":[""],"s q":[""],"xn shn":[""],xi:["","","","","","","","","","","","","","","","","","","","","","",""],d:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],chu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"li ling":[""],jin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],hu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"j j":["","","",""],xio:["","","","","","","","","","","","","","","","","","",""],pi:["","","","","","","",""],bio:["","",""],"ch t":[""],fi:["","","","","","","","","","","","","","","","","","","","","","","",""],fng:["","","","","","","","","","",""],n:["","","","","","",""],bi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],xn:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"h ch":[""],ji:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],yo:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"cu z":[""],"ling li":[""],wn:["","","","","","","","","","","","","","","","","","","","","","","",""],zng:["","","","","","","","","","","","","","",""],gun:["","","","","","","","","","","","","",""],tin:["","","","","","","","","","","","","","",""],mn:["","","","","","","","","","","",""],"do do":[""],"tn tn":["",""],"ju ju":[""],chu:["","","","","","","","","","","","","","","",""],xng:["","","","","","","","","","","","","",""],png:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"tng chng":[""],hu:["","","","","","","","","","","","","","",""],t:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],gn:["","","","","","","","","","","","","","",""],"ling jng":["",""],su:["","","","","","","","","","","","",""],"chng chng":[""],ji:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"kng kng":[""],jun:["","","","","","","","","","","","","","","","","","","",""],zng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],n:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],zhu:["","","","","","","","","","","",""],"w wi":[""],lu:["","","","","","","","","",""],sng:["","","","","","","","","","","","","","","","","",""],lng:["","","","",""],z:["","","","","","","","","","","","","",""],bn:["","","","","","",""],ci:["","","","","","","","","","",""],zhi:["","","","",""],y:["","","","","","","","",""],sh:["","","","","","","","","",""],qng:["","","","","","","","","","","","","","","","","","",""],yng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"chng chn":["",""],run:["","","","","","","","","","",""],"zhng tng":[""],chn:["","","","","",""],"ji ji":[""],"j ji":[""],"bng bng":[""],ru:["","","","","","","","","","","","","",""],t:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],wi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],pin:["","","","","","","",""],yn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"tng dng":[""],:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],xi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],ch:["","",""],shng:["","",""],ch:["","","","","","","","","","","","",""],hung:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],yo:["","","","","","","","","","","","","","","","","",""],"chu qio":[""],yu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zh:["","","","","","","","","","","","",""],c:["","","","","","",""],b:["","","","","","","","",""],xn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ci s":[""],dun:["","","","",""],u:["","","","","","","","",""],tu:["","",""],"zn z z":[""],"l lu":["",""],fn:["","","","","","","","","","","","","","","",""],"ku gu":[""],su:["","","","","","","",""],"zh s t":[""],s:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],xi:["","","","","","",""],"yun yun":["",""],rng:["","","","",""],n:["",""],yn:["","","","","","","","","","","","","","","","","","","","","","","","","",""],"gu jing":[""],m:["","","","","","","","","","",""],bng:["","","","","","","","","","","",""],din:["","","","","","","","","","","","","","","","","",""],tng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],ho:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"x x":[""],shn:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"qin jin":[""],"qu ju":["",""],"cng chen":[""],rng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"t tn":[""],su:["","","","","","","","","","","","","","","",""],di:["",""],zi:["","","","","","","",""],g:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],bn:["","","","","","","","","","","","","","","","","","","","","",""],ch:["","","","","","","","","","","","","","","",""],nu:["","","","",""],"cn cn":[""],li:["","","","","","","","","","","","","","","","","","","","","","","",""],cu:["","","","","","","","","","",""],yng:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"zo co":[""],sng:["","","","","","","","","","",""],o:["","","","","","","","","","","","","","",""],"q cu":[""],chung:["","","",""],sh:["",""],hn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zhng:["","","","","","","","","","","","","","","","","","","","","",""],"yn yn":["","",""],"pio bio":["",""],lin:["","","","","","","","","","","","","","","","","","","","","","","","",""],mn:["","","","","","","","","","","","","","","","","",""],"tn tn":[""],yng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],dng:["","","","","","","","","","","","","","","","","",""],zhun:["","","","","","","","","","","","","",""],xing:["","","","","","","","","","","","","","","","","",""],shn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"tu tu":[""],zn:["","","",""],p:["","","","","","","","","","","","","","","","","","",""],lo:["","","","","","","","","","","","","","","","","","","","",""],chng:["","","","","","","",""],gung:["","","","","","","","","","","","","","","","","",""],lio:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],dng:["","","","","","","","","","",""],"chn zhn zhun":[""],b:["","","","","","","","","","","","","","","","","","","","","","","",""],hu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],chun:["","","","",""],"ti jin":[""],sng:["",""],xin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"y j":[""]," w":[""],"tng zhung":[""],ln:["","","","","","","","","","","","",""],g:["","","","","","","","","","","","","","","","","","",""],jing:["","","","","","","","","","","","","","","","","","","","",""],mn:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],jn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ji jie":[""],qio:["","","","","","","","","","","","","",""],p:["","","","","","","","","","","",""],si:["","","",""],"chn tn shn":[""],"dng dng":["","",""],xun:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"dn dn":["","",""],cn:["","","","","","","",""],"bn bn":[""],"n n":[""],ti:["","","","","","","","","","","","","","","",""],ln:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"n y i y":[""],mng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],nng:["","","","","","","","","","","","","","","",""],qing:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],li:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],kung:["","",""],bo:["","","","","","","","","","","","","","","","","","","",""],bio:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zn:["","","","","","",""],ho:["","","","","","","","","","","","","","","","","",""],qng:["","","","","","","","","",""],chn:["","","","","","","","","","","","","",""],tng:["","","","","","","","","","","","","","","","","","","",""],"lng lng lng":[""],"chn chn":[""],"rng xing":["",""],"hu xi":[""],lu:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],li:["","","","","","","","","","","","","","","","","","","","","","",""],"nng nng":[""],"w w":[""],yn:["","","","","","","","","","","","","","","","","",""],zn:["","","","","","","",""],yun:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],xing:["","","","","","","","","","","","","","","",""],chng:["","","","","","","","","","","","","","","","",""],zho:["","","","","","","","","","","","","","","","","","","","","","",""],"du ru yu":["","",""],k:["","","","","","","","","","","","","","","","","","","","","",""],t:["","","","",""],dng:["","","","","","","",""],du:["","","","","",""],hung:["","","","","","","","","","","",""],r:["","","","","","","","","","","",""],ni:["","","",""],"y sh":[""],"li l":[""],han:["",""],tin:["","","","","","","",""],"xng xng":[""],din:["","","","","","","","","","","",""],"z c":[""],jin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],shu:["","","","","","","","","","","","","","",""],j:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],jing:["","","","","","","","","",""],mo:["","","","","","","","","","","","","","","","","","","","","","","","",""],rn:["","","","","","","","",""],"ni n":[""],gng:["","","","","","","","","","","","","","","","","","","","","",""],c:["","","","","","","","","","","","","","","","","","","","",""],gu:["","","","",""],"mo m":[""],gu:["","","","","","","","","","","","","","","","","","","","","",""],x:["","","","","","","","","","","",""],m:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"yu yn":[""],xi:["","",""],jn:["","","","","","","","","","","","","","","","","","","","","","",""],m:["","","","","","","","","","","","","","","","","","","","","","","","","",""],"gun gun":["","","","",""],mng:["","","","","","","","","","","","",""],zhng:["","","","","","","","",""],zu:["","","","","","","","","","","","","","","","",""],yun:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],mng:["","","","","","","","","","","","","","","","","","","","",""],ku:["","","","","","","","","","","","","",""],ti:["","","","","","","","","","","","","","",""],"fng png":["",""],"chng chng":[""],kung:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],lng:[""],pn:["","","","","","","","","","","","","","","","","",""],f:["","","","",""],xin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],qi:["","","","","","","","",""],"jng chng":["","",""],su:["","","","","","","","","","","","","","","","","","","","",""],mi:["","","","","","","","","","","","","","","",""],t:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zhn:["","","","",""],"ling ling":["","",""],dio:["","","","","","","","","","","","","","","","","","","","",""],cu:["","","","",""],i:["","","","","","","",""],du:["","","","","","","","",""],d:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"j j":[""],fn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ch ch":["",""],zh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],png:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],ki:["","","","","","","","","","","","","","","","","","",""],gn:["","","","","","","","","","","","","","","","","","","","",""],"kn qin":[""],t:["","","","","","","","","","","","","","",""],"o w":[""],ch:["","","","","","","","","",""],dng:["","","","","","","","","","","","","","","","","","","","","","",""],hn:["","","","","","","","","","","","","","","","","","","","","",""],zo:["",""],do:["","","","","","","","",""],chung:["","","","","","","","",""],"fn fn":[""],"qi qi":[""],kn:["","","","","","",""],cn:["",""],ch:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"hu hu":[""],l:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],yu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],li:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],z:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"chung chung":["",""],q:["","","","","","","",""],"bi bi":["",""],"po bo":[""],"chn chn":["","",""],gu:["","","","","","","","","","","","",""],gng:["","","","","","","","","","","","","","",""],do:["","","","","","","","","","","","","","","","","","",""],chung:["","","","",""],k:["","","","","","","","","","","",""],du:["","","","","","","","","","","","","","","",""],"shu shu":[""],"qun xun":[""],"ch sh":["",""],"c c":[""],gu:["","","","","","","","","","","","","","","","","","","","","","","","",""],lu:["","","","","","","","","","","","","","","","","","","","","","",""],cu:["","","","","","","","","","","","","","",""],"xio xu":[""],"ki k":["",""],"l l":[""],t:["","","","","","","","",""],pu:[""],wn:["","","","","","","","","","","",""],"bo b":["",""],du:["","","","","","","","","","",""],qng:["","","","","","","","","","","","","","",""],"yn shn":[""],"d zhu":[""],yn:["","","","","","","","","","","","","","","","","","","","","","","","",""],hu:["","","","","","","","",""],shng:["","","","","","","","","","","","","",""],"dun zh":[""],w:["","","","","","","","","","","","","","","","","","","","","","","","","",""],g:["","","","","","","","","","","","","","","","",""],"d zh":[""],chun:["","","","","","","","",""],"tun zhun":["","",""],"l ji":[""],png:["","","","","","","","","","",""],pio:["","","","","","","","","","",""],ku:["","","","","","","",""],"jio cho":["","","",""],qio:["","","","","","","","","","","","","","","","","","","","","","","",""],"hu hu":[""],"zh zh":[""],"p p":["",""],tng:["","","","","","","",""],chn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zun:["","","","",""],m:["","","","","","","","","","","","","","","","","","","","",""],zh:["","","","","","","","","","","","","","","","","","","","","","",""],qun:["","","","",""],"jn jng":["","",""],kng:["","","","","","","","","","",""],"xi li":[""],"zh ch":[""],n:["","","",""],sho:["","","","","","","","",""],mio:["","","","","","","","","","",""],ku:["",""],w:["","","","","","","","","","","","","","","","",""],kung:["","","","","","","","","","","",""],h:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],go:["","","","","","","","","","","","",""],"b bi":[""],lng:["","","","","","","","","","","","","","","","","","","","","","",""],xn:["","","","","","","","","","","","","","","","","","","","",""],"jun jun":["",""],"l li":[""],ki:["","","",""],"wng yng":[""],qn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],jing:["","","","","","","","","","","","","","","","","","",""],fn:["","","","","","","","","","","","","","",""],jun:["","","","","","","","","","",""],"tng dng":["","","",""],l:["","","","","","","","","","","","","","","",""],ch:["","","","","","","","","","","","","","",""],sho:["","",""],"gu gu":[""],cng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"to yo":["",""],po:["","","","","","","","","","",""],d:["","","","","","","","","","","","","","","","","","","","","","","","",""],"hu hu":[""],"bi bi":[""],no:["","","","","","","","","","","",""],"ch shi":[""],fng:["","","","","","","","","","",""],z:["","","","","","","","",""],qi:["","","","","","","","","","","","","","","","","","",""],"zng cng":[""],fi:["","","","","","","","","",""],"ku gu":["",""],sun:[""],p:["","","","","","","","","","",""],"q u":["",""],"k qi":[""],"yn yn":["",""],bin:["","","","","","","","","","",""],n:["","","","","","","","","","","","","","","","",""],nin:["","","","","","",""],s:["","","","","","","","","","",""],z:["","","","","","","",""],shng:["","","","","","","","","","","","","","","","","","","","","","","","",""],wn:["","","","","","","","","","","","",""],"hu hu hu":["",""],bi:["","","","","","","","","",""],"z c":[""],"dn shn chn":["",""],"nn n":[""],"shui l":[""],"b bo p":[""],"kung gun":[""],bin:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],b:["","","","","","",""],"zhn zhn":["",""],"k qi":[""],l:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],l:["","","","","","","","","","","","","","","","","","","","","","","","","",""],gu:["","","","","","","",""],"ng yng":[""],yn:["","","","","","","","","","","","","","","","",""],qu:["","","","","","","","","","","","","","","","","","","",""],lun:[""],"jun jun":["",""],"chng n hn":[""],"wi yn":[""],tng:["","","","","","","","","","","","","","","",""],"zh zhi":[""],"hn n":["",""],y:["","","","","",""],sh:["","","","","","","","","","","","","","","","","","","","","",""],d:["","","","","","","","","","","","","","","","","",""],"zh zhi":[""],png:["","","","","","","","","","",""],"zh sh":[""],mng:["","","","","","","","","","","","","","","","","","","","","","",""],zu:["","","",""],"sh xi":["",""],o:["","","","","","","","","","","","","","","","","","","","","","","",""],"ln qin":[""],"s mu":[""],"gng hng":[""],"ln mio":[""],"qi ru":[""],d:["","","",""],"xin xun":["",""],"cn shn cn sn":["","","",""],"i y":[""],"ch ch ch ch":[""],shung:["","","","","","","","","","","","","",""],shu:["",""],gui:[""],b:["","","","","","","","","","","","","",""],"f f":[""],"zhu y l ju":[""],q:["","","","","","",""],"ji xi":["",""],"wi y":["","",""],di:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],ru:["","","","","","","","","","",""],"j gu":[""],lng:["","","",""],"do do to":[""],"zh zh":[""],jio:["","","","","","","","","","","","","","","","","","","","","","","","",""],"zho sho":[""],"k k":[""],"ti ti":["",""],p:["","","","","","",""],"y xi":[""],"ho ho":[""],tn:["","","","","","","",""],"hng hng":[""],mi:["","","",""],"x y y":[""],ch:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"xun sng":[""],yo:["","","","","","","","","","","","","","",""],z:["","","","","","","","","","","","","","","","","",""],"h g":["",""],"cn du":[""],"tng tng":[""],"t t":["",""],"zh zh":["",""],"xi h":[""]," y":[""],"ma m m":[""],ln:["","","","","","","","","","","","","","","","",""],tn:["","","",""],"b p":[""],qn:["","","","","","","","","","",""],"ji g":[""],"fu p":[""],"ba b":[""],dn:["","","","","","","","","","","","",""],fn:["","","","","","","","","","","","","","","","","","","","",""]," hu":[""],"kng hng":["",""],shn:[""],"zh z":[""],"yn shn":[""],w:["","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"cho cho":[""],"n n":[""],"xu chu ju":[""],chu:["","",""],"du r":[""],hu:["",""],"hng hu u":[""],"w y":[""],"ya y":[""]," e":[""],di:["","",""],"mn q":[""],hng:["","","","","","","","","","","","","","",""],n:["","","","","","","","","","","","","","","",""],"tn tin":[""],"f ":["",""],"di ti":[""],"u u u":[""],"bi bei":[""],"yun yn yn":["",""],gu:["","","","","","","","","","","","","","","","","","",""],"hu q":[""],"qing qing":["",""],sh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],jun:["","","","","",""],pn:["",""],"wn mn":[""],"ne n":[""]," m mu":[""],rn:["","","","","","","","","","","","",""],"ti ch":[""],"q zh":[""],"z c":[""],"gu g gu":[""],"c z":[""],"hu x gu":[""],"h     a":[""],no:["","","","","","","","","","","","","","",""],"xi g":[""],pi:["","","","","",""],"ho xio":[""],mng:["",""],"d dn":[""],"zu j":[""],"xin gn":[""],pu:["","",""],"yng yng":[""],"z z zh":[""],"h h hu hu h":[""],hi:[""],d:["","","","","","","","","",""],"k k":[""],g:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"k g":[""],zuo:[""],lng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"xin xin":[""],q:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"x di":[""],"li li li lie":[""],z:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],m:[""],"j x qi":[""],"g lu k lo":[""],"sh xn":[""],"zn z z zan":[""],"hi k":[""],hu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"hui sh":[""],to:["","","","","","","","","","","","","","","","","","","","","","",""],xin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]," n":[""],"xun xun":["",""],"wi h w gu gu":[""],"yn y yn":[""],i:["","","","","","",""],pn:["",""],shn:["","","","","","","","","","","","","","","","","","","","","",""],"hng hng hng":[""],"w wa":[""],"h h h":[""],zi:["","","","","","","","",""],"d di":[""],pi:["","","","","","",""],"gn hn":[""],"y y":["",""],"yu hu":["",""],nin:["","","","","","","","","",""],"hu hu":["",""],"j ji zhi":["",""],mu:[""],"y yo":["",""],lng:["","",""],"  ":[""],"l l li":[""],"n na ni n ni":[""],h:["","","","","","","","","","","","","","","","","","","","","","",""],"b p b":[""],zh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ling lng":[""],"li l":[""],hn:["","","","","","","","","",""],"hng hng":[""],gng:["","","","","","","","","","","","","",""],"chu yu":[""],"g ji":[""],"bei bi":[""],"hn hn":[""],chn:["","","","","","","","","","","","","","","","","","","",""],"i i":[""],"ji qin":[""],"yn dn xin":[""],ch:["","","","",""],"w g ":[""],zo:["","","","","","","","","","","","","","","","","","",""],d:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"gng hng gng":["",""],du:[""],"lo lo":["","",""],hun:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],lng:["","","","",""],"w wi":[""],fng:["","","",""],"yn jn":[""],"h xi":[""],wi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],shu:[""],chng:["","","","","","","","","",""],"r w":[""],qing:["","","",""],y:[""],y:["","","","","","","","","","",""],li:["","","","","","","","","","","","","","","","","",""],tu:["","","","","","","","","",""],"zhu zho tio":[""],kn:["","","","","","","","","",""],"zhu zho":["",""],"hng hng":["",""],"ln ln":[""],"a    ":[""],qing:["","","","","","","","","","","","","","","","","","","",""],"tn zhn xing du":[""],wn:["","","","","","",""],"cu qi":[""],"di sh ji t":[""],"yu w":[""],"z c":[""],"b t":[""],"chu chui":[""],"y y ":[""],fi:["","","","","","","","","","","","","","","","","","","","","","",""],p:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],sh:[""],"l la":[""],"yng qng":[""],p:["","","","",""],"zh sh":[""],s:["","","","","","","","","","","","","","","","","","","","","","","","","",""],ni:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"lu lu luo":["",""],"tn chn tu":[""],bo:["",""],dng:["","","","","","","","","","","","","","","","","",""],lng:[""],"n n":[""],k:["",""],"yng y":[""],"l l l":[""],ji:["","","","","","","","","","","","","","","","","","","","","","","",""],hu:["","","","","","","","","","","","","","",""],"di zh":[""],wi:["","",""],"nu r":[""],"x hu gu":[""],zn:[""],"w ":[""],h:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"hun yun xun h":[""],x:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"h h y":[""],ku:["","","","","","","","","","","","","","","","","","",""],"zhng chung":[""],"wi wi":["","",""],"du zh":[""],"sng sng":[""],"qio jio":[""],"pn bn":[""],"cn sn q":[""],"zh ch":[""],mio:[""],"pn pn":[""],ku:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"lou lu":[""],"zo qio":[""],"h xio xio h":[""]," sh":[""],xi:["","","","","","","","","","","","","","","","","","","","",""],"qing qing":["","","","",""],"i y":["",""],"m m ma":[""],"k k":[""],"d t":["",""],sng:["","","","","","",""],chn:["","","","","","","","",""],"w g":[""],"png bng":[""],"xin qin qin":[""],lo:["","","","","","","","","",""],wng:["","","","","","","",""],w:["","","","","",""],"hi hi":[""],h:["","","","",""],zi:[""],si:[""],"g g g":[""],g:["",""],n:["","","","",""],di:[""],"i i i":[""],tng:["","","",""],"zu su":[""],"zh zh zh zhe":[""],m:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],su:["",""],tn:["","","","","","","","","","","","","",""],"jio do":[""],"ki g":[""],"shn cn":[""],co:["","","","","","","","","","","",""],pio:["","","",""],"lu lou":[""],g:["",""],"g ji":[""],"jio xio":[""],"x sh":["",""],p:["","","","","",""],"d di":[""],"ma m":[""],"l lei":[""],"g g g":[""],si:["","","","","",""],"zu chui":[""],"cho zho":["","",""],zu:["","","",""],"qio qio":["","",""],"ch x shu":[""],"tn chn":[""],"dn tn":["","","","",""],"hi m":[""],:["","","","",""],"fn bo":[""],chung:["","",""],"c z h":[""],"tn ku":[""],"cng chng":[""],dng:["","","","","","","","","",""],p:["","","","","","","",""],ju:["","","",""],l:["","","","",""],zhn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],:[""],"zhu zhu":[""],"jio qio ch":[""],yun:["","","","","","","","","","","","",""],"i i i":[""],"yng yng":["",""],"ju xu":[""],"pn pn fn":[""],g:["","","","",""],"xn hn hn":[""],dng:["","","","","","","","","",""],ln:["","","","","","","","","","",""],t:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"hu hu ":[""],ho:["","","",""],"h xi":[""],"xi p":[""],"zhu chu":["","",""],m:[""],"ch c":[""],"b po bo":[""],"me mi m":[""],"xi hi":[""],"o xio":[""],m:["",""],pn:["","","","","","","","","","","","",""],m:["",""],"rng rng":[""],l:["",""],"jio ju jio":[""],chu:["","","","","","","","","","","","","","","",""],"hun hun":[""],"z c":[""],chi:["","","","",""],"nng nng":[""],"z zn cn":[""],s:["","","","","","","","","",""],zng:["","","","","","",""],"z ni yn":[""],nng:[""],"lu lu luo":[""],"wi gu":[""],hu:["","","","","","","","","","","","","","","",""],nn:["","",""],"jin nn":[""],nn:[""],tun:["","","","","","","","","","",""],"tn dn":["",""],gu:["","","","","","","","","","","","","","","","","",""],kn:["","",""],"wi tng":[""],qn:["","",""],r:["","","","","",""],ti:["","",""],p:["","","","","","","","","","","","","","","","",""],"qun jun jun":["",""],"chu chun":[""],tun:["","",""],l:["","","","","","","","",""],"hun yun":[""],lun:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],t:["","","",""],"x wi":[""],"d de":["",""],"qin s":[""],zhn:["","","","","","","","","","","","","","","","","","","","","","",""],"chng chng":["","",""],"q yn":[""],ji:["","","","","","","","","","","","","","","","","","","","",""],"zh zh":[""],bn:["","","","","","","","","","","","",""],qn:["","","","","","","","","","",""],"mi fn":[""],"rng kng":[""],"fng fng":[""],"fn bn":[""],tn:["","","","","","","","","","","",""],"hui pi p pi":[""],"d ln":[""],tn:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b:["","","","","","","","","","","",""],fn:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zhu:["","","","","","","","","","","","","","","","","",""],p:["","","","","","","","","","",""],"pn bn":[""],kn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],din:["","","","","","","","","","","","","","","","","","","","","","",""],"m m":[""],"k k":["",""],xu:["","","","","","","","",""],"d ch":["",""],l:["","","",""],lng:["","","","","","","","","",""],mn:["","","","","","","","","","","","","","","","","","","","","","","",""],"dng tng":["","",""],c:["","","","","","","","","","","","","","","","","","","","","","","","","",""],du:["","","","","","","",""],"du du":[""],"du du":["",""],ch:["","","","","","","","","","","",""],shng:["","","","","","","","",""],shu:["","","","","",""],da:["","",""],hng:["","","","","","","","","","","","","","",""],"n n":[""],xng:["","","","","","","","","","","","","","","","","",""],"yun hun":[""],bng:["","","","","","","","","","","",""],"pu f":[""],cn:["","",""],"bng fng":[""],"d fng":[""],"xi ji":[""],"mi mn":[""],lng:["","","","","",""],"shn yn":[""],"qn jn":[""],"p b":[""],hu:["","","","","","","","","",""],"su s":[""],"p p":[""],"qng zhng":["",""],"wn wn":[""],ln:["","",""],"zhng chng":[""],kng:["","","","","",""],"ci ci":["","",""],"ch tu":[""],bng:["","","",""],"kn xin":[""],"y sh":["",""],pi:["","","","","","","","","",""],"so so":[""],"jn qn jn":[""],"png bng":[""],"qin zn jin":[""],n:["","","","","","","","","","","","","",""],"du hu":["",""],hun:["","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"bo b p":[""],"mo mu w":[""],run:["","",""],"i  y":[""],gng:["",""],mi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],d:["","","","","","","",""],fng:["","","",""],hng:[""],chn:["","","","","","","","","","","","","","","","","",""],jing:["","","","","","","","","","","","","",""],hung:["","","","","",""],dun:["","","","","","","","","","","","","","","","","",""],t:["","","","","","",""],wng:["","","","","","",""],"si si s":[""],zng:["","","","","","",""],tin:["","","","","","","","","","","","","","","","","","",""],zhng:["","","","","","","","","","","",""],"tin zhn":[""],wn:["","","","","","","","","","","","","","","","","",""],li:["","","","","","","","","",""],hi:["","","","",""],lng:["","","","","","",""],bng:["","","","","","","","","",""],chn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"u qi":[""],"qin jin":[""],"zhun tun":[""],shung:["","","","","",""],sh:["","","","","","",""],lu:["","","","","",""],ch:["","","","","","","","","","","","","","","","","","","","","","","",""],sh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"d zh":["",""],kn:["","","","","","",""],chn:["","","","","","","","",""],"zh zhu":[""],qing:["","","","",""],zng:["","","","","","","","","","",""],qing:["","","","","","","","","","","",""],"kui tu":[""],"tun dng":[""],"qio qu":[""],"zn dn":[""],"qio o":[""],"y t":[""],"xu b ju":[""],ln:["","","","","","","","","","","","","","","","","","","","","",""],hui:["","",""],rng:["","","",""],"ln xin":[""],do:["","","","","","","","","","","","","","","","","","",""],ru:["","","","","","","",""],san:[""],zhung:["","","","","","",""],"k qio":["",""],kn:["","","","","","","","","","","","","",""],mng:["","","","","",""],cn:["",""],"zh zhng":[""],"g yng":[""],"jing xing":["",""],"png fng fng":[""],zhi:["","","","","","","",""],"xun xing":[""],wi:["",""],"wn yun wn yun":[""],"mo wn":[""],mng:["","","","","",""],"d di":[""],"f f":["","","",""],gui:["","",""],yng:["","","","","","","","","","","",""],"hng bn":[""],go:["","","","","","","","","","","","","",""],"to bn":[""],"tu tou":[""],"yn to":[""],"ku ku":["",""],"ji ji g xi":[""],hu:["","","","","","","","","","","","","","","","","","","","","",""],"ji ji g xi":[""],n:["","",""],"d t":[""],"yn yn":["",""],po:["","","","","","","",""],ni:["","","","","","","",""],"qun jun":["","",""],zu:["",""],"q qi xi":[""],ki:["","","","","",""],"bn bn":["",""],to:[""],"zng zhung":[""],bn:["","","","","",""],"xn zhu":[""],sh:["","","","","","","","","",""],"h p ti":[""],"o y":["","",""],yn:["","","","","","","","",""],"du ch":[""],"n r":[""],n:["","","","",""],"dng dng tin":[""],"t ji":[""],nun:[""],"ho ho":[""],fn:["","","","","","","","","","","","","","","","","","","","",""],shu:["","","","","","","","","","",""],"fi pi":[""],wng:["","","","",""],zhung:["","","","","","","","","","","","","",""],m:["",""],"f yu":[""],"hi ji":[""],d:["","","","","","","","","","","","","","",""],mio:["","","","","",""],"fu pi p":[""],"yu ju":[""],ni:[""],"n nn":[""],tu:["","","","","","","","",""],"wn yun":[""],fng:["","","","","",""],n:[""],zhu:["",""],zho:["","","","","","","","","",""],"ni n":[""],tu:["","","","",""],"xin xun x":[""],"zh y":["",""],:["","","",""],mi:["","","","","","","","","","","","","","","","","",""],"q q":[""],"x x":["",""],"shn shn":["","","","",""],mn:["","","","","","","","","","","",""],ji:["","","","",""],"wi wi":[""],pn:["","","","","",""],"hu hu":[""],"jio xio":[""],"gu d":[""],"lo m":[""],"nin nin":[""],zhn:["","","","","","","","","","","","","","","","","","","","","","","","",""],hng:["","","","","","","","","","","",""],"jn xn":[""],"ku h":[""]," y":[""],"xin shn":[""],w:[""],"ro ro":["",""],"sho sho":[""],xi:["","","","","",""],"w mi m":[""],"chu li":[""],ning:["","",""],"n nu":["",""],"pu b":[""],"ni su":[""],tu:["","","","","",""],mn:["","","","","","","","",""],"w w y":[""],"x i":[""],"zhu shu":[""],"dng dng":[""],"i i ":[""]," ":[""],min:["","","","","","","","","","","","","","","",""],"pu pi b":[""],bio:["","","","","","",""],"f fn":[""],w:["","",""],"n n":["",""],"qun jun":["",""],hn:["","","","","","","","","","","","","",""],"qin jn":[""],"wn w":[""],"li li":["","",""],"zhu chu":[""],"chu no":[""],"n n":[""],"hn kn":[""],"dng yng":[""],nn:[""],"ru chu":[""],ji:["","","","","","","","","","","",""],"tu y":["",""],"y y":[""],"wi wi":[""],"d t":["","",""],ru:["","","","","","","","","","","","","","","","","","","","","",""],"run nn":[""],mio:["","","","","","",""],"y pi":[""],"min min":[""],"t sh":["",""],"du tu":["",""],o:["","","","","","",""],"ch zu":[""],yng:["","","","","",""],"qn shn":[""],ji:["","","","","","",""],so:[""],"zhn zhn":[""],"ji su":[""],"mng mng":[""],nio:["","","","","","","","",""],to:["","","","","","","","","","","","","","","","","","","","","","",""],bio:[""],"pio pio":["",""],xun:["","","","","","","","","","","",""],"mn mn":[""],kng:["","","","","","","","","","","","","",""],"hn nn":[""],nn:["",""],zh:["",""],"m m":[""],pi:[""],zhn:["","","","","","","","","","","",""],"xin yn jn":[""],lin:["","","","","","","","","","","","","",""],"qing hun xun":[""],dng:["","","","","",""],cn:["","","","","","",""],tio:["","","","","",""],b:["","",""],li:["","","","","","","","","","","","","",""],"qin xin":["",""],"xi hu":[""],"hun qun":[""],"l l":["",""],"zh chu":[""],kng:["",""],"m z":[""],"sn xn":["",""],"bi b":["",""],"yu ni":[""],zhun:["","",""],hi:["",""],no:[""],"chn cn":[""],b:["","","",""],ni:["",""],"nng nng":["","","","","",""],zhi:[""],"t ji":[""],sng:["","","","","","","","","",""],ru:["","",""],zhn:["","","","","",""],"m f":[""],"dng tn":[""],"wn yun":[""],chng:["",""],qn:["","","","","","",""],zi:["",""],"bo sh":[""],"ji jia jie":[""],"hung hung":[""],kun:["","","","","","",""],"s xi xi":[""],"ji zn":[""],"bng bng":[""],"jn qn":[""],"lu j":[""],"xi xi":[""],"qn qn":[""],cn:["",""],du:["","","","","","","","","","","","","","","","",""],"l lu":[""],"sh y y":[""],"jing jing qing":[""],"jing jing":["","","",""],zn:["","","","","","","","","","",""],"sh zh":["",""],xio:["","","","","","","","","","",""],"ji j":["","",""],"sho sho":[""],r:["","","","","","","","","","","","","","","","","","",""],"wng yu":[""],wng:["","","","",""],lio:["","","","","","","","","",""],"mng mng lng png":[""],g:["",""],"ku ku":[""],tu:["","","","","","","","","","","",""],yn:["","","","","","","","","","","","","","","","","","","","",""],"ch ch":[""],ko:["",""],"jn jn":[""],"wi y":[""],"nio su":[""],cng:["","","",""],dio:[""],"png bng bng":[""],lu:["","","","","","","",""],"sh zh":["",""],"xi t":[""],"ch co":[""],"tn zhn":[""],"n j":[""],"hng lng":[""],"q ki":["",""],ng:["","",""],"gng gng":["",""],k:["","","","",""],gu:["","","","","","","","",""],tio:["","","","","","","","","","","","","","","","","","","",""],"q j":[""],lng:["","","",""],p:["","","","","","","","","","",""],"b k":[""],lu:["","","","","","","","","","","","","",""],"f ni":[""],n:[""],"zh sh":["",""],qi:["","","",""],"qio jio":["",""],"xi y":[""],b:["","","","","","","","","",""],chng:["","","","","","","",""],"z cu":["",""],"lng lng":[""],"dng dng":[""],xio:["","","","",""],"p b":["",""],"zhn chn":["","",""],"wi wi":[""],"yng dng":[""],"sh di":[""],yo:["","","","","","","","","","","","","","","","","","","","","",""],"kn zhn":[""],"hn dng":[""],"qin kn":[""],"w mo":[""],"k ji":["",""],"wi wi":[""],k:["","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"dng tng":[""],"rng yng":["",""],"i ki":[""],"ko qio":[""],cu:["","","","","","","","",""],"qin qn":[""],"d di":[""],cn:[""],dng:["","","","","","","",""],"o o":[""],"p pi":[""],"jio qio":["",""],"ju gu":["",""],"zhn shn":["",""],"xi ji":[""],"gu x jun":[""],r:[""],"l li":["","","",""],"x gu jun":[""],"yng hng":[""],yng:["","","","","","","","","","","","","","","",""],cho:["","","","",""],cun:["","",""],chun:["","","","",""],"jng xng":[""],cho:["","","","","","","","","","","",""],qio:["","",""],gng:["","","","","","","","",""],"ch ch chi c":[""],"xing hng":[""],shui:["","",""],p:["","","",""],"tng n":[""],"m w":[""],"ti ti ti":[""],zhu:["","","","","","","",""],"jun jun":[""],shu:["","","","","","",""],"chu do":["",""],"jin jin sn":[""],"sh qi":[""],"q j":["",""],"shn qio shn":[""],"zhung chung":[""],"chn chn":[""],mi:["","","","","","","","","","","","","","",""],"gn gn":[""],"bng bng":["",""],"j j":[""],"gung n":[""],gung:["","","",""],me:[""],"dn tn":[""],"bi tng":[""],"yng yng":[""],"d de":[""],"d du":[""],"mng mng png":[""],"bng png":[""],chng:["","","","","",""],"j cu":[""],qng:["","","","","","","","","",""],"gu wi hu":[""],"jn qn":[""],ku:["","","","","","","","","","","","","","","","",""],"qing s":["",""],"yn yn":["","","","","","",""],"p pi":["",""],"nng lng":[""],"d t tu":[""],"ju zhng":[""],"m m":["","",""],cho:["","","","","","","",""],yi:[""],sho:["","","","","","","","","","","",""],"xun yun":[""],"qing qing jing":["",""],"tn dn":["",""],bi:[""],"qing jing qing":[""],"j xu":[""],tun:["",""],yu:["","","",""],"shn xin":[""],wn:["","","","","","","","","","","","","","","","","","","","","","","","","",""],"png bng":[""],"pio pio":[""],"zhu b":[""],"tu y":[""],"png fng":[""],wng:["","","","","","","","","","","","","","","","","","",""],c:["",""],"di di":[""],hui:["","","","","","","","","","",""],"w wng ji":[""],"chng zhng":[""],"d di de":[""],"cng zng":[""],"sh t":[""],"t ch":["","",""],d:["","","","","","","",""],"zh zhng":["",""],bi:["","","","","",""],"chng zhng":[""],"jio jio":["","",""],"lng lng":[""],"q j":["","","",""],"dng tng":[""],gi:["",""],rn:["","","","","","","","",""],chn:["","","","","","",""],t:["","","","","",""],"t ti tu":[""],"gn hn":["",""],"y q":[""],"ti sh":[""],"x li":[""],"yng yng":["","",""],"mn wn mn":["",""],"sng zhng":[""],"y sh":["",""],"q sh":["",""],"tn zhn dn":[""],"qin qn":["",""],hn:["","","","","","",""],ni:["","","","","","","","","",""],"kung wng":[""],"kng hng":[""],"ki x":["",""],u:["",""],"bo bo":[""],"mn mn":[""],"zu zh":[""],zn:[""],yng:["","","","","","","",""],"ku j":[""],"no ni":[""],"zhng zhng":["","","",""],"ti zhn":[""],"h g":[""],"c j z":[""],"s si":[""],"yu chu":[""],"t di":[""],"yu yo":[""],xun:["","","","","","","","","","","","","","","","","","","","","",""],"x xu":[""],"b p":[""],"x sh":[""],"nn nn":[""],"tio yo":[""],"x q x":[""],"xio jio":[""],"h ku":[""],n:["","","",""],hn:[""],"dng tng":[""],"qun zhun":[""]," w  w":["",""],tng:["","","","",""],"yun jun":[""],"qio qio":[""],"ji k":[""],"ho jio":[""],hu:["","","","","","",""],"mn mn":["",""],"y y":["",""],qun:["","","",""],"ku l":[""],"y nin":[""],"mn mn":[""],gun:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"kng kng":[""],"ln ln":[""],gu:["","","","","","","","","","","","",""],"yun wn":["",""],"ln ln":[""],"y x":["",""],"chu chu":[""],"hn mn":[""],"chng tng":[""],"su ru":[""],cn:["","","","","",""],cn:["","","","","","","","",""],"dn d":["",""],r:[""],"y tu":[""],"ki q":[""],"dng tng shng yng":[""],"chn xn dn":[""],"k qi":[""],nu:["","","","","","","","","","","","","","","","",""],gn:["","","","","","","","","","","","","","","","",""],"cng sng":[""],"si s s":[""],"gng gng hng":["",""],"shu s":["",""],"yo yo":[""],hung:["","","","","","","",""],zhng:["","","","",""],co:["","","",""],"x xi":[""],"co so":[""],"x ch":[""],"qi qin":[""],"co cng":[""],"o o":[""],"lin lin":["","","",""],"jn qn jn":[""],"d ch":[""],"zh zh":[""],"lu l":["",""],cng:["",""],"zh zh":["","","",""],chng:["","","","","","","","","","","","","","","","","","","","","","","","","",""],bi:["","","","","",""],"chng dng zhng":[""],"x x":[""],"du dn tn":[""],"xio jio":[""],"xin xin":[""],"lio lio":["","","",""],shng:["","","","","",""],"no no nng":[""],"jng jng":[""],"j jio":[""],"xun hun":[""],"co so so":[""],mn:["","","","",""],"mng mng mng":[""],"i y n":[""],"mng mng":["","",""],"q j j":[""],m:[""],"ln xin":[""],"yu yu":[""],"li li":["",""],rng:["","","",""],hun:["","","","","","","","","","",""],nn:["","","","","","",""],"m m":[""],"gng zhung":["",""],"zhung gng":[""],"x qu":[""],"x h":["","",""],"ji g":[""],zi:["","","","","","",""],dng:["",""],"h x":[""],chu:["","",""],"bin pin":[""],"shng jing":[""],"shn shn":[""],ci:["","","","","",""],"zh z zh":[""],"l l ci":[""],"b p":[""],"d d":[""],rng:[""],"fn f":[""],"dio d yu l":[""],"kng gng":[""],"y w":[""],"y w k":[""],"tu ch y":[""],"g ji x g":[""],dn:["",""],"so so":["",""],ro:["","",""],"x ch q":[""],"bn pn":[""],"b o":[""],"x zh":[""],"zh sn kn":[""],zho:["","",""],"kung wng zi":[""],"h g":["","",""],"b b":[""],"dn shn":[""],"n n ru n":[""],zhu:["","","","",""],pu:["",""],"zh sh zh":[""],"pu pu f":["",""],po:["","","",""],"o o ni":[""],"ln ln":["",""],"qing qing chng":[""],"zh zhi":[""],"b p":["",""],"yo to":[""],"h h qi":[""],"n n":[""],"p pi":[""],"m m m":[""],chu:["","","","",""],"ji y":[""],"f b":["","",""],zh:["","","","",""],"dn dn dn":[""],"chi c":[""],nin:["",""],"l l l l":[""],"bn pn":[""],pi:[""],ln:[""],gui:["","",""],"tu t zh":[""],"o o ni":[""],"j gu":[""],"pn pn fn":[""],"bi bi":[""],bi:["","","","","","","",""],qi:[""],"nng nng nng":[""],"z zhi":["",""],hn:["","",""],"ku gu":[""],"ji ji":[""],nn:[""],shun:["","","",""],"cn zn":[""],"z zn":["",""],ko:["","","","",""],"y ch hi":[""],"c s chu":[""],"zhui zhui y":[""],"sh sh":[""],bi:["",""],"ku gung":[""],nng:["","",""],"jio jio":["","",""],"ku k":[""],"n r":[""],"tio tio":[""],"di sh":[""],li:["",""],"y y":["",""],"w zhu":[""],"xi ji":["",""],"dng dng":["",""],"zhng zhng":["","",""],"i i":[""],"tu shu":["",""],"t t":[""],"su sh":[""],"s sh su":[""],"kng qin":["",""],"bng png":[""],"ru ru":[""],"jio k":[""],"w w":[""],tng:["","","","","","","",""],"hu ch":[""],"t sh ch":[""],"l lu":[""],"sho sho":["",""],ni:["",""],"sh sng su":[""],"y y":[""],"ju zhu":[""],"b p zh":[""],zn:["",""],lo:["","",""],sn:["","","","","","","",""],"wn wn wn y":[""],png:["","",""],sh:[""],"f f b":[""],do:[""],"lu lu w":[""],"jun qun":[""],"chn tin":[""],"nin ni":[""],"ru wi r":[""],zu:["","","","","","",""],"w xi":[""],"qng qin":[""],"pu pu":[""],qi:["",""],"pi pi":[""],"qin wn":[""],"y y":[""],"ni n y":[""],"hu x":[""],"yn shn yn":[""],"zhng dng":[""],kng:["",""],tu:["","",""],"zu zhu chu":[""],tin:["",""],kn:["","",""],p:["","","","","",""],"gu gui":[""],"dn shn":["",""],"chn xin cn shn":[""],so:["","","","","","","","","","",""],png:["","","","",""],"zhng kng":[""],"ji yu":[""],"jin jin":["",""],"p ch":[""],"si zng ci":[""],"t d d":[""],"zng sng":[""],"hung yng":[""],"zn zun":[""],"x j":[""],"k qi":[""],"chui chui chui tun zhu":[""],"d t":[""],"l l":[""],l:["","","","","","","","","","","","","","","","",""],"ji q":[""],"chng dng":[""],"di sh y":[""],"jin qin jin":[""],y:["","","","","","",""],chn:["","","","","","","","",""],"g g":["",""],"lu lu":["",""],"chu zu":[""],chui:[""],sn:["","","","","","","","","",""],"rng nng nng":[""],"png bng":[""],cu:["","","","","",""],"k ":[""],"n nu nu":[""],"l xi xin":[""],qi:["",""],"xin xin":[""],"ji zh":[""],"pn bn p":[""],bn:["","","","","","","","","","","","","","",""],"zh ni":[""],"w w w":[""],hu:["","","","","","","","","","","",""],"qing qing chng":[""],"tin shn":[""],"n nu":[""],n:[""],"sh ni":["",""],bn:["","","","","","","","","","","",""],"sh s shi":[""],"chn sn":[""],"ji li lio jio no":[""],"fng png":[""],shui:[""],"d t zh":[""],"q j ch":[""],"su sng":[""],"lin lin":[""],"gi x":[""],"h ch":[""],tng:["","","",""],"ni zh":[""],"m m":[""],"jing qing":[""],"o qio":[""],"ni ch":[""],"mn mn":[""],"chn cn":[""],"s m s":[""],"bio bio":[""],"ju ju":[""],pi:["","","",""],"pi pi":[""],"zn zn zn qin":[""],"s s":[""],hng:["","","","",""],"hng gung":[""],nin:["","","","","","","","","","","",""],"chng zhng":[""],"hu wi":[""],co:["","",""],"xio su":[""],"lio lio":[""],"cu zu":[""],"wi tu":[""],cun:["","","","","","",""],"qio yo j":[""],"zhu w":[""],"li li":[""],nng:["","","",""],"qng jng":[""],kui:["","",""],"p b":[""],"b bi":[""],"j j":[""],mng:[""],"su su":[""],xng:["","",""],c:[""],"nng nng nng":[""],"zh ji":[""],"l li":["",""],"su su":[""],"l lu yu":[""],"t zhi zh":[""],pn:["","","",""],li:["","","","","","","","","","","","","","",""],"c s":[""],"jn pi":[""],"l lu":["",""],"l li":["",""],"l lu":[""],"zn cun":[""],"xin jin":[""],"m m m":[""],"zn cun zn zun":[""],zun:[""],"l shi":[""],"l lu":[""],"gu gu":[""],"j q y":[""],fng:[""],"w mu":[""],"ch shu":[""],"g gu ":[""],"du du":["",""],"du qu":["",""],"sn sn":[""],"dn du":["",""],"q y j":[""],"xio xu":[""],"sh sh shu":["",""],"i zh":["",""],"xing xun":[""],"zhu zh":[""],"y d":[""],"l ti":[""],"fi fi":[""],"y zhng":[""],"du du":[""],"w gun":[""],"tu tio":[""],du:["","","","","","","","","","","","","","","","","","","","",""],"yn zh":[""],"chn ji":[""],"w y y":[""],"yu li":[""],"png bng":[""],"mo mo":[""],"p b":[""],"xun xun":[""],"w m":[""],zo:["","","","","","","","",""],g:[""],"gn hn":[""],"ti yng":[""],"x x":[""],"tn zhn":[""],"w w":[""],"p pi":[""],zng:["","","","","","","",""],i:["","","","","","","","",""],"hung hung":[""],xun:["","","","",""],"x ku":[""],hng:[""],shi:["",""],"yn yn":["",""],"shng chng":["","",""],"jng yng":[""],shn:["","","","","","","",""],"q d":[""],"n n yn":[""],"wng wng":[""],zn:["","","","","","","","","","","","","","","","",""],"yn yn":[""],"mn mn":[""],"d sh":[""],sh:["","","","","","","","","","","","","","","","","",""],"jin ln":[""],nun:["","",""],"bo p":[""],"x x":[""],"p bo":["",""],"q q":[""],"q q":[""],"gng gng":[""],"h h":["",""],"zng cng":["",""],"cng zng":["",""],"cn qin jin":[""],"qi h":[""],"b p":["","","",""],"yu yu":[""],"bn fn":["",""],"f f":["",""],"fi k":["",""],"q x chn":[""],"jun zu":[""],"hung mng wng":[""],"q j":[""],"tng chung":["",""],zh:["","","","","","","","",""],"zh sh sh":[""],"sh sh zh":[""],"zh sh":[""],"p p p pio":[""],"do tio m":[""],"gu qi":[""],xi:["","","",""],"chng chng":[""],z:["","","","","","","",""],"y w":[""],"gn gn":[""],"ch ch":[""],"shn sh":[""],cn:["","","","","",""],"rn r":["",""],"sho bio":[""],"d du":["",""],"g gi":[""],"y zh l du":[""],"gng gng":[""],"tio tio":["",""],"m m":[""],"s zh x":[""],"yun wn":["",""],"bi fi":[""],"sh du":[""],"ni chu":[""],"w yu":["",""],mo:["","","","","","","","","","","","","","","","","",""],"p m":[""],ng:["","",""],"fng bng":[""],"h d":[""],xn:["","","",""],"yo yo":[""]," ":[""],"zh q":[""],"cng zng":["",""],"xin zhn":[""],"ti s":[""],"gu j gu":[""],"bo f":[""],"y xi":["",""],"tu du":["","","",""],"y du l":[""],"n ch":[""],"pn bn":["",""],"yng yng yng yng":[""],"f f f":[""],"bi b b":[""],mu:[""],"sho sho":[""],zh:["","","","","","","","","",""],"yu yu":["",""],"gu j":[""],"zh zu":[""],"di zh":["",""],"zh z z":[""],"ch zh":["",""],"o o":["",""],"b f pi b bi":[""],"du zu w":[""],"b bi":[""],"zh ch":[""],"bi pi":[""],"sh fi":[""],"shn zh shi c":[""],"l yu":["",""],"q qi":["",""],"q x":["",""],"gu ku":[""],"bng bn":[""],"xio jio":[""],"jin zn":["",""],"yu y":[""],"h h":[""],gn:["",""],"zh y":[""],"g g":[""],"hng hng":[""],"gung gung":[""],"y t":["",""],sng:["","",""],"j ji":[""],"y mu":[""],"ro no":["",""],"gu hu":["",""],"chn zhn":[""],"tng yng":[""],"b po":[""],"bn fn":[""],"fng fng":["",""],"s yn":[""],"tng tng":[""],"xun jun xi":[""],"t ch":[""],"o yu":[""],kun:["","","",""],"sho so":[""],"qn chn cn":[""],"l s q":[""],"chn yn":[""],"bn bng":["","",""],"to chu do":[""],"cng sng":[""],"gn hn":[""],"d zh":[""],"pi bi pi":[""],"bng pu bi bi":[""],"d di t":[""],sn:["","","",""],"rn shn":[""],"lng lng lng":[""],"f s":[""],"zu su":[""],zu:["","","","","","","","","","","","","","","","",""],"zho zhu":[""],"chn shn":[""],"ji qi":[""],"y y":[""],"chu zhu dio":[""],"qing kng":[""],"zhu chu":[""],"bi p":[""],mn:[""],"qun jun qun":[""],"du chun":[""],"wi hu":[""],"ji ji":[""],"hn jin":[""],"shn zhn":[""],"yn y":[""],"zh ch":[""],"gu ku":[""],"j zh":[""],"k h":[""],"yu yu":[""],"sng cng":[""],"yun xun":[""],"yng yng yng":[""],pin:["","","","","","","","","",""],"di y":[""],"dn shn":[""],"cu zu":[""],"d d sh":[""],"ki ji":[""],"ru ru":[""],"l yu":[""],"wn yn":["",""],l:["","","","","","","","",""],shn:["","","","",""],"b pi":[""],"zhn nin zhn":[""],"f f b":[""],"jin jn":[""],"bng bng":[""],"sh xi":["",""],nu:["","","",""],"qin lin xin":[""],gng:["","","","",""],go:["","","","","","","","","","","","","","","",""],"din zhn zhn":[""],"kn jin":[""],"x di":[""],"j gu":[""],"rng yng":[""],"tun shun qun":[""],"q s":[""],"cu zh":[""],"yu cho":[""],"mn wn":[""],"l ch":[""],"li li":["","",""],"cho jio cho":[""],"chng tng":[""],"ji lio":[""],"m m":[""],"nio m":[""],"hng hng":["",""],xu:["","","","","","",""],"f fi":[""],rn:["","","","","","",""],"zhn jin":[""],shn:["","","","","","","",""],"tu dn":[""],"tng chng":[""],"s qi":[""],"tn din":[""],"fn fn fi":[""],"rn yn":[""],"c chu":[""],"sh qio":[""],"png b":[""],"zhi sh t":[""],"bio bio":[""],"qin lin":[""],"n m":[""],"jin kn":[""],"nu run r":[""],"j j":["",""],"hung gu g":[""],"l ch":[""],"mi mi":[""],u:["","","","","","","","","","","","","","",""],"zh zhu":[""],"ju j":[""],"hui gu":[""],"chn zhn":[""],"wi zu":[""],cng:["",""],"y y":[""],"ch q x":[""],"ki i":[""],"y yn":[""],"x ki":[""],"shu su":[""],"i i i i i    ":[""],"q y":[""],"chu x":[""],"ch chui":[""],"kn qin":[""],"kn k":[""],"chun chun":[""],"yn yn":[""],"jn qn":[""],pn:[""],"x chu":[""],"x sh":[""],"lin hn":[""],"zh ch":[""],"s sh":[""],s:[""],"wn m":[""],pio:["","","","",""],"qng jng":[""],"fu b":[""],"zh shi":[""],"y yn yn":[""],"hn mi":[""],chu:["","",""],"ku hu":["","",""],cun:["","","","","","",""],"yn yn yn":[""],"qng kng shng":[""],"yo xio xio":[""],"g g":["",""],"gun wn":[""],"d di":[""],"xn xn":[""],m:["",""],"du nu":[""],"si su":[""],lu:[""],so:["","","",""],"sh zh":[""],"d d":[""],"mng mng":[""],"yng r":[""],shu:["","","",""],"zhng chng zhng":[""],tn:[""],"fn fn":[""],"gu ji":[""],"bn p p":[""],"zhu qu":[""],"d ti":[""],pn:["","",""],"hn hn":["",""],tu:[""],"tng shng":["",""],"zh j":[""],"gn hn cn":[""],"wn mn":[""],"fng png":[""],"h hung":[""],"ni yu":[""],hng:[""],"shn chn":[""],"dn zhun":[""],"n ni":[""],"mi m":["",""],"t d":[""],"m w":[""],"hng png":[""],"sh sh":[""],"zhu z":[""],"u u":["",""],"j j":[""],"tu du":[""],"m l":[""],"y ch":[""],"xi y":[""],"b p":[""],"m b":["",""],"ch sh":[""],"yu yu o":[""],"png png":["",""],"po po":[""],"n n":["",""],"yu s":[""],"ju xu":["",""],"lng shung":["",""],"lu p":["",""],"z sh":["",""],"s x":[""],"s q z":[""],"x xin":[""],"ko ko":[""],"n yn ":[""],"li li":[""],"qi ji":[""],"qin jin":[""],"j j":["","","",""],"h x":["",""],"jn xn":["",""],"yng chng yng":[""],"lin l":[""],"fng hng":["",""],"jing jing":[""],"su ni":[""],"yng chng":[""],"tn yn":[""],"w gu":["",""],hng:["",""],"zhng zhng":["",""],"shu to":[""],shun:["",""],"kng nng":[""],"w wn yun":[""],"tu tu":[""],w:["","","","","","","","",""],"qi j":[""],"gu gun":[""],"ln ln":["","",""],"tng chng":[""],"no chu zhu":[""],"png png":[""],fi:["","","",""],"p pi":[""],"nin shn":[""],"bio h":[""],"chn zhn":[""],"hn hn":[""],qin:["","","","","","","","","",""],"wn mn":[""],"r ru lu":[""],"d du":["","",""],"jin jin":["","","",""],"min shng":["",""],"nun nun":[""],"qi w":[""],"tng tng":[""],"d t d":[""],"gng jing":[""],"hng qng":[""],tun:["",""],"hu mn x":[""],"x x":[""],pn:["","","",""],"mn hn":[""],"tun nun":[""],"qi jio":["",""],"yn yn":[""],"bn pn":[""],"zhung hn":[""],"yn gu":[""],"lin lin nin xin xin":[""],"d t":["",""],"li li":["","",""],ln:[""],m:["","","","","","","","","","","","",""],"zhn qn":[""],"n nio":[""],"ch x":["",""],"wng wng":[""],"ho xu":[""],"q x xi":[""],"xng yng":[""],"z ho":[""],"pio pio pio":[""],"cng sng":[""],"fng png":[""],"lu t":[""],"png bn":[""],"chng shung":[""],"hu ku hu":[""],"lio li":[""],"cu cu":[""],"cng zng":[""],"cng zng":[""],"p pi":[""],"dng xing":[""],"hung gung":[""],"lio lo lo":[""],"cng zng":[""],"zh zh":[""],"tn shn":[""],"t zh":[""],"sn s":[""],hi:["","","",""],"chng dng":["",""],"cn cn":[""],"png png":[""],"hng gng":["",""],"wn mn":[""],"kui hu":[""],"gu w":[""],"pn fn":[""],"j sh":[""],"hu hu":[""],"dng tng":[""],"m n":[""],"b p":[""],"cu zu":[""],"h hu":[""],"i ki k":[""],"wi du":["",""],"zn cun":["",""],"yng yng":[""],"wng wng":[""],"m mi":["",""],su:["","",""],"hui wi":[""],"zn jin":[""],"yng yng yng":[""],"rng rng":[""],shung:[""],"zhu jio z":[""],s:["","",""],"lun lun":[""],"dng tng":[""],"xn qun qun":[""],"hu bio":[""],"zh y":[""],"fn bn":[""],"jing gu":[""],"png fng":[""],qu:["","","",""],bin:["","","","","","","","","","","","","","","","",""],"zho zho":[""],"zhu ch":[""],"po po bo":[""],"po fu":[""],"shn qin shn":[""],"zh zh":[""],"jio yo":[""],qun:["","","","","","",""],"yng yng":[""],"lo lu":[""],"hu hu":[""],r:["",""],"f po":[""],"xi ch":["",""],"yn shn":[""],"hn xn":[""],ko:["","","","","","","","",""],"jun y":[""],"jn q":[""],"to do":[""],"cho j":[""],"w i":[""],"zng cng":[""],"x y":[""],"xn xn":[""],"cho zhu":[""],"xing yng":["",""],ku:["","","","",""],"hu yn xn":[""],"jio qio":[""],"qin shn shn":[""],"x y":[""],"sh sh":[""],"y zh":[""],"yng yng":[""],"n yn":[""],"yn yn":[""],"h xio":[""],xing:["","",""],"xn xn":["",""],gng:["","",""],li:[""],"cng zng":[""],"l o":[""],"sh shu":[""],"fng png":[""],"cu su":[""],tng:["","",""],"yn y":[""],"o o":[""],"hn rn":[""],"u u":[""],"hung hung":[""],"chn dn chn":[""],"jio zhu qio ju":[""],"yn yn":[""],"ti li":[""],o:[""],"yn xn":[""],"ju jio":["","","","",""],"ln ln":[""],"zhu zho":[""],"zho zhu":[""],"f f":[""],di:["","",""],zng:["","","","","","","","",""],"pin pin":[""],"bin min":[""],bng:["","",""],"yu yng":[""],"chng chng":["",""],ni:["",""],"ji l":[""],"m mu":[""],mng:[""],"g qi":[""],"yu chu":[""],"t zh":[""],bn:["","",""],"jin qin":["",""],m:["","","","",""],"mo l":[""],"b qun":[""],"zhu bo":[""],"n hn":[""],"kng gng":[""],"pi fi":[""],"fn hun":[""],kung:["","","","","","","",""],"y qun ch":[""],"xng shng":[""],"tu y":[""],k:["",""],"hun hun":[""],"h m":[""],"t sh":[""],"mng du":[""],"x sh":[""],sun:["","",""],"bi p":[""],"jin yn":["",""],"y y":[""],"y wi":[""],ci:[""],"mo mo":["",""],"chun chun":[""],"tun tun":["",""],"y ji qi":[""],"h xi g hi":[""],"bin pin":["",""],"b p":[""],"ho go":[""],"fn fn":[""],"yo xio":[""],"shu x":[""],"g li xi":[""],"nu r":[""],"no no yu":[""],rng:["","","","","","","",""],"no yu":[""],"l shui":[""],"wng wng":[""],"yng chng":[""],"mn wn":[""],"bn fn":[""],"mn yn":[""],"qing cng":["","",""],"n gn":[""],"xun xin":[""],"c c":["",""],"y ti":[""],"z j":[""],f:["","","","",""],"yn kn":[""],"hu hn":[""],"xun qing":[""],"f f":[""],"bng pn":[""],"cu s":[""],"y wi":[""],"tin tin":[""],"zhu zu":[""],"bng pi":[""],gun:["","","","","","","","","","",""],"hn hu":[""],"xi ji":[""],"chng dng yng":[""],"tin zhn":[""],"bn pin":["",""],"t sh":[""],cu:["","",""],"zo su":[""],"ju qing":[""],"l f":[""],"j z":[""],su:["","","","","","",""],"m x":[""],"qing wi wi":[""],"hun y y":[""],"b po":[""],"zh h":[""],pio:["",""],"w w":[""],"xing hng":[""],wng:["","","","",""],"shn shn":[""],ru:["","",""],yng:["","","","","",""],shui:[""],bng:["",""],"yu zh":[""],"din tin shng":[""],"tng dng":["",""],"zi z":[""],"b q":[""],"d f":[""],"c j":[""],"zi z tin":[""],"zh chu sh":[""],"fn pn":["",""],"sh y":[""],"dng dng dng":[""],"jing qing":[""],"p y sh":[""],"ji qi":[""],"y n":[""],n:["","","",""],"g y":[""],"n yo":["",""],"l li":["",""],"y xi":[""],xu:["","","","","","",""],"dn da":[""],"f bin":[""],"fi fi":["",""],"shn din":[""],"tng chng":[""],"tng tng":[""],"wi yu y":[""],"tn sh":[""],"p p":["",""],"bng png":[""],"m ln":[""],"tin din":[""],"n y ":[""],"k ":[""],"zh ch":[""],"ji xi xi":[""],"li hu":[""],"chi cu":[""],"din chn":[""],"da d":[""],"bi bi":[""],qu:[""],"dn dn":[""],"gu wi":[""],"nng nng":[""],"bi bi":[""],"b b":[""],bi:[""],"j b":[""],"de d d d":[""],"p b":[""],"go ho":[""],"go yo":[""],"l lu b":[""],"zh c":[""],"zho zhn dn":[""],"jin jin":["","","","",""],"gi g h":[""],"mng wng":[""],yun:["","",""],"tin xin":[""],"xing xing":[""],dn:["","",""],"x pn":[""],"shng xng":[""],"yn hn":[""],"min min":[""],"kn kn":[""],"yng yng yng":[""],"yo o o":[""],"j x ku":[""],"y ch":[""],"di t":[""],"bng fng":[""],"png pn":[""],"m m":["",""],"xun shn xn":[""],tio:["","","","",""],"zhe zhu zho zho":[""],"qio sho xio":[""],"cu zhui":[""],gn:["",""],"su zu":[""],"p b":["","",""],"y z go":[""],"xng xng":[""],"gu wi ku":[""],"ku j":[""],"qing hun":[""],"mn mn":["",""],"dio du":[""],"lou lu l":[""],"shn rn":[""],"lio lio":["",""],"jin xin":[""],"w m":[""],"gu ku":[""],"nng chng":[""],"hu yu":[""],"mng mng":[""],"kung gu":[""],"gun qun":[""],"mn mn":[""],"jn gun qn":[""],"jn qn gun":[""],"y x ju":[""],"jio jio":["",""],dun:[""],"sh dn":[""],"gng qing kng":[""],"hu x":[""],"pn bn fn":[""],"yn yn":["",""],"lu k":[""],"f fi":["",""],"zh zh":[""],"l l l":[""],"kung gung":[""],"g lu":[""],"shu sh":["",""],"wi wi i":[""],"qu k k":[""],"mng bng":[""],"lu lng":[""],"yng tng":[""],n:["",""],"kng kng":[""],"yn yn":[""],"zhu chu du":[""],"kng kng":[""],"zng cng":[""],"jin zhn":[""],"l li":["",""],"qu x":[""],"ln ln ln":[""],"no gng":[""],"ji y":[""],"wi wi":[""],"t d":[""],"ch ch":[""],"qio qu":[""],"s xi":[""],"li li":["","","",""],"s t":[""],"bng png":[""],"hu k g":[""],"wi ku":[""],"xi qi y":[""],"lin qin":[""],"wi i gi":[""],"l l":[""],"o qio":[""],"png png":["",""],"yn yn":[""],"li li":[""],"m m":[""],"q zh":[""],"lo lu":[""],"pn b":[""],"j sh":[""],"h qio qio":[""],"k hu":[""],"qu h":[""]," q":[""],c:["",""],"xin xn":[""],"li li li":[""],"yn yn":[""],"q zh":["",""],"bng fng":[""],"b m":[""],sun:["","","","",""],"pio pio":[""],"j zhi":[""],"shu li":[""],"jn jn":[""],"chn shn":[""],"yng shng":[""],"zh zh t":[""],"shn chn":[""],"y y u":[""],"z z":[""],"ch n":[""],"zhng zhng chng":[""],"ho mo":[""],"k k":[""],z:["",""],chng:["",""],"hu ku":["",""],"chng chn chng":["",""],"sh zh":["",""],"f p":[""],"xn z":[""],"t sh":[""],"zhn zhn":[""],"j q":["","",""],"lng lng":[""],"zu z s":[""],"x qi":["",""],"zhng zhng":[""],"zng zng":[""],"xin jin lin":[""],"z ji":[""],"j q":[""],rng:[""],"shn cn cn":[""],"mn mi":[""],"j j":[""],"xio ro":[""],"zhu b":[""],"tng zhng zhng":[""],zu:[""],"bio po":["",""],"zhu ju":[""],"cun zn":[""],"kng kng kng":[""],"y y":[""],zhi:["",""],bo:["",""],"k zh":[""],"jio lio li":[""],"w gu":[""],"tio yo":[""],"xn yn":[""],"y y":[""],"tin din yn":[""],"cho k":[""],"kun cun":["",""],"ch q":[""],"q ku":[""],"jng zhn":[""],"kn kn":[""],"zh d":[""],"l jn":[""],"zhu ru":[""],"hng hng":[""],"cn jn hn":[""],"d xi n":[""],"z zu":[""],"lng lng":["","","","",""],"zh zh":["",""],"d d":["",""],shi:["","","",""],"yn jn":[""],"lng lng":["","",""],"zh zh":[""],o:[""],"pu b f p":[""],"pi bi":[""],g:["","","",""],"ti ch":[""],"gui di":[""],"zho do":[""],"jng qng":[""],"ln ln":[""],"jn qn":[""],"sh y":["",""],"yu yo chu":[""],"xio shu qio":[""],"gng gn lng":[""],"png png":[""],"zhu hu":[""],"jin jin":[""],"d zh":[""],"zn cn cn":[""],"zhun sun zun":[""],"pio bio":[""],"gu gu":[""],"c j":[""],"m mi":[""],"shi s":[""],"sn zhun":[""],"gn gn":[""],"b b":[""],"b b":[""],shi:[""],"zhn jin":[""],"zhun zun":[""],"fn pn bin":[""],"su sh":[""],zun:["","","","","",""],n:["","",""],"sh cho":[""],"kng jng":[""],fn:["",""],c:["","","","",""],"nin zhn":[""],"c s":[""],"zhu y":[""],"shn sn":[""],"bin bin":["",""],min:["","","","","","",""],"h h h":[""],"g gu":[""],"m mi":[""],"sn shn":["",""],zo:["","","",""],"m s":[""],"ji ji":[""],"x j":["",""],"zhng zhng":[""],"ch ch":["",""],"yu yo":["",""],"hng gng":["",""],"h g":["",""],"wn wn":["",""],fu:[""],"j ji ji":[""],"p p b":["",""],"jn jn":[""],"zh z":["",""],h:[""],"f f":[""],"chu chu":[""],"li li li":[""],"b b":[""],"tin zhn":[""],"jing jing":[""],"ji ji":["","",""],"gu ku":[""],"bi m":[""],"gng hun":[""],"ji xi":[""],"qun shun":[""],"gi i":[""],"lu lo":["",""],"bng bng png":[""],"gi j":["",""],"tng tng dng":[""],"tio dio do":[""],"li li li":[""],"gi hi":[""],"ch zh":[""],"wn min mn wn":[""],"hun hun wn":[""],"qn xin":[""],"t t":[""],"yn xin":[""],"zng zng zng":[""],"chn ln":[""],"zhn zhn":[""],"qin qng zhng":[""],"qng q":[""],"ln gun":["",""],"chu cho":["",""],"tin tn chn":[""],"l l":["",""],"run run":[""],"j q":[""],"zhng chng":["",""],"mio mo":[""],"xi y":[""],hun:["","",""],"gng gng":["",""],"tu x sh":[""],"zng zng":["",""],"yn gn":[""],"gu w":[""],"yn yn wn":["",""],"bng bng":[""],"g h":["",""],"c cu su":[""],"cu shui":[""],"rng rng rng":[""],"zi zng":[""],ci:["","",""],"fng fng":[""],"su s":["",""],"yn yn":["",""],"zng zng":["",""],"zhun jun":[""],"m m":["",""],"pio pio":["",""],"fn p":[""],"bng bng":[""],"mu mi mio lio":[""],"yo yu zhu":[""],"zng zng":["",""],"j ju":[""],"chu chu":[""],"zn zn":[""],ro:["","",""],"chn chn":[""],"hu hu":["","",""],"qio so zo":[""],"jio zhu":["",""],"dn tn chn":[""],nng:[""],"p f":[""],"yo l":[""],"rng xing":[""],"l s x l":[""],"xin qin":[""],"jng jng":[""],"t t":[""],"bng bng bng":[""],"zng zng":[""],"j q":[""],"wn yn yn":[""],"fng fng":[""],"shui cu su":[""],"mi mu lio mio m":[""],"qio so":[""],fu:["","","","",""],"b ba p":["",""],"gu gui":[""],"yng xing":["",""],"mi go":[""],"y x":[""],"qing qin":[""],"qing kng":[""],"qin xin yn":[""],nu:[""],"hng gng":[""],"p b p":[""],"q y":[""],k:[""],"qio qio":[""],"zhi d":[""],"do zhu":[""],"hu q":[""],shu:[""],"run nu":[""],"r ni":[""],"zhun dun":[""],"p b":[""],"ch s":[""],"q ch":[""],"ln ln":[""],"j ji":[""],"tng tng":[""],png:["",""],"zh z":[""],"y y":[""],"yn yng":[""],"w tu zhu":[""],"r n":[""],"ti zh":[""],"d zh":[""],qi:[""],"n jin":[""],"li l":[""],co:["","","",""],"b d":[""],"xio xio":[""],"d d":[""],chi:["","",""],"hn qn hn":[""],"png pn pn":["",""],"zhn chn":[""],ng:["",""],"y y":[""],"p b b":[""],"fi b":[""],"bi bi":[""],"fi z":[""],"png png":["",""],"f f zhu":[""],"shng shng":[""],ku:["","",""],"gi hi":[""],"g g g":[""],"nng ni":[""],"gu ku":[""],"mi m":[""],"zng zng":[""],"jio ju":["",""],cu:[""],"de te":[""],"zu jun":[""],ni:["","","","","",""],"p f":[""],nio:[""],shu:[""],gu:["","",""],"l x":[""],"yn ":[""],"go go":[""],"l bio":[""],chui:[""],"zhun chun chn zhun":[""],chui:["",""],"fn pn":[""],"w h":[""],"shn dn":[""],tn:["","","","","","","","","","","",""],"b bei":[""],"l g":[""],"so so":[""],no:["","","",""],"n lun":[""],"qin xin":[""],"gung jing":[""],"gung jing":[""],"chu xi":[""],"min bin":[""],"di zh":[""],"zh jn":[""],"sh sh":[""],p:["",""],"bn b pn":[""],ku:[""],"gn gn":[""],"s shi":[""],"f b":[""],"jio qi":[""],"chi ch":[""],"sho qu":[""],"h xi":[""],"z z":[""],"hu h":[""],"tn chn":[""],"ji gi":[""],"x zh":[""],"yun yn":[""],"xn xn":[""],"ln hu":[""],"w h":[""],"gu gu":[""],"mo mo":[""],"fi f":[""],"chn yn":[""],qi:[""],"s s":[""],"tio sho":[""],"l j":[""],"k h":[""],"j q":[""],"ru r":[""],"zh nng":[""],"p b":[""],xi:[""],"zh zu":[""],"j ch":[""],ni:[""],"shng ru":[""],"qi ji":[""],"z c":[""],"qin x":[""],chi:[""],"f pi":[""],ro:["","","","",""],"yng xng":[""],"qin xn":["",""],"yn yn":[""],"h h":[""],"sh su":[""],"png fng":[""],"shn xn":[""],"wn gun gun":[""],"yu s":[""],"sho xio":["",""],"lng ling":[""],"pio f":[""],"wn wn min":[""],"sh sh":["",""],"t t":[""],"xin lin":["",""],"wn y":[""],"zu ch":[""],"l l":[""],"jn jn":[""],"ni rn":[""],"z z zi":[""],"t t":[""],"ji sh":[""],"qio zho":[""],"ti zh ch":[""],"fi fi":["",""],"qn qn jn":[""],"z j":["",""],"ln m":[""],"tin tin":[""],ti:["","",""],"lu l lo lu":[""],"zh zhu zhe":[""],"shn rn":[""],"g g":[""],"jn su":[""],"ku kui":[""],"r n":[""],"mng mng mng":[""],"yun hun":[""],"x sh":[""],"x x":[""],"m mng":[""],"su su":[""],"gi g h hi":[""],"yo zhu":[""],"dio tio d":[""],"x qi f":[""],"z j":[""],"lio l":[""],xu:[""],"hn hn":[""],"mn wn mn":[""],"p b":[""],"fn fn b":[""],"hng hng":[""],"y o":["",""],"x xio":[""],"bo b b":[""],"c z":[""],"wn lun":[""],"ko ho":[""],"yun wi":[""],"zhu chu":[""],"w mi":[""],"xio ho":[""],"y x x":[""],"ji j":[""],"dio zhu":[""],"cng zng":[""],l:[""],"ch zh":[""],"pn png":[""],"gn hn":[""],"hng jing":[""],"hu hu":[""],"xi h":[""],"m m m":[""],"fng bng":[""],"bng bng":[""],"ju qu":[""],"qn qin":[""],"gng zhng":[""],"f f":[""],"di d":[""],"gu q x":[""],"b p":[""],"sh y":[""],ti:["","","","","","",""],"g lu":[""],"mng bng":[""],"y x":[""],"h g":[""],"qi n":[""]," y":[""],"zh zh":[""],"l zh":[""],su:["",""],"yu qi":[""],"xi h":[""],"x q":[""],"b p":[""],"ni nng":[""],"h xi":[""],"gu hu":[""],"m m m":[""],"sh zh":[""],"zh di":[""],"jin chn":[""],"ma m m":[""],"mng mng":[""],"bi bi":[""],"bn fi":[""],"lo lio":[""],"yn xn":[""],"l l":[""],"xu xi":[""],"xng hng hng hng":[""],"shui cu":[""],"tu tu":[""],"lng lng":[""],"bo po po":[""],"j ji":[""],"h k":[""],"y y":["",""],"n ju":[""],"bi p":[""],"ch nu":[""],"ch q du nu":[""],"ji qi ji":[""],"b m":[""],"gu gu":[""],"li li":[""],"chng chng":[""],"ji g":[""],"do chu":[""],"shang chng":[""],"yun gn":[""],"yn n":[""],"t x":[""],"f f":[""],"ch zh":[""],"tu tn":[""],li:[""],"yo yo":[""],"qn tn":[""],"jin xin":["",""],pin:["","","","",""],"pi mi":[""],"yng yng":[""],"q q":["","",""],"jin bin":[""],"lu lun":[""],"z zu":[""],"hu xi":[""],"ji ji xi":["",""],"xu h":[""],"l l":[""],to:["",""],zhn:[""],"z z":[""],"y di":["",""],xing:["",""],"dio tio":[""],"y ch ch":[""],"lng lng":[""],"i i i i x":["",""],shu:[""],"y y":["","",""],"shu shu yu":["",""],"shu shi":["",""],"q ju":[""],"ch li":[""],"n n":[""],"dio tio":[""],"p bi":[""],"j j":[""],"z zu zh cu":[""],"ch j":[""],"ho xi":[""],"ln ln":["",""],"sh d":[""],"hu gu":[""],"x shi i":[""],"nn nn":["",""],mi:["",""],zn:["",""],"sh zh":["",""],"jun xun":[""],"y tu":[""],zhn:[""],"x h":[""],"xing yng":[""],"tio dio zhu":[""],"chn shn":[""],"m mi":[""],"mn mn":[""],"g y":[""],"hu hu hu":[""],"zh zhi":[""],"hun hun":[""],"kn kn":[""],"m h":[""],"m h ho":[""],"j lu":[""],"z zhi":["",""],"di t":[""],"b bn":[""],"ji g ji":[""],"xing mn":[""],cng:[""],"zhun zun":["",""],"wn zhun":[""],"gn gng zhung":[""],"yun yn":[""],"bn b":[""],"ji g":[""],zu:["","",""],"di t":[""],"j qi":[""],"q c":["",""],"j ji":[""],"gu hu":[""],"qu q j":[""],"tng tng":[""],"chu zhu":[""],"q c":[""],"yu t":[""],"b bo":[""],"ku w":[""],"gu ju":[""],"fng fng png":[""],"po b":[""],"q q":[""],"jin chn":[""],"po po":[""],"din di ti":[""],"j j qi":[""],b:[""],"lu l":[""],"di du du ch":[""],zhui:[""],"bng pin":[""],"tio to":[""],"sh chu":[""],"ling ling":[""],"t t":[""],ch:["","",""],"d zh":[""],"dng dng":["","",""],cng:[""],"dn cn":[""],"ju ju":[""],lio:[""],"xi s":[""],t:["","",""],"y zh g":["",""],"xn xin":[""],"fn gu":[""],"zhun zhun":[""],"zhu zhu":["",""],b:["","",""],"zhun zhun zhui":[""],"zi zi":[""],"nin zhn":[""],"bin bian":[""],"do bin":[""],"y y":["","",""],"gu guo gu":[""],"wng kung":[""],"hi hun":[""],"zh zhi":[""],"yun yun":[""],"zh l":[""],"zh wng":[""],"zhu du":[""],"sh ku":[""],tu:[""],"tng tng":[""],gung:[""],"di di":[""],"su su":[""],"t d":[""],"y wi":[""],"sh d zh":[""],c:[""],"hun hi":[""],"l ch":[""],"kng hng":[""],"n ni n":[""],"xi y y y x":[""],"gi hi":[""],"hun xn":[""],"ch x":[""],ho:[""],"l zh":[""],"xio o":[""],"du d":[""],lio:["","",""],"zn cun cu":["",""],"dng dng":[""],"c zu":[""],"f p":[""],"shi sh":[""],ning:["",""],"qi chu":[""],"p f":["",""],"chn chn":[""],"yn lin xin":[""],"ning ning":[""],"l li":[""],"l x x":[""],"lio lio":[""],"dng dng":["",""],"qio jio":[""],"y hu":[""],"hu w":[""],"r rn jin":["",""],"d di":[""],"p zho":[""],"y y":[""],"b p":["",""],"t tu":["",""],bi:[""],"bng png":[""],"h k":["",""],chng:["",""],"xing jing":[""],"y s":[""],"x hu":[""],"rn rn":[""],"shn shu":[""],"ch l":[""],"xin x":["",""],"hu xing":[""],"dio tio yo":[""],"xin ku tin gu":["","",""],"zh ni":[""],"zhng yng":[""],"tu t du":[""],"mi mng":[""],"wn jin":["",""],"tng dng":["",""],"jun jin cun":[""],"s tu":[""],"jun xun jun":[""],"w hu w":[""],"zhu chu":[""],"xng xng jng":[""],"j j":["",""],"zu ni":[""],"yun yun wn wn":[""],"gng gng":["",""],zhu:["","","","",""],:["",""],"cu ch":[""],"su s":[""],"yo z":[""],"y t g":[""],"qing chng":[""],"g l":["","",""],"b p b":[""],"go ho":[""],"z chu":[""],"xi xi":[""],"shu su":[""],"d d":["",""],"qio sn cn":[""],"l o":[""],"tng tng":[""],"jin zn":[""],"hu su ru":[""],"qing qing":["",""],"sn xin s":[""],"jin jin":["",""],"dng chng":["",""],"zun zun":[""],"s x":[""],"yo yu":[""],"tu du":[""],"zun zun":[""],"qin yn":[""],"p p":[""],"yo dio tio":[""],"tng tng":[""],"p p":[""],"tn xin":[""],"li li":[""],"ho go":[""],"tng tng":[""],"tn chn xn":[""],"hu shn":[""],"hn b":["",""],"kng kng":["",""],"xin jin jin jin":[""],"xi xi":[""],"xi k":[""],"bin gun":[""],"h g":["",""],"hng xing":[""],"s x":[""],"tng tng":[""]," yn":["",""],"hng jun xing":[""],"bn pn":[""],"d sh":["",""],"qu qu":[""],"tng tng chng":[""],"kn hn":["",""],"x s t":[""],"mn mn":[""],"qu qu":[""],"yn din":[""]," ":[""],"bi p p":[""],"yn yn":[""],"y yo sh":[""],"lng lng":[""],"du zhu":[""],"su du":[""],"gi q i":[""],"hu du":["",""],"wi ku":[""],"l di":[""],"zhu cu wi":[""],"h h":["",""],"jn jun":["",""],"nn nn nu":[""],"qu qio qio":[""],"gun hun":[""],"gu x":[""],"s x":[""],n:[""],"w mng":[""],tng:[""],"l lu":[""],mi:[""],"jng ling":[""],"g j":[""],b:[""],"yng yng":[""],"g t s":[""],"bin yng":[""],"qio sho":[""],"jun xun":[""],"shng zhng":[""],"p bng b bi":[""],la:[""],"xi di":[""],ng:[""],"mu m":[""],"b bng":[""],"mi w":[""],ru:[""],"sh xi":[""],"yn wn":[""],"dn d":["",""],du:[""],lu:[""],"bn pn":[""],yng:["","",""],mn:["",""],"jng gng":[""],"ji xi ji":[""],"k k":[""],"pn bn":[""],"chn zhn":[""],"fng fng":["",""],"bio di":[""],"b f":[""],"so su":[""],"li lio":[""],"sh s y":[""],"yng jun":[""],"zh tu":[""],"y s":[""],"zu z zh":[""],ti:["",""],"xing nng":[""],"tng xng":[""],"g le":[""],"ch zha":[""],"nng nng":[""],"yn w":[""],"zh sh":[""],"xn jn":[""],"kui ju":[""],zng:["",""],"ti di":[""],"xn xun":[""],"ling lng":[""],pin:["","","",""],"di ti":[""],"so so":[""],"g g":[""],"bi m":[""],"xio qio":[""],"bng png":[""],"b ju":[""],"b p":[""],"mo mng":[""],"ku yu":[""],"b b":["",""],"j c":[""],"b b":[""],"zh zh":["",""],"chu di":[""],"lu g":[""],"gu xi w ku":[""],"xin xin":["",""],"p b":[""],"y s":[""],"b b":[""],"gu xi":[""],"si x":[""],"nio dio":[""],"dio zho":[""],"gn hn yn":[""],"f gu":[""],"jin qin zhn":[""],"h ji":[""],"pin bin":[""],"chun zh":[""],"cng qing":[""],"sn xn":[""],"bio po":[""],"zh c":[""],"jn qn":["",""],chi:[""],"m me":[""],"m me ma":[""],"m m":[""],"dn shn":[""],"zhn yn":[""],"dn zhn":[""],"min mn mng":[""],hu:[""],nng:[""],"q j z zhi":[""],"yn kn yn":[""],"yn kn":[""],"gng w":[""],"gu jn qi":["",""],"ku w":[""],lu:[""],"u q":[""],"lu l":[""],"g g g":[""],"w gu":[""],"zh d":[""],"gng hng":[""],"yo xio":[""]},Yn=new oT;Object.keys(dx).forEach(r=>{const t=dx[r];for(let e of t)Yn.set(e,r)});const LM=["zh","ch","sh","z","c","s","b","p","m","f","d","t","n","l","g","k","h","j","q","x","r","y","w",""],BM=["j","q","x"],NM=["un","un","un","un","uan","u","u","u","u","ue","n","n","n","n","un","","","","","u"],qM={un:"n",un:"n",un:"n",un:"n",uan:"an",u:"",u:"",u:"",u:"",ue:"e",n:"n",n:"n",n:"n",n:"n",un:"n",:"",:"",:"",:"",u:""},UM=["ia","ian","iang","iao","ie","iu","iong","ua","uai","uan","uang","ue","ui","uo","an","e","van","ve"],fx={:"y",:"r",:"sn",:"s",:"w",:"li",:"q",:"b",:"ji",:"sh",:"bi",:"qin",:"wn",:"y",:"dn",:"ling",:"shung",:"du",:"j",:"sh y",:"lng y",:"d y",:"y sh",:"y sh y"},gx={:"chng",:"hng",:"du",:"gng"};function GM(){const r={:"lng y","":"lng y",:"sh y",:"y sh",:"d y",:"y sh y"};for(let t in fx)for(let e in gx){const i=`${t}${e}`,n=`${fx[t]} ${gx[e]}`;r[i]=n}return r}const px=GM(),HM=Object.keys(px).map(r=>({zh:r,pinyin:px[r],probability:1e-12,length:mi(r),priority:We.Normal,dict:Symbol("rule")})),aT={:{b:[4]},:{y:[4],y:[1,2,3]}},WM={:["","","","","","",""],:["","","","","","",""]},$M=Object.keys(aT);function VM(r,t,e){if($M.indexOf(r)===-1)return Hs(r);if(t===e&&t&&Hs(t)!==t)return Bh(Hs(r));if(e&&!WM[r].includes(e)){const i=Hs(e);if(i!==e){const n=Nh(i),s=aT[r];for(let o in s)if(s[o].indexOf(Number(n))!==-1)return o}}}function XM(r,t){if(r===""&&(!t||!Yn.get(t)))return"lio"}function YM(r,t){if(r==="")return!t||!Yn.get(t)?"tng":Yn.get(t).split(" ")[0]}function mx(r,t,e){return YM(r,t)||XM(r,t)||VM(r,t,e)||Hs(r)}const Kf={:"nn gng",:"d w",:"m q",:"s m",:"shng gun",:"u yng",:"xi hu",:"zh g",:"wn rn",:"dng fng",:"h lin",:"hung f",:"y ch",:"gng yng",:"tn ti",:"gng y",:"zng zhng",:"p yng",:"chn y",:"ti sh",:"shn t",:"gng sn",:"zhng sn",:"xun yun",:"lng h",:"zhng l",:"y wn",:"zhng sn",:"m rng",:"xin y",:"l qi",:"s t",:"s kng",:"q gun",:"s ku",:"zhng d",:"z j",:"zhun sn",:"dun m",:"w m",:"gng x",:"q dio",:"yu zhng",:"rng s",:"gng ling",:"tu b",:"ji g",:"zi f",:"g ling",:"dun gn",:"bi l",:"dng gu",:"nn mn",:"h yn",:"yng sh",:"ling qi",:"zu qi",:"dng mn",:"x mn",:"gu lng",:"gun qi",:"zho",:"qin",:"sn",:"l",:"zhu",:"w",:"zhng",:"wng",:"fng",:"chn",:"ch",:"wi",:"jing",:"shn",:"hn",:"yng",:"zh",:"qn",:"yu",:"x",:"h",:"l",:"sh",:"zhng",:"kng",:"co",:"yn",:"hu",:"jn",:"wi",:"to",:"jing",:"q",:"xi",:"zu",:"y",:"bi",:"shu",:"du",:"zhng",:"yn",:"s",:"pn",:"g",:"x",:"fn",:"png",:"lng",:"l",:"wi",:"chng",:"m",:"mio",:"fng",:"hu",:"fng",:"y",:"rn",:"yun",:"li",:"fng",:"bo",:"sh",:"tng",:"fi",:"lin",:"cn",:"xu",:"li",:"h",:"n",:"tng",:"tng",:"yn",:"lu",:"b",:"ho",:"w",:"n",:"chng",:"yu",:"y",:"sh",:"f",:"p",:"bin",:"q",:"kng",:"w",:"y",:"yun",:"b",:"g",:"mng",:"png",:"hung",:"h",:"m",:"xio",:"yn",:"yo",:"sho",:"zhn",:"wng",:"q",:"mo",:"y",:"d",:"m",:"bi",:"mng",:"zng",:"j",:"f",:"chng",:"di",:"tn",:"sng",:"mo",:"png",:"xing",:"j",:"sh",:"q",:"xing",:"zh",:"dng",:"ling",:"d",:"run",:"ln",:"mn",:"x",:"j",:"m",:"qing",:"ji",:"l",:"lu",:"wi",:"jing",:"tng",:"yn",:"gu",:"mi",:"shng",:"ln",:"dio",:"zhng",:"x",:"qi",:"lu",:"go",:"xi",:"ci",:"tin",:"fn",:"h",:"lng",:"hu",:"y",:"wn",:"zh",:"k",:"zn",:"gun",:"l",:"m",:"jng",:"fng",:"qi",:"mio",:"gn",:"xi",:"yng",:"zng",:"dng",:"xun",:"bn",:"dng",:"y",:"shn",:"hng",:"hng",:"bo",:"zh",:"zu",:"sh",:"cu",:"j",:"ni",:"gng",:"chng",:"j",:"xng",:"hu",:"pi",:"l",:"rng",:"wng",:"xn",:"yng",:"y",:"hu",:"zhn",:"q",:"ji",:"fng",:"ru",:"y",:"ch",:"jn",:"j",:"bng",:"m",:"sng",:"jng",:"dun",:"f",:"w",:"w",:"jio",:"b",:"gng",:"m",:"wi",:"shn",:"g",:"ch",:"hu",:"m",:"png",:"qun",:"x",:"bn",:"yng",:"qi",:"zhng",:"y",:"gng",:"nng",:"qi",:"lun",:"bo",:"gn",:"tu",:"l",:"rng",:"z",:"w",:"f",:"li",:"jng",:"zhn",:"sh",:"lng",:"y",:"xng",:"s",:"sho",:"go",:"l",:"j",:"b",:"yn",:"s",:"bi",:"hui",:"p",:"ti",:"cng",:"",:"su",:"xin",:"j",:"li",:"zhu",:"ln",:"t",:"mng",:"ch",:"qio",:"yn",:"y",:"x",:"ni",:"cng",:"shung",:"wn",:"shn",:"dng",:"zhi",:"tn",:"gng",:"lo",:"png",:"j",:"shn",:"f",:"d",:"rn",:"zi",:"l",:"yng",:"x",:"q",:"sng",:"gu",:"p",:"ni",:"shu",:"tng",:"bin",:"h",:"yn",:"j",:"ji",:"p",:"shng",:"nng",:"wn",:"bi",:"zhung",:"yn",:"chi",:"q",:"yn",:"chng",:"m",:"lin",:"r",:"x",:"hun",:"i",:"y",:"rng",:"xing",:"g",:"y",:"shn",:"g",:"lio",:"y",:"zhng",:"j",:"j",:"hng",:"b",:"d",:"gng",:"mn",:"hng",:"kung",:"gu",:"wn",:"ku",:"gung",:"l",:"qu",:"dng",:"u",:"sh",:"w",:"l",:"wi",:"yu",:"ku",:"lng",:"sh",:"gng",:"sh",:"ni",:"cho",:"gu",:"o",:"rng",:"lng",:"z",:"xn",:"kn",:"n",:"jin",:"ro",:"kng",:"zng",:"m",:"sh",:"ni",:"yng",:"j",:"x",:"fng",:"cho",:"gun",:"kui",:"xing",:"zh",:"hu",:"jng",:"hng",:"yu",:"zh",:"qun",:"l",:"g",:"y",:"hun",:"gng",:"mu",:"h",:"yn",:"f",:"xio",:"u",:"qn",:"pio",:"p",:"yn",:"gu",:"yo",:"gu",:"zun",:"chn",:"sh",:"sho",:"qi",:"s",:"nng",:"l",:"chui",:"xng"},ZM=Object.keys(Kf).map(r=>({zh:r,pinyin:Kf[r],probability:1+mi(r),length:mi(r),priority:We.Surname,dict:Symbol("surname")})),yx={:"zh ge",:"chng wi",:"rn wi",:"zu wi",:"b fen",:"yo qi",:"yng gi",:"zng zhng",:"t gng",:"ju de",:"rn wu",:"n ge",:"chng wi",:"wi zh",:"lio ji",:"ch l",:"hung shang",:"zh yo",:"d ling",:"l ling",:"j h",:"gn b",:"m d",:"xng wi",:"zh jin",:"rn shi",:"sh zhng",:"sh fu",:"dio ch",:"chng xn",:"fn wi",:"zh shi",:"do dn",:"zh ling",:"hng kun",:"hng li",:"hng hu",:"hng y",:"g hng",:"zi hng",:"hng jia",:"ni hng",:"wi hng",:"tng hng",:"bn hng",:"hng w",:"yng hng",:"yn hng",:"shng hng",:"zh hng",:"zng hng",:"hng qng",:"dng hng",:"hng gu",:"hng dang",:"hng hu",:"ti hng",:"r hng",:"zhng hng",:"nng hng",:"gng hng",:"jin hng",:"g hng",:"hng ho",:"hng go",:"hng shu",:"hng wi",:"hng m",:"hng chng",:"hng j",:"hun hng",:"hng hu",:"hng bi",:"hng do",:"do heng",:"cn y",:"chng fn",:"jn gun",:"shng zhng",:"sh ling",:"yng dng",:"yun zhng",:"qing dio",:"zh nng",:"yn yu",:"y wi",:"ch y",:"b zhng",:"mng g",:"zh yu",:"sh dng",:"zh ho",:"chng zhng",:"go xng",:"b lio",:"chn ling",:"png zi",:"xin de",:"zh sh",:"sh de",:"shui lng",:"gi wi",:"b jn",:"chng fn",:"d ying",:"sho nin",:"xng q",:"ti jian",:"xi xi",:"xio zhng",:"gng xn",:"h tong",:"h do",:"chng qng",:"chng jin",:"sh de",:"shn ch",:"li j",:"j y",:"j wi",:"gun jn",:"fng f",:"tu fa",:"tu xing",:"ji zhng",:"z x",:"yo shi",:"jing lng",:"hn ling",:"gng wi",:"j li",:"d ch",:"xin zhng",:"sho n",:"l shang",:"zh p",:"nng ling",:"ch ling",:"gng yng",:"tio zhn",:"x zng",:"j de",:"zng ling",:"dng zhn",:"jing sh",:"ch bi",:"jio wi",:"zhng lo",:"di fu",:"ch y",:"dng de",:"jn ling",:"m yng",:"d qu",:"wi shu",:"pin yi",:"gng mng",:"sh tou",:"zhu zhng",:"wi zh",:"pio liang",:"po dn",:"zng z",:"ju s",:"dng zu",:"jn kui",:"rn wi",:"chng f",:"h tng",:"ch j",:"d xiong",:"d jing",:"shu jio",:"y jio",:"tun zhng",:"du zhng",:"q zhng",:"nn d",:"y tou",:"hu zhng",:"d di",:"wng ye",:"zhng ling",:"y wi",:"ji huo",:"hu shn",:"y zi",:"li ling",:"zhng d",:"min qing",:"kui j",:"gu fn",:"j nn",:"dio dng",:"yn jng",:"sho jing",:"zhng d",:"xio de",:"bin gng",:"d gng",:"rn de",:"png gu",:"nin tou",:"zhng zh",:"sn zng",:"b xu",:"chng xing",:"sho ling",:"xn si",:"du d",:"gn xin",:"h y",:"ch f",:"zhng gun",:"b ln",:"qn qi",:"shn fn",:"g bo",:"zhu shu",:"zh dn",:"k sou",:"y zi",:"wi zhng",:"gng j",:"sh zhng",:"bin ling",:"yng yu",:"xi zi",:"yu q",:"jin ji",:"d xi",:"d bn",:"z dn",:"dn yo",:"r ling",:"xu ru",:"g gn",:"rng ling",:"m hu",:"zhun dng",:"chng hu",:"k zhng",:"ch zh",:"zhu zhng",:"zho j",:"qing p",:"tng zhng",:"shu xing",:"l ma",:"zhn zhng",:"zh gun",:"chng chng",:"min de",:"zhu sh",:"d ji",:"zhn xing",:"xing mo",:"ch fn",:"wi qu",:"wi q",:"b bo",:"bi zi",:"qun zi",:"jin shi",:"lng zho",:"y hu",:"d du",:"d sh",:"chng d",:"shu d",:"d d",:"wng d",:"dng d",:"d h",:"d chng",:"jin d",:"qin d",:"g d",:"dng d",:"zhng d",:"l n",:"zi xing",:"jio ling",:"du chn",:"zng zhng",:"xing gong",:"kng bi",:"d liang",:"shu fn",:"sh tou",:"m shu",:"xng li",:"pn ch",:"sn wn",:"ch jng",:"sn zi",:"qun tou",:"d f",:"z zhng",:"g tou",:"nng k",:"gng hun",:"b ru",:"hun yun",:"chng xi",:"chng li",:"zh g",:"i ho",:"mn tou",:"jn zhng",:"shu zhng",:"chng zhng",:"s zhng",:"zhng z",:"qing jng",:"qi dng",:"tu er",:"zhn zhng",:"zh teng",:"xing ch",:"tng shui",:"zhng jing",:"mng zhng",:"mng jing",:"m tou",:"dng tan",:"d qio",:"gn hu",:"sho ye",:"shu ling",:"b j",:"wi ba",:"li de",:"ho q",:"yo shi",:"dng zu",:"chn zhu",:"y ba",:"ch zi",:"shng jing",:" xn",:"dn zi",:"yng ji",:"zh ju",:"yn zhun",:"xing zhng",:"g sh",:"zhng yu",:"yng zhng",:"dng chng",:"n xu",:"yn hu",:"chng yng",:"hu wi",:"t b",:"zun jn",:"yu du",:"ling xing",:"bi zi",:"sh de",:"sh m",:"j zhng",:"pi zhng",:"ji q",:"fn ling",:"sh c",:"d fng",:"yo he",:"ch ch",:"ling z",:"l tou",:"dio yn",:"c hou",:"chng shn",:"zhn tou",:"pn mng",:"sh zhng",:"gu hun",:"p ling",:"x m",:"din zho",:"shn wi",:"xio jing",:"zhu yn",:"ch s",:"yn w",:"g yu",:"sh gn",:"b l",:"d fng",:"wi tou",:"bn zhng",:"xng xi",:"nng yun",:"qn chi",:"wi sh",:"gu dng",:"xu jin",:"jin di",:"mn yun",:"ji shi",:"j ling",:"yn m",:"cn zhng",:"lin zhng",:"z j",:"w jing",:"wn ch",:"zh bn",:"gng qi",:"j ling",:"do zhng",:"xi lu",:"wng ba",:"qi g",:"jin g",:"y hung",:"chng ji",:"lng h",:"wi hi",:"j zi",:"chng hun",:"g da",:"yn shn",:"d s",:"du gun",:"zh shi",:"din h",:"kn shu",:"f b",:"y mn",:"jn zo",:"qi dun",:"zh tou",:"wi shng",:"ch sheng",:"qi ch",:"zhu l",:"zhu xing",:"j ch",:"tu bn",:"gn zi",:"hn hu",:"sho f",:"xng zh",:"n mn",:"gn li",:"jun q",:"shn zi",:"gng gi",:"lng lu",:"l ba",:"zi h",:"tu dng",:"wi nn",:"zhu l",:"yn zi",:"gn m",:"bi f",:"zng di",:"ji j",:"bo gung",:"q dio",:"xing j",:"jio hu",:"ju zh",:" y",:"zi zhng",:"zhng bi",:"ch chi",:"du ku",:"pi ki",:"tng zhng",:"z fn",:"w ch",:"ji dng",:"zhun j",:"g zi",:"p sh",:"gn sh",:"gn jn",:"dng ling",:"yn zi",:"hu er",:"qi zhng",:"chng fn",:"ch ",:"lu min",:"zun yn",:"di chng",:"shng dng",:"xio ling",:"zu fang",:"zho xing",:"i y",:"dio j",:"kn zhng",:"y zhng",:"fng zheng",:"b xi",:"kng x",:"gng di",:"pin ch",:"shng dio",:"sh ling",:"tn zi",:"w ling",:"kng d",:"dio d",:"sn sh",:"chung shng",:"hi shn",:"mn zi",:"chng di",:"lu ch",:"dn dio",:"lo jing",:"rn shn",:"jin dun",:"chng xin",:"ji z",:"dio yng",:"lu bo",:"f zhu",:"yng shng",:"zh jing",:"zu guo",:"j ju",:"wi zhng",:"gu ling",:"yu q",:"f h",:"qing dn",:"qio rn",:"ch fng",:"qio shng",:"q zi",:"qng dio",:"tio xn",:"di wi",:"lio ji",:"d zhng",:"ji b",:"ln de",:"zng ling",:"y zhu",:"b jing",:"yo si",:"ch j",:"gng gn",:"ch m",:"xin yu",:"jin x",:"zhng dn",:"chng yn",:"chng sh",:"yng chou",:"zh dng",:"w nng",:"bo z",:"qin tou",:"jun yn",:"fi di",:"dn do",:"gn zi",:"mn jing",:"hu tou",:"h ci",:"nun huo",:"li j",:"dio qin",:"ju jing",:"bo zng",:"sng sh",:"yu mo",:"qin f",:"gng t",:"zhung zi",:"bi bo",:"ti zi",:"sng sn",:"h h",:"k w",:"z zhun",:"gng din",:"fn xng",:"tn shui",:"s d",:"bn fn",:"lu de",:"b b",:"xing jin",:"dn b",:"hn dn",:"zhn gun",:"f h",:"nng ni",:"xi hu",:"wi lio",:"yn zho",:"chu dio",:"sh zi",:"x jun",:"bio d",:"bi niu",:"s liang",:"h ci",:"ln y",:"gi zi",:"fn wi",:"lng tng",:"yu w",:"y ling",:"mo f",:"chi qin",:"bi f",:"zhun s",:"shng yu",:"ji gng",:"gng shu",:"zh gn",:"chng ch",:"zhng xing",:"gng chi",:"li dn",:"shng de",:"tio zi",:"chng wi",:"z s",:"jng fng",:"ji g",:"din b",:"din zhng",:"zhng chung",:"lo lao",:"m hu",:"gng jia",:"j l",:"k mn",:"d ling",:"ch cu",:"sh ji",:"cn c",:"d zi",:"zh zhng",:"xing chn",:"hng yn",:"sh mng",:"x ho",:"li zhun",:"jng d",:"h ma",:"qng ji",:"dng zi",:"chn m",:"go l",:"xi ji",:"w wi",:"b jie",:"lio d",:"bin xing",:"h dn",:"qng jia",:"chng zi",:"h wn",:"hun j",:"jio hun",:"jing lng",:"chn y",:"kng qu",:"l ln",:"dn ling",:"zh zhu",:"d dio",:"b s",:"qng b",:"d dng",:"zhn b",:"so zhou",:"qi c",:"nin zhng",:"wi zhun",:"tu zi",:"ci feng",:"l yu",:"xu p",:"sn lun",:"dng ling",:"do teng",:"q sh",:"zn ji",:"chng f",:"zho w",:"dn k",:"xng w",:"rng rang",:"lin li",:"yng d",:"z zhng",:"gu zi",:"li g",:"xun yn",:"tio pi",:"q gn",:"chi y",:"kn k",:"sho r",:"yu tun",:"yng fn",:"tu hun",:"g dio",:"y dio",:"yn dio",:"yu f",:"g p",:"d din",:"chi sh",:"yn chn",:"shu xu",:"go yao",:"tn m",:"dio rn",:"sn j",:"shng tu",:"fng m",:"fng ji",:"g liang",:"sh dng",:"zhng dn",:"wng wi",:"zhng zh",:"q hng",:"m lio",:"xing sheng",:"jio zhng",:"qun xing",:"sh ling",:"chn mn",:"j y",:"ji f",:"si wi",:"jing xio",:"sh ho",:"m lu",:"p do",:"pin zi",:"qi xio",:"dn wn",:"x b",:"ku d",:"jin xi",:"qio shu",:"s dio",:"ch ju",:"bio shui",:"ch zi",:"zho xing",:"chn zh",:"du peng",:"p zi",:"d zi",:"f zi",:"gn jng",:"do sh",:"jing gun",:"ch tou",:"gu xing",:"n ji",:"lo dao",:"xin ling",:"bng x",:"chng fng",:"q yu",:"qng dn",:"b gng",:"fi zi",:"ch sh",:"cn ling",:"qng shui",:"pio mio",:"zhng jing",:"ci gn",:"sh sh",:"jun zi",:"yu shu",:"xing zi",:"png gung",:"qi w",:"kn gun",:"fng tou",:"jng gn",:"go ch",:"kng h",:"bin dn",:"j yng",:"g zi",:"gng x",:"fn ch",:"fi dn",:"wi b",:"f xng",:"j xng",:"cun dng",:"jin hu",:"qin b",:"yu zhng",:"shn ch",:"dio zi",:"xing wi",:"zhun z",:"jng l",:"k ch",:"lio sh",:"zhun you",:"dng p",:"zhu zi",:"dn zi",:"ho zhn",:"yn mi",:"zh x",:"gn lin",:"n jing",:"ji ling",:"hu chun",:"j ling",:"tio b",:"sho xio",:"zhu lu",:"zng w",:"k b",:"yo xi",:"yng chu",:"hun shu",:"m j",:"zh zhu",:"h lng",:"bo zhng",:"x zhe",:"zhng ji",:"gng zhun",:"jio kn",:"chng t",:"so xng",:"p gi",:"zhng sh",:"ch ji",:"y gn",:"zhng zh",:"yng yn",:"qi r",:"zhn jing",:"nin sho",:"sh shn",:"zh ni",:"ch sh",:"zhng fng",:"dng ling",:"fng ling",:"qing dio",:"lo sho",:"m r",:"gu g",:"jing shui",:"ch zi",:"w nang",:"zhng jn",:"k hn",:"bng zhu",:"gng xio",:"qi pin",:"chi sh",:"zh hui",:"yng zho",:"ch n",:"qi cu",:"r tou",:"y ji",:"z zhng",:"do gun",:"ju s",:"dng ling",:"p jia",:"yun fn",:"kng xin",:"ho s",:"n h",:"lng tng",:"bin si",:"h cng",:"chng h",:"lng sn",:"hng lng",:"hu zi",:"ni mng",:"sh lu",:"n ch",:"mu l",:"zh lan",:"zhng bio",:"dio dng",:"gu lu",:"chng zi",:"ji qio",:"chng wn",:"po zh",:"fn hun",:"z zhun",:"go dio",:"yn hng",:"g zhu",:"qing qi",:"bn xing",:"jio hng",:"co shui",:"q mn",:"zhu s",:"nng kn",:"xng tou",:"j n",:"ji jio",:"f j",:"mng jing",:"yu mo",:"tu li",:"n rng",:"zun tn",:"ji cng",:"lu p",:"hng do",:"yn ling",:"ji mn",:"kng er",:"g mo",:"ho k",:"zun kng",:"h nng",:"xng yng",:"fn mn",:"cng c",:"fn ch",:"chng zi",:"xio dio",:"sho yng",:"shu xing",:"rn fng",:"g bei",:"jing mn",:"m bn",:"pi j",:"wi w",:"gn tou",:"hu sun",:"li zhui",:"hng xio",:"yn xun",:"gn dio",:"fng zh",:"nn ch",:"zhu y",:"mn hng",:"j sh",:"dun f",:"shng hun",:"hun qng",:"kn h",:"zh shui",:"zu yu",:"zi k",:"zhun hng",:"yn m",:"kng g",:"p din",:"ling jing",:"hu l",:"sn mn",:"tu f",:"sng hun",:"mi m",:"li j",:"b w",:"dio l",:"sh ti",:"j zhng",:"shun s",:"pi ju",:"qi ku",:"chung ku",:"h qian",:"sh dn",:"p png",:"h d",:"ln sn",:"sh gn",:"tin kng",:"dio zun",:"yu sh",:"ling bin",:"yu xing",:"tng s",:"zhng dio",:"ji do",:"gn k",:"zh k",:"yu gng",:"hu gu",:"zho hu",:"gng zhng",:"j f",:"kng zi",:"n zh",:"zhng zho",:"shu zi",:"sng zng",:"ji di",:"n fn",:"zhng y",:"zhng sn",:"jio dng",:"jun q",:"zi yn",:"tu dn",:"zu cn",:"fn ling",:"dio hun",:"lio rn",:"li zu",:"din dng",:"hn ji",:"zhng xing",:"j shu",:"x f",:"zh gn",:"sh xing",:"hng qing",:"k hu",:"si zi",:"dn gn",:"hun xing",:"zho tou",:"s gun",:"d shui",:" ha",:"g sh",:"m b",:"ho w",:"xi ch",:"xio zhng",:"l jin",:"zhn tou",:"jio du",:"sh w",:"pn y",:"f ye",:"m fi",:"yn fn",:"h jing",:"b he",:"d ch",:"kng wi",:"p l",:"w l",:"dio hu",:"li tou",:"xin sn",:"jio jun",:"mo shi",:"gn jn",:"xin yu",:"xing gu",:"dn shn",:"zh xng",:"p ki",:"c zhng",:"f qi",:"ji j",:"sh ch",:"shng f",:"chng b",:"fng h",:"yn ling",:"sho wi",:"chng y",:"cng jng",:"hu bo",:"wi h",:"wi xing",:"h ho",:"zho m",:"tio dn",:"wn l",:"hun s",:"qing hng",:"zho sh",:"xing shn",:"tio mng",:"m feng",:"fn ni",:"gng y",:"run huo",:"jn xng",:"ho zi",:"zho y",:"bi jing",:"ci zhng",:"ji z",:"mi kng",:"ji fng",:"sh duo",:"chn huo",:"b ji",:"din ling",:"h zi",:"dio sh",:"ch shn",:"d shu",:"dn gng",:"hng mn",:"nng gn",:"jio din",:"ji zi",:"gn xio",:"hng chun",:"jio zh",:"y s",:"m zh",:"yu zh",:"go gn",:"jng zhun",:"zng sn",:"ho du",:"gun qi",:"to bn",:"m ceng",:"mu q",:"zhn l",:"m zha",:"cu he",:"li qie",:"shui d",:"ti zi",:"fn de",:"nin zhu",:"ci y",:"sn zhung",:" nu",:"xng wi",:"xng tou",:"q ling",:"dio yn",:"ch zh",:"yu yn",:"chng s",:"dng h",:"ln dio",:"xing zhng",:"mn yu",:"po zhang",:"sng f",:"xio jing",:"ling xng",:"fng b",:"ci kui",:"d gn",:"l sh",:"jio chng",:"si bi",:"sh xing",:"r m",:"xin ling",:"y s",:"lu lin",:"ling kuai",:"yo gn",:"li da",:"g g",:"gng gn",:"ji gng",:"tio du",:"kn mn",:"yu g",:"t pin",:"tio dng",:"zhn jing",:"qi jng",:"m fng",:"wi y",:"jio huo",:"m su",:"zu nng",:"mio tou",:"d zhn",:"d zng",:"ch shng",:"gu da",:"sh yn",:"sh ch",:"ti gn",:"jing xing",:"fn zi",:"sh ch",:"l yn",:"qing gn",:"fng rn",:"chu mn",:"din jing",:"hu tu",:"jng sh",:"xing lng",:"zhng lio",:"bn f",:"ji ba",:"k gn",:"kn ji",:"zhng dn",:"zhng kn",:"xi mn",:"dng gun",:"sh ling",:"gng dio",:"jin zu",:"dn pin",:"ch ch",:"pio bi",:"gng zi",:"tio ch",:"ho dng",:"zhun l",:"bng q",:"ji bn",:"i yu",:"gn do",:"k ch",:"p chi",:"zhng sh",:"tin hu",:"gng ch",:"jio yn",:"ch si",:"m pn",:"wi m",:"bn sng",:"chng h",:"d dio",:"fi fn",:"zun yng",:"ji zi",:"cho zi",:"gng sh",:"lng dang",:"p sn",:"f hun",:"zhun ln",:"hng ci",:"po tng",:"po s",:"tin y",:"h hu",:"q qio",:"tng ling",:"fng hun",:"w jio",:"mn gn",:"lng tou",:"yn ti",:"yu fng",:"xu zhng",:"gu zi",:"b dio",:"y bi",:"x chn",:"dio yu",:"mn gn",:"zng z",:"t gn",:"bin dio",:"f m",:"m zi",:"yu l",:"chn xn",:"m gn",:"chng yn",:"z xng",:"t dio",:"kn xing",:"y tou",:"xi qi",:"si shng",:"p zhng",:"tng wn",:"b xng",:"xi sh",:"tu q",:"xin dn",:"yu m",:"hn ling",:"y yu",:"ho k",:"zh xing",:"zh jun",:"z sh",:"x chung",:"fng dn",:"jin jing",:"l shu",:"xu f",:"kng dng",:"du xing",:"xin jin",:"hu jing",:"zi b",:"tio zao",:"qio p",:"b d",:"ji f",:"lio dun",:"tng dio",:"sh m",:"sh ch",:"b s",:"tio zi",:"tu m",:"w hu",:"m sh",:"dio zhun",:"j m",:"hun zhi",:"dio yn",:"fn hu",:"j u",:"dun h",:"mn li",:"lng j",:"fn ling",:"hun l",:"zhun dio",:"xng xing",:"shu xing",:"pi yu",:"gi tou",:"lin gn",:"b j",:"do b",:"ling c",:"mng ju",:"b dio",:"jio bn",:"zhng b",:"jun yng",:"sho wi",:"y zhun",:"yu p",:"qin li",:"d li",:"h ch",:"yn ",:"gn q",:"hi ling",:"jng dng",:"zhu chung",:"yu xing",:"sh j",:"gng gun",:"ln ch",:"zhng b",:"hu p",:"ji qio",:"kng ch",:"k xi",:"p chn",:"chng shng",:"yu l",:"i ho",:"zng l",:"gng jng",:"xu png",:"nng yn",:"chng du",:"dng chi",:"zhng zhun",:"bng ch",:"chung min",:"dn ju",:"b l",:"hung dang",:"so zi",:"ji sh",:"mn tu",:"mi f",:"d shu",:"zho ling",:"chung jing",:"j n",:"pn tou",:"ch sh",:"sn su",:"yng s",:"hn zhn",:"qin qing",:"w jin",:"ln zhun",:"ho jio",:"p pi",:"xing f",:"zh gng",:"dng ",:"bng ji",:"li ji",:"gng s",:"dn ji",:"zun xn",:"hung yn",:"m zho",:"bio ling",:"bi mn",:"ci du",:"ch sh",:"gun chi",:"to hun",:"chng mn",:"li fn",:"l lng",:"s xing",:"y xng",:"ju l",:"dn kng",:"zh ch",:"ji j",:"ch xng",:"hn jing",:"ho xu",:"ho ho",:"yn f",:"so b",:"f xing",:"gu gn",:"gng q",:"kng y",:"kn z",:"j b",:"jing hu",:"g zh",:"dio lng",:"f ti",:"ln bng",:"dio pi",:"zhun pn",:"gng go",:"chi gun",:"yu mn",:"jio zhng",:"chng chng",:"ji xng",:"yu tn",:"hu n",:"ch h",:"bng b",:"d kng",:"zhun qun",:"hng bo",:"hng ti",:"yn hng",:"zi hu",:"zhng j",:"gun zhng",:"xing min",:"kn tou",:"pn tou",:"y xng",:"jn yu",:"li c",:"g d",:"yn zho",:"bo sng",:"m sa",:"i du",:"pin zhu",:"chu ju",:"dio sng",:"qing jing",:"chng zu",:"f bin",:"zho m",:"zho f",:"shng fng",:"tin s",:"xing hng",:"q shu",:"bi ti",:"chng ling",:"f ci",:"ji f",:"fn jun",:"xio ling",:"jio zhu",:"l zi",:"dio diao",:"sn bng",:"go tio",:"b s",:"ji xn",:"shn dng",:"to ro",:"n chng",:"nin zi",:"m fng",:"s b",:"chng yun",:"xng qn",:"t l",:"gun ling",:"qing b",:"qing zhng",:"yn ch",:"sh do",:"di li",:"t bn",:"xin w",:"s jing",:"jn li",:"chn ji",:"f sh",:"g shn",:"tin fn",:"p ho",:"s tng",:"bi zh",:"hu shng",:"ju du",:"tng chi",:"su ch",:"sng l",:"m m",:"xu shu",:"s b",:"su co",:"qin wi",:"dio tu",:"lng jun",:"wi dio",:"z ti",:"jun f",:"chui du",:"yng xing",:"sn gung",:"g lu",:"b mng",:"lng tu",:"yn yn",:"li zhou",:"pin er",:"qin shu",:"sn t",:"ni xng",:"qing li",:"ji sng",:"fn jin",:"sho zhung",:"li kng",:"go ji",:"k xu",:"b m",:"p gu",:"m xu",:"zh sng",:"ch zi",:"hng dng",:" zi",:"ch lu",:"g zhng",:"gu ch",:"hun hn",:"l ji",:"sh zh",:"shn ling",:"tng ho",:"m ling",:"gng shng",:"f sng",:"shui zh",:"z m",:"sn ji",:"d qing",:"jio w",:"b qng",:"yn po",:"nio nu",:"co du",:"chng jn",:"n nn",:"qi zhng",:"tio dng",:"hun yun",:"j jing",:"gng g",:"m yo",:"bi xng",:"qi min",:"sn h",:"li jn",:"bi di",:"chng gn",:"nin fng",:"b zi",:"bn shu",:"yn shn",:"r jing",:"chng gung",:"jin f",:"zhng shng",:"xio zhun",:"y zhu",:"ru gun",:"hu jun",:"hng hu",:"ji k",:"gung yn",:"p m",:"du dio",:"ji ch",:"kng ",:"png dio",:"p chung",:"sng zhng",:"zu l",:"sho f",:"shu shu",:"bn tou",:"jn j",:"shui xng",:"l zi",:"bng z",:"tio su",:"pio x",:"ji qing",:"k chun",:"mi xie",:"cu ch",:"mn ji",:"sh dio",:"chng sn",:"jng chung",:"x chng",:"dio mn",:"hu tu",:"hu la",:"to shi",:"c shui",:"xing shui",:"kun zh",:"y qng",:"yn b",:"wn g",:"d d",:"dio q",:"jio chi",:"lu z",:"xing c",:"x dao",:"lu f",:"y xing",:"jn m",:"ju d",:"xi zi",:"chn jun",:"zh zheng",:"x yng",:"b lu",:"du zi",:" sho",:"f j",:"hng sho",:"jing hu",:"k sng",:"sho x",:"yn chun",:"jio yng",:"wi ch",:"jio zho",:"p zhn",:"yn sui",:"ji jn",:"su po",:"sng lun",:"xing xing",:"hu f",:"d chng",:"yn ling",:"zhng qi",:"hu qun",:"hu tng",:"png zhun",:"l qin",:"j du",:"sn j",:"g shi",:"s yn",:"p x",:"yn zh",:"lng zhn",:"sh zh",:"sho nn",:"gun yu",:"ho to",:"n xing",:"yng s",:"wn shng",:"gn r",:"g tng",:"b j",:"p ji",:"jio zhn",:"yn dng",:"q ling",:"xun dio",:"bn xing",:"gn ci",:"j gn",:"g qi",:"gu yu",:"qi k",:"b g",:"m fng",:"y y",:"ji mo",:"b j",:"chn ji",:"sh xng",:"chng ch",:"zhun y",:"zhu liang",:"b c",:"zng qng",:"d sh",:"dio rn",:"ji yun",:"jng gn",:"j ling",:"lng tou",:"shui zhn",:"pn xing",:"su yu",:"h m",:"xing t",:"xng hu",:"zo tu",:"chng hn",:"zun dng",:"cn du",:"dng shn",:"dio wn",:"gn t",:"g b",:"gng xun",:"ji shng",:"lu xin",:"qi qi",:"sn jin",:"sho qi",:"tng f",:"t ling",:"tng ku",:"j di",:"xing sh",:"yng jun",:"zhun j",:"b ti",:"cng zh",:"fi b",:"g ji",:"g l",:"gu wn",:"gui xing",:"ln ti",:"n gng",:"bo chung",:"qio ch",:"sh ji",:"tn xng",:"xing jng",:"z rn",:"zh yn",:"zhu zhng",:"zhun tou",:"p shu",:"chn huo",:"chng p",:"d ling",:"gn ji",:"gng ch",:"ji li",:"q shu",:"sh shn",:"tio hu",:" mn",:"bi lu",:"bi sn",:"ci ch",:"chung tng",:"f xing",:"gng dng",:"ho xng",:"hun yng",:"hun zu",:"ji dio",:"jun yn",:"li dn",:"xing tou",:"xu ji",:"jio yu",:"y ling",:"bi zhun",:"b ji",:"chn ji",:"f q",:"hu hu",:"kun chuo",:"lio w",:"qi hu",:"shn du",:"yng x",:"zhun ti",:"z zh",:"ci ling",:"zng x",:"chng xng",:"chu mu",:"cu zh",:"tio jng",:"dio zh",:"fng zhu",:"g du",:"h er",:"hng ling",:"hun ji",:"hn p",:"k chi",:"min h",:"sh ch",:"xng sh",:"sh jn",:"xn chi",:"y qi",:"cun mi",:"zh go",:"zun gn",:"p hu",:"bn hu",:"chng dio",:"d li",:"du lu",:"fi zhun",:"gn zhng",:"ho shng",:"hu pin",:"jio hn",:"lu gn",:"m m",:"n ho",:"pn sh",:"w nng",:"y sho",:"yu chi",:"zhn gu",:"zhn xng",:"chng shn",:"z ling",:"dio fng",:"f lng",:"fn dio",:"fng zi",:"gng f",:"g zi",:"gung gn",:"ji gn",:"j sng",:"j g",:"kn y",:"kng zhun",:"ling l",:"po lu",:"pi hun",:"p shn",:"sn j",:"sn jin",:"shn xu",:"sh gn",:"tio j",:"tu kng",:"xu b",:"jio h",:"yn gn",:"zhi ci",:"chng ji",:"zh dio",:"z jn",:"b j",:"bin nio",:"c dio",:"do gu",:"lo zhn",:"p q",:"shu bi",:"wi m",:"x b",:"xing m",:"y ti",:"zhun jn",:"bng h",:"bn xing",:"go tu",:"jin mio",:"yu ch",:"mi xing",:"bng q",:"qin dn",:"qi bin",:"qng dio",:"qn mng",:"sn bn",:"xng ch",:"sh ji",:"qin shng",:"chng yng",:"gng zhng",:"zhng d",:"zhng ci",:"zi zhng",:"ji zhng",:"kn zhng",:"zhng zh",:"zhng gu",:"zhng du",:"zhng sh",:"shu zho",:"lng zi",:"chng q",:"chng zhng",:"chng tn",:"chng z",:"chng shn",:"chng yu",:"chng lun",:"y ye",:"ni nai",:"lo ye",:"b ba",:"m ma",:"shn shen",:"ji jiu",:"g gu",:"sh shu",:"y fu",:"ji mu",:"g fu",:"ji fu",:"p po",:"gng gong",:"ji zi",:"ji jie",:"g ge",:"mi mei",:"mi fu",:"y zi",:"bo bao",:"w wa",:"hi zi",:"r zi",:"yng zi",:"sh zi",:"shn zi",:"ji zi",:"so zi",:"b zi",:"tng zi",:"zh zi",:"min zi",:"b zi",:"bi zi",:"mo zi",:"pi zi",:"zh zi",:"bin zi",:"g zi",:"fng zi",:"wn zi",:"tn zi",:"pi zi",:"h zi",:"gu zi",:"i zi",:"y zi",:"xio zi",:"yng zi",:"w zi",:"du zi",:"din zi",:"bn zi",:"zhng zi",:"r zi",:"t zi",:"pin zi",:"yun zi",:"hu zi",:"sng zi",:"zh zi",:"sh zi",:"qin zi",:"sh zi",:"png zi",:"bo zi",:"kui zi",:"ln zi",:"shng zi",:"zu ba",:"r duo",:"qi zi",:"bng b",:"kng tng",:"p pa",:"m gu",:"h lu",:"h li",:"j zi",:"h zi",:"zhu zi",:"zh zi",:"sh fu",:"y fu",:"w zi",:"bi zi",:"c wei",:"mi zi",:"du wu",:"zh lio",:"y er",:"hn tun",:"dng long",:"zhung jia",:"cng ming",:"jng zi",:"yn zi",:"pn zi",:"lio qu",:"l qi",:"x zi",:"ln zi",:"zho xi",:"zho x",:"zho q",:"ch bng",:"shng zhng",:"zng p",:"p ti",:"bin de",:"zhng fu",:"du fu",:"b gn",:"zng yng",:"xng rn",:"d zhe",:"d y",:"wn y",:"zh y",:"d zh",:"tng y",:"wi y",:"zhun y",:"dn y",:"r y",:"q y",:"h y",:"zh y",:"zhu y",:"ch y",:"yn y",:"gu y",:"ji y",:"wn y",:"lio lio",:"gng lio",:"s lio",:"y yu",:"y ho",:"y j",:"y dng",:"y g",:"yu y",:"y y",:"r y",:"sn y",:"s y",:"w y",:"li y",:"q y",:"b y",:"ji y","":"y lng",:"y lng",:"y r",:"y sn",:"y s",:"y w",:"y li",:"y q",:"y b",:"y ji",:"y yu",:"y bng",:"y lu",:"wi l",:"wi zhn",:"cng hi",:"nn wi",:"z nn",:"hun nn",:"m nn",:"d nn",:"dio nn",:"xn nn",:"lu nn",:"l nn",:"zi nn",:"nn mn",:"k nn",:"wi nn",:"f nn",:"to nn",:"b nn",:"y nn",:"z nn",:" nn",:"xn nn",:"kng nn",:"x huan",:"zho zho",:"b xng",:"y y",:"wn q",:"ni q",:"q zh",:"wi q",:"ji q",:"q jng",:"q ji",:"wi q",:"q xin",:"q f",:"ji q",:"q zh",:"q gng",:"q y",:"g lo"},KM=Object.keys(yx).map(r=>({zh:r,pinyin:yx[r],probability:2e-8,length:2,priority:We.Normal,dict:Symbol("dict2")})),_x={:"wi shn me",:"sh j shang",:"jin ch zhng",:"gn shn me",:"zh hu er",:"jn k nng",:"dng sh zhng",:"lio b q",:"cn mu zhng",:"cho xin z",:"hi ni wi",:"jn b zh",:"b l t",:"b zi hu",:"lu shn j",:"yu din er",:"pi j po",:"b d lio",:"m wi sng",:"yn sh ling",:"f p qi",:"sh d f",:"y l jing",:"y gn er",:"du de q",:"n hu er",:"z g er",:"w l ling",:"zn me zho",:"mng hung hung",:"ji ji r",:"xn l hu",:"f xng ling",:"xng chng chng",:"fn z ling",:"gu z jin",:"lo d nn",:"dng ni wi",:"zh me zho",:"sho ni nai",:"n d l",:"gng nin q",:"gng zu ling",:"bi d l",:"shn li hng",:"ho ho er",:"jio xing yu",:"ho y si",:"t y hn",:"mi y si",:"l f sh",:"t sh gn",:"chng q ling",:"ko de zh",:"ch xng do",:"rn xng do",:"zhng lng jing",:"zho mng dn",:"yn m dn",:"m ni h",:"lun hng hng",:"hu gng s",:"zi zhng ling",:"qio de q",:"j zhun t",:" png gng",:"jun xn ci",:"x bn zi",:"gu de q",:"hu gng sh",:"wi sheng n",:"tun tun zhun",:"d bo jio",:"rn sho dn",:"lo sh zi",:"yo gn yu",:"ji zh to",:"no hng hng",:"sn lin gun",:"zhng tu x",:"r rn zhun",:"ji g yn",:"zh shi min",:"h shi zhng",:"xn ho dn",:"gn din ch",:"qing gn zi",:"k sng bng",:"b yn i",:"w gng jn",:"mi de q",:"li h ma",:"j liang g",:"z m dn",:"ki xio chi",:"n qing rn",:"yng xing zhun",:"ju sh yu",:"shu xio hua",:"png tu hu",:"b li gng",:"y gung dn",:"sho ln qun",:"yng tn dio",:"sho xin du",:"lng zhng m",:"du zhe gn",:"mng mng ling",:"run g tou",:"p gi jun",:"hu x n",:"bi hi gu",:"hng tng tng",:"w hu c",:"d du suo",:"h ku b",:"m wi zo",:"y mo zi",:"d shu sh",:"lng wng y",:"q tu shang",:"h tu chng",:"b gn zi",:"zhn pin yi",:"d zh y",:"du dn tu",:"lu y shu",:"yn s h",:"bo de zh",:"bo t qun",:"o de h",:"s w zhng",:"jn b q",:"sh ch hi",:"lin hu lo",:"jin sh min",:"hu ch q",:"din wi ch",:"i g er",:"n zhn er",:"fi hu ling",:"d sh fu",:"zh dn tng",:"d h lu",:"n q mn",:"wi jin d",:"d shn er",:"tn de li",:"jio y zi",:"kng bo dn",:"w li du",:"dn zhu din",:"g tu er",:"kn de q",:"h tu zhng",:"d xng xing",:"jn de q",:"f xing zng",:"k lin xing",:"ch de xi",:"hn bo bo",:"no rng rng",:"sh li bo",:"h de li",:"gn xng yu",:"mn h lu",:"gu gu jio",:"x yng shn",:"ln yn do",:"l ji chng",:"jun p gi",:"gu de yng",:"fi jing jn",:"tio d ling",:"h ba gu",:"gu ji ji",:"cu li dn",:"y ji xu",:"qio zh gng",:"li ch zhng",:"hu d n",:"fn de zho",:"t g da",:"sh fng jng",:"qng ling j",:"xi d d",:"sh z er",:"d m dn",:"k jio pin",:"kn d shn",:"dng din er",:"ch de xio",:"lu h x",:"go l shn",:"zhng shng xing",:"yn xi yn",:"jn de zh",:"ch de ki",:"zu s chu",:"yng shng chng",:"sh de zho",:"sh jn er",:"qin b li",:"k d sng",:"hu de li",:"yn h h",:"sh ke lng",:"lio ju zi",:"zng hng hu",:"mn gun ch",:"qi b zi",:"hng deng deng",:"gn de j",:"dng jin er",:"lu m jio",:"j ni jn",:"fn de shng",:"dng ch b",:"bo h din",:"lng zho hui",:"h do ci",:"dng gun c",:"dn dan min",:"ch de zh",:"zhu jin er",:"zh zho er",:"zh gn tou",:"yn zho er",:"yn jun er",:"xun chun dn",:"xn p er",:"xin qi jio",:"s sh m",:"shu de li",:"shu pio er",:"shu b gn",:"sh de shng",:"sh b zho",:"sh b qng",:"sh jin er",:"shng s b",:"shn fng j",:"s y zheng",:"r j b",:"r de kui",:"qng jia gng",:"j hn sh",:"pi zh b",:"n jn er",:"n w wa",:"ni qi yun",:"n hu er",:"mn tu er",:"mi p er",:"mo jn er",:"li jin bng",:"lio wng ti",:"lo li sho",:"kn ju er",:"ko qn b",:"jun b do",:"jn j ling",:"hu b li",:"hn gu er",:"g nng nng",:"gu jn er",:"gng qi xin",:"g de zh",:"gn lng tu",:"gn de shng",:"gn jio m",:"g zh er",:"g bng cu",:"du de zh",:"du mn zi",:"dng gu gu",:"d li er",:"d zhu zi",:"d bn zi",:"cn jn er",:"c jn er",:"chui shu er",:"chng jn er",:"ch de li",:"b gng sh",:"bn tou er",:"bi f zhng",:"w wa qn",:"s jn er",:"g du er",:"gng lo b",:"d jing yn",:"y dn shu",:"p j ti",:"ti li p",:"k t lng",:"ki h hng",:"l y j",:"hu sh lio",:"y gng gng",:"y chng shn",:"fng y gng",:"xu y gng",:"gu y m",:"xng q y",:"l bi y",:"y j d",:"y yu y",:"y z m",:"y sh y",:"y c fng",:"y yng zh",:"y z ju",:"y nin j",:"y b zu",:"q qu r",:"nn wi shu",:"nn wi qng",:"xng y hng",:"bi bi de",:"gn n hng",:"gn y hng",:"q bi zhn"},JM=Object.keys(_x).map(r=>({zh:r,pinyin:_x[r],probability:2e-8,length:3,priority:We.Normal,dict:Symbol("dict3")})),xx={:"chng j s hn",:"s tng b d",:"y m y yng",:"qng zng go yun",:" m tu f",:"ji fng s xing",:"su zu su wi",:"m m hu h",:"h qing sh dn",:"xng go ci li",:"w nng wi l",:"b l si r",:"wi su y wi",:"k sh m r",:"mi wn mi lio",:"b wi rn zh",:"ji ji b b",:"qin p hu j",:"p tin gi d",:"zh ji lio dng",:"gng b yng qi",:"y sh d f",:"b wi w qun",:"b k shu shi",:"h zu fi wi",:"fn ho b ch",:"m m hu h",:"b z wi q",:"qio w shng x",:"lio r zh zhng",:"shn w tng ju",:"go go xng xng",:"i shng tn q",:"hn zng y x",:"ch xn j l",:"q b chng shng",:"bn y sn gng",:"sh hn lu p",:"r sh b xi",:"zhun li zhun q",:"sh y wn j",:"xing y wi mng",:"lin lin b sh",:"q zh k sh",:"shn ch gu m",:"ji ji sh sh",:"yu d fng sh",:"j l g l",:"dio bng qin jing",:"zi g zi w",:"zhun wi wi n",:"t t shi sh",:"sng j b r",:"zhung m zu yng",:"jin y yng wi",:"xing ch w j",:"tn wi gun zh",:"mn mn b l",:"x n i l",:"xin wi rn zh",:"zhng y w zho",:"wi fi zu di",:"hn h q c",:"p y bn mng",:"min wi q nn",:"y y b sh",:"dng tu shng si",:"b zhu bin j",:"d m d yng",:"xn hun zu l",:"y zu lio zh",:"z l hng jin",:"hn hn hu h",:"qi r q fn",:"p t wi xio",:"shn gng bn y",:"qin ch wn bi",:"sh b shng sh",:"j wi j yu",:"tin xun d zhun",:"yng zn ch yu",:"b li xin wi",:"cho chao no no",:"yn tu zhun xing",:"t shng t zhng",:"nng s b q",:"b xng rn sh",:"jn l r wi",:"jng mng qing gn",:"lo lao do do",:"j ji zh zh",:"gng b k m",:"qi r b sh",:"pi yu ji nn",:"x li h t",:"g yu su chng",:"d d qu qu",:"hng tng d xio",:"tng r b wn",:"do gng hu zhng",:"ni fn m xin",:"hu xin wi y",:"bi f bi zhng",:"chng jin tin r",:"fn bi wi shng",:"y lio bi lio",:"d da li li",:"xn j hu lio",:"c xn d yi",:"j p g da",:"y wi png d",:"r j yu li",:"sh shn ch d",:"tu q su ho",:"jin b rng f",:"rn mn wi hun",:"qing zhu b sh",:"wi sh y wn",:"r sh ji zhn",:"xn l yu sh",:"y y hun y",:"shn b shu sh",:"mng sh wi k",:"g z wi zhn",:"yun shng zi do",:"ji k ji nn",:"ho ho xin sheng",:"gui m gui yng",:"po tu l min",:"yu shu ho xin",:"w su b wi",:"dio h l shn",:"b b wi yng",:"ho d x gng",:"zhng sh zh d",:"chng shng b s",:"wi wi zhung gun",:"b k shng sh",:"gu sh shn chi",:"ji shn z ho",:"gn zu gn wi",:"mo s dn ki",:"zu m hun jing",:"wi sh gu zo",:"wi rn sh bio",:"yn ch yng cu",:"yu qing hu dio",:"chng do f zh",:"m ma li li",:"x x do do",:"r l b bng",:"sn bng zh jing",:"gui wn m jio",:"xing m xing yng",:"gng gu y qi",:"ki hu ji gu",:"z z x x",:"chun zng gng l",:"h bi bng zi",:"chng nin li yu",:"zhng er b jng",:"b sh ti ju",:"chng zhn q g",:"q x yn yn",:"jn zhu b sh",:"f fu ti ti",:"qing c du l",:"p li p l",:"rn ci j j",:"f rn shn xng",:"b z wi png",:"wi f b rn",:"lin pin li d",:"h tin qing d",:"lu lu d fng",:"z chu z li",:"l shn ho sh",:"y gng wi shu",:"m m cng cng",:"xu ti r n",:"zh zhu wi n",:"y tu wi jn",:"q q ch ch",:"qing ln dn y",:"lng rn f zh",:"zhun bi wi shng",:"zhun wn m jio",:"zi ji nn to",:"zhng dng fng wi",:"b z wi gui",:"nn xing nn d",:"y y y y",:"dn jn ling ju",:" y fng chng",:"x li hu l",:"fn lo hun tng",:"ho go w yun",:"l s shi shu",:"ch qing rn y",:"d chu d li",:"chng ji l y",:"z yun z y",:"f zhi li li",:"g wi jn yng",:"r t wi n",:"xi b wi l",:"y hng r shng",:"mi tu cng ying",:"tin ch d yun",:"fng jun cn yn",:"du zi du nn",:"r xi wi gn",:"hng ji l shu",:"lng bi wi jin",:"ch bin b jng",:"y chng y h",:"y nin zh ch",:"jn chn tu qio",:"d d d d",:"shu gu li li",:"ho zhng y xi",:"hng de f z",:"chun wi mi tn",:"f shng d g",:"s hi wi ji",:"lio ru zh zhng",:"d yu k wi",:"ch tu l min",:"g gu nng nng",:"chung mng j jng",:"ti rn ch zh",:"n f chng gun",:"yu j b li",:"g tou ji zi",:"y b yn tin",:"y dng din er",:"sh li yn zhun",:"chn c ln dio",:"hu zhng wi lng",:"hu sho hu lio",:"gn cu l su",:"dio er lng dng",:"gung zhng b shu",:"zhng gu d gu",:"zhng du d du",:"nn sh nn fn",:"sh xu wi mng",:"fn f yu wi",:"yn cu yng ch",:"dng du x cng",:"yn xn hu lio",:"zun ni jio jin",:"qio zhung d bn",:"gi xin gng zhng",:"h nn bng zi",:"ho ch ln zu",:"h l b wi",:"d ch fng tu",:"gng chng l d",:"pio pio liang liang",:"zh zhng zh y",:"d m h y",:"l sh chng yn",:"shui xin chu fn",:"ji chng l dun",:"kun d wi hui",:"zu bng yu b",:"y xio lio zh",:"tin xi wi gng",:"hun w h shn",:"h z wi q",:"ho z wi zh",:"fng z chu yu",:"d y png tu",:"chun wi ji hu",:"ch l p wi",:"chng co ji y",:"xio ji zi q",:"sho b gng sh",:"nn fn nn sh",:"tin zhun ji w",:"sh fi fn mng",:"sh w q shu",:"pin tng pin xn",:"ling r wi ch",:"xing lng f h",:"gng hu b li",:"zhng zhng xi hui",:"y shn x gu",:"y y zhng d",:"sng hn lu p",:"sn zu d shn",:"j j y tng",:"ho sh zh t",:"gn jng l su",:"ch jing r xing",:"nio nio nu nu",:"h li wi ba",:"ho y w lo",:"d r w dng",:"d m hu yn",:"bn shng dng dng",:"yo w h li",:"xi bng xi jing",:"shu dio g tu",:"sh din wng z",:"rn sh b xng",:"q go h gu",:"l jio b gi",:"h wi yn gu",:"h wi bio l",:"hu c b b",:"gu gun zhn jing",:"g ge d d",:"d f pin pin",:"zu wi shng c",:"yun jia du tu",:"yu x k chng",:"y ln bn zho",:"pin yn zh y",:"ki hu ji sh",:"jng nin li yu",:"hn h q c",:"gu lin xin ch",:"chng nin li yu",:"b xn s qng",:"b dng rn z",:"bng d yo yun",:"zh f wi hn",:"zh me din er",:"y xng su rn",:"xi hu zhn tou",:"w d fng sh",:"wng wn wn qi",:"sh j wi rn",:"qing nin li yu",:"pi nn ji fn",:"ch zh ti rn",:"zh l wi m",:"wi r li lun",:"tin bng tin jing",:"sh jn qi yun",:"nn qing bi dio",:"k zhng zu l",:"hu j b f",:"xi wi xing tu",:"zhng yu yu x",:"b ling wi chng",:"bi bi qi qi",:"bi jn zh jing",:"q hng b sh",:"xu z sh l",:"xin d wi kui",:"t j ho hn",:"sh b jin qn",:"shn chi gu sh",:"qio qio d d",:"png p zh x",:"mi tu m wi",:"lio lio k sh",:"hng h r jing",:"h f tng yn",:"g bn qin chng",:"dn w x f",:"d rn xin sheng",:"y mn gng sh",:"sh bi l zhun",:"sh fi d sh",:"sh b ch c",:"si wng sh m",:"r b x shn",:"qi shn t hu",:"pin yn zh z",:"po m mi xi",:"nng zh b wn",:"lng lng sn sn",:"ling t ci y",:"lin zhng sn yun",:"l bng yu hui",:"b wi y shn",:"zhun bi wi x",:"y yn hun yn",:"wi wi d gun",:"wi wi b k",:"tng yn h f",:"png b wi jin",:"m c wi shn",:"ji qing di bng",:"f shng j ji",:"dn rn ch zh",:"dn sh h jing",:"chung j tng shn",:"co zhng yng fi",:"zu sh b ji",:"y j du rn",:"su hng ji sh",:"wn y zi do",:"wn b du t",:"ti bn dng dng",:"shn t f f",:"qu ch sho chun",:"m w zn zhng",:"j rn tin xing",:"hu ji sh nn",:"gng jn ti g",:"di z bo j",:"di sn l s",:"b m s tng",:"xu jin no di",:"wi fi zu ",:"rn ci nn d",:"qng fi d y",:"qi zhng yo hi",:"hu j hu lio",:"hu d wi lo",:"ho ji tn bi",:"chng g dng k",:"zi chn zi f",:"y nn chng xing",:"y m g da",:"y ln wi h",:"yng wi zhng yng",:"yn wi xn shng",:"yn b yu zhng",:"t qing b xin",:"png tu d y",:"m b xi j",:"ling ci l yng",:"jio xu xing zhng",:"hu b dng ch",:"h yo h li",:"b z wi xn",:"b j xng j",:"png ru w rn",:"zu z nn to",:"z w chu x",:"zhun hu wi f",:"yng gun sn jn",:"y d r ch",:"xi m sh l",:"wn r b zhun",:"tin do ho hun",:"shn dn l b",:"s du chng bng",:"pin zh zh z",:"nng qu w ln",:"m m w wn",:"ling l r wi",:"l l k sh",:"ku bi zi do",:"jn z ho qi",:"ho wi rn sh",:"ho shng j ji",:"g yu su ho",:"du d ling l",:"zh tin wi sh",:"y xng chun fi",:"xn kun t pn",:"wi d b z",:"tin xi wi ji",:"sh wi wi t",:"sn zi b nn",:"m hu r gun",:"l li l l",:"jin fng ji zun",:"ji cng b li",:"j gng ho y",:"j nin li yu",:"hu d wi lo",:"gng mng gi xng",:"fng wi gu ni",:"du nn xng bng",:"b p b l",:"zu d z hu",:"zu b chng x",:"zu b ku tng",:"zu ji y shang",:"zu zh yu w",:"zu y yu yu",:"zun tu m fng",:"zun tin d dng",:"zun p ch y",:"zun hu d bng",:"zun dng m fng",:"zun bng qi hu",:"z wi f yn",:"zhu f nn sh",:"zhu rn xin bin",:"zhu dio wi p",:"zhu ch nng zhng",:"chu xn yn q",:"chu xn q xu",:"chu ni xing sh",:"chu ni sh xu",:"chu ni f zhng",:"chu mi t gu",:"chu mi gu qi",:"zhung f chng gun",:"zhung yn bo xing",:"zhun chu wi x",:"zhun chn wi x",:"zhui xing lu ji",:"zhui p f l",:"zhui b tu m",:"zh chng wn dun",:"zh jin wi l",:"zh yu q kng",:"zh yu kng x",:"zh tin wi n",:"zh yun yu r",:"zh mo l l",:"zh c b sh",:"zh w b hun",:"zh ling cn du",:"zh ling x chn",:"zh r gun x",:"zh fn zo gi",:"zhu du y s",:"zhu zhng wi hun",:"chng mng j yn",:"zhng zhu tng yn",:"zhng mo cun qi",:"zhng ho zhng w",:"zhi zh su t",:"zh ch w tu",:"zh dng b y",:"zh zo wi bi",:"zh yn wi gng",:"zh sh wi xng",:"zh shn shu m",:"zh g wi w",:"zh gn xing ch",:"zh d y bn",:"zh w q c",:"zhng shn shui xi",:"zhng gun l xi",:"zhng gun n l",:"zhng gng shui w",:"zhng dn gn kn",:"zhn tu xu ti",:"zhn sng jng bi",:"zh y s l",:"sh jin wi sh",:"zh r z zh",:"zho d s wi",:"zhng j xio r",:"zhn n wng hu",:"zhn fng wng q",:"zhn jing qin q",:"zng m tu zh",:"zng shn sh rn",:"zo yo zhng shng",:"zo zhn w yo",:"zo gu sh c",:"cun sn j w",:"cun mei c ",:"cun lng h zhng",:"cun fng j d",:"zi xio zi yn",:"zi ji wn z",:"yn shn b x",:"yn sh xi jun",:"yu zhng sh gu",:"yu lu shn hng",:"y n qi ji",:"y j wi fng",:"y nn chng xing",:"y y li li",:"y zh w dng",:"y xio xun tin",:"y sh chn f",:"y sh xio xi",:"y qing zun x",:"y du qn mu",:"y chun p d",:"y yng k g",:"y zh y xing",:"y q y qi",:"y ji wi gu",:"yu ji w hun",:"yu ji w y",:"yu gu nn tu",:"yu b yu fng",:"yu gn dng jn",:"yu yn t y",:"yng zhng jio jio",:"yng sh yn shu",:"yng yng fi jn",:"yng xn yn zho",:"yng yn yn w",:"yng tin shn sh",:"yn li shu ru",:"yn zhn shn t",:"yn d shng li",:"yn shng qi m",:"yn ch dn sh",:"yn yun wi sh",:"yn sh wi w",:"y mi y w",:"y s li lu",:"y l wng qi",:"y y wi zh",:"y yn wi hu",:"y sh jin qn",:"y shu j shu",:"y sh wi y",:"y shu wi gng",:"y shng ling dn",:"y shn wi jin",:"y qun wi y",:"y l li xng",:"y hu wi f",:"y hi wi bi",:"y gu wi tin",:"y g wi jin",:"y gng xio ju",:"y f wi jio",:"y d w x",:"y sh wng li",:"y qn zi hui",:"y d ji jin",:"y tu l dng",:"y z sh shu",:"y qng chng fi",:"y shang zh hu",:"y dn sh b",:"y hun y bo",:"y gng ho lng",:"y dio w qing",:"yo ch n sh",:"yo m xio chu",:"yng jng x ru",:"ng shu shn mi",:"yng yng s s",:"yng go mi ji",:"yng fng ji y",:"yn zho sh jn",:"yn zho ho m",:"yn sh wng zhn",:"yn jn qin jn",:"yn jn m xi",:"yn ji yu g",:"yn g zho w",:"yn di zh sh",:"yn ch wi cho",:"shn zo fi shng",:"yn g wi xun",:"yn ch ho ",:"y ling wi jin",:"chn hng du sh",:"q sh hng xi",:"dng hng ch s",:"xi ch bn hng",:"r n chng hng",:"d hng d sh",:"xn hng sh m",:"xn ch xing h",:"xu zhi li li",:"xun y g sh",:"xun sh wi y",:"xun dn chng sh",:"xun hun s cn",:"xun gu x y",:"xun qun lu xi",:"xun h gun hu",:"x q yng z",:"xi rn d d",:"xi ln yng zho",:"xing j h zh",:"xing s d j",:"xng wn zi shng",:"xng wn yn w",:"xng gun qn yun",:"xng go ci li",:"xn shu xing yng",:"xn ku xing yng",:"xi sh nng qun",:"xi jin li z",:"jio dun ling chng",:"xio yn b p",:"xio yn dn y",:"xio mng sh bo",:"xu zh ju gn",:"xu ti w shng",:"xu zh wi mn",:"xu m wi l",:"xing wng fng hui",:"xiang pei yu zhu",:"xing sh yu p",:"xing sh r dng",:"xing qi xing cu",:"xing n pi f",:"xing mn yu xing",:"xin zhng ch j",:"xin w zhu bin",:"x yn b ch",:"sh q  jio",:"x mo bin f",:"x su b f",:"w ln yn zho",:"w x wi gu",:"w f hn y",:"w dun zhun hng",:"w sh li y",:"w s xing xun",:"w hu q gu",:"w hu l zh",:"w g d f",:"w z yu ch",:"w xi zh ch",:"w shng w xi",:"w nng wi y",:"w ku bo s",:"w kng b zun",:"w jin k chng",:"w jin dng xi",:"w  b wi",:"w dng wi d",:"w ling wi do",:"w qun tu zho",:"wn w chi sh",:"wi wi tu tu",:"wi r wi su",:"wi b b xi",:"wi shn zu l",:"wi shn zh ku",:"wi rn b f",:"wi qi wi j",:"wi mn f m",:"wi hu f cu",:"wi ho chng qin",:"wi gu wi y",:"wng fng xing yng",:"wng chn pio shng",:"wng zh hun tng",:"wng gng dn gun",:"wng gu d f",:"wn gun ji s",:"wn sh dng ru",:"wn ji b bo",:"wn su ki sh",:"w m shng f",:"tn yn yn l",:"tu yun dun qin",:"tu gn ji sh",:"tun fn ju j",:"tun tu j min",:"t s yn mi",:"t tu zhng no",:"t ku yn mi",:"t b w f",:"tu zhun r q",:"tu m bi n",:"tu hn no mn",:"tu kui j lin",:"tu ch tu m",:"tng z chung y",:"tng w xing zh",:"tng w xing x",:"tng gun zi bo",:"tng wn dio w",:"tng li zhng zh",:"ti sh ki hu",:"tio gun b fn",:"tio y lio chn",:"tio yo tio li",:"tio chn lio zu",:"tin b wi y",:"tin b wi gui",:"tin xi wi lng",:"tin ti l m",:"tin nin b su",:"tn nng q qi",:"tn yn wi zhng",:"tn yn wi zhng",:"sh kng j m",:"su w yng j",:"su yn ci gn",:"sng jn l xu",:"sng yn zh ji",:"s tng b dng",:"s m cun t",:"s b ni li",:"s su zh zh",:"s n f yun",:"shu wng xi d",:"shu g qi jn",:"shn fng r h",:"shn fng chu hu",:"shu zhng zhu yn",:"shung gn du ji",:"sh m r chu",:"sh m ling chi",:"sh l lu ji",:"sh hi ln hung",:"sh bi ln hung",:"sh yn hun f",:"sh p wi p",:"sh chun wi zh",:"sh qu yu jin",:"shu z chng jin",:"shu z y ch",:"shu jio gn jng",:"shu b yng xn",:"sh shu ji wn",:"sh zh y xng",:"sh sh yng w",:"sh qng shui y",:"sh dng q chng",:"sh wi zh j",:"sh yng jing lng",:"sh wi mn tin",:"sh du w y",:"sh y yu l",:"sh yng b li",:"sh sh jn gu",:"sh x zhn cng",:"sh w dng x",:"sh wi w gng",:"sh m ji nn",:"sh sh f zhng",:"sh ch kn zhng",:"sh zh wi zhung",:"sh j lng xin",:"shng jng xin zhun",:"shng jn xin xing",:"shng tu s zhui",:"shn j du rn",:"shn w gu gun",:"shn lng sh sh",:"shn wn q sh",:"shn l qin q",:"shn g wi lng",:"shn w tng j",:"shn chu xi yun",:"sh j wi gng",:"sh dun q chng",:"sh c zhu yng",:"sh xi wi xn",:"sho chng ru xng",:"shng dng xu gui",:"shng b dng gng",:"shn z wi mu",:"shn wi shu c",:"shn shn w ",:"shn ci nn sh",:"shn yn p mi",:"shn y xin k",:"shn yn chng xng",:"shn yo y wi",:"shn li chun sh",:"shn ji zo zhu",:"sh j wi sh",:"s l dn b",:"sng yn wi y",:"sng yn b x",:"sng t chu mi",:"sng h jun sh",:"sn zhn sn bi",:"sn w ling sh",:"sn rn wi zhng",:"sn ch ling cu",:"si jng fn sh",:"s xn gng sh",:"s so yng du",:"run hng xing t",:"r w gu zhng",:"r ti zh b",:"r l qi qng",:"r chng rn y",:"r shu tu sh",:"r qi r cu",:"r dng chn ti",:"ru b g bng",:"ru qng chu ti",:"rng m kung rng",:"r zhng wi sh",:"r yu shn chn",:"r xng yu xi",:"r xu yu g",:"r xng yu sh",:"rn d b j",:"rn yn j j",:"rn m gu yng",:"rn m y d",:"r o fn bng",:"jun lo yng w",:"q y yu ji",:"q yo ro gu",:"qing xng jn xing",:"qng q y qi",:"qng xin sh q",:"qng xin h c",:"qng du jing qu",:"qng chng do d",:"qng z p t",:"qng ln hi si",:"qn shu  mi",:"qn s zh ho",:"qi zh wi ji",:"qi sh do gn",:"qi l yn xn",:"qi jn de dng",:"qio z yn lng",:"qio f q zhng",:"jing zu ni sh",:"qing zh z su",:"qing s qing hu",:"qing sh z i",:"qing sh m jio",:"qing gng jng n",:"qing gu b sh",:"qing f bin h",:"qing r hu k",:"qing d y pn",:"qin xng to qng",:"qin yng dn ji",:"qin lio bi dng",:"q xi r y",:"q yn wi sh",:"ki t jn z",:"q x l q",:"q sh xin zhu",:"q wng sh ni",:"q tin kung d",:"p tin shui t",:"p xing n d",:"p jn li xi",:"p ji wi gu",:"p g wi yun",:"png pio png zhun",:"png tin j d",:"bng shng x q",:"png j j zhng",:"pn zu b sh",:"pin y zh c",:"p f wn shn",:"png lng po fng",:"fu bi kui l",:"png mi ho f",:"pn hu zh li",:"pn chn sh gu",:"n d nn li",:"nng y chu xio",:"nng gun tio xin",:"nng fn dio zh",:"nng m dn zhung",:"nin t wi xing",:"nin y sh ho",:"nin hu chu m",:"n b y ln",:"n r b z",:"nng zh wi sh",:"nng b chn gun",:"no zh wi q",:"nn jn y tu",:"nn d h t",:"nn mn ju sh",:"nn fn bi g",:"m zh n x",:"m yun xn tn",:"m tio xn zho",:"m ling y yng",:"m tu m no",:"m gn nio q",:"mu s chui chn",:"m y d y",:"m fn sh zh",:"m lng jun qi",:"m lng wn jio",:"m mn b zho",:"m b zhu bin",:"mng zhng zh dng",:"mng h zh yng",:"mng xio d yn",:"mng w g dng",:"mio ch kn sh",:"mng xu q cho",:"min l b ci",:"m yu ji y",:"m y tu sh",:"m lin hi g",:"mn shn l jng",:"mn dn h b",:"mi dn chn xng",:"mo mng ji jio",:"mo su du jng",:"mo f do sh",:"mi wn wi shng",:"mi l zun h",:"mi d hun zh",:"mn sn yun s",:"m r hu shn",:"lu p jing h",:"lu lu nn h",:"lu co wi ku",:"lu zh gu xin",:"lun fng h mng",:"shui yu ji zhng",:"shui t tng qng",:"shui shu sh rn",:"shui t gu xn",:"shui m y j",:"shui r chng zhng",:"l jn yn xu",:"lu jn gng ln",:"lng nio jin yun",:"lng nio ch y",:"lng yu q zho",:"lng xu xun hung",:"lng dio fng j",:"li ch zh tu",:"lng yun zh q",:"lng rn png f",:"lng jng cu l",:"ln d y jing",:"li shang y chung",:"li gun hu min",:"lio w j s",:"lio shn d mng",:"lio rn w wn",:"lio b k jin",:"lio b zhng jn",:"lio f cu k",:"shn sh du sh",:"ling xio l wi",:"xing sh du l",:"ling ru zh zo",:"ling r jing hi",:"ling jn mi f",:"ling j shn fn",:"lin g chu hn",:"l y wi zh",:"l lng zh hn",:"l gung b hu",:"l wi qng mo",:"l rng wi gu",:"l shng xng jio",:"l bn jio m",:"lng mi hng yn",:"li tin do d",:"li z chng b",:"li w ji shng",:"li t zh shn",:"li t j sh",:"li lun zh wi",:"li li r zh",:"li kui j s",:"l shn l shu",:"lo yun jn tin",:"lo sh xi r",:"lo sh g zi",:"lng hun f d",:"ku qng du l",:"kung r li sh",:"kung ji m fng",:"k sh shng hu",:"ku qng sh b",:"ku jio shng fng",:"ku jio chn fng",:"ku jio fng qng",:"ku gn sh jio",:"ku f zh li",:"kng f pin pin",:"k y lio zu",:"k m wi h",:"k zh tu y",:"k tu chng zh",:"kng yn wi sh",:"ki hu ji gu",:"jn bn yn ch",:"jio ti j jn",:"ju m pn zh",:"ju tu jing no",:"ju tu ju no",:"jun nio zh hun",:"jun x r zng",:"jun ji bi do",:"j m wi shn",:"j shu xing qng",:"j sh hn zhu",:"j wi mo co",:"j shn qin jing",:"j xi shn shng",:"ji yo b wng",:"ji zhun gng chng",:"ji zhng sn hn",:"jng y l qn",:"jng d xi m",:"jng q jun sh",:"jng j zi t",:"jn sh ki si",:"jn wi shng rng",:"jn tu xio chng",:"jn tu yng j",:"jn tu ch fn",:"jn tu b zh",:"jn du jn sho",:"jn nng hun sh",:"jn j z sh",:"jn gng f q",:"jn gun xin si",:"jn w b jn",:"jn ch bi hi",:"ji y y rn",:"ji rn nn d",:"ji lng x lng",:"ji f yng kung",:"ji q o qio",:"jio no shng m",:"jio shu ling fi",:"jio l ji ch",:"jio sh ln sh",:"jio r s n",:"jio fng b s",:"xing yo zhu gui",:"jing q g y",:"jing mn yu jing",:"jing du g y",:"jin hu lng h",:"jin yng du xng",:"jin b k zhng",:"xin s bo p",:"jin q y rn",:"jin s sh m",:"jin b zhng l",:"jin xin cng ch",:"jin zu b sh",:"ji gun tin xi",:"ji f zh qn",:"ji li qin jn",:"ji j rn z",:"ji do cng rng",:"ji di rn w",:"j fng lng yu",:"j xng y qng",:"j shn l yun",:"j gng ling zu",:"j shang lin y",:"j sh xing dio",:"j b k wi",:"j shn yn j",:"j bn yu y",:"j b tng jio",:"j s li ji",:"j sh li r",:"j l wi b",:"j d li gng",:"j chn mi g",:"j pi mo m",:"hu wi f xin",:"hu f xing y",:"hu jn gng ch",:"hn yng ln yng",:"hu zhu wi du",:"hu zhng wi du",:"hu gun li chng",:"hu mng p s",:"hu chun zhun du",:"hung ch do nng",:"hung gun co l",:"hung f r ch",:"hung f chu tio",:"hun zh fn b",:"hun nin zh s",:"hun nin qu lo",:"hui shang wi k",:"hu d hu wn",:"hu xio wi ji",:"hu f wi q",:"hu ch wi fng",:"hu bu lng dng",:"h xin wi chun",:"h l h zh",:"h li h q",:"h b j x",:"hu wi x d",:"hu d zi w",:"hng jin y gn",:"hng l lio f",:"hng shng j z",:"hng bu lng dng",:"hng qing yng du",:"hng n ln shng",:"hn hi nn tin",:"h f j p",:"h s gn l",:"h h hi gn",:"h yn yu s",:"h zng lin hng",:"ho ho shng shng",:"ho yng du hn",:"ho wn z y",:"ho wi sh dun",:"ho wn ju y",:"ho shng zh d",:"ho q shng y",:"ho  b tng",:"ho dn fi s",:"ho gn bo q",:"ho f b shung",:"hn sun lu p",:"hn yng j hu",:"hn h b mng",:"gu wi y shn",:"gu sh ln cu",:"gu xun j sh",:"gung wn xin sheng",:"gung lng sn ju",:"gun shn di l",:"gun j do sh",:"gu x wi mn",:"gu jin xin wn",:"gu g xing lin",:"g wn fn zho",:"g dio dn tn",:"g dio b tn",:"g y shn rn",:"gu h q rng",:"gu x hu gun",:"gu zho j y",:"gng zh bi gn",:"gng wi chn ch",:"gng shu r xing",:"gng jin su bi",:"gng b chn y",:"gng dio m f",:"gng xng gi w",:"gng p nn sh",:"gng lng mng ho",:"gng di gn b",:"gng chng di h",:"gng chng mng dun",:"g s mng yng",:"g g b n",:"g g b t",:"g shu x yng",:"go ch m m",:"go y b yn",:"gng tu z d",:"gn wi gn zu",:"gn fn su sh",:"gn ch xi li",:"gn t sh k",:"gn mng fn y",:"gn jing m y",:"gn chng zh jing",:"f zi w ch",:"f zhi z hun",:"f wi z yn",:"f sh zhng mn",:"f wi hu sh",:"f ho lu j",:"f shu l sh",:"f shu zh s",:"p zhng z ti",:"f tu zhu fn",:"fng wi ki m",:"fng m lun ",:"fng x xi sh",:"fng yng f yn",:"fng w b ji",:"fn t b r",:"fn fng p li",:"fi fi shng shng",:"fi sh b y",:"fi jing sh q",:"fng p xi ch",:"fng lng yun gun",:"fn r b jio",:"fn bn hun yun",:"fn lo wi y",:"f ln chng zhun",:"f b dng zu",:"f yn qin jn",:"f jin t f",:"f dun xn chng",:"r sh wi n",:"r n xn chng",:"r n qng ji",:" w yng shn",:" pio zhn j",:" pio zi do",:"w zu qing ji",:" y zhng shng",:"w sh j xi",:"w j xi li",:"w b q shn",:" hng du sh",:" jn kng yn",:"  shng shng",:" jn nio yn",:"du y d jio",:"du rn su ho",:"du yn shu qing",:"du wn wi f",:"du dun gu yo",:"du ci shn g",:"dn sh w mn",:"dn j hung gun",:"du n yng j",:"dun hun gu zng",:"dun jin b sh",:"d j q ch",:"du j y shng",:"d m wi sh",:"d jun t xu",:"d jn j yun",:"d yu qin qi",:"d sh d jin",:"du zhun shn hng",:"du d lin chng",:"dng jin zhng ji",:"dng y x h",:"dng zhng kun yo",:"dng mng x yng",:"dng ln x zho",:"dng ling x sh",:"dng ji x sh",:"dng ch x zhui",:"dng chng yu r",:"dng chng y sh",:"dng tu ln ln",:"di dng b j",:"di dn bn ji",:"dio xn yn zho",:"din do y chng",:"d b nng xin",:"d m sh z",:"do q f zh",:"do x pi kng",:"do zi gn g",:"do chng su lng",:"do gu wi yn",:"to zi zh j",:"to pi m zu",:"dng chi wi n",:"dng zhu ch zhng",:"dng zhu b zhu",:"dng w sh zhng",:"dn r nng m",:"tn wn tu shu",:"dn ji w y",:"dn s pio yn",:"d p b wn",:"d mng f d",:"d ch y zi",:"d mn h lu",:"t li zhng zh",:"cu hu lio yun",:"cu k d hng",:"cn j zh li",:"cu cu ch ch",:"cu zh ho qing",:"cu gng wi ru",:"cng s ji jin",:"c f b yng",:"c chng b h",:"c bi wi bn",:"chn sh pin j",:"chn sn n f",:"chu tu t y",:"chun wi xio tn",:"chun fng shn hu",:"chun hng zhu l",:"ch ch j li",:"ch zn j xin",:"ch tng yn qu",:"ch sh xio gng",:"ch go ln shn",:"ch r w jin",:"ch mn yng zh",:"ch ch y m",:"ch ch sh t",:"ch ch jn tu",:"chu shn mn hi",:"chng gun z li",:"ch y wi hu",:"ch r yun jia",:"ch dun cn chng",:"ch cn zh gng",:"chng bi x gng",:"chng bi xng fi",:"chn shu hu n",:"chng y do qng",:"chng t zi y",:"chn t ci y",:"chn ji yu w",:"chng d du gng",:"chn yn zhng j",:"chn yn b ju",:"chn k s j",:"ch qin l yn",:"ch shn fng q",:"ch zi chun zhung",:"zho shng m g",:"zho pn m sh",:"cho jn gun g",:"chng r b h",:"chng su y wi",:"chng hng b xi",:"zhng yu zn bi",:"chng shng j r",:"zhng nin sn lo",:"chng chn b lo",:"zhng o sh fi",:"chng tng l sh",:"chn x zhn n",:"ch sn cu s",:"cng ti li xi",:"cng xin di ch",:"cng zng ni j",:"cng yng jin xi",:"cn sng dn b",:"cn fng s xi",:"cn w cu zng",:"shn chn mo yu",:"ci yu gn j",:"ci b zh shui",:"ci d nn yng",:"ci b zh qin",:"b z wi y",:"b z wi j",:"b z wi f",:"b z ch sh",:"b zhu tng r",:"b zh dng dng",:"b yu li ch",:"b xing wi mu",:"b tn wi bo",:"b lio r lio",:"b k ku du",:"b hung q ch",:"b dng b zhng",:"b ch shn me",:"b ch li sh",:"b ling fn xng",:"b t yng sh",:"b w x g",:"b hn zhng rn",:"b wn yu l",:"b kng m m",:"b p chu jn",:"b f chu su",:"b zh yn wi",:"b hi yn zh",:"bng wi jing gu",:"bng qing jing yng",:"bng du jing gung",:"bng b yu jing",:"bng ji d p",:"bn bn j j",:"bio mi zh nin",:"bio l wi jin",:"bio f din j",:"bin tn l b",:"b gi b q",:"b yn mi shu",:"b w zh sh",:"p shn di h",:"p ji zhn g",:"p ji j n",:"p h hui y",:"p f yng gun",:"bi q yo gng",:"bi chung go w",:"bi chn xng gng",:"bi b zh yn",:"bi gng fi sh",:"p y l gun",:"p si lng mn",:"bo l wn xu",:"bo h png h",:"bo wn zhi gu",:"bo f ch sh",:"bo bin y du",:"bng xin zun ln",:"bi jing fng hu",:"bi shu shui w",:"bi kng qin chung",:"bi y qng xing",:"bi shu wi lng",:"bi shu xing zh",:"b wn w yn",:"b gu jun x",:"b bn s yun",:"o b k zhng",:"o gng shu y",:"n sh ch shn",:"n shn wi l",:"n lo hui sho",:"n b dng ch",:"i rn ho sh",:"i rn gun chng",:"i fng j fng",:"i shn s hi",:" ji  wng",:" dng xing wi",:"zhu wng zh bi",:"zh ln d shu",:"zh tng zho r",:"y b jng rn",:"y jn wi li",:"y r sn xng",:"xu j y ch",:"w j li shu",:"w shng w xi",:"wi y b xn",:"sh shn wi gu",:"sh q qi jing",:"qing zu ji rn",:"q chng du ni",:"ln shn l b",:"jn tin gung yu",:"jin nn ji ju",:"ji q ji b",:"hn hn  ",:"hu g b jn",:"gu p  rn",:"g m sh xin",:"f tu zhu fn",:"fng wi zh bo",:"dng tn bi jing",:"chn hn dng xng",:"ch ch wi mng",:"b wn qing zh",:"b nn ji y",:"lio w shng j",:"yu y shu y",:"d y w r",:"shu y b r",:"j y fn sn",:"sh y sh r",:"sh y jng bi",:"dng y mo r",:"dng y qu r",:"b y r zh",:"w y xng min",:"bio l b y",:"ling yu b y",:"xn ku b y",:"yn xng b y",:"zhng lng b y",:"cn c b y",:"fn fn b y",:"hu y b y",:"b y r sn",:"bi b y y",:"yn xng bo y",:"y bi xi y",:"bi chng ji y",:"png chng ji y",:"qun bi fng y",:"qn j h y",:"bi b hu y",:"bi b sh y",:"bi w sh y",:"wn b sh y",:"wn w sh y",:"h r wi y",:"h ling wi y",:"h r wi y",:"tin xi wi y",:"xing y wi y",:"jio ru hu y",:"jio r hu y",:"jio ru hu y",:"yn xng ru y",:"sh zhng ru y",:"zhng sh ru y",:"wi jng wi y",:"zhng du fi y",:"b nng zn y",:"wn y d sh",:"y b ni zhng",:"y y gun zh",:"y y dng bi",:"bi b dng y",:"sh b dng y",:"y y jng bi",:"y y fng bi",:"y y ch wn",:"y y zh wn",:"bi l tio y",:"zhng q hu y",:"y li r q",:"y l gng jio",:"y l q ch",:"y l b sh",:"zho cho zho lu",:"q y fng yng",:"y hng b xng",:"hng hng b xng"},QM=Object.keys(xx).map(r=>({zh:r,pinyin:xx[r],probability:2e-8,length:4,priority:We.Normal,dict:Symbol("dict4")})),bx={:"b r gn bn do",:"b r k sh h",:"b xng r yn zhng",:"b r sh wi k",:"h l r b wi",:"k zhng mng y h",:"mng d wi d y",:"mn y sh wi tin",:"sh hu zh g ling",:"w y x wi gu",:"xin xi shu wi qing",:"hng hng ch zhung yuan",:"y d l y hi",:"yn b jin wi jng",:"zh tng do du zi"},tR=Object.keys(bx).map(r=>({zh:r,pinyin:bx[r],probability:2e-8,length:5,priority:We.Normal,dict:Symbol("dict5")}));function vx(r,t){return r&&(r.decimal<t.decimal||r.decimal===t.decimal&&r.probability>t.probability)?r:t}function wx(r){r.probability<1e-300&&(r.probability*=1e300,r.decimal+=1)}function eR(r){return r.priority===We.Custom?-(r.length*r.length*100):r.priority===We.Surname?-(r.length*r.length*10):0}function iR(r,t){const e=[];let i=r.length-1,n=r[i];for(let s=t-1;s>=0;s--){const o=s+1>=t?{probability:1,decimal:0,patterns:[]}:e[s+1];for(;n&&n.index+n.length-1===s;){const h=n.index,l={probability:n.probability*o.probability,decimal:o.decimal+eR(n),patterns:o.patterns,concatPattern:n};wx(l),e[h]=vx(e[h],l),n=r[--i]}const a={probability:1e-13*o.probability,decimal:0,patterns:o.patterns};wx(a),e[s]=vx(e[s],a),e[s].concatPattern&&(e[s].patterns=e[s].patterns.concat(e[s].concatPattern),e[s].concatPattern=void 0,delete e[s+1])}return e[0].patterns.reverse()}function Tx(r,t){return r&&r.count<=t.count?r:t}function nR(r){return r.priority===We.Custom?-(r.length*r.length*1e5):r.priority===We.Surname?-(r.length*r.length*100):1}function rR(r,t){const e=[];let i=r.length-1,n=r[i];for(let s=t-1;s>=0;s--){const o=s+1>=t?{count:0,patterns:[]}:e[s+1];for(;n&&n.index+n.length-1===s;){const h=n.index,l={count:nR(n)+o.count,patterns:o.patterns,concatPattern:n};e[h]=Tx(e[h],l),n=r[--i]}const a={count:1+o.count,patterns:o.patterns};e[s]=Tx(e[s],a),e[s].concatPattern&&(e[s].patterns=e[s].patterns.concat(e[s].concatPattern),e[s].concatPattern=void 0,delete e[s+1])}return e[0].patterns.reverse()}function sR(r,t){return!(t.index+t.length<=r.index||t.priority>r.priority||t.priority===r.priority&&t.length>r.length)}function oR(r){const t=[];for(let e=r.length-1;e>=0;){const{index:i}=r[e];let n=e-1;for(;n>=0&&sR(r[e],r[n]);)n--;(n<0||r[n].index+r[n].length<=i)&&t.push(r[e]),e=n}return t.reverse()}var Ax;(function(r){r[r.ReverseMaxMatch=1]="ReverseMaxMatch",r[r.MaxProbability=2]="MaxProbability",r[r.MinTokenization=3]="MinTokenization"})(Ax||(Ax={}));class Ex{constructor(t,e="",i=""){this.children=new Map,this.fail=null,this.patterns=[],this.parent=t,this.prefix=e,this.key=i}}class aR{constructor(){this.dictMap=new Map,this.queues=[],this.root=new Ex(null)}build(t){this.buildTrie(t),this.buildFailPointer()}buildTrie(t){for(let e of t){const i=Er(e.zh);let n=this.root;for(let s=0;s<i.length;s++){let o=i[s];if(!n.children.has(o)){const a=new Ex(n,i.slice(0,s).join(""),o);n.children.set(o,a),this.addNodeToQueues(a)}n=n.children.get(o)}this.insertPattern(n.patterns,e),e.node=n,this.addPatternToDictMap(e)}}buildFailPointer(){let t=[],e=0;for(this.queues.forEach(i=>{t=t.concat(i)}),this.queues=[];t.length>e;){let i=t[e++],n=i.parent&&i.parent.fail,s=i.key;for(;n&&!n.children.has(s);)n=n.fail;n?i.fail=n.children.get(s):i.fail=this.root}}addPatternToDictMap(t){this.dictMap.has(t.dict)||this.dictMap.set(t.dict,new Set),this.dictMap.get(t.dict).add(t)}addNodeToQueues(t){this.queues[mi(t.prefix)]||(this.queues[mi(t.prefix)]=[]),this.queues[mi(t.prefix)].push(t)}insertPattern(t,e){for(let i=t.length-1;i>=0;i--){const n=t[i];if(e.priority===n.priority&&e.probability>=n.probability)t[i+1]=n;else if(e.priority>n.priority)t[i+1]=n;else{t[i+1]=e;return}}t[0]=e}removeDict(t){this.dictMap.has(t)&&(this.dictMap.get(t).forEach(i=>{i.node.patterns=i.node.patterns.filter(n=>n!==i)}),this.dictMap.delete(t))}match(t,e){let i=this.root,n=[];const s=Er(t);for(let o=0;o<s.length;o++){let a=s[o];for(;i!==null&&!i.children.has(a);)i=i.fail;if(i===null)i=this.root;else{i=i.children.get(a);const h=i.patterns.find(u=>e==="off"?u.priority!==We.Surname:e==="head"?u.length-1-o===0:!0);h&&n.push(Object.assign(Object.assign({},h),{index:o-h.length+1}));let l=i.fail;for(;l!==null;){const u=l.patterns.find(c=>e==="off"?c.priority!==We.Surname:e==="head"?c.length-1-o===0:!0);u&&n.push(Object.assign(Object.assign({},u),{index:o-u.length+1})),l=l.fail}}}return n}search(t,e,i=2){const n=this.match(t,e);return i===1?oR(n):i===3?rR(n,mi(t)):iR(n,mi(t))}}const hR=[...tR,...QM,...JM,...KM,...HM,...ZM],hT=new aR;hT.build(hR);const lR=new oT,uR=()=>lR,Hs=r=>{const t=Yn.get(r);return t?t.split(" ")[0]:r},cR=(r,t,e,i)=>{const n=hT.search(r,e,i);let s=0;const o=Er(r);for(let a=0;a<o.length;){const h=n[s];if(h&&a===h.index){if(h.length===1&&h.priority<=We.Normal){const c=o[a];let d="";d=mx(c,o[a-1],o[a+1]),t[a]={origin:c,result:d,isZh:d!==c,originPinyin:d},a++,s++;continue}const l=h.pinyin.split(" ");let u=0;for(let c=0;c<h.length;c++){const d=Er(h.zh);t[a+c]={origin:d[c],result:l[u]||"",isZh:!0,originPinyin:l[u]||""},u++}a+=h.length,s++}else{const l=o[a];let u="";u=mx(l,o[a-1],o[a+1]),t[a]={origin:l,result:u,isZh:u!==l,originPinyin:u},a++}}return{list:t,matches:n}},Bh=r=>r.replace(/(|||)/g,"a").replace(/(|||)/g,"o").replace(/(|||)/g,"e").replace(/(|||)/g,"i").replace(/(|||)/g,"u").replace(/(|||)/g,"").replace(/(n|||)/g,"n").replace(/(m||m|m)/g,"m").replace(/(|||)/g,""),lT=(r,t="off")=>{const e=uR();let i=Yn.get(r)?Yn.get(r).split(" "):[];if(e.get(r))i=e.get(r).split(" ");else if(t!=="off"){const n=Kf[r];n&&(i=[n].concat(i.filter(s=>s!==n)))}return i},dR=(r,t="off")=>{let e=lT(r,t);return e.length>0?e.map(i=>({origin:r,result:i,isZh:!0,originPinyin:i})):[{origin:r,result:r,isZh:!1,originPinyin:r}]},oh=(r,t)=>{const e=r.split(" "),i=[],n=[];for(let s of e)for(let o of LM)if(s.startsWith(o)){let a=s.slice(o.length);BM.indexOf(o)!==-1&&NM.indexOf(a)!==-1&&(a=qM[a]),i.push(o),n.push(a);break}return t==="standard"&&i.forEach((s,o)=>{(s==="y"||s==="w")&&(i[o]="")}),{final:n.join(" "),initial:i.join(" ")}},Ma=r=>{const{final:t}=oh(r);let e="",i="",n="";return UM.indexOf(Bh(t))!==-1?(e=t[0],i=t[1],n=t.slice(2)):(i=t[0]||"",n=t.slice(1)||""),{head:e,body:i,tail:n}},Nh=r=>{const t=/(||||||n|m|)/,e=/(||||||||)/,i=/(|||||||m|)/,n=/(|||||||m|)/,s=/(a|o|e|i|u||)/,o=/(n|m)$/,a=[];return r.split(" ").forEach(l=>{t.test(l)?a.push("1"):e.test(l)?a.push("2"):i.test(l)?a.push("3"):n.test(l)?a.push("4"):s.test(l)||o.test(l)?a.push("0"):a.push("")}),a.join(" ")},fR=(r,t)=>{const e=Bh(r).split(" "),i=Nh(t).split(" "),n=[];return e.forEach((s,o)=>{n.push(`${s}${i[o]}`)}),n.join(" ")},uT=(r,t)=>{const e=[];return r.split(" ").forEach(n=>{e.push(t?n[0]:n)}),e.join(" ")},gR=r=>typeof r!="string"?(console.error("The first param of pinyin is error: "+r+' is not assignable to type "string".'),!1):!0;function wd(r,t){return t instanceof RegExp?t.test(r):!0}const pR=(r,t)=>{let e=t.nonZh;if(e==="removed")return r.filter(i=>i.isZh||!wd(i.origin,t.nonZhScope));if(e==="consecutive"){for(let i=r.length-2;i>=0;i--){const n=r[i],s=r[i+1];!n.isZh&&!s.isZh&&wd(n.origin,t.nonZhScope)&&wd(s.origin,t.nonZhScope)&&(n.origin+=s.origin,n.result+=s.result,s.delete=!0)}return r.filter(i=>!i.delete)}else return r},Sx=(r,t)=>mi(r)===1&&t.multiple?dR(r,t.surname):!1,mR=(r,t)=>{switch(t.pattern){case"pinyin":break;case"num":r.forEach(e=>{e.result=e.isZh?Nh(e.result):""});break;case"initial":r.forEach(e=>{e.result=e.isZh?oh(e.result,t.initialPattern).initial:""});break;case"final":r.forEach(e=>{e.result=e.isZh?oh(e.result,t.initialPattern).final:""});break;case"first":r.forEach(e=>{e.result=uT(e.result,e.isZh)});break;case"finalHead":r.forEach(e=>{e.result=e.isZh?Ma(e.result).head:""});break;case"finalBody":r.forEach(e=>{e.result=e.isZh?Ma(e.result).body:""});break;case"finalTail":r.forEach(e=>{e.result=e.isZh?Ma(e.result).tail:""});break}},yR=(r,t)=>{switch(t.toneType){case"symbol":break;case"none":r.forEach(e=>{e.isZh&&(e.result=Bh(e.result))});break;case"num":{r.forEach(e=>{e.isZh&&(e.result=fR(e.result,e.originPinyin))});break}}},_R=(r,t)=>{t.v&&r.forEach(e=>{e.isZh&&(e.result=e.result.replace(//g,typeof t.v=="string"?t.v:"v"))})},xR=(r,t,e)=>{if(t.multiple&&mi(e)===1){let i="";r=r.filter(n=>{const s=n.result!==i;return i=n.result,s})}return t.type==="array"?r.map(i=>i.result):t.type==="all"?r.map(i=>{const n=i.isZh?i.result:"",{initial:s,final:o}=oh(n,t.initialPattern),{head:a,body:h,tail:l}=Ma(n);let u=[];return n!==""&&(u=[n].concat(lT(i.origin,t.surname).filter(c=>c!==n))),{origin:i.origin,pinyin:n,initial:s,final:o,first:uT(i.result,i.isZh),finalHead:a,finalBody:h,finalTail:l,num:Number(Nh(i.originPinyin)),isZh:i.isZh,polyphonic:u,inZhRange:!!Yn.get(i.origin),result:i.result}}):r.map(i=>i.result).join(t.separator)},bR=(r,t)=>(t===!1&&r.forEach(e=>{e.origin===""?e.result=e.originPinyin="y":e.origin===""&&(e.result=e.originPinyin="b")}),r),vR={pattern:"pinyin",toneType:"symbol",type:"string",multiple:!1,mode:"normal",removeNonZh:!1,nonZh:"spaced",v:!1,separator:" ",toneSandhi:!0,segmentit:2};function cT(r,t){if(t=Object.assign(Object.assign({},vR),t||{}),!gR(r))return r;if(r==="")return t.type==="array"||t.type==="all"?[]:"";t.surname===void 0&&(t.mode==="surname"?t.surname="all":t.surname="off"),t.type==="all"&&(t.pattern="pinyin"),t.pattern==="num"&&(t.toneType="none"),t.removeNonZh&&(t.nonZh="removed");let i=Array(mi(r)),{list:n}=cR(r,i,t.surname,t.segmentit);return n=bR(n,t.toneSandhi),n=pR(n,t),Sx(r,t)&&(n=Sx(r,t)),mR(n,t),yR(n,t),_R(n,t),xR(n,t,r)}const wR={precision:"first",continuous:!1,space:"ignore",lastPrecision:"start",insensitive:!0,v:!1},TR=6,AR=(r,t,e)=>{(e==null?void 0:e.precision)==="any"&&(e.lastPrecision="any"),e!=null&&e.v&&(t=t.replace(//g,"v"));const i=Object.assign(Object.assign({},wR),e||{});i.insensitive!==!1&&(r=r.toLowerCase(),t=t.toLowerCase()),i.space==="ignore"&&(t=t.replace(/\s/g,""));const n=(e==null?void 0:e.precision)==="any"?SR(r,t,i):CR(r,t,i);return IR(r,n)},ER=(r,t)=>{let e=0;for(let i=0;i<r.length;i++)r[i]===t[e]&&e++;return e},SR=(r,t,e)=>{let i=[];const n=Er(r),s=e.space==="ignore";for(let o=0;o<n.length;o++){if(s&&n[o]===" "){i.push(o);continue}if(n[o]===t[0]){t=t.slice(1),i.push(o);continue}const a=cT(n[o],{toneType:"none",multiple:!0,type:"array",v:e.v});let h=0;if(a.forEach(l=>{const u=ER(l,t);u>h&&(h=u)}),h&&(t=t.slice(h),i.push(o)),!t)break}if(t)return null;if(e.continuous){const o=i;if(i.some((h,l)=>l>0&&h!==o[l-1]+1))return null}return e.space==="ignore"&&(i=i.filter(o=>n[o]!==" ")),i.length?i:null},CR=(r,t,e)=>{const i=Er(r),n=Array(i.length+1);for(let s=0;s<n.length;s++)n[s]=Array(t.length+1),n[s][0]=[];for(let s=0;s<n[0].length;s++)n[0][s]=[];for(let s=1;s<n.length;s++){if(!e.continuous||e.space=="ignore"&&i[s-1]===" ")for(let o=1;o<=t.length;o++)n[s][o-1]=n[s-1][o-1];for(let o=1;o<=t.length;o++)if(n[s-1][o-1]){if(o!==1&&!n[s-1][o-1].length)continue;{const a=cT(i[s-1],{type:"array",toneType:"none",multiple:!0,v:e.v});if(i[s-1]===t[o-1]){const u=[...n[s-1][o-1],s-1];if((!n[s][o]||u.length>n[s][o].length)&&(n[s][o]=u),o===t.length)return n[s][o]}if(t.length-o<=TR&&a.some(c=>e.lastPrecision==="any"?c.includes(t.slice(o-1,t.length)):e.lastPrecision==="start"?c.startsWith(t.slice(o-1,t.length)):e.lastPrecision==="first"?c[0]===t.slice(o-1,t.length):e.lastPrecision==="every"?c===t.slice(o-1,t.length):!1))return[...n[s-1][o-1],s-1];const h=e.precision;if(h==="start"&&a.forEach(u=>{let c=o;const d=[...n[s-1][o-1],s-1];for(;c<=t.length&&u.startsWith(t.slice(o-1,c));)(!n[s][c]||d.length>n[s][c].length)&&(n[s][c]=d),c++}),h==="first"&&a.some(u=>u[0]===t[o-1])){const u=[...n[s-1][o-1],s-1];(!n[s][o]||u.length>n[s][o].length)&&(n[s][o]=u)}const l=a.find(u=>u===t.slice(o-1,o-1+u.length));if(l){const u=[...n[s-1][o-1],s-1],c=o-1+l.length;(!n[s][c]||u.length>n[s][c].length)&&(n[s][c]=u)}}}else continue}return null};function IR(r,t){if(!t)return null;const e=[];let i=0;const n=Er(r);let s=0;for(let o=0;o<t.length;o++){const a=t[o];for(;s<=a;)n[s].length===2&&i++,s++;const h=a+i;n[a].length===2?e.push(h-1,h):e.push(h)}return e}var Jf;(function(r){r[r.AllSegment=1]="AllSegment",r[r.AllArray=2]="AllArray",r[r.AllString=3]="AllString",r[r.PinyinSegment=4]="PinyinSegment",r[r.PinyinArray=5]="PinyinArray",r[r.PinyinString=6]="PinyinString",r[r.ZhSegment=7]="ZhSegment",r[r.ZhArray=8]="ZhArray",r[r.ZhString=9]="ZhString"})(Jf||(Jf={}));Jf.AllSegment;const Td=(r,t=[])=>{const e=new Set(t),i=r.filter(n=>!e.has(n));if(i.length!==0)return i[jt(0,i.length-1)]},Lo=new Eh("hv"),zR=(r,t)=>{const e=Ei().hour()+Ei().minute()/60;if(e<6||e>=21)return t;for(let i=0;i<r.length-1;i++){const n=r[i],s=r[i+1];if(e>=n.h&&e<s.h){const o=(e-n.h)/(s.h-n.h);return+(n.v+(s.v-n.v)*o).toFixed(2)}}return t},PR=(r,t,e)=>{if(t==="")return r;const i=[],n=MM(r),s=(o,a)=>{n.forEach(h=>{const l=h[a].toString();AR(l,o,{precision:"start"})&&(i.some(c=>c.id===h.id&&c.name===h.name)||i.push(h))})};return e.forEach(o=>s(t,o)),i};class MR extends Oo{constructor(){super({entityShadow:!1});G(this,"antialias",!0)}}const dT=new MR,wp=r=>{const t=r.getBounds(),e=window.innerWidth,i=window.innerHeight;return t.x+t.width<0||t.x>e||t.y+t.height<0||t.y>i};class RR{constructor(){this.instances=new Map}setInstance(t,e){this.instances.has(t)&&this.instances.delete(t),this.instances.set(t,e)}getInstance(t){return this.instances.get(t)}}var kR=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,jR=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample top right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample bottom right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));

    // Sample bottom left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}`,DR=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;
uniform vec4 filterClamp;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample top right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}
`;let Cx=class extends te{constructor(t=4,e=3,i=!1){super(kR,i?DR:jR),this._kernels=[],this._blur=4,this._quality=3,this.uniforms.uOffset=new Float32Array(2),this._pixelSize=new bt,this.pixelSize=1,this._clamp=i,Array.isArray(t)?this.kernels=t:(this._blur=t,this.quality=e)}apply(t,e,i,n){const s=this._pixelSize.x/e._frame.width,o=this._pixelSize.y/e._frame.height;let a;if(this._quality===1||this._blur===0)a=this._kernels[0]+.5,this.uniforms.uOffset[0]=a*s,this.uniforms.uOffset[1]=a*o,t.applyFilter(this,e,i,n);else{const h=t.getFilterTexture();let l=e,u=h,c;const d=this._quality-1;for(let f=0;f<d;f++)a=this._kernels[f]+.5,this.uniforms.uOffset[0]=a*s,this.uniforms.uOffset[1]=a*o,t.applyFilter(this,l,u,1),c=l,l=u,u=c;a=this._kernels[d]+.5,this.uniforms.uOffset[0]=a*s,this.uniforms.uOffset[1]=a*o,t.applyFilter(this,l,i,n),t.returnFilterTexture(h)}}_updatePadding(){this.padding=Math.ceil(this._kernels.reduce((t,e)=>t+e+.5,0))}_generateKernels(){const t=this._blur,e=this._quality,i=[t];if(t>0){let n=t;const s=t/e;for(let o=1;o<e;o++)n-=s,i.push(n)}this._kernels=i,this._updatePadding()}get kernels(){return this._kernels}set kernels(t){Array.isArray(t)&&t.length>0?(this._kernels=t,this._quality=t.length,this._blur=Math.max(...t)):(this._kernels=[0],this._quality=1)}get clamp(){return this._clamp}set pixelSize(t){typeof t=="number"?(this._pixelSize.x=t,this._pixelSize.y=t):Array.isArray(t)?(this._pixelSize.x=t[0],this._pixelSize.y=t[1]):t instanceof bt?(this._pixelSize.x=t.x,this._pixelSize.y=t.y):(this._pixelSize.x=1,this._pixelSize.y=1)}get pixelSize(){return this._pixelSize}get quality(){return this._quality}set quality(t){this._quality=Math.max(1,Math.round(t)),this._generateKernels()}get blur(){return this._blur}set blur(t){this._blur=t,this._generateKernels()}};var FR=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,OR=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float alpha;
uniform vec3 color;

uniform vec2 shift;
uniform vec4 inputSize;

void main(void){
    vec4 sample = texture2D(uSampler, vTextureCoord - shift * inputSize.zw);

    // Premultiply alpha
    sample.rgb = color.rgb * sample.a;

    // alpha user alpha
    sample *= alpha;

    gl_FragColor = sample;
}`,LR=Object.defineProperty,Ix=Object.getOwnPropertySymbols,BR=Object.prototype.hasOwnProperty,NR=Object.prototype.propertyIsEnumerable,zx=(r,t,e)=>t in r?LR(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,Px=(r,t)=>{for(var e in t||(t={}))BR.call(t,e)&&zx(r,e,t[e]);if(Ix)for(var e of Ix(t))NR.call(t,e)&&zx(r,e,t[e]);return r};const Qf=class extends te{constructor(r){super(),this.angle=45,this._distance=5,this._resolution=Q.FILTER_RESOLUTION;const t=r?Px(Px({},Qf.defaults),r):Qf.defaults,{kernels:e,blur:i,quality:n,pixelSize:s,resolution:o}=t;this._offset=new xi(this._updatePadding,this),this._tintFilter=new te(FR,OR),this._tintFilter.uniforms.color=new Float32Array(4),this._tintFilter.uniforms.shift=this._offset,this._tintFilter.resolution=o,this._blurFilter=e?new Cx(e):new Cx(i,n),this.pixelSize=s,this.resolution=o;const{shadowOnly:a,rotation:h,distance:l,offset:u,alpha:c,color:d}=t;this.shadowOnly=a,h!==void 0&&l!==void 0?(this.rotation=h,this.distance=l):this.offset=u,this.alpha=c,this.color=d}apply(r,t,e,i){const n=r.getFilterTexture();this._tintFilter.apply(r,t,n,1),this._blurFilter.apply(r,n,e,i),this.shadowOnly!==!0&&r.applyFilter(this,t,e,0),r.returnFilterTexture(n)}_updatePadding(){const r=Math.max(Math.abs(this._offset.x),Math.abs(this._offset.y));this.padding=r+this.blur*2}_updateShift(){this._tintFilter.uniforms.shift.set(this.distance*Math.cos(this.angle),this.distance*Math.sin(this.angle))}set offset(r){this._offset.copyFrom(r),this._updatePadding()}get offset(){return this._offset}get resolution(){return this._resolution}set resolution(r){this._resolution=r,this._tintFilter&&(this._tintFilter.resolution=r),this._blurFilter&&(this._blurFilter.resolution=r)}get distance(){return this._distance}set distance(r){mt("5.3.0","DropShadowFilter distance is deprecated, use offset"),this._distance=r,this._updatePadding(),this._updateShift()}get rotation(){return this.angle/Oa}set rotation(r){mt("5.3.0","DropShadowFilter rotation is deprecated, use offset"),this.angle=r*Oa,this._updateShift()}get alpha(){return this._tintFilter.uniforms.alpha}set alpha(r){this._tintFilter.uniforms.alpha=r}get color(){return og(this._tintFilter.uniforms.color)}set color(r){wb(r,this._tintFilter.uniforms.color)}get kernels(){return this._blurFilter.kernels}set kernels(r){this._blurFilter.kernels=r}get blur(){return this._blurFilter.blur}set blur(r){this._blurFilter.blur=r,this._updatePadding()}get quality(){return this._blurFilter.quality}set quality(r){this._blurFilter.quality=r}get pixelSize(){return this._blurFilter.pixelSize}set pixelSize(r){this._blurFilter.pixelSize=r}};let fT=Qf;fT.defaults={offset:{x:4,y:4},color:0,alpha:.5,shadowOnly:!1,kernels:null,blur:2,quality:3,pixelSize:1,resolution:Q.FILTER_RESOLUTION};const qR=(r,t)=>{const{color:e="#000",alpha:i=.25,blur:n=1,distance:s=0,offset:o={x:0,y:0}}=t||{},a=new fT({color:e,alpha:i,blur:n,distance:s,offset:o});a.resolution=window.devicePixelRatio||1,r.filters=[a]},UR=(r,t=2)=>{r=r.replace(/\s+/g,"");const e={"+":1,"-":1,"*":2,"/":2},i=a=>new Ti(a),n=a=>["+","-","*","/"].includes(a),s=a=>/[0-9.]/.test(a),o=a=>{const h=[],l=[];let u=0;for(;u<a.length;){const d=a[u];if(s(d)){let f="";for(;u<a.length&&s(a[u]);)f+=a[u],u++;h.push(i(f))}else if(d==="(")l.push(d),u++;else if(d===")"){for(;l.length>0&&l[l.length-1]!=="(";)h.push(l.pop());l.pop(),u++}else if(n(d)){for(;l.length>0&&e[l[l.length-1]]>=e[d];)h.push(l.pop());l.push(d),u++}else throw new Error(`: ${d}`)}for(;l.length>0;)h.push(l.pop());const c=[];for(let d of h)if(typeof d=="string"){const f=c.pop(),g=c.pop();switch(d){case"+":c.push(g.add(f));break;case"-":c.push(g.sub(f));break;case"*":c.push(g.mul(f));break;case"/":if(f.eq(0))throw new Error("");c.push(g.div(f));break}}else c.push(d);return c.pop()};try{const a=o(r);return Number(a.toFixed(t,Ti.ROUND_DOWN))}catch(a){throw new Error(""+a.message)}},Tp=(r,t,e=!0)=>{let i=Array.isArray(t)?jt(t[0],t[1],2):t,n=0;e&&r();const s=()=>{n+=wt.shared.deltaMS,n>=i&&(n-=i,r(),i=Array.isArray(t)?jt(t[0],t[1],2):t)};return wt.shared.add(s),()=>{wt.shared.remove(s)}},GR={},HR=1e3*60*60*24,ah=[1e3,5e3],Ap=100,tg=100*5e4,Mx={0:{body:"#6BCBFF",tail:"#4DA8FF"},1:{body:"#FF6B81",tail:"#FF4D73"}},da=[{body:"rgba(225,86,126,1)",tail:"rgba(241,152,178,1)"},{body:"rgba(55,176,166,1)",tail:"rgba(115,215,205,1)"},{body:"rgba(225,162,86,1)",tail:"rgba(240,197,138,1)"},{body:"rgba(198,99,167,1)",tail:"rgba(223,153,201,1)"},{body:"rgba(75,138,213,1)",tail:"rgba(131,185,236,1)"},{body:"rgba(61,176,126,1)",tail:"rgba(140,214,175,1)"},{body:"rgba(161,100,196,1)",tail:"rgba(198,163,220,1)"},{body:"rgba(215,162,48,1)",tail:"rgba(240,197,87,1)"},{body:"rgba(208,94,121,1)",tail:"rgba(241,164,179,1)"},{body:"rgba(172,200,65,1)",tail:"rgba(211,229,127,1)"},{body:"rgba(218,131,179,1)",tail:"rgba(240,184,211,1)"},{body:"rgba(197,106,173,1)",tail:"rgba(222,164,205,1)"},{body:"rgba(227,115,95,1)",tail:"rgba(241,179,161,1)"},{body:"rgba(214,110,165,1)",tail:"rgba(239,167,205,1)"},{body:"rgba(46,107,138,1)",tail:"rgba(74,143,172,1)"},{body:"rgba(161,84,43,1)",tail:"rgba(199,120,78,1)"},{body:"rgba(34,115,91,1)",tail:"rgba(62,154,126,1)"},{body:"rgba(53,131,123,1)",tail:"rgba(96,169,161,1)"},{body:"rgba(166,57,83,1)",tail:"rgba(201,97,119,1)"},{body:"rgba(130,157,47,1)",tail:"rgba(167,193,77,1)"},{body:"rgba(172,62,136,1)",tail:"rgba(203,104,165,1)"},{body:"rgba(179,76,55,1)",tail:"rgba(215,111,92,1)"},{body:"rgba(181,157,32,1)",tail:"rgba(216,197,66,1)"},{body:"rgba(173,112,57,1)",tail:"rgba(206,149,98,1)"},{body:"rgba(160,74,138,1)",tail:"rgba(195,112,171,1)"},{body:"rgba(54,90,136,1)",tail:"rgba(84,119,167,1)"},{body:"rgba(70,155,145,1)",tail:"rgba(111,194,184,1)"},{body:"rgba(164,55,86,1)",tail:"rgba(201,93,119,1)"}],At=1e4,Yr=100/1,WR=1,$R=10,qi={fish:2,turtle:3,surface:4,ripple:5,fishCard:7},qh=.9,VR=.25,Ln=2,Ks=.5,gT="#1a1a1a",an={BLOOD:"",SATIETY:"",SATIETY_DISTANCE:"",DESIRE:"",FISH_LIST:"",BACKPACK:"",SHOP:"",BANK:"",ASSURE:""},fa=[{body:"#88b08b",shell:"#4a6b47"},{body:"#a79d7f",shell:"#5b4e3a"},{body:"#7daaa3",shell:"#3d6a63"},{body:"#c3a579",shell:"#6b4c27"},{body:"#9da5b3",shell:"#404c5c"},{body:"#a4b073",shell:"#4d5e32"},{body:"#ac8fa3",shell:"#523a4d"},{body:"#b49060",shell:"#604020"},{body:"#7f9fa0",shell:"#325050"},{body:"#b0a383",shell:"#5e533f"},{body:"#a78a8a",shell:"#4b3a3a"},{body:"#98a988",shell:"#425a38"},{body:"#97a6b8",shell:"#3a4e64"},{body:"#bc968f",shell:"#5e3e38"},{body:"#aab371",shell:"#4b521f"},{body:"#9ba3b0",shell:"#37404d"},{body:"#c7a379",shell:"#62452d"},{body:"#b08c9e",shell:"#4e3543"},{body:"#8fa59c",shell:"#37544a"},{body:"#b1a488",shell:"#5a503c"}],Te=class Te extends xn{constructor(e){super();G(this,"_bar");G(this,"_valueText");const{label:i,emoji:n}=e,s=new It({text:n,fontSize:25});this.addChild(s),s.anchor.set(1,.5);const o=new It({text:i,fontSize:12,fontColor:"#fff"});this.addChild(o),o.resolution=Ln,o.anchor.y=1,o.x=Te.ICON_GAP;const a=new ct;this.addChild(a),a.pivot.y=-5,a.x=Te.ICON_GAP;const h=new ve(Te.BAR_WIDTH,Te.BAR_HEIGHT,"#1a1a1a");a.addChild(h),this._bar=new ve(0,Te.BAR_HEIGHT,"#fff"),a.addChild(this._bar),this._valueText=new It({text:"0/100",fontSize:12,fontColor:"#fff"}),this.addChild(this._valueText),this._valueText.alpha=Ks,this._valueText.resolution=Ln,this._valueText.anchor.set(1,1),this._valueText.x=Te.BAR_WIDTH+Te.ICON_GAP}setProgressValue(e){this._bar.clear(),this._bar.beginFill("#fff"),this._bar.drawRect(0,0,Te.BAR_WIDTH*e,Te.BAR_HEIGHT),this._bar.endFill()}setValue(e){this._valueText.text=e}};G(Te,"BAR_WIDTH",150),G(Te,"BAR_HEIGHT",5),G(Te,"ICON_GAP",10);let Zr=Te;const XR=["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],YR=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],ZR=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];class Ep{constructor(){G(this,"fishFamilyList",new Map);G(this,"fishFamilyDataList",new Map)}getFishData(t,e){const i=Qt.fishFamilyDataList.get(t);if(i)return i.get(e)}getFish(t,e){const i=Qt.fishFamilyList.get(t);if(i)return i.get(e)}createFishLastName(){return Td(XR,Array.from(this.fishFamilyDataList.keys()))}createFishFirstName(t,e){const i=e===0?YR:ZR,n=this.fishFamilyDataList.get(t);let s;return n?s=Td(i,Array.from(n.values()).map(o=>o.firstName)):s=Td(i,[]),s||""}addFish(t,e){const i=this.fishFamilyList.get(t);if(i)i.set(e.id,e);else{const n=new Map;n.set(e.id,e),this.fishFamilyList.set(t,n)}}addFishData(t,e){const i=this.fishFamilyDataList.get(t);if(i)i.set(e.id,e);else{const n=new Map;n.set(e.id,e),this.fishFamilyDataList.set(t,n)}}setPosition(t,e,i,n){const s=this.fishFamilyDataList.get(t).get(e);s.x=i,s.y=n}}G(Ep,"createIndex",0);const Qt=new Ep;class KR extends ct{constructor(){super();G(this,"_blood");G(this,"_satiety");G(this,"_satietyDistance");G(this,"_desire");const e=new Ih({rowGap:40,colGap:200,colNum:2});this.addChild(e),this._blood=new Zr({label:"",emoji:an.BLOOD}),this.addChild(this._blood),e.push(this._blood),this._satiety=new Zr({label:"",emoji:an.SATIETY}),this.addChild(this._satiety),e.push(this._satiety),this._satietyDistance=new Zr({label:"",emoji:an.SATIETY_DISTANCE}),this.addChild(this._satietyDistance),e.push(this._satietyDistance),this._desire=new Zr({label:"",emoji:an.DESIRE}),this.addChild(this._desire),e.push(this._desire),e.layout()}updateValue(e,i){const n=Qt.getFishData(e,i);this._blood.setValue(`${Math.min(100,n.blood)}/${n.tempBlood}`),this._blood.setProgressValue(Math.min(100,n.blood)/100),this._satiety.setValue(`${Math.min(100,n.satiety)}/${n.satietyLimit}`),this._satiety.setProgressValue(Math.min(100,n.satiety)/100),this._satietyDistance.setValue(`${n.satietyDistance}/${tg}`),this._satietyDistance.setProgressValue(n.satietyDistance/tg),this._desire.setValue(`${n.desire}/${n.desireLimit}`),this._desire.setProgressValue(n.desire/n.desireLimit)}}class or extends ct{constructor(e,i=""){super();G(this,"_valueText");const n=new It({text:e,fontSize:12,fontColor:"#fff"});this.addChild(n),n.resolution=Ln,this._valueText=new It({text:i,fontSize:12,fontColor:"#fff"}),this.addChild(this._valueText),this._valueText.resolution=Ln,this._valueText.alpha=Ks,this._valueText.x=n.width}setValue(e){this._valueText.text=e}}var Ra={exports:{}},JR=Ra.exports,Rx;function QR(){return Rx||(Rx=1,function(r){(function(){var t,e,i,n,s,o,a,h,l,u,c,d,f,g,p;i=Math.floor,u=Math.min,e=function(m,y){return m<y?-1:m>y?1:0},l=function(m,y,x,_,v){var b;if(x==null&&(x=0),v==null&&(v=e),x<0)throw new Error("lo must be non-negative");for(_==null&&(_=m.length);x<_;)b=i((x+_)/2),v(y,m[b])<0?_=b:x=b+1;return[].splice.apply(m,[x,x-x].concat(y)),y},o=function(m,y,x){return x==null&&(x=e),m.push(y),g(m,0,m.length-1,x)},s=function(m,y){var x,_;return y==null&&(y=e),x=m.pop(),m.length?(_=m[0],m[0]=x,p(m,0,y)):_=x,_},h=function(m,y,x){var _;return x==null&&(x=e),_=m[0],m[0]=y,p(m,0,x),_},a=function(m,y,x){var _;return x==null&&(x=e),m.length&&x(m[0],y)<0&&(_=[m[0],y],y=_[0],m[0]=_[1],p(m,0,x)),y},n=function(m,y){var x,_,v,b,E,w;for(y==null&&(y=e),b=(function(){w=[];for(var C=0,z=i(m.length/2);0<=z?C<z:C>z;0<=z?C++:C--)w.push(C);return w}).apply(this).reverse(),E=[],_=0,v=b.length;_<v;_++)x=b[_],E.push(p(m,x,y));return E},f=function(m,y,x){var _;if(x==null&&(x=e),_=m.indexOf(y),_!==-1)return g(m,0,_,x),p(m,_,x)},c=function(m,y,x){var _,v,b,E,w;if(x==null&&(x=e),v=m.slice(0,y),!v.length)return v;for(n(v,x),w=m.slice(y),b=0,E=w.length;b<E;b++)_=w[b],a(v,_,x);return v.sort(x).reverse()},d=function(m,y,x){var _,v,b,E,w,C,z,F,D;if(x==null&&(x=e),y*10<=m.length){if(b=m.slice(0,y).sort(x),!b.length)return b;for(v=b[b.length-1],z=m.slice(y),E=0,C=z.length;E<C;E++)_=z[E],x(_,v)<0&&(l(b,_,0,null,x),b.pop(),v=b[b.length-1]);return b}for(n(m,x),D=[],w=0,F=u(y,m.length);0<=F?w<F:w>F;0<=F?++w:--w)D.push(s(m,x));return D},g=function(m,y,x,_){var v,b,E;for(_==null&&(_=e),v=m[x];x>y;){if(E=x-1>>1,b=m[E],_(v,b)<0){m[x]=b,x=E;continue}break}return m[x]=v},p=function(m,y,x){var _,v,b,E,w;for(x==null&&(x=e),v=m.length,w=y,b=m[y],_=2*y+1;_<v;)E=_+1,E<v&&!(x(m[_],m[E])<0)&&(_=E),m[y]=m[_],y=_,_=2*y+1;return m[y]=b,g(m,w,y,x)},t=function(){m.push=o,m.pop=s,m.replace=h,m.pushpop=a,m.heapify=n,m.updateItem=f,m.nlargest=c,m.nsmallest=d;function m(y){this.cmp=y??e,this.nodes=[]}return m.prototype.push=function(y){return o(this.nodes,y,this.cmp)},m.prototype.pop=function(){return s(this.nodes,this.cmp)},m.prototype.peek=function(){return this.nodes[0]},m.prototype.contains=function(y){return this.nodes.indexOf(y)!==-1},m.prototype.replace=function(y){return h(this.nodes,y,this.cmp)},m.prototype.pushpop=function(y){return a(this.nodes,y,this.cmp)},m.prototype.heapify=function(){return n(this.nodes,this.cmp)},m.prototype.updateItem=function(y){return f(this.nodes,y,this.cmp)},m.prototype.clear=function(){return this.nodes=[]},m.prototype.empty=function(){return this.nodes.length===0},m.prototype.size=function(){return this.nodes.length},m.prototype.clone=function(){var y;return y=new m,y.nodes=this.nodes.slice(0),y},m.prototype.toArray=function(){return this.nodes.slice(0)},m.prototype.insert=m.prototype.push,m.prototype.top=m.prototype.peek,m.prototype.front=m.prototype.peek,m.prototype.has=m.prototype.contains,m.prototype.copy=m.prototype.clone,m}(),r!==null&&r.exports?r.exports=t:window.Heap=t}).call(JR)}(Ra)),Ra.exports}var Ad,kx;function Uh(){return kx||(kx=1,Ad=QR()),Ad}var Ed,jx;function Sp(){if(jx)return Ed;jx=1;function r(t,e,i){this.x=t,this.y=e,this.walkable=i===void 0?!0:i}return Ed=r,Ed}var Sd,Dx;function $e(){if(Dx)return Sd;Dx=1;var r={Always:1,Never:2,IfAtMostOneObstacle:3,OnlyWhenNoObstacles:4};return Sd=r,Sd}var Cd,Fx;function t2(){if(Fx)return Cd;Fx=1;var r=Sp(),t=$e();function e(i,n,s){var o;typeof i!="object"?o=i:(n=i.length,o=i[0].length,s=i),this.width=o,this.height=n,this.nodes=this._buildNodes(o,n,s)}return e.prototype._buildNodes=function(i,n,s){var o,a,h=new Array(n);for(o=0;o<n;++o)for(h[o]=new Array(i),a=0;a<i;++a)h[o][a]=new r(a,o);if(s===void 0)return h;if(s.length!==n||s[0].length!==i)throw new Error("Matrix size does not fit");for(o=0;o<n;++o)for(a=0;a<i;++a)s[o][a]&&(h[o][a].walkable=!1);return h},e.prototype.getNodeAt=function(i,n){return this.nodes[n][i]},e.prototype.isWalkableAt=function(i,n){return this.isInside(i,n)&&this.nodes[n][i].walkable},e.prototype.isInside=function(i,n){return i>=0&&i<this.width&&n>=0&&n<this.height},e.prototype.setWalkableAt=function(i,n,s){this.nodes[n][i].walkable=s},e.prototype.getNeighbors=function(i,n){var s=i.x,o=i.y,a=[],h=!1,l=!1,u=!1,c=!1,d=!1,f=!1,g=!1,p=!1,m=this.nodes;if(this.isWalkableAt(s,o-1)&&(a.push(m[o-1][s]),h=!0),this.isWalkableAt(s+1,o)&&(a.push(m[o][s+1]),u=!0),this.isWalkableAt(s,o+1)&&(a.push(m[o+1][s]),d=!0),this.isWalkableAt(s-1,o)&&(a.push(m[o][s-1]),g=!0),n===t.Never)return a;if(n===t.OnlyWhenNoObstacles)l=g&&h,c=h&&u,f=u&&d,p=d&&g;else if(n===t.IfAtMostOneObstacle)l=g||h,c=h||u,f=u||d,p=d||g;else if(n===t.Always)l=!0,c=!0,f=!0,p=!0;else throw new Error("Incorrect value of diagonalMovement");return l&&this.isWalkableAt(s-1,o-1)&&a.push(m[o-1][s-1]),c&&this.isWalkableAt(s+1,o-1)&&a.push(m[o-1][s+1]),f&&this.isWalkableAt(s+1,o+1)&&a.push(m[o+1][s+1]),p&&this.isWalkableAt(s-1,o+1)&&a.push(m[o+1][s-1]),a},e.prototype.clone=function(){var i,n,s=this.width,o=this.height,a=this.nodes,h=new e(s,o),l=new Array(o);for(i=0;i<o;++i)for(l[i]=new Array(s),n=0;n<s;++n)l[i][n]=new r(n,i,a[i][n].walkable);return h.nodes=l,h},Cd=e,Cd}var tn={},Ox;function zr(){if(Ox)return tn;Ox=1;function r(a){for(var h=[[a.x,a.y]];a.parent;)a=a.parent,h.push([a.x,a.y]);return h.reverse()}tn.backtrace=r;function t(a,h){var l=r(a),u=r(h);return l.concat(u.reverse())}tn.biBacktrace=t;function e(a){var h,l=0,u,c,d,f;for(h=1;h<a.length;++h)u=a[h-1],c=a[h],d=u[0]-c[0],f=u[1]-c[1],l+=Math.sqrt(d*d+f*f);return l}tn.pathLength=e;function i(a,h,l,u){var c=Math.abs,d=[],f,g,p,m,y,x;for(p=c(l-a),m=c(u-h),f=a<l?1:-1,g=h<u?1:-1,y=p-m;d.push([a,h]),!(a===l&&h===u);)x=2*y,x>-m&&(y=y-m,a=a+f),x<p&&(y=y+p,h=h+g);return d}tn.interpolate=i;function n(a){var h=[],l=a.length,u,c,d,f,g,p;if(l<2)return h;for(g=0;g<l-1;++g)for(u=a[g],c=a[g+1],d=i(u[0],u[1],c[0],c[1]),f=d.length,p=0;p<f-1;++p)h.push(d[p]);return h.push(a[l-1]),h}tn.expandPath=n;function s(a,h){var l=h.length,u=h[0][0],c=h[0][1],d=h[l-1][0],f=h[l-1][1],g,p,m,y,x,_,v,b,E,w,C;for(g=u,p=c,x=[[g,p]],_=2;_<l;++_){for(b=h[_],m=b[0],y=b[1],E=i(g,p,m,y),C=!1,v=1;v<E.length;++v)if(w=E[v],!a.isWalkableAt(w[0],w[1])){C=!0;break}C&&(lastValidCoord=h[_-1],x.push(lastValidCoord),g=lastValidCoord[0],p=lastValidCoord[1])}return x.push([d,f]),x}tn.smoothenPath=s;function o(a){if(a.length<3)return a;var h=[],l=a[0][0],u=a[0][1],c=a[1][0],d=a[1][1],f=c-l,g=d-u,p,m,y,x,_,v;for(_=Math.sqrt(f*f+g*g),f/=_,g/=_,h.push([l,u]),v=2;v<a.length;v++)p=c,m=d,y=f,x=g,c=a[v][0],d=a[v][1],f=c-p,g=d-m,_=Math.sqrt(f*f+g*g),f/=_,g/=_,(f!==y||g!==x)&&h.push([p,m]);return h.push([c,d]),h}return tn.compressPath=o,tn}var Id,Lx;function Bo(){return Lx||(Lx=1,Id={manhattan:function(r,t){return r+t},euclidean:function(r,t){return Math.sqrt(r*r+t*t)},octile:function(r,t){var e=Math.SQRT2-1;return r<t?e*r+t:e*t+r},chebyshev:function(r,t){return Math.max(r,t)}}),Id}var zd,Bx;function Cp(){if(Bx)return zd;Bx=1;var r=Uh(),t=zr(),e=Bo(),i=$e();function n(s){s=s||{},this.allowDiagonal=s.allowDiagonal,this.dontCrossCorners=s.dontCrossCorners,this.heuristic=s.heuristic||e.manhattan,this.weight=s.weight||1,this.diagonalMovement=s.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=i.OnlyWhenNoObstacles:this.diagonalMovement=i.IfAtMostOneObstacle:this.diagonalMovement=i.Never),this.diagonalMovement===i.Never?this.heuristic=s.heuristic||e.manhattan:this.heuristic=s.heuristic||e.octile}return n.prototype.findPath=function(s,o,a,h,l){var u=new r(function(F,D){return F.f-D.f}),c=l.getNodeAt(s,o),d=l.getNodeAt(a,h),f=this.heuristic,g=this.diagonalMovement,p=this.weight,m=Math.abs,y=Math.SQRT2,x,_,v,b,E,w,C,z;for(c.g=0,c.f=0,u.push(c),c.opened=!0;!u.empty();){if(x=u.pop(),x.closed=!0,x===d)return t.backtrace(d);for(_=l.getNeighbors(x,g),b=0,E=_.length;b<E;++b)v=_[b],!v.closed&&(w=v.x,C=v.y,z=x.g+(w-x.x===0||C-x.y===0?1:y),(!v.opened||z<v.g)&&(v.g=z,v.h=v.h||p*f(m(w-a),m(C-h)),v.f=v.g+v.h,v.parent=x,v.opened?u.updateItem(v):(u.push(v),v.opened=!0)))}return[]},zd=n,zd}var Pd,Nx;function e2(){if(Nx)return Pd;Nx=1;var r=Cp();function t(e){r.call(this,e);var i=this.heuristic;this.heuristic=function(n,s){return i(n,s)*1e6}}return t.prototype=new r,t.prototype.constructor=t,Pd=t,Pd}var Md,qx;function i2(){if(qx)return Md;qx=1;var r=zr(),t=$e();function e(i){i=i||{},this.allowDiagonal=i.allowDiagonal,this.dontCrossCorners=i.dontCrossCorners,this.diagonalMovement=i.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=t.OnlyWhenNoObstacles:this.diagonalMovement=t.IfAtMostOneObstacle:this.diagonalMovement=t.Never)}return e.prototype.findPath=function(i,n,s,o,a){var h=[],l=this.diagonalMovement,u=a.getNodeAt(i,n),c=a.getNodeAt(s,o),d,f,g,p,m;for(h.push(u),u.opened=!0;h.length;){if(g=h.shift(),g.closed=!0,g===c)return r.backtrace(c);for(d=a.getNeighbors(g,l),p=0,m=d.length;p<m;++p)f=d[p],!(f.closed||f.opened)&&(h.push(f),f.opened=!0,f.parent=g)}return[]},Md=e,Md}var Rd,Ux;function n2(){if(Ux)return Rd;Ux=1;var r=Cp();function t(e){r.call(this,e),this.heuristic=function(i,n){return 0}}return t.prototype=new r,t.prototype.constructor=t,Rd=t,Rd}var kd,Gx;function Ip(){if(Gx)return kd;Gx=1;var r=Uh(),t=zr(),e=Bo(),i=$e();function n(s){s=s||{},this.allowDiagonal=s.allowDiagonal,this.dontCrossCorners=s.dontCrossCorners,this.diagonalMovement=s.diagonalMovement,this.heuristic=s.heuristic||e.manhattan,this.weight=s.weight||1,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=i.OnlyWhenNoObstacles:this.diagonalMovement=i.IfAtMostOneObstacle:this.diagonalMovement=i.Never),this.diagonalMovement===i.Never?this.heuristic=s.heuristic||e.manhattan:this.heuristic=s.heuristic||e.octile}return n.prototype.findPath=function(s,o,a,h,l){var u=function(j,O){return j.f-O.f},c=new r(u),d=new r(u),f=l.getNodeAt(s,o),g=l.getNodeAt(a,h),p=this.heuristic,m=this.diagonalMovement,y=this.weight,x=Math.abs,_=Math.SQRT2,v,b,E,w,C,z,F,D,M=1,k=2;for(f.g=0,f.f=0,c.push(f),f.opened=M,g.g=0,g.f=0,d.push(g),g.opened=k;!c.empty()&&!d.empty();){for(v=c.pop(),v.closed=!0,b=l.getNeighbors(v,m),w=0,C=b.length;w<C;++w)if(E=b[w],!E.closed){if(E.opened===k)return t.biBacktrace(v,E);z=E.x,F=E.y,D=v.g+(z-v.x===0||F-v.y===0?1:_),(!E.opened||D<E.g)&&(E.g=D,E.h=E.h||y*p(x(z-a),x(F-h)),E.f=E.g+E.h,E.parent=v,E.opened?c.updateItem(E):(c.push(E),E.opened=M))}for(v=d.pop(),v.closed=!0,b=l.getNeighbors(v,m),w=0,C=b.length;w<C;++w)if(E=b[w],!E.closed){if(E.opened===M)return t.biBacktrace(E,v);z=E.x,F=E.y,D=v.g+(z-v.x===0||F-v.y===0?1:_),(!E.opened||D<E.g)&&(E.g=D,E.h=E.h||y*p(x(z-s),x(F-o)),E.f=E.g+E.h,E.parent=v,E.opened?d.updateItem(E):(d.push(E),E.opened=k))}}return[]},kd=n,kd}var jd,Hx;function r2(){if(Hx)return jd;Hx=1;var r=Ip();function t(e){r.call(this,e);var i=this.heuristic;this.heuristic=function(n,s){return i(n,s)*1e6}}return t.prototype=new r,t.prototype.constructor=t,jd=t,jd}var Dd,Wx;function s2(){if(Wx)return Dd;Wx=1;var r=zr(),t=$e();function e(i){i=i||{},this.allowDiagonal=i.allowDiagonal,this.dontCrossCorners=i.dontCrossCorners,this.diagonalMovement=i.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=t.OnlyWhenNoObstacles:this.diagonalMovement=t.IfAtMostOneObstacle:this.diagonalMovement=t.Never)}return e.prototype.findPath=function(i,n,s,o,a){var h=a.getNodeAt(i,n),l=a.getNodeAt(s,o),u=[],c=[],d,f,g,p=this.diagonalMovement,m=0,y=1,x,_;for(u.push(h),h.opened=!0,h.by=m,c.push(l),l.opened=!0,l.by=y;u.length&&c.length;){for(g=u.shift(),g.closed=!0,d=a.getNeighbors(g,p),x=0,_=d.length;x<_;++x)if(f=d[x],!f.closed){if(f.opened){if(f.by===y)return r.biBacktrace(g,f);continue}u.push(f),f.parent=g,f.opened=!0,f.by=m}for(g=c.shift(),g.closed=!0,d=a.getNeighbors(g,p),x=0,_=d.length;x<_;++x)if(f=d[x],!f.closed){if(f.opened){if(f.by===m)return r.biBacktrace(f,g);continue}c.push(f),f.parent=g,f.opened=!0,f.by=y}}return[]},Dd=e,Dd}var Fd,$x;function o2(){if($x)return Fd;$x=1;var r=Ip();function t(e){r.call(this,e),this.heuristic=function(i,n){return 0}}return t.prototype=new r,t.prototype.constructor=t,Fd=t,Fd}var Od,Vx;function a2(){if(Vx)return Od;Vx=1,zr();var r=Bo(),t=Sp(),e=$e();function i(n){n=n||{},this.allowDiagonal=n.allowDiagonal,this.dontCrossCorners=n.dontCrossCorners,this.diagonalMovement=n.diagonalMovement,this.heuristic=n.heuristic||r.manhattan,this.weight=n.weight||1,this.trackRecursion=n.trackRecursion||!1,this.timeLimit=n.timeLimit||1/0,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=e.OnlyWhenNoObstacles:this.diagonalMovement=e.IfAtMostOneObstacle:this.diagonalMovement=e.Never),this.diagonalMovement===e.Never?this.heuristic=n.heuristic||r.manhattan:this.heuristic=n.heuristic||r.octile}return i.prototype.findPath=function(n,s,o,a,h){var l=new Date().getTime(),u=(function(_,v){return this.heuristic(Math.abs(v.x-_.x),Math.abs(v.y-_.y))}).bind(this),c=function(_,v){return _.x===v.x||_.y===v.y?1:Math.SQRT2},d=(function(_,v,b,E,w){if(this.timeLimit>0&&new Date().getTime()-l>this.timeLimit*1e3)return 1/0;var C=v+u(_,g)*this.weight;if(C>b)return C;if(_==g)return E[w]=[_.x,_.y],_;var z,F,D,M,k=h.getNeighbors(_,this.diagonalMovement);for(D=0,z=1/0;M=k[D];++D){if(this.trackRecursion&&(M.retainCount=M.retainCount+1||1,M.tested!==!0&&(M.tested=!0)),F=d(M,v+c(_,M),b,E,w+1),F instanceof t)return E[w]=[_.x,_.y],F;this.trackRecursion&&--M.retainCount===0&&(M.tested=!1),F<z&&(z=F)}return z}).bind(this),f=h.getNodeAt(n,s),g=h.getNodeAt(o,a),p=u(f,g),m,y,x;for(m=0;;++m){if(y=[],x=d(f,0,p,y,0),x===1/0)return[];if(x instanceof t)return y;p=x}return[]},Od=i,Od}var Ld,Xx;function Gh(){if(Xx)return Ld;Xx=1;var r=Uh(),t=zr(),e=Bo();$e();function i(n){n=n||{},this.heuristic=n.heuristic||e.manhattan,this.trackJumpRecursion=n.trackJumpRecursion||!1}return i.prototype.findPath=function(n,s,o,a,h){var l=this.openList=new r(function(f,g){return f.f-g.f}),u=this.startNode=h.getNodeAt(n,s),c=this.endNode=h.getNodeAt(o,a),d;for(this.grid=h,u.g=0,u.f=0,l.push(u),u.opened=!0;!l.empty();){if(d=l.pop(),d.closed=!0,d===c)return t.expandPath(t.backtrace(c));this._identifySuccessors(d)}return[]},i.prototype._identifySuccessors=function(n){var s=this.grid,o=this.heuristic,a=this.openList,h=this.endNode.x,l=this.endNode.y,u,c,d,f,g,p=n.x,m=n.y,y,x,_,v,b,E=Math.abs;for(u=this._findNeighbors(n),f=0,g=u.length;f<g;++f)if(c=u[f],d=this._jump(c[0],c[1],p,m),d){if(y=d[0],x=d[1],b=s.getNodeAt(y,x),b.closed)continue;_=e.octile(E(y-p),E(x-m)),v=n.g+_,(!b.opened||v<b.g)&&(b.g=v,b.h=b.h||o(E(y-h),E(x-l)),b.f=b.g+b.h,b.parent=n,b.opened?a.updateItem(b):(a.push(b),b.opened=!0))}},Ld=i,Ld}var Bd,Yx;function h2(){if(Yx)return Bd;Yx=1;var r=Gh(),t=$e();function e(i){r.call(this,i)}return e.prototype=new r,e.prototype.constructor=e,e.prototype._jump=function(i,n,s,o){var a=this.grid,h=i-s,l=n-o;if(!a.isWalkableAt(i,n))return null;if(this.trackJumpRecursion===!0&&(a.getNodeAt(i,n).tested=!0),a.getNodeAt(i,n)===this.endNode)return[i,n];if(h!==0){if(a.isWalkableAt(i,n-1)&&!a.isWalkableAt(i-h,n-1)||a.isWalkableAt(i,n+1)&&!a.isWalkableAt(i-h,n+1))return[i,n]}else if(l!==0){if(a.isWalkableAt(i-1,n)&&!a.isWalkableAt(i-1,n-l)||a.isWalkableAt(i+1,n)&&!a.isWalkableAt(i+1,n-l))return[i,n];if(this._jump(i+1,n,i,n)||this._jump(i-1,n,i,n))return[i,n]}else throw new Error("Only horizontal and vertical movements are allowed");return this._jump(i+h,n+l,i,n)},e.prototype._findNeighbors=function(i){var n=i.parent,s=i.x,o=i.y,a=this.grid,h,l,u,c,d=[],f,g,p,m;if(n)h=n.x,l=n.y,u=(s-h)/Math.max(Math.abs(s-h),1),c=(o-l)/Math.max(Math.abs(o-l),1),u!==0?(a.isWalkableAt(s,o-1)&&d.push([s,o-1]),a.isWalkableAt(s,o+1)&&d.push([s,o+1]),a.isWalkableAt(s+u,o)&&d.push([s+u,o])):c!==0&&(a.isWalkableAt(s-1,o)&&d.push([s-1,o]),a.isWalkableAt(s+1,o)&&d.push([s+1,o]),a.isWalkableAt(s,o+c)&&d.push([s,o+c]));else for(f=a.getNeighbors(i,t.Never),p=0,m=f.length;p<m;++p)g=f[p],d.push([g.x,g.y]);return d},Bd=e,Bd}var Nd,Zx;function l2(){if(Zx)return Nd;Zx=1;var r=Gh(),t=$e();function e(i){r.call(this,i)}return e.prototype=new r,e.prototype.constructor=e,e.prototype._jump=function(i,n,s,o){var a=this.grid,h=i-s,l=n-o;if(!a.isWalkableAt(i,n))return null;if(this.trackJumpRecursion===!0&&(a.getNodeAt(i,n).tested=!0),a.getNodeAt(i,n)===this.endNode)return[i,n];if(h!==0&&l!==0){if(a.isWalkableAt(i-h,n+l)&&!a.isWalkableAt(i-h,n)||a.isWalkableAt(i+h,n-l)&&!a.isWalkableAt(i,n-l))return[i,n];if(this._jump(i+h,n,i,n)||this._jump(i,n+l,i,n))return[i,n]}else if(h!==0){if(a.isWalkableAt(i+h,n+1)&&!a.isWalkableAt(i,n+1)||a.isWalkableAt(i+h,n-1)&&!a.isWalkableAt(i,n-1))return[i,n]}else if(a.isWalkableAt(i+1,n+l)&&!a.isWalkableAt(i+1,n)||a.isWalkableAt(i-1,n+l)&&!a.isWalkableAt(i-1,n))return[i,n];return this._jump(i+h,n+l,i,n)},e.prototype._findNeighbors=function(i){var n=i.parent,s=i.x,o=i.y,a=this.grid,h,l,u,c,d=[],f,g,p,m;if(n)h=n.x,l=n.y,u=(s-h)/Math.max(Math.abs(s-h),1),c=(o-l)/Math.max(Math.abs(o-l),1),u!==0&&c!==0?(a.isWalkableAt(s,o+c)&&d.push([s,o+c]),a.isWalkableAt(s+u,o)&&d.push([s+u,o]),a.isWalkableAt(s+u,o+c)&&d.push([s+u,o+c]),a.isWalkableAt(s-u,o)||d.push([s-u,o+c]),a.isWalkableAt(s,o-c)||d.push([s+u,o-c])):u===0?(a.isWalkableAt(s,o+c)&&d.push([s,o+c]),a.isWalkableAt(s+1,o)||d.push([s+1,o+c]),a.isWalkableAt(s-1,o)||d.push([s-1,o+c])):(a.isWalkableAt(s+u,o)&&d.push([s+u,o]),a.isWalkableAt(s,o+1)||d.push([s+u,o+1]),a.isWalkableAt(s,o-1)||d.push([s+u,o-1]));else for(f=a.getNeighbors(i,t.Always),p=0,m=f.length;p<m;++p)g=f[p],d.push([g.x,g.y]);return d},Nd=e,Nd}var qd,Kx;function u2(){if(Kx)return qd;Kx=1;var r=Gh(),t=$e();function e(i){r.call(this,i)}return e.prototype=new r,e.prototype.constructor=e,e.prototype._jump=function(i,n,s,o){var a=this.grid,h=i-s,l=n-o;if(!a.isWalkableAt(i,n))return null;if(this.trackJumpRecursion===!0&&(a.getNodeAt(i,n).tested=!0),a.getNodeAt(i,n)===this.endNode)return[i,n];if(h!==0&&l!==0){if(this._jump(i+h,n,i,n)||this._jump(i,n+l,i,n))return[i,n]}else if(h!==0){if(a.isWalkableAt(i,n-1)&&!a.isWalkableAt(i-h,n-1)||a.isWalkableAt(i,n+1)&&!a.isWalkableAt(i-h,n+1))return[i,n]}else if(l!==0&&(a.isWalkableAt(i-1,n)&&!a.isWalkableAt(i-1,n-l)||a.isWalkableAt(i+1,n)&&!a.isWalkableAt(i+1,n-l)))return[i,n];return a.isWalkableAt(i+h,n)&&a.isWalkableAt(i,n+l)?this._jump(i+h,n+l,i,n):null},e.prototype._findNeighbors=function(i){var n=i.parent,s=i.x,o=i.y,a=this.grid,h,l,u,c,d=[],f,g,p,m;if(n)if(h=n.x,l=n.y,u=(s-h)/Math.max(Math.abs(s-h),1),c=(o-l)/Math.max(Math.abs(o-l),1),u!==0&&c!==0)a.isWalkableAt(s,o+c)&&d.push([s,o+c]),a.isWalkableAt(s+u,o)&&d.push([s+u,o]),a.isWalkableAt(s,o+c)&&a.isWalkableAt(s+u,o)&&d.push([s+u,o+c]);else{var y;if(u!==0){y=a.isWalkableAt(s+u,o);var x=a.isWalkableAt(s,o+1),_=a.isWalkableAt(s,o-1);y&&(d.push([s+u,o]),x&&d.push([s+u,o+1]),_&&d.push([s+u,o-1])),x&&d.push([s,o+1]),_&&d.push([s,o-1])}else if(c!==0){y=a.isWalkableAt(s,o+c);var v=a.isWalkableAt(s+1,o),b=a.isWalkableAt(s-1,o);y&&(d.push([s,o+c]),v&&d.push([s+1,o+c]),b&&d.push([s-1,o+c])),v&&d.push([s+1,o]),b&&d.push([s-1,o])}}else for(f=a.getNeighbors(i,t.OnlyWhenNoObstacles),p=0,m=f.length;p<m;++p)g=f[p],d.push([g.x,g.y]);return d},qd=e,qd}var Ud,Jx;function c2(){if(Jx)return Ud;Jx=1;var r=Gh(),t=$e();function e(i){r.call(this,i)}return e.prototype=new r,e.prototype.constructor=e,e.prototype._jump=function(i,n,s,o){var a=this.grid,h=i-s,l=n-o;if(!a.isWalkableAt(i,n))return null;if(this.trackJumpRecursion===!0&&(a.getNodeAt(i,n).tested=!0),a.getNodeAt(i,n)===this.endNode)return[i,n];if(h!==0&&l!==0){if(a.isWalkableAt(i-h,n+l)&&!a.isWalkableAt(i-h,n)||a.isWalkableAt(i+h,n-l)&&!a.isWalkableAt(i,n-l))return[i,n];if(this._jump(i+h,n,i,n)||this._jump(i,n+l,i,n))return[i,n]}else if(h!==0){if(a.isWalkableAt(i+h,n+1)&&!a.isWalkableAt(i,n+1)||a.isWalkableAt(i+h,n-1)&&!a.isWalkableAt(i,n-1))return[i,n]}else if(a.isWalkableAt(i+1,n+l)&&!a.isWalkableAt(i+1,n)||a.isWalkableAt(i-1,n+l)&&!a.isWalkableAt(i-1,n))return[i,n];return a.isWalkableAt(i+h,n)||a.isWalkableAt(i,n+l)?this._jump(i+h,n+l,i,n):null},e.prototype._findNeighbors=function(i){var n=i.parent,s=i.x,o=i.y,a=this.grid,h,l,u,c,d=[],f,g,p,m;if(n)h=n.x,l=n.y,u=(s-h)/Math.max(Math.abs(s-h),1),c=(o-l)/Math.max(Math.abs(o-l),1),u!==0&&c!==0?(a.isWalkableAt(s,o+c)&&d.push([s,o+c]),a.isWalkableAt(s+u,o)&&d.push([s+u,o]),(a.isWalkableAt(s,o+c)||a.isWalkableAt(s+u,o))&&d.push([s+u,o+c]),!a.isWalkableAt(s-u,o)&&a.isWalkableAt(s,o+c)&&d.push([s-u,o+c]),!a.isWalkableAt(s,o-c)&&a.isWalkableAt(s+u,o)&&d.push([s+u,o-c])):u===0?a.isWalkableAt(s,o+c)&&(d.push([s,o+c]),a.isWalkableAt(s+1,o)||d.push([s+1,o+c]),a.isWalkableAt(s-1,o)||d.push([s-1,o+c])):a.isWalkableAt(s+u,o)&&(d.push([s+u,o]),a.isWalkableAt(s,o+1)||d.push([s+u,o+1]),a.isWalkableAt(s,o-1)||d.push([s+u,o-1]));else for(f=a.getNeighbors(i,t.IfAtMostOneObstacle),p=0,m=f.length;p<m;++p)g=f[p],d.push([g.x,g.y]);return d},Ud=e,Ud}var Gd,Qx;function d2(){if(Qx)return Gd;Qx=1;var r=$e(),t=h2(),e=l2(),i=u2(),n=c2();function s(o){return o=o||{},o.diagonalMovement===r.Never?new t(o):o.diagonalMovement===r.Always?new e(o):o.diagonalMovement===r.OnlyWhenNoObstacles?new i(o):new n(o)}return Gd=s,Gd}var Hd,tb;function f2(){return tb||(tb=1,Hd={Heap:Uh(),Node:Sp(),Grid:t2(),Util:zr(),DiagonalMovement:$e(),Heuristic:Bo(),AStarFinder:Cp(),BestFirstFinder:e2(),BreadthFirstFinder:i2(),DijkstraFinder:n2(),BiAStarFinder:Ip(),BiBestFirstFinder:r2(),BiBreadthFirstFinder:s2(),BiDijkstraFinder:o2(),IDAStarFinder:a2(),JumpPointFinder:d2()}),Hd}var Wd,eb;function g2(){return eb||(eb=1,Wd=f2()),Wd}var pT=g2();const ib=Ao(pT);class p2{constructor(){G(this,"GRID_SIZE",1e3);G(this,"_obstacleList",new Map);G(this,"x",0);G(this,"y",0);G(this,"coordX",0);G(this,"coordY",0);G(this,"grid");G(this,"finder");G(this,"entities",[])}setPosition(t,e){this.x=t,this.y=e}setCoord(t,e){this.coordX=t,this.coordY=e}setGrid(t){this.grid=t}setFinder(t){this.finder=t}getRandomWalkableGrid(t){const{x:i,y:n}=wo(t.x,t.y),s=this.getNearbyGrids(i,n,10);if(s.length===0)return;const o=jt(0,s.length-1),{x:a,y:h}=s[o],l=(a+.5)*ni.CELL_SIZE,u=(h+.5)*ni.CELL_SIZE;return{x:l,y:u}}getNearbyGrids(t,e,i){const n=[];for(let s=0;s<i*2;s++)for(let o=0;o<i*2;o++){const a=t-i+s,h=e-i+o;a>=0&&a<=this.grid.width&&h>=0&&h<=this.grid.height&&this.grid.isWalkableAt(a,h)&&n.push({x:a,y:h})}return n}getRandomFreeGrid(){const t=[];for(let s=0;s<this.grid.width;s++)for(let o=0;o<this.grid.height;o++)this.grid.isWalkableAt(s,o)&&t.push({x:s,y:o});const e=jt(0,t.length-1),{x:i,y:n}=t[e];return{x:(i+.5)*ni.CELL_SIZE,y:(n+.5)*ni.CELL_SIZE}}addObstacle(t,e,i){this.grid.setWalkableAt(t,e,!1),this.entities.push(i);const{x:n,y:s}=i,o=this.getKey(n,s);this._obstacleList.has(o)||this._obstacleList.set(o,[]),this._obstacleList.get(o).push({gridX:t,gridY:e,obstacle:i})}update(t,e,i){const n=this.getKey(e,i),s=this.getKey(t.x,t.y);if(n===s)return;const o=this._obstacleList.get(n);if(o){const l=o.findIndex(u=>u.obstacle===t);l>=0&&o.splice(l,1)}this._obstacleList.has(s)||this._obstacleList.set(s,[]);const{x:a,y:h}=wo(t.x,t.y);this._obstacleList.get(s).push({gridX:a,gridY:h,obstacle:t})}queryNearby(t,e){const i=Math.floor(t/this.GRID_SIZE),n=Math.floor(e/this.GRID_SIZE),s=[];for(let o=-1;o<=1;o++)for(let a=-1;a<=1;a++){const h=`${i+a}_${n+o}`,l=this._obstacleList.get(h);l&&s.push(...l)}return s}getKey(t,e){return`${Math.floor(t/this.GRID_SIZE)}_${Math.floor(e/this.GRID_SIZE)}`}}const fi=new p2;var gn=(r=>(r.TIP="TIP",r.SHOW_FISH_INFO="SHOW_FISH_INFO",r.PRODUCE_FISH_FRY="PRODUCE_FISH_FRY",r.DEFECATION="DEFECATION",r.SHOW_FISH_INFO_CARD="SHOW_FISH_INFO_CARD",r.CREATE_OBSTACLE="CREATE_OBSTACLE",r))(gn||{});const Gn=RM();class m2 extends Oo{constructor(){super({entityCardId:"",entityCardLastName:""})}}const hn=new m2,Pr=new RR;Gn.on(gn.TIP,r=>{Pr.getInstance("TIP").tip(r)});Gn.on(gn.SHOW_FISH_INFO_CARD,r=>{Pr.getInstance("FISH_INFO_CARD").setVisible(r)});Gn.on(gn.SHOW_FISH_INFO,(r,t)=>{t===hn.getValue("entityCardId")?(Gn.emit(gn.SHOW_FISH_INFO_CARD,!1),hn.setValue("entityCardLastName",""),hn.setValue("entityCardId","")):(Gn.emit(gn.SHOW_FISH_INFO_CARD,!0),hn.setValue("entityCardLastName",r),hn.setValue("entityCardId",t))});Gn.on(gn.CREATE_OBSTACLE,(r,t)=>{Pr.getInstance("FIND_WAY_MAP").createObstacle(r,t)});const ne=class ne extends ct{constructor(){super();G(this,"_gridSize",1);G(this,"_pathGraphics",new Xt);Pr.setInstance("FIND_WAY_MAP",this),fi.setFinder(new ib.AStarFinder({heuristic:pT.Heuristic.manhattan,allowDiagonal:!0,dontCrossCorners:!0})),this._gridSize=fs(At,ne.CELL_SIZE,"/"),fi.setGrid(new ib.Grid(this._gridSize,this._gridSize)),this._drawGridBackground();for(let e=1;e<this._gridSize;e+=jt(1,3))for(let i=1;i<this._gridSize;i+=jt(1,3))this.createObstacle(e*ne.CELL_SIZE,i*ne.CELL_SIZE)}createObstacle(e,i){const n=new Xt;n.beginFill("#000"),n.drawRect(0,0,ne.CELL_SIZE,ne.CELL_SIZE),n.endFill();const{x:s,y:o}=wo(e,i);n.position.set(s*ne.CELL_SIZE,o*ne.CELL_SIZE),fi.addObstacle(s,o,n),this.addChild(n)}_drawGridBackground(){const e=new Xt;e.lineStyle(1,"#fff");for(let i=0;i<this._gridSize;i++)e.moveTo(i*ne.CELL_SIZE,0),e.lineTo(i*ne.CELL_SIZE,this._gridSize*ne.CELL_SIZE);for(let i=0;i<this._gridSize;i++)e.moveTo(0,i*ne.CELL_SIZE),e.lineTo(this._gridSize*ne.CELL_SIZE,i*ne.CELL_SIZE);this.addChild(e)}static getGridCoordToMapPos(e,i){const n=(e+.5)*ne.CELL_SIZE,s=(i+.5)*ne.CELL_SIZE;return{x:n,y:s}}static calculatePath(e,i){const n=fi.grid.getNodeAt(e.x,e.y),s=fi.grid.getNodeAt(i.x,i.y);return fi.finder.findPath(n.x,n.y,s.x,s.y,fi.grid.clone())}};G(ne,"CELL_SIZE",100);let ni=ne;const y2=async r=>{await new Promise(t=>{be.loadBundle("mainManifest",async e=>{e===1&&t()})})},_2=r=>UR(`(${Ei().valueOf()}-${r})/${HR}`,1),$d=r=>r>=1e5?`${fs(r,Yr*1e3,"/")}`:r>=100?`${fs(r,Yr,"/")}`:`${r}`,wo=(r,t)=>{const e=Math.floor(r/ni.CELL_SIZE),i=Math.floor(t/ni.CELL_SIZE);return{x:e,y:i}},x2=(r,t)=>{const e=r.getBounds(),i=t.getBounds(),n=e.x+e.width>i.x,s=e.x<i.x+i.width,o=e.y+e.height>i.y,a=e.y<i.y+i.height;if(!(n&&s&&o&&a))return;const h=Math.min(e.x+e.width-i.x,i.x+i.width-e.x),l=Math.min(e.y+e.height-i.y,i.y+i.height-e.y);h<l?e.x<i.x?r.x-=h:r.x+=h:e.y<i.y?r.y-=l:r.y+=l},zp=r=>r*(wt.shared.deltaMS/1e3),mT=()=>wt.shared.deltaMS/16.6667;class b2 extends ct{constructor(){super();G(this,"_lengthText");G(this,"_widthText");G(this,"_weightText");G(this,"_feedCountText");G(this,"_mateCountText");G(this,"_distanceText");G(this,"_speedText");const e=new Ih({rowGap:20,colGap:135,colNum:3});this.addChild(e),this._lengthText=new or(""),e.push(this._lengthText),this._widthText=new or(""),e.push(this._widthText),this._weightText=new or(""),e.push(this._weightText),this._feedCountText=new or(""),e.push(this._feedCountText),this._mateCountText=new or(""),e.push(this._mateCountText),this._distanceText=new or(""),e.push(this._distanceText),this._speedText=new or(""),e.push(this._speedText),e.layout()}updateValue(e,i){const n=Qt.getFishData(e,i);this._lengthText.setValue(`${$d(n.long)}`),this._widthText.setValue(`${$d(n.width)}`),this._weightText.setValue(`${fs(n.weight,1e3,"/")}`),this._feedCountText.setValue(`${n.feedCount}`),this._mateCountText.setValue(`${n.mateCount}`),this._distanceText.setValue(`${$d(n.distance)}`),this._speedText.setValue(`${n.tempSpeed}/`)}}class v2 extends ct{constructor(){super();G(this,"_tickerUpdate",new wt);Pr.setInstance("FISH_INFO_CARD",this);const e=new ct;this.addChild(e),e.y=-45,e.eventMode="static";const i=new _s(420,300,10,"rgba(0, 0, 0, 0.75)");e.addChild(i),i.alpha=qh;const n=new It({text:"",fontSize:25,fontColor:"#fff"});e.addChild(n),n.position.set(15,15),n.resolution=Ln;const s=new It({text:"",fontSize:12,fontColor:"#fff"});e.addChild(s),s.alpha=Ks,s.resolution=Ln;const o=new It({text:"",fontSize:12,fontColor:"#fff"});e.addChild(o),o.alpha=Ks,o.resolution=Ln;const a=new It({text:"",fontSize:12,fontColor:"#fff"});e.addChild(a),a.anchor.x=1,a.position.set(400,20),a.alpha=Ks,a.resolution=Ln;const h=new b2;e.addChild(h),h.position.set(20,60),Pa(h,385);const l=new KR;e.addChild(l),l.position.set(12,h.y+h.height+35),e.pivot.set(e.width/2,e.height),this._tickerUpdate=new wt,this._tickerUpdate.start(),this._tickerUpdate.add(()=>{const u=hn.getValue("entityCardId");if(!u)return;const c=hn.getValue("entityCardLastName"),{x:d,y:f,firstName:g,birthTime:p,gender:m}=Qt.getFishData(c,u);n.text=`${c}${g}`,a.text=`ID: ${u}`,o.text=`${_2(p)}`,s.text=`${m===0?"":""}`,s.position.set(n.x+n.width+5,15),o.position.set(n.x+n.width+5,s.y+s.height),h.updateValue(c,u),l.updateValue(c,u);const y=Math.min(Math.max(d,e.width/2),At-e.width/2),x=Math.min(Math.max(f,e.height),At);V.killTweensOf(this),V.to(this,{x:y,y:x,duration:.1,ease:"power1.out"})})}setVisible(e){this.visible=e}}class w2 extends Oo{constructor(){super({waterAlpha:.75,hour:Ei().hour()}),Tp(()=>{this.setValue("hour",Ei().hour()),this.updateFake("hour"),this.setValue("waterAlpha",zR([{h:6,v:.1},{h:6,v:.25},{h:9,v:.75},{h:12,v:1},{h:15,v:.75},{h:18,v:.5},{h:20,v:.25},{h:21,v:.1}],.1))},1e3*60)}}const Pp=new w2;class T2 extends Oo{constructor(){super({isFeeding:!1,isSelectLocking:!0,isFishClickCreating:!1,isPauseFollowing:!1,isPlacingObstacle:!1,isFollowPlayerFish:!1})}}const pi=new T2;class A2 extends Oo{constructor(){super({entity:void 0})}}const yT=new A2;let E2=class _T extends Ch{constructor(e){super(At,At);G(this,"_params");G(this,"_startX",0);G(this,"_startY",0);G(this,"_velocityX",0);G(this,"_velocityY",0);G(this,"_startTime",0);G(this,"_startPositionX",0);G(this,"_startPositionY",0);G(this,"_isDragging",!1);G(this,"_isInertiaMoving",!1);G(this,"_findWayMap");const i=new ve(At,At,"#fff");this.addChild(i),this.mask=i,this._params=e,this.sortableChildren=!0,this.scale.set(WR),this.pivot.set(At/2,At/2);const n=new fn(be.get("preload/img/water"),At,At);this.addChild(n),n.tileScale.set(.25);const s=new fn(be.get("preload/img/surface"),At,At);this.addChild(s),s.zIndex=qi.surface,s.eventMode="none";const o=new fn(be.get("preload/img/ripple"),At,At);this.addChild(o),o.zIndex=qi.ripple,o.eventMode="none",this._findWayMap=new ni,this.addChild(this._findWayMap);const a=new v2;this.addChild(a),a.zIndex=qi.fishCard,this._setPositionCenter(At/2,At/2),this._initMapEvent(),Vi.add("MapUI",()=>{s.tilePosition.x+=.15,s.tilePosition.y+=.15,o.tilePosition.x+=.1,o.tilePosition.y+=.1}),Tp(()=>{this._mapFollowEntityMove()},10),Pp.onValue("waterAlpha",h=>{n.alpha=h,o.alpha=h,s.alpha=h*.5})}static getMapSafePosition(e,i,n){const s=e,o=At-e,a=Math.max(s,Math.min(i,o)),h=Math.max(s,Math.min(n,o));return{newX:a,newY:h}}static posToCoord(e,i,n=0,s=0){const o=Math.round(e-At/2+n/2),a=Math.round(At/2-i-s/2);return{x:o,y:a}}_initMapEvent(){Lt(this,"pointerdown",e=>{pi.setValue("isPauseFollowing",!0),this._onDragStart(e),this.cursor="move"}),Lt(xs.gameStage,"pointermove",this._onDragMove.bind(this)),Lt(this,"pointerup",this._onClick.bind(this),{preventDragClick:!0}),Lt(this,"pointerup",()=>{this._onDragEnd(),this.cursor="pointer",pi.setValue("isPauseFollowing",!1)}),Lt(this,"pointerupoutside",this._onDragEnd.bind(this)),this.on("wheel",this._onWheel.bind(this)),Lo.on(()=>{this._limitScrollRange(!0)})}_mapFollowEntityMove(){if(pi.getValue("isPauseFollowing"))return;const e=hn.getValue("entityCardId"),i=hn.getValue("entityCardLastName");let n;if(e?n=Qt.getFish(i,e):pi.getValue("isFollowPlayerFish")&&(n=yT.getValue("entity")),!n)return;const s=this.scale.x,o=window.innerWidth/2,a=window.innerHeight/2,h=o-n.x*s+this._getMapRealSize()/2,l=a-n.y*s+this._getMapRealSize()/2,{x:u,y:c}=this._limitScrollRange(!1,h,l);V.killTweensOf(this),V.to(this,{x:u,y:c,duration:.1,ease:"power1.out"}),this._isInertiaMoving=!1}_setPositionCenter(e,i){this.x=this._mapPosToScreenCenterPos("x",e),this.y=this._mapPosToScreenCenterPos("y",i)}_onWheel(e){var c,d;if(this._isDragging||this._isInertiaMoving)return;const i=1.1,n=e.deltaY>0?1/i:i,s=this.scale.x,o=Math.min(window.innerWidth/At,window.innerHeight/At),a=Math.max(o,Math.min(s*n,$R)),h=new bt(e.clientX,e.clientY),l=this.toLocal(h);this.scale.set(a);const u=this.toLocal(h);this.x+=(u.x-l.x)*a,this.y+=(u.y-l.y)*a,(d=(c=this._params).onZoom)==null||d.call(c,a),this._limitScrollRange(!0)}_onClick(e){var u,c;const i=this.scale.x,{x:n,y:s}=e.page,o=n-this.x+At/2*i,a=s-this.y+At/2*i,{x:h,y:l}=_T.posToCoord(o,a);(c=(u=this._params).onClick)==null||c.call(u,{coordX:h,coordY:l,x:o/i,y:a/i})}_onDragStart(e){const{x:i,y:n}=e.global;this._startX=i-this.x,this._startY=n-this.y,this._isDragging=!0,this._velocityX=0,this._velocityY=0,this._startTime=Date.now(),this._startPositionX=this.x,this._startPositionY=this.y,V.killTweensOf(this)}_onDragMove(e){if(this._isDragging){const{x:i,y:n}=e.global,s=i-this._startX,o=n-this._startY;this.position.set(s,o),this._limitScrollRange(!0)}}_onDragEnd(){this._isDragging=!1;const i=Date.now()-this._startTime;i<250?(this._isInertiaMoving=!0,this._velocityX=(this.x-this._startPositionX)/i,this._velocityY=(this.y-this._startPositionY)/i,this._applyInertia()):(this._velocityX=0,this._velocityY=0,this._isInertiaMoving=!1)}_applyInertia(){V.to(this,{x:this.x+this._velocityX*250,y:this.y+this._velocityY*250,duration:.5,ease:"power1.out",onUpdate:()=>{this._limitScrollRange(!0)},onComplete:()=>{this._isInertiaMoving=!1}})}_limitScrollRange(e,i,n){let s=i;s??(s=this.x);let o=n;o??(o=this.y);let a=s,h=o;const l=this._getMapRealSize();return s>this._virtualToMapPos(0,"x")&&(a=this._virtualToMapPos(0,"x")),s<this._virtualToMapPos(At+window.innerWidth,"x")&&(a=this._virtualToMapPos(At+window.innerWidth,"x")),o>this._virtualToMapPos(0,"y")&&(h=this._virtualToMapPos(0,"y")),o<this._virtualToMapPos(At+window.innerHeight,"y")&&(h=this._virtualToMapPos(At+window.innerHeight,"y")),window.innerWidth>=l&&(a=window.innerWidth/2),window.innerHeight>=l&&(h=window.innerHeight/2),e&&this.position.set(a,h),{x:a,y:h}}_getMapRealSize(){const e=this.scale.x;return At*e}_mapPosToScreenCenterPos(e,i){const n=e==="x"?window.innerWidth:window.innerHeight;return At/2*this.scale.x-i+n/2}_virtualToMapPos(e,i){const n={x:window.innerWidth,y:window.innerHeight},s=this.scale.x,o=Math.min(At-n[i]/s,e);return(At/2-o)*s}};class S2 extends ct{constructor(){super(),this.eventMode="none";const t=new It({text:"@",fontSize:24});this.addChild(t),t.alpha=.5,Lo.on((e,i)=>{t.x=e-t.width,t.y=i-t.height})}}class C2 extends xn{constructor(t,e){super();const{bodyColor:i,tailColor:n}=Qt.getFishData(t,e).style;this.zIndex=qi.fish,this.sortableChildren=!0;const s=new Xt;s.beginFill(i),s.drawEllipse(0,0,10,5),s.endFill(),this.addChild(s),s.zIndex=2;const o=new Ni([[5,-4],[3,3]],n);this.addChild(o),o.position.set(-6,-3);const a=new Ni([[5,4],[3,-3]],n);this.addChild(a),a.position.set(-6,3);const h=new Xi(1,"rgba(0,0,0,0.5)");this.addChild(h),h.position.set(-6,2),h.zIndex=3;const l=new Xi(1,"rgba(0,0,0,0.5)");this.addChild(l),l.position.set(-6,-2),l.zIndex=3;const u=new Ni([[10,-5],[10,5]],n);this.addChild(u),u.zIndex=1,u.x=10,u.pivot.x=5,this.pivot.x=u.width/3.5}}class I2 extends xn{constructor(e,i){super();G(this,"_bg");G(this,"id");this.id=i,this._bg=new _s(250,75,5,"#fff"),this.addChild(this._bg),this._bg.alpha=.1;const n=new C2(e,i);this.addChild(n),n.position.set(50,37.5),n.scale.set(3);const s=Qt.getFishData(e,i),o=new It({text:`${s.lastName}${s.firstName}`,fontSize:25,fontColor:"#fff"});this.addChild(o),o.anchor.y=.5,o.position.set(110,37.5)}}class z2 extends $f{constructor(e){super({onClickMask:async()=>{await this.close(),e()}});G(this,"_scrollContent",new ct);G(this,"_gridLayout");G(this,"_fishDataList",[]);G(this,"_searchFishDataList",[]);G(this,"_fishCardUIList",[]);G(this,"_searchValue","");for(const h of Qt.fishFamilyDataList.values())this._fishDataList=[...this._fishDataList,...h.values()];const i=new ct,n=new _s(1280,720,20,gT);i.addChild(n),n.alpha=qh;const s=new It({text:"",fontSize:50,fontColor:"#fff"});i.addChild(s),s.anchor.set(.5),s.position.set(640,75);const o=new Rh({width:350,height:50,placeholder:"",align:"center",fontSizeRatio:.5,bgColor:"#000",onValue:h=>{this._searchValue=h,this.updateFishList()}});i.addChild(o),o.position.set(880,130),o.cursor="text",this._gridLayout=new Ih({rowGap:100,colGap:310,colNum:4}),this._scrollContent.addChild(this._gridLayout),this.updateFishList();const a=new vo({width:1180,height:475,scrollContent:this._scrollContent,scrollbar:!0,scrollbarRgiht:0,scrollbarWidth:5});i.addChild(a),a.position.set(50,215),this.setDialogContent(i)}updateFishList(){for(const e of Qt.fishFamilyDataList.values())for(const i of e.values());this._searchFishDataList=PR(this._fishDataList,this._searchValue,["name"]),this._gridLayout.destroyList(),this._searchFishDataList.forEach(e=>{const i=new I2(e.lastName,e.id);this._gridLayout.push(i)}),this._gridLayout.layout()}}class P2 extends ct{constructor(e){super();G(this,"_bg");G(this,"_desc");G(this,"_isSelected",!1);const{index:i,label:n,emoji:s,onClick:o}=e;this._bg=new _s(70,70,10,"#fff"),this.addChild(this._bg),this._bg.pivot.set(this._bg.width/2,this._bg.height/2),this._bg.scale.set(0),this._bg.alpha=.25;const a=new It({text:s,fontSize:50});this.addChild(a),a.anchor.set(.5),this._desc=new It({text:n,fontSize:20,stroke:"#000"}),this.addChild(this._desc),this._desc.anchor.set(.5),this._desc.y=-55,this._desc.visible=!1,Lt(this,"pointerenter",()=>{this._desc.visible=!0,V.to(this._bg.scale,{x:1,y:1,duration:.25,ease:"back.out"})}),Lt(this,"pointerleave",()=>{this._desc.visible=!1,V.to(this._bg.scale,{x:0,y:0,duration:.25,ease:"none"})}),Lt(this,"pointertap",()=>{o(i)})}}const Br={FISH_LIST:"FISH_LIST",BACKPACK:"BACKPACK",SHOP:"SHOP",BANK:"BANK",ASSURE:"ASSURE"};class M2 extends ct{constructor(){super();G(this,"TAB_LIST",[{id:Br.FISH_LIST,label:"",emoji:an.FISH_LIST},{id:Br.BACKPACK,label:"",emoji:an.BACKPACK},{id:Br.SHOP,label:"",emoji:an.SHOP},{id:Br.BANK,label:"",emoji:an.BANK},{id:Br.ASSURE,label:"",emoji:an.ASSURE}]);G(this,"_tabItemList",new Map);this.eventMode="static";const e=new Mw(this.TAB_LIST.length*110,100,gT);this.addChild(e),e.alpha=qh,this.pivot.set(e.width/2,e.height);const i=new Ih({colNum:this.TAB_LIST.length,colGap:100,anchorX:.5,anchorY:.5});this.addChild(i),i.position.set(275,50),this.TAB_LIST.forEach((n,s)=>{const o=new P2({...n,index:s,onClick:async()=>{n.id===Br.FISH_LIST&&rb.open(z2,"FishListDialog",()=>{rb.close("FishListDialog")})}});i.push(o),this._tabItemList.set(n.id,o)}),i.layout()}}class R2 extends ct{constructor(){super();G(this,"_radius",100);G(this,"_getHourHandRadian",e=>{const i=Ei(),n=e%12,s=i.minute();return-((n+s/60)/12)*Math.PI*2});const e=new ct;this.addChild(e);const i=new Qi({start:-Math.PI,end:0,radius:this._radius,color:"#fff",strokeColor:"#fff",thickness:2});e.addChild(i),e.mask=i,i.y=1;const n=new ct;e.addChild(n);const s={radius:this._radius,color:"#0BA3AE",strokeColor:"#fff",thickness:2},o=new Qi({start:Math.PI/2,end:Math.PI,...s});n.addChild(o),o.filters=[En("brightness",.5)];const a=new Qi({start:Math.PI,end:Math.PI+Math.PI/2,radius:this._radius,color:"#0BA3AE",strokeColor:"#fff",thickness:2});n.addChild(a),a.filters=[En("brightness",.75)];const h=new Qi({start:-Math.PI/2,end:0,...s});n.addChild(h);const l=new Qi({start:0,end:Math.PI/2,...s});n.addChild(l),l.filters=[En("brightness",.75)];const u=new Qi({start:Math.PI/2,end:Math.PI-Math.PI/2/3,...s});n.addChild(u),u.filters=[En("brightness",.5)];const c=new Qi({start:Math.PI-Math.PI/2/3,end:Math.PI,...s});n.addChild(c),c.filters=[En("brightness",.25)];const d=new Qi({start:Math.PI,end:-Math.PI/2,...s});n.addChild(d),d.filters=[En("brightness",.1)];const f=new Qi({start:-Math.PI/2,end:Math.PI/2,...s});n.addChild(f),f.filters=[En("brightness",.1)];const g=new ve(this._radius*2.5,2,"#fff");this.addChild(g),g.alpha=VR,g.x=-g.width/2,Pp.onValue("hour",p=>{p>=0&&(u.visible=!1,c.visible=!1,d.visible=!1),p>=6&&(f.visible=!1),p>=12&&(u.visible=!0,c.visible=!0,d.visible=!0),p>=18&&(f.visible=!0),n.rotation=this._getHourHandRadian(p)-Math.PI/2})}}class Mp extends ct{constructor(){super();G(this,"bar");G(this,"label");this.visible=!1,this.bar=new Xt,this.addChild(this.bar),this.label=new It({text:"1m",fontColor:"#fff",fontSize:20}),this.label.anchor.set(.5,1),this.label.y=-10,this.addChild(this.label)}update(e){this.visible=!0,this.alpha=1;const{scale:i,pixelPerMeter:n}=Mp.getScaleAndPixelPerMeter(e);this.bar.clear(),this.bar.beginFill(16777215),this.bar.drawRect(0,0,Yr*i,3),this.bar.endFill(),this.bar.pivot.set(this.bar.width/2,5);const s=5*i;this.bar.moveTo(0,4),this.bar.lineStyle(2.5,16777215),this.bar.lineTo(0,-s),this.bar.moveTo(Yr*i,4),this.bar.lineTo(Yr*i,-s),this.label.text=`${n<1?`${n*Yr}CM`:`${n}M`}`,V.killTweensOf(this),V.to(this,{alpha:0,delay:3,duration:.25,onComplete:()=>{this.visible=!1}})}static getScaleAndPixelPerMeter(e){const i=[20,10,5,2,1,.5,.2,.1,.05,.02,.01,.005,.002,.001];for(const n of i)if(e>n)return{scale:e/n,pixelPerMeter:1/n};return{scale:e,pixelPerMeter:1}}}const k2=(r,t=1)=>{let e=0;const i=wt.shared,n=()=>{e+=i.deltaMS,e>=t&&(r==null||r(),i.remove(n))};return i.add(n),i.start(),()=>{i.remove(n)}};class j2 extends ct{constructor(){super();G(this,"_tips",new Map);Pr.setInstance("TIP",this)}tip(e){const i=new ct;this.addChild(i);const n=Ei().valueOf(),s=new It({text:e,fontColor:"#fff",fontSize:25});s.anchor.set(.5);const o=new _s(s.width+50,s.height+25,5,"#000");i.addChild(o),o.alpha=qh,o.pivot.set(o.width/2,o.height/2),i.addChild(s),i.alpha=0,i.scale.set(.5),Array.from(this._tips.values()).reverse().forEach((a,h)=>{V.to(a,{y:(h+1)*-60,duration:.25})}),this._tips.set(n,i),V.to(i,{alpha:1,pixi:{scale:1},duration:.25}),k2(()=>{V.to(i,{alpha:0,duration:.5,onComplete:()=>{V.killTweensOf(this._tips.get(n)),this._tips.delete(n),i.destroy()}})},3e3)}}class D2 extends ct{constructor(t){super(),this._elementList=[],this._params=t||{},this._elementList=this._params.elementList||[]}push(t){this.addChild(t),this._elementList.push(t)}layout(){const{colNum:t=this._elementList.length,gap:e=0,direction:i="x",anchorX:n=0,anchorY:s=0}=this._params;let o=0,a=0;this._elementList.forEach((h,l)=>{var u,c;const d=Math.floor(l/t),f=l%t;if(i==="x"){const g=Array.isArray(e)?(u=e[l-1])!==null&&u!==void 0?u:0:e;f===0&&d>0&&(a+=o+g,o=0),h.x=f===0?0:this._elementList[l-1].x+this._elementList[l-1].width+g,a&&(h.y=a),o=Math.max(o,h.height)}else{const g=Array.isArray(e)?(c=e[l-1])!==null&&c!==void 0?c:0:e;f===0&&d>0&&(a+=o+g,o=0),h.y=f===0?0:this._elementList[l-1].y+this._elementList[l-1].height+g,a&&(h.x=a),o=Math.max(o,h.width)}}),lp(this,n,s)}getList(){return this._elementList}destroyList(){this._elementList.forEach(t=>{t.destroy()}),this._elementList=[]}}class F2 extends ct{constructor(){super();const t=new D2({direction:"y",gap:0,anchorX:1});this.addChild(t);const e={fontSize:24,fontColor:"#fff",stroke:"#000",strokeThickness:4,align:"center"},i=new It({text:"",...e});i.anchor.x=1,Lt(i,"pointertap",()=>{pi.setBooleanValue("isFeeding")});const n=new It({text:"",...e});n.anchor.x=1,Lt(n,"pointertap",()=>{pi.setBooleanValue("isPlacingObstacle")});const s=new It({text:"",...e});s.anchor.x=1,t.push(s),Lt(s,"pointertap",()=>{pi.setBooleanValue("isFollowPlayerFish")}),t.layout(),pi.onValue("isFeeding",o=>{i.style.fill=o?"green":"#fff",i.style.stroke=o?"#fff":"#000"}),pi.onValue("isPlacingObstacle",o=>{n.style.fill=o?"green":"#fff",n.style.stroke=o?"#fff":"#000"}),pi.onValue("isFollowPlayerFish",o=>{s.style.fill=o?"green":"#fff",s.style.stroke=o?"#fff":"#000"})}}class nb extends Xt{constructor(){super();const t=1;this.lineStyle(1,"#000",1),this.moveTo(-t,-t).lineTo(t,t),this.moveTo(t,-t).lineTo(-t,t),this.alpha=.5}}class xT extends ct{constructor(e){super();G(this,"_tail");G(this,"_leftEye");G(this,"_rightEye");G(this,"_leftFin");G(this,"_rightFin");G(this,"_body");G(this,"_speed",0);G(this,"_onlyFin",!1);G(this,"_isWiggling",!1);this.sortableChildren=!0,this.pivot.x=-10;const{bodyColor:i,tailColor:n}=e;this._body=new Gw(10,5,i),this.addChild(this._body),this._body.zIndex=2,this._leftFin=new Ni([[5,-4],[3,3]],n),this.addChild(this._leftFin),this._leftFin.position.set(-6,-3),this._rightFin=new Ni([[5,4],[3,-3]],n),this.addChild(this._rightFin),this._rightFin.position.set(-6,3),this._leftEye=new Xi(1,"rgba(0,0,0,0.5)"),this.addChild(this._leftEye),this._leftEye.position.set(-6,2),this._leftEye.zIndex=3,this._rightEye=new Xi(1,"rgba(0,0,0,0.5)"),this.addChild(this._rightEye),this._rightEye.position.set(-6,-2),this._rightEye.zIndex=3,this._tail=new Ni([[10,-5],[10,5]],n),this.addChild(this._tail),this._tail.zIndex=1,this._tail.x=10,this._tail.pivot.x=5,this._setBlinkLoopAnimation()}setFishTailWiggle(e,i=!1){this._isWiggling=!0,this._speed=e,this._onlyFin=i;const n={duration:.35*this.width/e,ease:"power1.inOut",repeat:-1,yoyo:!0};V.killTweensOf(this._tail),i||V.to(this._tail,{rotation:Math.PI/20,duration:n.duration,onComplete:()=>{V.to(this._tail,{rotation:-Math.PI/20,...n})}}),V.killTweensOf(this._leftFin),V.to(this._leftFin,{rotation:Math.PI/20,duration:n.duration,onComplete:()=>{V.to(this._leftFin,{delay:.1,rotation:-Math.PI/20,...n})}}),V.killTweensOf(this._rightFin),V.to(this._rightFin,{rotation:-Math.PI/20,duration:n.duration,onComplete:()=>{V.to(this._rightFin,{delay:.1,rotation:Math.PI/20,...n})}})}resetTailAngle(){V.killTweensOf(this._tail),V.to(this._tail,{duration:.25,rotation:0})}stopAnimation(){this._isWiggling&&(this._isWiggling=!1,V.killTweensOf(this._tail),V.killTweensOf(this._leftFin),V.killTweensOf(this._rightFin))}resumeAnimation(){this._isWiggling||this.setFishTailWiggle(this._speed,this._onlyFin)}async _setBlinkLoopAnimation(){await V.to([this._leftEye.scale,this._rightEye.scale],{x:.1,duration:.1}),await V.to([this._leftEye.scale,this._rightEye.scale],{x:1,duration:.1}),jM(50)&&(await V.to([this._leftEye.scale,this._rightEye.scale],{x:.1,duration:.1}),await V.to([this._leftEye.scale,this._rightEye.scale],{x:1,duration:.1})),await kM(jt(1,7.5)*1e3),this._setBlinkLoopAnimation()}}let O2=class extends xT{constructor(e){super(e);G(this,"_deadLeftEye");G(this,"_deadRightEye");this.scale.set(3),this._deadLeftEye=new nb,this.addChild(this._deadLeftEye),this._deadLeftEye.zIndex=3,this._deadLeftEye.position.set(-6,2),this._deadLeftEye.visible=!1,this._deadRightEye=new nb,this.addChild(this._deadRightEye),this._deadRightEye.zIndex=3,this._deadRightEye.position.set(-6,-2),this._deadRightEye.visible=!1}setDeadAfter(){this._leftEye.destroy(),this._rightEye.destroy(),this._deadLeftEye.visible=!0,this._deadRightEye.visible=!0}};class L2 extends ct{constructor(){super();G(this,"_bg");G(this,"_emoji");G(this,"_emojiList",[]);this.visible=!1,this.sortableChildren=!0,this._emoji=new It({text:"",fontFamily:"Emoji",fontSize:30}),this.addChild(this._emoji),this._emoji.zIndex=1,this._emoji.anchor.set(.5),this._refreshBg(),this._emoji.resolution=3;const e=new Xi(5,"#fff");this.addChild(e),e.y=30;const i=new Xi(2.5,"#fff");this.addChild(i),i.y=45}addEmoji(e){return this._emojiList.push(e),this._emoji.text=this._emojiList.join(""),this._refreshBg(),()=>{this.delEmoji(e)}}delEmoji(e){this._emojiList=this._emojiList.filter(i=>i!==e),this._emoji.text=this._emojiList.join(""),this._refreshBg()}_refreshBg(){var i;this.visible=this._emoji.text!=="",(i=this._bg)==null||i.destroy();const e=this._emoji.width+10;this._bg=new _s(e,35,10,"#fff"),this.addChild(this._bg),this._bg.pivot.set(e/2,35/2)}}class B2 extends ct{constructor(e){super();G(this,"id");G(this,"lastName");G(this,"body");G(this,"_emojiBubble");G(this,"_lastPathIndex",0);G(this,"_path",[]);G(this,"_pathGraphics",new Xt);G(this,"_pathfindingMove");this.id=e.id,this.lastName=e.lastName,this.zIndex=qi.fish,this.body=new O2(e.style),this.addChild(this.body),Lt(this.body,"pointertap",i=>{i.stopPropagation(),Gn.emit(gn.SHOW_FISH_INFO,this.lastName,this.id)}),this._emojiBubble=new L2,this.addChild(this._emojiBubble),this._emojiBubble.pivot.y=this._emojiBubble.height,Vi.add(e.id,()=>{var i;(i=this._pathfindingMove)==null||i.call(this)}),Tp(()=>{const i=wp(this);this.visible=!i,i?this.body.stopAnimation():this.body.resumeAnimation()},100),requestAnimationFrame(()=>{this._startRandomMove()})}getFishData(){return Qt.getFishData(this.lastName,this.id)}_startRandomMove(){const e=fi.getRandomWalkableGrid({x:this.x,y:this.y});if(e){const{x:i,y:n}=e;this._startFindWay(i,n).then(()=>{this._startRandomMove()})}}async _startFindWay(e,i){const n=wo(this.x,this.y),s=wo(e,i);if(this._hasObstacleAround(s.x,s.y)){const{x:o,y:a}=ni.getGridCoordToMapPos(s.x,s.y);e=o,i=a}this._path=ni.calculatePath(n,s),this._killPathfindingMove(),await this._startMove(e,i)}_hasObstacleAround(e,i){const n=[{x:0,y:1},{x:0,y:-1},{x:1,y:0},{x:-1,y:0},{x:-1,y:-1},{x:-1,y:1},{x:1,y:-1},{x:1,y:1}];for(const s of n){const o=e+s.x,a=i+s.y;if(!fi.grid.isWalkableAt(o,a))return!0}return!1}_startMove(e,i){return new Promise(n=>{let s=1;const o=Ap;this._pathfindingMove=()=>{const a=zp(o);if(s<this._path.length){this._lastPathIndex!==s&&(this.body.setFishTailWiggle(o*1),this._lastPathIndex=s);const l=this._path[s];let{x:u,y:c}=ni.getGridCoordToMapPos(l[0],l[1]);s===this._path.length-1&&(u=e,c=i);const d=u-this.x,f=c-this.y,g=Math.sqrt(d*d+f*f);if(g<=a*1.2){this.x=u,this.y=c,s++;return}else{const p=d/g*a,m=f/g*a,y=this.rotation,x=Math.PI*2;let _=Math.atan2(f,d)+Math.PI;for(;_-y>Math.PI;)_-=x;for(;_-y<-Math.PI;)_+=x;const v=_-y;this.x+=p*1,this.y+=m*1,this.rotation+=v*.05*(o/100)*mT(),Qt.setPosition(this.lastName,this.id,Math.floor(this.x),Math.floor(this.y))}}else this._lastPathIndex=0,this._killPathfindingMove(),n()}})}_killPathfindingMove(){this._pathGraphics.clear(),this._pathfindingMove=void 0}}class N2 extends xT{constructor(t){super(t)}}const Vd={speed:100};class q2 extends ct{constructor(){super();G(this,"AXIS_MAP",{up:{k:"y",v:-1},down:{k:"y",v:1},left:{k:"x",v:-1},right:{k:"x",v:1}});G(this,"KEYS",{KeyW:"up",KeyA:"left",KeyS:"down",KeyD:"right"});G(this,"_body");G(this,"_isPress",!1);G(this,"_moveDirection",{left:!1,right:!1,up:!1,down:!1});G(this,"_moveSpeedRate",{x:0,y:0});G(this,"_getLocalBoundsInParent",e=>{const i=e.getBounds(),n=e.parent,s=n.toLocal(i),o=n.toLocal(new bt(i.x+i.width,i.y+i.height));return new xt(s.x,s.y,o.x-s.x,o.y-s.y)});this.zIndex=qi.fish,this._body=new N2({bodyColor:"#fff",tailColor:"#000"}),this.addChild(this._body),this._body.scale.set(3),window.addEventListener("keydown",e=>{const i=this.KEYS[e.code];if(!i)return;this._isPress||(this._body.setFishTailWiggle(Vd.speed),this._isPress=!0);const n=this.AXIS_MAP[i];V.killTweensOf(this._moveSpeedRate,n.k),this._moveSpeedRate[n.k]=n.v,this._moveDirection[i]=!0}),window.addEventListener("keyup",e=>{const i=this.KEYS[e.code];if(!i)return;this._moveDirection[i]=!1;const n=this.AXIS_MAP[i];this._moveSpeedRate[n.k]===n.v&&(V.killTweensOf(this._moveSpeedRate,n.k),V.to(this._moveSpeedRate,{[n.k]:0,duration:1,ease:"power1.out"})),this._isPress=Object.values(this._moveDirection).some(s=>s),this._isPress||(this._body.setFishTailWiggle(25,!0),this._body.resetTailAngle())}),wt.shared.add(()=>{const e=zp(Vd.speed);this.x+=e*this._moveSpeedRate.x,this.y+=e*this._moveSpeedRate.y;for(const o of fi.queryNearby(this.x,this.y))x2(this,o.obstacle);const i=this._getLocalBoundsInParent(this);i.x<0&&(this.x-=i.x),i.y<0&&(this.y-=i.y),i.x+i.width>At&&(this.x-=i.x+i.width-At),i.y+i.height>At&&(this.y-=i.y+i.height-At);const n=this._moveSpeedRate.x,s=this._moveSpeedRate.y;if(Math.abs(n)>.5||Math.abs(s)>.5){const o=Math.PI*2;let a=Math.atan2(s,n)+Math.PI;for(;a-this.rotation>Math.PI;)a-=o;for(;a-this.rotation<-Math.PI;)a+=o;const h=a-this.rotation,l=Vd.speed;this.rotation+=h*.05*(l/100)*mT()}})}}class U2 extends Ch{constructor(){super(window.innerWidth,window.innerHeight);G(this,"_gameMap");Pr.setInstance("GAME_SCREEN",this),this._gameMap=new E2({onClick:l=>{const{x:u,y:c}=l;pi.getValue("isPlacingObstacle")&&Gn.emit(gn.CREATE_OBSTACLE,u,c)},onZoom:l=>{o.update(l)}}),this.addChild(this._gameMap);const e=new R2;e.x=e.width/2;const i=new j2;xs.statusLayer.addChild(i);const n=new M2;this.addChild(n);const s=new S2;this.addChild(s);const o=new Mp;this.addChild(o);const a=new F2;this.addChild(a);const h=new q2;this._gameMap.addChild(h),yT.setValue("entity",h),this._loadFish().then(()=>{dT.onValue("entityShadow",l=>{Qt.fishFamilyList.forEach(u=>{u.forEach(c=>{Qt.getFishData(c.lastName,c.id).blood!==0&&(l?qR(c,{color:"#000",alpha:.75,blur:0,offset:{x:0,y:10}}):c.filters=[])})})})}),Lo.on((l,u,c)=>{i.x=l/2,i.y=100,n.x=l/2,n.y=u-50,n.scale.set(c),e.y=2,e.rotation=Math.PI,e.scale.x=-1,o.x=l/2,o.y=u/2,a.x=l})}async _loadFish(){Array.from({length:1e3},()=>jt(0,1)).forEach(i=>{const n=this._createOneFish(i);Qt.addFishData(n.lastName,n)});for(const i of Qt.fishFamilyDataList.values())for(const n of i.values()){const s=new B2(n);this._gameMap.addChild(s),Qt.addFish(n.lastName,s);const{x:o,y:a}=fi.getRandomFreeGrid();s.position.set(o,a)}}_createOneFish(e){const i=Mx[e].body,n=Mx[e].tail,s=Qt.createFishLastName(),o=Qt.createFishFirstName(s,e),a=Ei().subtract(7,"day").valueOf();return{id:(a+Ep.createIndex++).toString(),lastName:s,firstName:o,name:`${s}${o}`,gender:isNaN(e)?jt(0,1):e,blood:70,long:0,width:0,birthTime:a,weight:1,tempSpeed:0,fatherId:"",fatherLastName:"",motherId:"",motherLastName:"",feedCount:0,mateId:"",mateLastName:"",tempBlood:100,mateCount:0,totalRecoverSatiety:0,satiety:100,growthCount:7,satietyLimit:100,desireLimit:100,mateList:{},distance:0,desire:90,defecationSatietyCount:5,desireCountdown:0,pondSecurityPayCount:0,pondSecurityStartTime:0,lastPensionReceivedTime:0,x:0,y:0,satietyDistance:tg,lowBloodLoseLifeTime:0,bloodCountdown:0,idealAge:100,destroyed:!1,style:{bodyColor:i,tailColor:n},lastDistanceTime:Ei().valueOf(),...GR}}}const ce=class ce extends xn{constructor(){super();const t=new ve(ce.MAP_SIZE,ce.MAP_SIZE,"#fff");this.addChild(t),this.mask=t,this.sortableChildren=!0,this.pivot.set(ce.MAP_SIZE/2,ce.MAP_SIZE/2);const e=new fn(be.get("preload/img/water"),ce.MAP_SIZE,ce.MAP_SIZE);this.addChild(e),e.tileScale.set(.25);const i=new fn(be.get("preload/img/surface"),ce.MAP_SIZE,ce.MAP_SIZE);this.addChild(i),i.zIndex=qi.surface,i.eventMode="none";const n=new fn(be.get("preload/img/ripple"),ce.MAP_SIZE,ce.MAP_SIZE);this.addChild(n),n.zIndex=qi.ripple,n.eventMode="none",this._setPositionCenter(ce.MAP_SIZE/2,ce.MAP_SIZE/2);const s=new wt;s.add(()=>{i.tilePosition.x+=.15,i.tilePosition.y+=.15,n.tilePosition.x+=.1,n.tilePosition.y+=.1}),s.start(),Pp.onValue("waterAlpha",o=>{e.alpha=o,n.alpha=o,i.alpha=o*.5}),this._onBeforeDestroy=()=>{s.destroy()}}_setPositionCenter(t,e){this.x=this._mapPosToScreenCenterPos("x",t),this.y=this._mapPosToScreenCenterPos("y",e)}_mapPosToScreenCenterPos(t,e){const i=t==="x"?window.innerWidth:window.innerHeight;return ce.MAP_SIZE/2*this.scale.x-e+i/2}};G(ce,"MAP_SIZE",1920);let ln=ce;class G2 extends xn{constructor(e){super();G(this,"_fishData");G(this,"_leftEye");G(this,"_rightEye");G(this,"_leftHand");G(this,"_rightHand");G(this,"_leftLeg");G(this,"_rightLeg");G(this,"_targetX",0);G(this,"_targetY",0);G(this,"_speed",0);const{style:{bodyColor:i,shellColor:n}}=e;this._fishData=e,this.zIndex=qi.turtle,this.sortableChildren=!0,this.pivot.x=-24;const s=new Mw(10,20,i);this.addChild(s),s.rotation=-Math.PI/2,s.position.set(-28,5),this._leftEye=new Xi(1,"#000"),this.addChild(this._leftEye),this._leftEye.position.set(-25,2),this._leftEye.zIndex=3,this._rightEye=new Xi(1,"#000"),this.addChild(this._rightEye),this._rightEye.position.set(-25,-2),this._rightEye.zIndex=3,this._drawShell(n),this._leftHand=new ve(6,15,i),this.addChild(this._leftHand),this._leftHand.pivot.set(this._leftHand.width/2,this._leftHand.height*.1),this._leftHand.position.set(-10,16),this._rightHand=new ve(6,15,i),this.addChild(this._rightHand),this._rightHand.pivot.set(this._rightHand.width/2,this._rightHand.height/1.1),this._rightHand.position.set(-10,-16),this._leftLeg=new ve(6,15,i),this.addChild(this._leftLeg),this._leftLeg.pivot.set(this._leftLeg.width/2,this._leftLeg.height*.1),this._leftLeg.position.set(7,14),this._rightLeg=new ve(6,15,i),this.addChild(this._rightLeg),this._rightLeg.pivot.set(this._rightLeg.width/2,this._rightLeg.height/1.1),this._rightLeg.position.set(7,-14);const o=new Ni([[10,0],[5,10]],i);this.addChild(o),o.rotation=-Math.PI/2,o.position.set(16,5),requestAnimationFrame(()=>{Vi.add(e.id,()=>{this._updateMove()});const{x:a,y:h}=this._getRandomPos();this._setRandomSpeed(),this._setPosition(a,h),this._setBlinkLoopAnimation()}),this._onBeforeDestroy=()=>{Vi.remove(this._fishData.id),V.killTweensOf(this),V.killTweensOf(this._leftHand),V.killTweensOf(this._rightHand),V.killTweensOf(this._leftLeg),V.killTweensOf(this._rightLeg)}}_drawShell(e){const i=new Xt,n=20,s=0,o=0;i.beginFill(e);for(let a=0;a<6;a++){const h=Math.PI/3*a,l=s+n*Math.cos(h),u=o+n*Math.sin(h);a===0?i.moveTo(l,u):i.lineTo(l,u)}i.closePath(),i.endFill(),i.zIndex=1,this.addChild(i)}_updateMove(){this.visible=!wp(this);const e=this._targetX-this.x,i=this._targetY-this.y,n=Math.sqrt(e*e+i*i);if(n<=3){this.x=this._targetX,this.y=this._targetY,this._completeMove();return}const s=zp(this._speed);this.x+=e/n*s,this.y+=i/n*s}_completeMove(){const{x:e,y:i}=this._getRandomPos();this._setRandomSpeed(),this._setPosition(e,i)}_setPosition(e,i){this._targetX=e,this._targetY=i,this._setFishTailWiggle();const n=this.rotation+this._getTurnAngle();V.killTweensOf(this),V.to(this,{duration:50/this._speed,ease:"power1.out",rotation:n})}_setRandomSpeed(){this._speed=Ap}_getRandomPos(){let e=0,i=0;const n=jt(ah[0],ah[1]),s=jt(this.x-n,this.x+n),o=jt(this.y-n,this.y+n),{newX:a,newY:h}=this._getSafePosition(s,o);return e=a,i=h,{x:e,y:i}}_getTurnAngle(){const e=this._targetX-this.x,i=this._targetY-this.y,n=Math.atan2(i,e)+Math.PI,s=this.rotation;return(n-s+Math.PI)%(Math.PI*2)-Math.PI}_getSafePosition(e,i){const n=this.width,s=n,o=ln.MAP_SIZE-n,a=Math.max(s,Math.min(e,o)),h=Math.max(s,Math.min(i,o));return{newX:a,newY:h}}_setBlinkLoopAnimation(){const e=V.timeline({repeat:-1,repeatDelay:jt(2,5)});for(let i=0;i<2;i++)e.to([this._leftEye.scale,this._rightEye.scale],{x:.1,duration:.1}).to([this._leftEye.scale,this._rightEye.scale],{x:1,duration:.1})}_setFishTailWiggle(){const e=async(i,n,s)=>{V.killTweensOf(i),await V.to(i,{rotation:n,ease:"power1.inOut",duration:.35+Math.abs(100-this._speed)/250}),V.to(i,{rotation:s,yoyo:!0,ease:"power1.inOut",repeat:-1,duration:.35+Math.abs(100-this._speed)/250})};e(this._leftHand,-Math.PI/8,-Math.PI/2),e(this._rightHand,Math.PI/8,Math.PI/2),e(this._leftLeg,-Math.PI/2,-Math.PI/3),e(this._rightLeg,Math.PI/2,Math.PI/3)}}class H2 extends xn{constructor(e){super();G(this,"_fishData");G(this,"_tail");G(this,"_leftEye");G(this,"_rightEye");G(this,"_leftFin");G(this,"_rightFin");G(this,"_body");G(this,"_targetX",0);G(this,"_targetY",0);G(this,"_speed",0);this._fishData=e;const{style:{bodyColor:i,tailColor:n}}=e;this.zIndex=qi.fish,this.sortableChildren=!0,this.pivot.x=-10,this._body=new Gw(10,5,i),this.addChild(this._body),this._body.zIndex=2,this._leftFin=new Ni([[5,-4],[3,3]],n),this.addChild(this._leftFin),this._leftFin.position.set(-6,-3),this._rightFin=new Ni([[5,4],[3,-3]],n),this.addChild(this._rightFin),this._rightFin.position.set(-6,3),this._leftEye=new Xi(1,"rgba(0,0,0,0.5)"),this.addChild(this._leftEye),this._leftEye.position.set(-6,2),this._leftEye.zIndex=3,this._rightEye=new Xi(1,"rgba(0,0,0,0.5)"),this.addChild(this._rightEye),this._rightEye.position.set(-6,-2),this._rightEye.zIndex=3,this._tail=new Ni([[10,-5],[10,5]],n),this.addChild(this._tail),this._tail.zIndex=1,this._tail.x=10,this._tail.pivot.x=5,requestAnimationFrame(()=>{Vi.add(e.id,()=>{this._updateMove()});const{x:s,y:o}=this._getRandomPos();this._setRandomSpeed(),this._setPosition(s,o),this._setBlinkLoopAnimation()}),this._onBeforeDestroy=()=>{Vi.remove(this._fishData.id),V.killTweensOf(this),V.killTweensOf(this._tail),V.killTweensOf(this._leftFin),V.killTweensOf(this._rightFin)}}_updateMove(){this.visible=!wp(this);const e=this._targetX-this.x,i=this._targetY-this.y,n=Math.sqrt(e*e+i*i);if(n<=3){this.x=this._targetX,this.y=this._targetY,this._completeMove();return}const s=wt.shared.deltaTime,o=this._speed*(s/60);this.x+=e/n*o,this.y+=i/n*o}_completeMove(){const{x:e,y:i}=this._getRandomPos();this._setRandomSpeed(),this._setPosition(e,i)}_setPosition(e,i){this._targetX=e,this._targetY=i,this._setFishTailWiggle();const n=this.rotation+this._getTurnAngle();V.killTweensOf(this),V.to(this,{duration:50/this._speed,ease:"power1.out",rotation:n})}_setRandomSpeed(){this._speed=Ap}_getRandomPos(){let e=0,i=0;const n=jt(ah[0],ah[1]),s=jt(this.x-n,this.x+n),o=jt(this.y-n,this.y+n),{newX:a,newY:h}=this._getSafePosition(s,o);return e=a,i=h,{x:e,y:i}}_getTurnAngle(){const e=this._targetX-this.x,i=this._targetY-this.y,n=Math.atan2(i,e)+Math.PI,s=this.rotation;return(n-s+Math.PI)%(Math.PI*2)-Math.PI}_getSafePosition(e,i){const n=this.width,s=n,o=ln.MAP_SIZE-n,a=Math.max(s,Math.min(e,o)),h=Math.max(s,Math.min(i,o));return{newX:a,newY:h}}_setBlinkLoopAnimation(){const e=V.timeline({repeat:-1,repeatDelay:jt(2,5)});for(let i=0;i<2;i++)e.to([this._leftEye.scale,this._rightEye.scale],{x:.1,duration:.1}).to([this._leftEye.scale,this._rightEye.scale],{x:1,duration:.1})}_setFishTailWiggle(){const e={duration:.35*this.width/this._speed,ease:"power1.inOut",repeat:-1,yoyo:!0};V.killTweensOf(this._tail),this._tail.rotation=Math.PI/20,V.to(this._tail,{rotation:-Math.PI/20,...e}),V.killTweensOf(this._leftFin),this._leftFin.rotation=Math.PI/20,V.to(this._leftFin,{delay:.1,rotation:-Math.PI/20,...e}),V.killTweensOf(this._rightFin),this._rightFin.rotation=-Math.PI/20,V.to(this._rightFin,{delay:.1,rotation:Math.PI/20,...e})}}class W2 extends ct{constructor(t){super();const e=new ve(300,100,"#000");e.pivot.set(e.width/2,e.height/2),e.alpha=.5,this.addChild(e);const i=new It({text:t,fontSize:50,fontColor:"#fff"});this.addChild(i),i.anchor.set(.5)}}class $2 extends xn{constructor(e){super();G(this,"_gameMap");G(this,"_fishList",[]);G(this,"_turtleList",[]);this._gameMap=new ln,this.addChild(this._gameMap);const i=new ve(window.innerWidth,window.innerHeight,"#000");this.addChild(i),i.alpha=.25;const n=new It({text:"",fontSize:100,fontColor:"#fff"});this.addChild(n),n.anchor.set(.5),n.y=300;const s=new W2("");this.addChild(s),s.visible=!1,s.y=500,Lt(s,"pointertap",()=>{this.destroy(),xs.mount(U2)}),this._loadEntity();const o=Lo.on((a,h)=>{this._gameMap.position.set(a/2,h/2),i.width=a,i.height=h,n.x=a/2,s.x=a/2});y2().then(()=>{s.visible=!0}),this._onBeforeDestroy=()=>{o(),this._fishList.forEach(a=>{a.destroy()}),this._turtleList.forEach(a=>{a.destroy()})}}async _loadEntity(){for(let e=0;e<50;e++){const{fish:i}=this._createOneFish(`fish_${e}`),{turtle:n}=this._createOneTurtle(`turtle_${e}`);this._gameMap.addChild(i),this._fishList.push(i),i.position.set(jt(0,ln.MAP_SIZE),jt(0,ln.MAP_SIZE)),this._turtleList.push(n),this._gameMap.addChild(n),n.position.set(jt(0,ln.MAP_SIZE),jt(0,ln.MAP_SIZE))}}_createOneFish(e){const i=da[jt(0,da.length-1)].body,n=da[jt(0,da.length-1)].tail,s={id:e,style:{bodyColor:i,tailColor:n}};return{fish:new H2(s)}}_createOneTurtle(e){const i=fa[jt(0,fa.length-1)].body,n=fa[jt(0,fa.length-1)].shell,s={id:e,style:{bodyColor:i,shellColor:n}};return{turtle:new G2(s)}}}V.registerPlugin(Hg);Hg.registerPIXI(BC);const To=new Og({resizeTo:window,resolution:window.devicePixelRatio||1,autoDensity:!0,antialias:dT.antialias});To.stage.sortableChildren=!0;document.body.appendChild(To.view);globalThis.__PIXI_APP__=To;const hh=class hh{constructor(){G(this,"_gameScreen");G(this,"gameStage");G(this,"gameLayer");G(this,"dialogLayer");G(this,"statusLayer");G(this,"_Z_INDEX",{bgImgFill:1,stage:2,gameScreen:998,dialogLayer:999,statusLayer:1e3});this.gameStage=new ct,To.stage.addChild(this.gameStage),this.gameStage.name="",this.gameStage.sortableChildren=!0,this.gameStage.zIndex=this._Z_INDEX.stage,this.gameStage.eventMode="static",Rh.stage=this.gameStage,vo.stage=this.gameStage,this.gameLayer=new ct,this.gameStage.addChild(this.gameLayer),this.gameLayer.name="",this.gameLayer.zIndex=this._Z_INDEX.gameScreen,this.dialogLayer=new ct,this.gameStage.addChild(this.dialogLayer),this.dialogLayer.name="",this.dialogLayer.zIndex=this._Z_INDEX.dialogLayer,this.statusLayer=new ct,this.gameStage.addChild(this.statusLayer),this.statusLayer.name="",this.statusLayer.zIndex=this._Z_INDEX.statusLayer,ds.ADAPT_MODE=hh.ADAPT_MODE;const t=new ds(To);this.statusLayer.addChild(t),t.name="",on.stage=this.gameStage;const e=new on;this.statusLayer.addChild(e),Lo.on((i,n,s)=>{t.x=i/2,t.scale.set(s)})}mount(t){this._gameScreen=new t,xs.gameLayer.addChild(this._gameScreen)}};G(hh,"ADAPT_MODE","h");let eg=hh;const xs=new eg,rb=new yz(xs.dialogLayer),V2=async()=>{const t=await(await fetch(`gameAssetsPack/preloadManifest.json?t=${Ei().valueOf()}`)).json();be.addBundle("preloadManifest",t),await be.loadBundle("preloadManifest");const i=await(await fetch(`gameAssetsPack/mainManifest.json?t=${Ei().valueOf()}`)).json();be.addBundle("mainManifest",i),xs.mount($2)};V2();
