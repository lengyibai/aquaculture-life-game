var ET=Object.defineProperty;var CT=(s,t,e)=>t in s?ET(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var G=(s,t,e)=>CT(s,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=e(n);fetch(n.href,r)}})();var tr=(s=>(s[s.WEBGL_LEGACY=0]="WEBGL_LEGACY",s[s.WEBGL=1]="WEBGL",s[s.WEBGL2=2]="WEBGL2",s))(tr||{}),rg=(s=>(s[s.UNKNOWN=0]="UNKNOWN",s[s.WEBGL=1]="WEBGL",s[s.CANVAS=2]="CANVAS",s))(rg||{}),Oa=(s=>(s[s.COLOR=16384]="COLOR",s[s.DEPTH=256]="DEPTH",s[s.STENCIL=1024]="STENCIL",s))(Oa||{}),gt=(s=>(s[s.NORMAL=0]="NORMAL",s[s.ADD=1]="ADD",s[s.MULTIPLY=2]="MULTIPLY",s[s.SCREEN=3]="SCREEN",s[s.OVERLAY=4]="OVERLAY",s[s.DARKEN=5]="DARKEN",s[s.LIGHTEN=6]="LIGHTEN",s[s.COLOR_DODGE=7]="COLOR_DODGE",s[s.COLOR_BURN=8]="COLOR_BURN",s[s.HARD_LIGHT=9]="HARD_LIGHT",s[s.SOFT_LIGHT=10]="SOFT_LIGHT",s[s.DIFFERENCE=11]="DIFFERENCE",s[s.EXCLUSION=12]="EXCLUSION",s[s.HUE=13]="HUE",s[s.SATURATION=14]="SATURATION",s[s.COLOR=15]="COLOR",s[s.LUMINOSITY=16]="LUMINOSITY",s[s.NORMAL_NPM=17]="NORMAL_NPM",s[s.ADD_NPM=18]="ADD_NPM",s[s.SCREEN_NPM=19]="SCREEN_NPM",s[s.NONE=20]="NONE",s[s.SRC_OVER=0]="SRC_OVER",s[s.SRC_IN=21]="SRC_IN",s[s.SRC_OUT=22]="SRC_OUT",s[s.SRC_ATOP=23]="SRC_ATOP",s[s.DST_OVER=24]="DST_OVER",s[s.DST_IN=25]="DST_IN",s[s.DST_OUT=26]="DST_OUT",s[s.DST_ATOP=27]="DST_ATOP",s[s.ERASE=26]="ERASE",s[s.SUBTRACT=28]="SUBTRACT",s[s.XOR=29]="XOR",s))(gt||{}),vi=(s=>(s[s.POINTS=0]="POINTS",s[s.LINES=1]="LINES",s[s.LINE_LOOP=2]="LINE_LOOP",s[s.LINE_STRIP=3]="LINE_STRIP",s[s.TRIANGLES=4]="TRIANGLES",s[s.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",s[s.TRIANGLE_FAN=6]="TRIANGLE_FAN",s))(vi||{}),Y=(s=>(s[s.RGBA=6408]="RGBA",s[s.RGB=6407]="RGB",s[s.RG=33319]="RG",s[s.RED=6403]="RED",s[s.RGBA_INTEGER=36249]="RGBA_INTEGER",s[s.RGB_INTEGER=36248]="RGB_INTEGER",s[s.RG_INTEGER=33320]="RG_INTEGER",s[s.RED_INTEGER=36244]="RED_INTEGER",s[s.ALPHA=6406]="ALPHA",s[s.LUMINANCE=6409]="LUMINANCE",s[s.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",s[s.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",s[s.DEPTH_STENCIL=34041]="DEPTH_STENCIL",s))(Y||{}),xr=(s=>(s[s.TEXTURE_2D=3553]="TEXTURE_2D",s[s.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",s[s.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",s[s.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",s[s.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",s[s.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",s[s.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",s[s.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",s[s.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",s))(xr||{}),lt=(s=>(s[s.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",s[s.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",s[s.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",s[s.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",s[s.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",s[s.UNSIGNED_INT=5125]="UNSIGNED_INT",s[s.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",s[s.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",s[s.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",s[s.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",s[s.BYTE=5120]="BYTE",s[s.SHORT=5122]="SHORT",s[s.INT=5124]="INT",s[s.FLOAT=5126]="FLOAT",s[s.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",s[s.HALF_FLOAT=36193]="HALF_FLOAT",s))(lt||{}),rt=(s=>(s[s.FLOAT=0]="FLOAT",s[s.INT=1]="INT",s[s.UINT=2]="UINT",s))(rt||{}),Li=(s=>(s[s.NEAREST=0]="NEAREST",s[s.LINEAR=1]="LINEAR",s))(Li||{}),Hi=(s=>(s[s.CLAMP=33071]="CLAMP",s[s.REPEAT=10497]="REPEAT",s[s.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",s))(Hi||{}),Ci=(s=>(s[s.OFF=0]="OFF",s[s.POW2=1]="POW2",s[s.ON=2]="ON",s[s.ON_MANUAL=3]="ON_MANUAL",s))(Ci||{}),ve=(s=>(s[s.NPM=0]="NPM",s[s.UNPACK=1]="UNPACK",s[s.PMA=2]="PMA",s[s.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",s[s.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",s[s.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",s))(ve||{}),yi=(s=>(s[s.NO=0]="NO",s[s.YES=1]="YES",s[s.AUTO=2]="AUTO",s[s.BLEND=0]="BLEND",s[s.CLEAR=1]="CLEAR",s[s.BLIT=2]="BLIT",s))(yi||{}),fh=(s=>(s[s.AUTO=0]="AUTO",s[s.MANUAL=1]="MANUAL",s))(fh||{}),Ge=(s=>(s.LOW="lowp",s.MEDIUM="mediump",s.HIGH="highp",s))(Ge||{}),Jt=(s=>(s[s.NONE=0]="NONE",s[s.SCISSOR=1]="SCISSOR",s[s.STENCIL=2]="STENCIL",s[s.SPRITE=3]="SPRITE",s[s.COLOR=4]="COLOR",s))(Jt||{}),hv=(s=>(s[s.RED=1]="RED",s[s.GREEN=2]="GREEN",s[s.BLUE=4]="BLUE",s[s.ALPHA=8]="ALPHA",s))(hv||{}),Zt=(s=>(s[s.NONE=0]="NONE",s[s.LOW=2]="LOW",s[s.MEDIUM=4]="MEDIUM",s[s.HIGH=8]="HIGH",s))(Zt||{}),Ti=(s=>(s[s.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",s[s.ARRAY_BUFFER=34962]="ARRAY_BUFFER",s[s.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",s))(Ti||{});const lv={createCanvas:(s,t)=>{const e=document.createElement("canvas");return e.width=s,e.height=t,e},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(s,t)=>fetch(s,t),parseXML:s=>new DOMParser().parseFromString(s,"text/xml")},nt={ADAPTER:lv,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var el=/iPhone/i,Up=/iPod/i,Gp=/iPad/i,Hp=/\biOS-universal(?:.+)Mac\b/i,il=/\bAndroid(?:.+)Mobile\b/i,Wp=/Android/i,Br=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Xo=/Silk/i,rn=/Windows Phone/i,Vp=/\bWindows(?:.+)ARM\b/i,$p=/BlackBerry/i,Xp=/BB10/i,Yp=/Opera Mini/i,Zp=/\b(CriOS|Chrome)(?:.+)Mobile/i,Kp=/Mobile(?:.+)Firefox\b/i,Jp=function(s){return typeof s<"u"&&s.platform==="MacIntel"&&typeof s.maxTouchPoints=="number"&&s.maxTouchPoints>1&&typeof MSStream>"u"};function PT(s){return function(t){return t.test(s)}}function Qp(s){var t={userAgent:"",platform:"",maxTouchPoints:0};!s&&typeof navigator<"u"?t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof s=="string"?t.userAgent=s:s&&s.userAgent&&(t={userAgent:s.userAgent,platform:s.platform,maxTouchPoints:s.maxTouchPoints||0});var e=t.userAgent,i=e.split("[FBAN");typeof i[1]<"u"&&(e=i[0]),i=e.split("Twitter"),typeof i[1]<"u"&&(e=i[0]);var n=PT(e),r={apple:{phone:n(el)&&!n(rn),ipod:n(Up),tablet:!n(el)&&(n(Gp)||Jp(t))&&!n(rn),universal:n(Hp),device:(n(el)||n(Up)||n(Gp)||n(Hp)||Jp(t))&&!n(rn)},amazon:{phone:n(Br),tablet:!n(Br)&&n(Xo),device:n(Br)||n(Xo)},android:{phone:!n(rn)&&n(Br)||!n(rn)&&n(il),tablet:!n(rn)&&!n(Br)&&!n(il)&&(n(Xo)||n(Wp)),device:!n(rn)&&(n(Br)||n(Xo)||n(il)||n(Wp))||n(/\bokhttp\b/i)},windows:{phone:n(rn),tablet:n(Vp),device:n(rn)||n(Vp)},other:{blackberry:n($p),blackberry10:n(Xp),opera:n(Yp),firefox:n(Kp),chrome:n(Zp),device:n($p)||n(Xp)||n(Yp)||n(Kp)||n(Zp)},any:!1,phone:!1,tablet:!1};return r.any=r.apple.device||r.android.device||r.windows.device||r.other.device,r.phone=r.apple.phone||r.android.phone||r.windows.phone,r.tablet=r.apple.tablet||r.android.tablet||r.windows.tablet,r}const IT=Qp.default??Qp,bi=IT(globalThis.navigator);nt.RETINA_PREFIX=/@([0-9\.]+)x/;nt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Ni=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _s(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function MT(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var t=s.default;if(typeof t=="function"){var e=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(s).forEach(function(i){var n=Object.getOwnPropertyDescriptor(s,i);Object.defineProperty(e,i,n.get?n:{enumerable:!0,get:function(){return s[i]}})}),e}var nl={exports:{}},tm;function zT(){return tm||(tm=1,function(s){var t=Object.prototype.hasOwnProperty,e="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(e=!1));function n(h,l,u){this.fn=h,this.context=l,this.once=u||!1}function r(h,l,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var c=new n(u,d||h,f),g=e?e+l:l;return h._events[g]?h._events[g].fn?h._events[g]=[h._events[g],c]:h._events[g].push(c):(h._events[g]=c,h._eventsCount++),h}function o(h,l){--h._eventsCount===0?h._events=new i:delete h._events[l]}function a(){this._events=new i,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],u,d;if(this._eventsCount===0)return l;for(d in u=this._events)t.call(u,d)&&l.push(e?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},a.prototype.listeners=function(l){var u=e?e+l:l,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,c=d.length,g=new Array(c);f<c;f++)g[f]=d[f].fn;return g},a.prototype.listenerCount=function(l){var u=e?e+l:l,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(l,u,d,f,c,g){var p=e?e+l:l;if(!this._events[p])return!1;var m=this._events[p],y=arguments.length,x,v;if(m.fn){switch(m.once&&this.removeListener(l,m.fn,void 0,!0),y){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,u),!0;case 3:return m.fn.call(m.context,u,d),!0;case 4:return m.fn.call(m.context,u,d,f),!0;case 5:return m.fn.call(m.context,u,d,f,c),!0;case 6:return m.fn.call(m.context,u,d,f,c,g),!0}for(v=1,x=new Array(y-1);v<y;v++)x[v-1]=arguments[v];m.fn.apply(m.context,x)}else{var w=m.length,_;for(v=0;v<w;v++)switch(m[v].once&&this.removeListener(l,m[v].fn,void 0,!0),y){case 1:m[v].fn.call(m[v].context);break;case 2:m[v].fn.call(m[v].context,u);break;case 3:m[v].fn.call(m[v].context,u,d);break;case 4:m[v].fn.call(m[v].context,u,d,f);break;default:if(!x)for(_=1,x=new Array(y-1);_<y;_++)x[_-1]=arguments[_];m[v].fn.apply(m[v].context,x)}}return!0},a.prototype.on=function(l,u,d){return r(this,l,u,d,!1)},a.prototype.once=function(l,u,d){return r(this,l,u,d,!0)},a.prototype.removeListener=function(l,u,d,f){var c=e?e+l:l;if(!this._events[c])return this;if(!u)return o(this,c),this;var g=this._events[c];if(g.fn)g.fn===u&&(!f||g.once)&&(!d||g.context===d)&&o(this,c);else{for(var p=0,m=[],y=g.length;p<y;p++)(g[p].fn!==u||f&&!g[p].once||d&&g[p].context!==d)&&m.push(g[p]);m.length?this._events[c]=m.length===1?m[0]:m:o(this,c)}return this},a.prototype.removeAllListeners=function(l){var u;return l?(u=e?e+l:l,this._events[u]&&o(this,u)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=e,a.EventEmitter=a,s.exports=a}(nl)),nl.exports}var RT=zT();const xs=_s(RT);var Yo={exports:{}},em;function DT(){if(em)return Yo.exports;em=1,Yo.exports=s,Yo.exports.default=s;function s(E,z,I){I=I||2;var O=z&&z.length,k=O?z[0]*I:E.length,j=t(E,0,k,I,!0),B=[];if(!j||j.next===j.prev)return B;var L,U,H,V,Z,J,it;if(O&&(j=h(E,z,j,I)),E.length>80*I){L=H=E[0],U=V=E[1];for(var W=I;W<k;W+=I)Z=E[W],J=E[W+1],Z<L&&(L=Z),J<U&&(U=J),Z>H&&(H=Z),J>V&&(V=J);it=Math.max(H-L,V-U),it=it!==0?32767/it:0}return i(j,B,I,L,U,it,0),B}function t(E,z,I,O,k){var j,B;if(k===F(E,z,I,O)>0)for(j=z;j<I;j+=O)B=C(j,E[j],E[j+1],B);else for(j=I-O;j>=z;j-=O)B=C(j,E[j],E[j+1],B);return B&&w(B,B.next)&&(R(B),B=B.next),B}function e(E,z){if(!E)return E;z||(z=E);var I=E,O;do if(O=!1,!I.steiner&&(w(I,I.next)||v(I.prev,I,I.next)===0)){if(R(I),I=z=I.prev,I===I.next)break;O=!0}else I=I.next;while(O||I!==z);return z}function i(E,z,I,O,k,j,B){if(E){!B&&j&&c(E,O,k,j);for(var L=E,U,H;E.prev!==E.next;){if(U=E.prev,H=E.next,j?r(E,O,k,j):n(E)){z.push(U.i/I|0),z.push(E.i/I|0),z.push(H.i/I|0),R(E),E=H.next,L=H.next;continue}if(E=H,E===L){B?B===1?(E=o(e(E),z,I),i(E,z,I,O,k,j,2)):B===2&&a(E,z,I,O,k,j):i(e(E),z,I,O,k,j,1);break}}}}function n(E){var z=E.prev,I=E,O=E.next;if(v(z,I,O)>=0)return!1;for(var k=z.x,j=I.x,B=O.x,L=z.y,U=I.y,H=O.y,V=k<j?k<B?k:B:j<B?j:B,Z=L<U?L<H?L:H:U<H?U:H,J=k>j?k>B?k:B:j>B?j:B,it=L>U?L>H?L:H:U>H?U:H,W=O.next;W!==z;){if(W.x>=V&&W.x<=J&&W.y>=Z&&W.y<=it&&y(k,L,j,U,B,H,W.x,W.y)&&v(W.prev,W,W.next)>=0)return!1;W=W.next}return!0}function r(E,z,I,O){var k=E.prev,j=E,B=E.next;if(v(k,j,B)>=0)return!1;for(var L=k.x,U=j.x,H=B.x,V=k.y,Z=j.y,J=B.y,it=L<U?L<H?L:H:U<H?U:H,W=V<Z?V<J?V:J:Z<J?Z:J,Q=L>U?L>H?L:H:U>H?U:H,tt=V>Z?V>J?V:J:Z>J?Z:J,dt=p(it,W,z,I,O),bt=p(Q,tt,z,I,O),K=E.prevZ,ot=E.nextZ;K&&K.z>=dt&&ot&&ot.z<=bt;){if(K.x>=it&&K.x<=Q&&K.y>=W&&K.y<=tt&&K!==k&&K!==B&&y(L,V,U,Z,H,J,K.x,K.y)&&v(K.prev,K,K.next)>=0||(K=K.prevZ,ot.x>=it&&ot.x<=Q&&ot.y>=W&&ot.y<=tt&&ot!==k&&ot!==B&&y(L,V,U,Z,H,J,ot.x,ot.y)&&v(ot.prev,ot,ot.next)>=0))return!1;ot=ot.nextZ}for(;K&&K.z>=dt;){if(K.x>=it&&K.x<=Q&&K.y>=W&&K.y<=tt&&K!==k&&K!==B&&y(L,V,U,Z,H,J,K.x,K.y)&&v(K.prev,K,K.next)>=0)return!1;K=K.prevZ}for(;ot&&ot.z<=bt;){if(ot.x>=it&&ot.x<=Q&&ot.y>=W&&ot.y<=tt&&ot!==k&&ot!==B&&y(L,V,U,Z,H,J,ot.x,ot.y)&&v(ot.prev,ot,ot.next)>=0)return!1;ot=ot.nextZ}return!0}function o(E,z,I){var O=E;do{var k=O.prev,j=O.next.next;!w(k,j)&&_(k,O,O.next,j)&&A(k,j)&&A(j,k)&&(z.push(k.i/I|0),z.push(O.i/I|0),z.push(j.i/I|0),R(O),R(O.next),O=E=j),O=O.next}while(O!==E);return e(O)}function a(E,z,I,O,k,j){var B=E;do{for(var L=B.next.next;L!==B.prev;){if(B.i!==L.i&&x(B,L)){var U=M(B,L);B=e(B,B.next),U=e(U,U.next),i(B,z,I,O,k,j,0),i(U,z,I,O,k,j,0);return}L=L.next}B=B.next}while(B!==E)}function h(E,z,I,O){var k=[],j,B,L,U,H;for(j=0,B=z.length;j<B;j++)L=z[j]*O,U=j<B-1?z[j+1]*O:E.length,H=t(E,L,U,O,!1),H===H.next&&(H.steiner=!0),k.push(m(H));for(k.sort(l),j=0;j<k.length;j++)I=u(k[j],I);return I}function l(E,z){return E.x-z.x}function u(E,z){var I=d(E,z);if(!I)return z;var O=M(I,E);return e(O,O.next),e(I,I.next)}function d(E,z){var I=z,O=E.x,k=E.y,j=-1/0,B;do{if(k<=I.y&&k>=I.next.y&&I.next.y!==I.y){var L=I.x+(k-I.y)*(I.next.x-I.x)/(I.next.y-I.y);if(L<=O&&L>j&&(j=L,B=I.x<I.next.x?I:I.next,L===O))return B}I=I.next}while(I!==z);if(!B)return null;var U=B,H=B.x,V=B.y,Z=1/0,J;I=B;do O>=I.x&&I.x>=H&&O!==I.x&&y(k<V?O:j,k,H,V,k<V?j:O,k,I.x,I.y)&&(J=Math.abs(k-I.y)/(O-I.x),A(I,E)&&(J<Z||J===Z&&(I.x>B.x||I.x===B.x&&f(B,I)))&&(B=I,Z=J)),I=I.next;while(I!==U);return B}function f(E,z){return v(E.prev,E,z.prev)<0&&v(z.next,E,E.next)<0}function c(E,z,I,O){var k=E;do k.z===0&&(k.z=p(k.x,k.y,z,I,O)),k.prevZ=k.prev,k.nextZ=k.next,k=k.next;while(k!==E);k.prevZ.nextZ=null,k.prevZ=null,g(k)}function g(E){var z,I,O,k,j,B,L,U,H=1;do{for(I=E,E=null,j=null,B=0;I;){for(B++,O=I,L=0,z=0;z<H&&(L++,O=O.nextZ,!!O);z++);for(U=H;L>0||U>0&&O;)L!==0&&(U===0||!O||I.z<=O.z)?(k=I,I=I.nextZ,L--):(k=O,O=O.nextZ,U--),j?j.nextZ=k:E=k,k.prevZ=j,j=k;I=O}j.nextZ=null,H*=2}while(B>1);return E}function p(E,z,I,O,k){return E=(E-I)*k|0,z=(z-O)*k|0,E=(E|E<<8)&16711935,E=(E|E<<4)&252645135,E=(E|E<<2)&858993459,E=(E|E<<1)&1431655765,z=(z|z<<8)&16711935,z=(z|z<<4)&252645135,z=(z|z<<2)&858993459,z=(z|z<<1)&1431655765,E|z<<1}function m(E){var z=E,I=E;do(z.x<I.x||z.x===I.x&&z.y<I.y)&&(I=z),z=z.next;while(z!==E);return I}function y(E,z,I,O,k,j,B,L){return(k-B)*(z-L)>=(E-B)*(j-L)&&(E-B)*(O-L)>=(I-B)*(z-L)&&(I-B)*(j-L)>=(k-B)*(O-L)}function x(E,z){return E.next.i!==z.i&&E.prev.i!==z.i&&!S(E,z)&&(A(E,z)&&A(z,E)&&P(E,z)&&(v(E.prev,E,z.prev)||v(E,z.prev,z))||w(E,z)&&v(E.prev,E,E.next)>0&&v(z.prev,z,z.next)>0)}function v(E,z,I){return(z.y-E.y)*(I.x-z.x)-(z.x-E.x)*(I.y-z.y)}function w(E,z){return E.x===z.x&&E.y===z.y}function _(E,z,I,O){var k=b(v(E,z,I)),j=b(v(E,z,O)),B=b(v(I,O,E)),L=b(v(I,O,z));return!!(k!==j&&B!==L||k===0&&T(E,I,z)||j===0&&T(E,O,z)||B===0&&T(I,E,O)||L===0&&T(I,z,O))}function T(E,z,I){return z.x<=Math.max(E.x,I.x)&&z.x>=Math.min(E.x,I.x)&&z.y<=Math.max(E.y,I.y)&&z.y>=Math.min(E.y,I.y)}function b(E){return E>0?1:E<0?-1:0}function S(E,z){var I=E;do{if(I.i!==E.i&&I.next.i!==E.i&&I.i!==z.i&&I.next.i!==z.i&&_(I,I.next,E,z))return!0;I=I.next}while(I!==E);return!1}function A(E,z){return v(E.prev,E,E.next)<0?v(E,z,E.next)>=0&&v(E,E.prev,z)>=0:v(E,z,E.prev)<0||v(E,E.next,z)<0}function P(E,z){var I=E,O=!1,k=(E.x+z.x)/2,j=(E.y+z.y)/2;do I.y>j!=I.next.y>j&&I.next.y!==I.y&&k<(I.next.x-I.x)*(j-I.y)/(I.next.y-I.y)+I.x&&(O=!O),I=I.next;while(I!==E);return O}function M(E,z){var I=new D(E.i,E.x,E.y),O=new D(z.i,z.x,z.y),k=E.next,j=z.prev;return E.next=z,z.prev=E,I.next=k,k.prev=I,O.next=I,I.prev=O,j.next=O,O.prev=j,O}function C(E,z,I,O){var k=new D(E,z,I);return O?(k.next=O.next,k.prev=O,O.next.prev=k,O.next=k):(k.prev=k,k.next=k),k}function R(E){E.next.prev=E.prev,E.prev.next=E.next,E.prevZ&&(E.prevZ.nextZ=E.nextZ),E.nextZ&&(E.nextZ.prevZ=E.prevZ)}function D(E,z,I){this.i=E,this.x=z,this.y=I,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}s.deviation=function(E,z,I,O){var k=z&&z.length,j=k?z[0]*I:E.length,B=Math.abs(F(E,0,j,I));if(k)for(var L=0,U=z.length;L<U;L++){var H=z[L]*I,V=L<U-1?z[L+1]*I:E.length;B-=Math.abs(F(E,H,V,I))}var Z=0;for(L=0;L<O.length;L+=3){var J=O[L]*I,it=O[L+1]*I,W=O[L+2]*I;Z+=Math.abs((E[J]-E[W])*(E[it+1]-E[J+1])-(E[J]-E[it])*(E[W+1]-E[J+1]))}return B===0&&Z===0?0:Math.abs((Z-B)/B)};function F(E,z,I,O){for(var k=0,j=z,B=I-O;j<I;j+=O)k+=(E[B]-E[j])*(E[j+1]+E[B+1]),B=j;return k}return s.flatten=function(E){for(var z=E[0][0].length,I={vertices:[],holes:[],dimensions:z},O=0,k=0;k<E.length;k++){for(var j=0;j<E[k].length;j++)for(var B=0;B<z;B++)I.vertices.push(E[k][j][B]);k>0&&(O+=E[k-1].length,I.holes.push(O))}return I},Yo.exports}var kT=DT();const uv=_s(kT);var or={},Ds={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */var FT=Ds.exports,im;function jT(){return im||(im=1,function(s,t){(function(e){var i=t&&!t.nodeType&&t,n=s&&!s.nodeType&&s,r=typeof Ni=="object"&&Ni;(r.global===r||r.window===r||r.self===r)&&(e=r);var o,a=2147483647,h=36,l=1,u=26,d=38,f=700,c=72,g=128,p="-",m=/^xn--/,y=/[^\x20-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,v={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=h-l,_=Math.floor,T=String.fromCharCode,b;function S(k){throw new RangeError(v[k])}function A(k,j){for(var B=k.length,L=[];B--;)L[B]=j(k[B]);return L}function P(k,j){var B=k.split("@"),L="";B.length>1&&(L=B[0]+"@",k=B[1]),k=k.replace(x,".");var U=k.split("."),H=A(U,j).join(".");return L+H}function M(k){for(var j=[],B=0,L=k.length,U,H;B<L;)U=k.charCodeAt(B++),U>=55296&&U<=56319&&B<L?(H=k.charCodeAt(B++),(H&64512)==56320?j.push(((U&1023)<<10)+(H&1023)+65536):(j.push(U),B--)):j.push(U);return j}function C(k){return A(k,function(j){var B="";return j>65535&&(j-=65536,B+=T(j>>>10&1023|55296),j=56320|j&1023),B+=T(j),B}).join("")}function R(k){return k-48<10?k-22:k-65<26?k-65:k-97<26?k-97:h}function D(k,j){return k+22+75*(k<26)-((j!=0)<<5)}function F(k,j,B){var L=0;for(k=B?_(k/f):k>>1,k+=_(k/j);k>w*u>>1;L+=h)k=_(k/w);return _(L+(w+1)*k/(k+d))}function E(k){var j=[],B=k.length,L,U=0,H=g,V=c,Z,J,it,W,Q,tt,dt,bt,K;for(Z=k.lastIndexOf(p),Z<0&&(Z=0),J=0;J<Z;++J)k.charCodeAt(J)>=128&&S("not-basic"),j.push(k.charCodeAt(J));for(it=Z>0?Z+1:0;it<B;){for(W=U,Q=1,tt=h;it>=B&&S("invalid-input"),dt=R(k.charCodeAt(it++)),(dt>=h||dt>_((a-U)/Q))&&S("overflow"),U+=dt*Q,bt=tt<=V?l:tt>=V+u?u:tt-V,!(dt<bt);tt+=h)K=h-bt,Q>_(a/K)&&S("overflow"),Q*=K;L=j.length+1,V=F(U-W,L,W==0),_(U/L)>a-H&&S("overflow"),H+=_(U/L),U%=L,j.splice(U++,0,H)}return C(j)}function z(k){var j,B,L,U,H,V,Z,J,it,W,Q,tt=[],dt,bt,K,ot;for(k=M(k),dt=k.length,j=g,B=0,H=c,V=0;V<dt;++V)Q=k[V],Q<128&&tt.push(T(Q));for(L=U=tt.length,U&&tt.push(p);L<dt;){for(Z=a,V=0;V<dt;++V)Q=k[V],Q>=j&&Q<Z&&(Z=Q);for(bt=L+1,Z-j>_((a-B)/bt)&&S("overflow"),B+=(Z-j)*bt,j=Z,V=0;V<dt;++V)if(Q=k[V],Q<j&&++B>a&&S("overflow"),Q==j){for(J=B,it=h;W=it<=H?l:it>=H+u?u:it-H,!(J<W);it+=h)ot=J-W,K=h-W,tt.push(T(D(W+ot%K,0))),J=_(ot/K);tt.push(T(D(J,0))),H=F(B,bt,L==U),B=0,++L}++B,++j}return tt.join("")}function I(k){return P(k,function(j){return m.test(j)?E(j.slice(4).toLowerCase()):j})}function O(k){return P(k,function(j){return y.test(j)?"xn--"+z(j):j})}if(o={version:"1.4.1",ucs2:{decode:M,encode:C},decode:E,encode:z,toASCII:O,toUnicode:I},i&&n)if(s.exports==i)n.exports=o;else for(b in o)o.hasOwnProperty(b)&&(i[b]=o[b]);else e.punycode=o})(FT)}(Ds,Ds.exports)),Ds.exports}var rl,nm;function vs(){return nm||(nm=1,rl=TypeError),rl}const OT={},BT=Object.freeze(Object.defineProperty({__proto__:null,default:OT},Symbol.toStringTag,{value:"Module"})),LT=MT(BT);var sl,rm;function gh(){if(rm)return sl;rm=1;var s=typeof Map=="function"&&Map.prototype,t=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,e=s&&t&&typeof t.get=="function"?t.get:null,i=s&&Map.prototype.forEach,n=typeof Set=="function"&&Set.prototype,r=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,o=n&&r&&typeof r.get=="function"?r.get:null,a=n&&Set.prototype.forEach,h=typeof WeakMap=="function"&&WeakMap.prototype,l=h?WeakMap.prototype.has:null,u=typeof WeakSet=="function"&&WeakSet.prototype,d=u?WeakSet.prototype.has:null,f=typeof WeakRef=="function"&&WeakRef.prototype,c=f?WeakRef.prototype.deref:null,g=Boolean.prototype.valueOf,p=Object.prototype.toString,m=Function.prototype.toString,y=String.prototype.match,x=String.prototype.slice,v=String.prototype.replace,w=String.prototype.toUpperCase,_=String.prototype.toLowerCase,T=RegExp.prototype.test,b=Array.prototype.concat,S=Array.prototype.join,A=Array.prototype.slice,P=Math.floor,M=typeof BigInt=="function"?BigInt.prototype.valueOf:null,C=Object.getOwnPropertySymbols,R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,D=typeof Symbol=="function"&&typeof Symbol.iterator=="object",F=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===D||!0)?Symbol.toStringTag:null,E=Object.prototype.propertyIsEnumerable,z=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(N){return N.__proto__}:null);function I(N,q){if(N===1/0||N===-1/0||N!==N||N&&N>-1e3&&N<1e3||T.call(/e/,q))return q;var Ct=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof N=="number"){var Dt=N<0?-P(-N):P(N);if(Dt!==N){var jt=String(Dt),wt=x.call(q,jt.length+1);return v.call(jt,Ct,"$&_")+"."+v.call(v.call(wt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return v.call(q,Ct,"$&_")}var O=LT,k=O.custom,j=bt(k)?k:null,B={__proto__:null,double:'"',single:"'"},L={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};sl=function N(q,Ct,Dt,jt){var wt=Ct||{};if(ct(wt,"quoteStyle")&&!ct(B,wt.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ct(wt,"maxStringLength")&&(typeof wt.maxStringLength=="number"?wt.maxStringLength<0&&wt.maxStringLength!==1/0:wt.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Cn=ct(wt,"customInspect")?wt.customInspect:!0;if(typeof Cn!="boolean"&&Cn!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ct(wt,"indent")&&wt.indent!==null&&wt.indent!=="	"&&!(parseInt(wt.indent,10)===wt.indent&&wt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ct(wt,"numericSeparator")&&typeof wt.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var sr=wt.numericSeparator;if(typeof q>"u")return"undefined";if(q===null)return"null";if(typeof q=="boolean")return q?"true":"false";if(typeof q=="string")return rr(q,wt);if(typeof q=="number"){if(q===0)return 1/0/q>0?"0":"-0";var je=String(q);return sr?I(q,je):je}if(typeof q=="bigint"){var Pn=String(q)+"n";return sr?I(q,Pn):Pn}var Xh=typeof wt.depth>"u"?5:wt.depth;if(typeof Dt>"u"&&(Dt=0),Dt>=Xh&&Xh>0&&typeof q=="object")return Z(q)?"[Array]":"[Object]";var jr=zi(wt,Dt);if(typeof jt>"u")jt=[];else if(ke(jt,q)>=0)return"[Circular]";function di(Or,$o,AT){if($o&&(jt=A.call(jt),jt.push($o)),AT){var qp={depth:wt.depth};return ct(wt,"quoteStyle")&&(qp.quoteStyle=wt.quoteStyle),N(Or,qp,Dt+1,jt)}return N(Or,wt,Dt+1,jt)}if(typeof q=="function"&&!it(q)){var kp=Ut(q),Fp=Wo(q,di);return"[Function"+(kp?": "+kp:" (anonymous)")+"]"+(Fp.length>0?" { "+S.call(Fp,", ")+" }":"")}if(bt(q)){var jp=D?v.call(String(q),/^(Symbol\(.*\))_[^)]*$/,"$1"):R.call(q);return typeof q=="object"&&!D?Fe(jp):jp}if(En(q)){for(var As="<"+_.call(String(q.nodeName)),Yh=q.attributes||[],Vo=0;Vo<Yh.length;Vo++)As+=" "+Yh[Vo].name+"="+U(H(Yh[Vo].value),"double",wt);return As+=">",q.childNodes&&q.childNodes.length&&(As+="..."),As+="</"+_.call(String(q.nodeName))+">",As}if(Z(q)){if(q.length===0)return"[]";var Zh=Wo(q,di);return jr&&!Ho(Zh)?"["+ci(Zh,jr)+"]":"[ "+S.call(Zh,", ")+" ]"}if(W(q)){var Kh=Wo(q,di);return!("cause"in Error.prototype)&&"cause"in q&&!E.call(q,"cause")?"{ ["+String(q)+"] "+S.call(b.call("[cause]: "+di(q.cause),Kh),", ")+" }":Kh.length===0?"["+String(q)+"]":"{ ["+String(q)+"] "+S.call(Kh,", ")+" }"}if(typeof q=="object"&&Cn){if(j&&typeof q[j]=="function"&&O)return O(q,{depth:Xh-Dt});if(Cn!=="symbol"&&typeof q.inspect=="function")return q.inspect()}if(Kt(q)){var Op=[];return i&&i.call(q,function(Or,$o){Op.push(di($o,q,!0)+" => "+di(Or,q))}),Go("Map",e.call(q),Op,jr)}if(Te(q)){var Bp=[];return a&&a.call(q,function(Or){Bp.push(di(Or,q))}),Go("Set",o.call(q),Bp,jr)}if(se(q))return ui("WeakMap");if(nn(q))return ui("WeakSet");if(Ot(q))return ui("WeakRef");if(tt(q))return Fe(di(Number(q)));if(K(q))return Fe(di(M.call(q)));if(dt(q))return Fe(g.call(q));if(Q(q))return Fe(di(String(q)));if(typeof window<"u"&&q===window)return"{ [object Window] }";if(typeof globalThis<"u"&&q===globalThis||typeof Ni<"u"&&q===Ni)return"{ [object globalThis] }";if(!J(q)&&!it(q)){var Jh=Wo(q,di),Lp=z?z(q)===Object.prototype:q instanceof Object||q.constructor===Object,Qh=q instanceof Object?"":"null prototype",Np=!Lp&&F&&Object(q)===q&&F in q?x.call(Pt(q),8,-1):Qh?"Object":"",ST=Lp||typeof q.constructor!="function"?"":q.constructor.name?q.constructor.name+" ":"",tl=ST+(Np||Qh?"["+S.call(b.call([],Np||[],Qh||[]),": ")+"] ":"");return Jh.length===0?tl+"{}":jr?tl+"{"+ci(Jh,jr)+"}":tl+"{ "+S.call(Jh,", ")+" }"}return String(q)};function U(N,q,Ct){var Dt=Ct.quoteStyle||q,jt=B[Dt];return jt+N+jt}function H(N){return v.call(String(N),/"/g,"&quot;")}function V(N){return!F||!(typeof N=="object"&&(F in N||typeof N[F]<"u"))}function Z(N){return Pt(N)==="[object Array]"&&V(N)}function J(N){return Pt(N)==="[object Date]"&&V(N)}function it(N){return Pt(N)==="[object RegExp]"&&V(N)}function W(N){return Pt(N)==="[object Error]"&&V(N)}function Q(N){return Pt(N)==="[object String]"&&V(N)}function tt(N){return Pt(N)==="[object Number]"&&V(N)}function dt(N){return Pt(N)==="[object Boolean]"&&V(N)}function bt(N){if(D)return N&&typeof N=="object"&&N instanceof Symbol;if(typeof N=="symbol")return!0;if(!N||typeof N!="object"||!R)return!1;try{return R.call(N),!0}catch{}return!1}function K(N){if(!N||typeof N!="object"||!M)return!1;try{return M.call(N),!0}catch{}return!1}var ot=Object.prototype.hasOwnProperty||function(N){return N in this};function ct(N,q){return ot.call(N,q)}function Pt(N){return p.call(N)}function Ut(N){if(N.name)return N.name;var q=y.call(m.call(N),/^function\s*([\w$]+)/);return q?q[1]:null}function ke(N,q){if(N.indexOf)return N.indexOf(q);for(var Ct=0,Dt=N.length;Ct<Dt;Ct++)if(N[Ct]===q)return Ct;return-1}function Kt(N){if(!e||!N||typeof N!="object")return!1;try{e.call(N);try{o.call(N)}catch{return!0}return N instanceof Map}catch{}return!1}function se(N){if(!l||!N||typeof N!="object")return!1;try{l.call(N,l);try{d.call(N,d)}catch{return!0}return N instanceof WeakMap}catch{}return!1}function Ot(N){if(!c||!N||typeof N!="object")return!1;try{return c.call(N),!0}catch{}return!1}function Te(N){if(!o||!N||typeof N!="object")return!1;try{o.call(N);try{e.call(N)}catch{return!0}return N instanceof Set}catch{}return!1}function nn(N){if(!d||!N||typeof N!="object")return!1;try{d.call(N,d);try{l.call(N,l)}catch{return!0}return N instanceof WeakSet}catch{}return!1}function En(N){return!N||typeof N!="object"?!1:typeof HTMLElement<"u"&&N instanceof HTMLElement?!0:typeof N.nodeName=="string"&&typeof N.getAttribute=="function"}function rr(N,q){if(N.length>q.maxStringLength){var Ct=N.length-q.maxStringLength,Dt="... "+Ct+" more character"+(Ct>1?"s":"");return rr(x.call(N,0,q.maxStringLength),q)+Dt}var jt=L[q.quoteStyle||"single"];jt.lastIndex=0;var wt=v.call(v.call(N,jt,"\\$1"),/[\x00-\x1f]/g,Mi);return U(wt,"single",q)}function Mi(N){var q=N.charCodeAt(0),Ct={8:"b",9:"t",10:"n",12:"f",13:"r"}[q];return Ct?"\\"+Ct:"\\x"+(q<16?"0":"")+w.call(q.toString(16))}function Fe(N){return"Object("+N+")"}function ui(N){return N+" { ? }"}function Go(N,q,Ct,Dt){var jt=Dt?ci(Ct,Dt):S.call(Ct,", ");return N+" ("+q+") {"+jt+"}"}function Ho(N){for(var q=0;q<N.length;q++)if(ke(N[q],`
`)>=0)return!1;return!0}function zi(N,q){var Ct;if(N.indent==="	")Ct="	";else if(typeof N.indent=="number"&&N.indent>0)Ct=S.call(Array(N.indent+1)," ");else return null;return{base:Ct,prev:S.call(Array(q+1),Ct)}}function ci(N,q){if(N.length===0)return"";var Ct=`
`+q.prev+q.base;return Ct+S.call(N,","+Ct)+`
`+q.prev}function Wo(N,q){var Ct=Z(N),Dt=[];if(Ct){Dt.length=N.length;for(var jt=0;jt<N.length;jt++)Dt[jt]=ct(N,jt)?q(N[jt],N):""}var wt=typeof C=="function"?C(N):[],Cn;if(D){Cn={};for(var sr=0;sr<wt.length;sr++)Cn["$"+wt[sr]]=wt[sr]}for(var je in N)ct(N,je)&&(Ct&&String(Number(je))===je&&je<N.length||D&&Cn["$"+je]instanceof Symbol||(T.call(/[^\w$]/,je)?Dt.push(q(je,N)+": "+q(N[je],N)):Dt.push(je+": "+q(N[je],N))));if(typeof C=="function")for(var Pn=0;Pn<wt.length;Pn++)E.call(N,wt[Pn])&&Dt.push("["+q(wt[Pn])+"]: "+q(N[wt[Pn]],N));return Dt}return sl}var ol,sm;function NT(){if(sm)return ol;sm=1;var s=gh(),t=vs(),e=function(a,h,l){for(var u=a,d;(d=u.next)!=null;u=d)if(d.key===h)return u.next=d.next,l||(d.next=a.next,a.next=d),d},i=function(a,h){if(a){var l=e(a,h);return l&&l.value}},n=function(a,h,l){var u=e(a,h);u?u.value=l:a.next={key:h,next:a.next,value:l}},r=function(a,h){return a?!!e(a,h):!1},o=function(a,h){if(a)return e(a,h,!0)};return ol=function(){var h,l={assert:function(u){if(!l.has(u))throw new t("Side channel does not contain "+s(u))},delete:function(u){var d=h&&h.next,f=o(h,u);return f&&d&&d===f&&(h=void 0),!!f},get:function(u){return i(h,u)},has:function(u){return r(h,u)},set:function(u,d){h||(h={next:void 0}),n(h,u,d)}};return l},ol}var al,om;function cv(){return om||(om=1,al=Object),al}var hl,am;function qT(){return am||(am=1,hl=Error),hl}var ll,hm;function UT(){return hm||(hm=1,ll=EvalError),ll}var ul,lm;function GT(){return lm||(lm=1,ul=RangeError),ul}var cl,um;function HT(){return um||(um=1,cl=ReferenceError),cl}var dl,cm;function WT(){return cm||(cm=1,dl=SyntaxError),dl}var fl,dm;function VT(){return dm||(dm=1,fl=URIError),fl}var gl,fm;function $T(){return fm||(fm=1,gl=Math.abs),gl}var pl,gm;function XT(){return gm||(gm=1,pl=Math.floor),pl}var ml,pm;function YT(){return pm||(pm=1,ml=Math.max),ml}var yl,mm;function ZT(){return mm||(mm=1,yl=Math.min),yl}var _l,ym;function KT(){return ym||(ym=1,_l=Math.pow),_l}var xl,_m;function JT(){return _m||(_m=1,xl=Math.round),xl}var vl,xm;function QT(){return xm||(xm=1,vl=Number.isNaN||function(t){return t!==t}),vl}var bl,vm;function tS(){if(vm)return bl;vm=1;var s=QT();return bl=function(e){return s(e)||e===0?e:e<0?-1:1},bl}var wl,bm;function eS(){return bm||(bm=1,wl=Object.getOwnPropertyDescriptor),wl}var Tl,wm;function dv(){if(wm)return Tl;wm=1;var s=eS();if(s)try{s([],"length")}catch{s=null}return Tl=s,Tl}var Sl,Tm;function iS(){if(Tm)return Sl;Tm=1;var s=Object.defineProperty||!1;if(s)try{s({},"a",{value:1})}catch{s=!1}return Sl=s,Sl}var Al,Sm;function nS(){return Sm||(Sm=1,Al=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},e=Symbol("test"),i=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var n=42;t[e]=n;for(var r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==e||!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(t,e);if(a.value!==n||a.enumerable!==!0)return!1}return!0}),Al}var El,Am;function rS(){if(Am)return El;Am=1;var s=typeof Symbol<"u"&&Symbol,t=nS();return El=function(){return typeof s!="function"||typeof Symbol!="function"||typeof s("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},El}var Cl,Em;function fv(){return Em||(Em=1,Cl=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Cl}var Pl,Cm;function gv(){if(Cm)return Pl;Cm=1;var s=cv();return Pl=s.getPrototypeOf||null,Pl}var Il,Pm;function sS(){if(Pm)return Il;Pm=1;var s="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,e=Math.max,i="[object Function]",n=function(h,l){for(var u=[],d=0;d<h.length;d+=1)u[d]=h[d];for(var f=0;f<l.length;f+=1)u[f+h.length]=l[f];return u},r=function(h,l){for(var u=[],d=l,f=0;d<h.length;d+=1,f+=1)u[f]=h[d];return u},o=function(a,h){for(var l="",u=0;u<a.length;u+=1)l+=a[u],u+1<a.length&&(l+=h);return l};return Il=function(h){var l=this;if(typeof l!="function"||t.apply(l)!==i)throw new TypeError(s+l);for(var u=r(arguments,1),d,f=function(){if(this instanceof d){var y=l.apply(this,n(u,arguments));return Object(y)===y?y:this}return l.apply(h,n(u,arguments))},c=e(0,l.length-u.length),g=[],p=0;p<c;p++)g[p]="$"+p;if(d=Function("binder","return function ("+o(g,",")+"){ return binder.apply(this,arguments); }")(f),l.prototype){var m=function(){};m.prototype=l.prototype,d.prototype=new m,m.prototype=null}return d},Il}var Ml,Im;function ph(){if(Im)return Ml;Im=1;var s=sS();return Ml=Function.prototype.bind||s,Ml}var zl,Mm;function sg(){return Mm||(Mm=1,zl=Function.prototype.call),zl}var Rl,zm;function pv(){return zm||(zm=1,Rl=Function.prototype.apply),Rl}var Dl,Rm;function oS(){return Rm||(Rm=1,Dl=typeof Reflect<"u"&&Reflect&&Reflect.apply),Dl}var kl,Dm;function aS(){if(Dm)return kl;Dm=1;var s=ph(),t=pv(),e=sg(),i=oS();return kl=i||s.call(e,t),kl}var Fl,km;function mv(){if(km)return Fl;km=1;var s=ph(),t=vs(),e=sg(),i=aS();return Fl=function(r){if(r.length<1||typeof r[0]!="function")throw new t("a function is required");return i(s,e,r)},Fl}var jl,Fm;function hS(){if(Fm)return jl;Fm=1;var s=mv(),t=dv(),e;try{e=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var i=!!e&&t&&t(Object.prototype,"__proto__"),n=Object,r=n.getPrototypeOf;return jl=i&&typeof i.get=="function"?s([i.get]):typeof r=="function"?function(a){return r(a==null?a:n(a))}:!1,jl}var Ol,jm;function lS(){if(jm)return Ol;jm=1;var s=fv(),t=gv(),e=hS();return Ol=s?function(n){return s(n)}:t?function(n){if(!n||typeof n!="object"&&typeof n!="function")throw new TypeError("getProto: not an object");return t(n)}:e?function(n){return e(n)}:null,Ol}var Bl,Om;function uS(){if(Om)return Bl;Om=1;var s=Function.prototype.call,t=Object.prototype.hasOwnProperty,e=ph();return Bl=e.call(s,t),Bl}var Ll,Bm;function og(){if(Bm)return Ll;Bm=1;var s,t=cv(),e=qT(),i=UT(),n=GT(),r=HT(),o=WT(),a=vs(),h=VT(),l=$T(),u=XT(),d=YT(),f=ZT(),c=KT(),g=JT(),p=tS(),m=Function,y=function(it){try{return m('"use strict"; return ('+it+").constructor;")()}catch{}},x=dv(),v=iS(),w=function(){throw new a},_=x?function(){try{return arguments.callee,w}catch{try{return x(arguments,"callee").get}catch{return w}}}():w,T=rS()(),b=lS(),S=gv(),A=fv(),P=pv(),M=sg(),C={},R=typeof Uint8Array>"u"||!b?s:b(Uint8Array),D={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?s:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?s:ArrayBuffer,"%ArrayIteratorPrototype%":T&&b?b([][Symbol.iterator]()):s,"%AsyncFromSyncIteratorPrototype%":s,"%AsyncFunction%":C,"%AsyncGenerator%":C,"%AsyncGeneratorFunction%":C,"%AsyncIteratorPrototype%":C,"%Atomics%":typeof Atomics>"u"?s:Atomics,"%BigInt%":typeof BigInt>"u"?s:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?s:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?s:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?s:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":e,"%eval%":eval,"%EvalError%":i,"%Float16Array%":typeof Float16Array>"u"?s:Float16Array,"%Float32Array%":typeof Float32Array>"u"?s:Float32Array,"%Float64Array%":typeof Float64Array>"u"?s:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?s:FinalizationRegistry,"%Function%":m,"%GeneratorFunction%":C,"%Int8Array%":typeof Int8Array>"u"?s:Int8Array,"%Int16Array%":typeof Int16Array>"u"?s:Int16Array,"%Int32Array%":typeof Int32Array>"u"?s:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":T&&b?b(b([][Symbol.iterator]())):s,"%JSON%":typeof JSON=="object"?JSON:s,"%Map%":typeof Map>"u"?s:Map,"%MapIteratorPrototype%":typeof Map>"u"||!T||!b?s:b(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":x,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?s:Promise,"%Proxy%":typeof Proxy>"u"?s:Proxy,"%RangeError%":n,"%ReferenceError%":r,"%Reflect%":typeof Reflect>"u"?s:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?s:Set,"%SetIteratorPrototype%":typeof Set>"u"||!T||!b?s:b(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?s:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":T&&b?b(""[Symbol.iterator]()):s,"%Symbol%":T?Symbol:s,"%SyntaxError%":o,"%ThrowTypeError%":_,"%TypedArray%":R,"%TypeError%":a,"%Uint8Array%":typeof Uint8Array>"u"?s:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?s:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?s:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?s:Uint32Array,"%URIError%":h,"%WeakMap%":typeof WeakMap>"u"?s:WeakMap,"%WeakRef%":typeof WeakRef>"u"?s:WeakRef,"%WeakSet%":typeof WeakSet>"u"?s:WeakSet,"%Function.prototype.call%":M,"%Function.prototype.apply%":P,"%Object.defineProperty%":v,"%Object.getPrototypeOf%":S,"%Math.abs%":l,"%Math.floor%":u,"%Math.max%":d,"%Math.min%":f,"%Math.pow%":c,"%Math.round%":g,"%Math.sign%":p,"%Reflect.getPrototypeOf%":A};if(b)try{null.error}catch(it){var F=b(b(it));D["%Error.prototype%"]=F}var E=function it(W){var Q;if(W==="%AsyncFunction%")Q=y("async function () {}");else if(W==="%GeneratorFunction%")Q=y("function* () {}");else if(W==="%AsyncGeneratorFunction%")Q=y("async function* () {}");else if(W==="%AsyncGenerator%"){var tt=it("%AsyncGeneratorFunction%");tt&&(Q=tt.prototype)}else if(W==="%AsyncIteratorPrototype%"){var dt=it("%AsyncGenerator%");dt&&b&&(Q=b(dt.prototype))}return D[W]=Q,Q},z={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},I=ph(),O=uS(),k=I.call(M,Array.prototype.concat),j=I.call(P,Array.prototype.splice),B=I.call(M,String.prototype.replace),L=I.call(M,String.prototype.slice),U=I.call(M,RegExp.prototype.exec),H=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,V=/\\(\\)?/g,Z=function(W){var Q=L(W,0,1),tt=L(W,-1);if(Q==="%"&&tt!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(tt==="%"&&Q!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var dt=[];return B(W,H,function(bt,K,ot,ct){dt[dt.length]=ot?B(ct,V,"$1"):K||bt}),dt},J=function(W,Q){var tt=W,dt;if(O(z,tt)&&(dt=z[tt],tt="%"+dt[0]+"%"),O(D,tt)){var bt=D[tt];if(bt===C&&(bt=E(tt)),typeof bt>"u"&&!Q)throw new a("intrinsic "+W+" exists, but is not available. Please file an issue!");return{alias:dt,name:tt,value:bt}}throw new o("intrinsic "+W+" does not exist!")};return Ll=function(W,Q){if(typeof W!="string"||W.length===0)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Q!="boolean")throw new a('"allowMissing" argument must be a boolean');if(U(/^%?[^%]*%?$/,W)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var tt=Z(W),dt=tt.length>0?tt[0]:"",bt=J("%"+dt+"%",Q),K=bt.name,ot=bt.value,ct=!1,Pt=bt.alias;Pt&&(dt=Pt[0],j(tt,k([0,1],Pt)));for(var Ut=1,ke=!0;Ut<tt.length;Ut+=1){var Kt=tt[Ut],se=L(Kt,0,1),Ot=L(Kt,-1);if((se==='"'||se==="'"||se==="`"||Ot==='"'||Ot==="'"||Ot==="`")&&se!==Ot)throw new o("property names with quotes must have matching quotes");if((Kt==="constructor"||!ke)&&(ct=!0),dt+="."+Kt,K="%"+dt+"%",O(D,K))ot=D[K];else if(ot!=null){if(!(Kt in ot)){if(!Q)throw new a("base intrinsic for "+W+" exists, but the property is not available.");return}if(x&&Ut+1>=tt.length){var Te=x(ot,Kt);ke=!!Te,ke&&"get"in Te&&!("originalValue"in Te.get)?ot=Te.get:ot=ot[Kt]}else ke=O(ot,Kt),ot=ot[Kt];ke&&!ct&&(D[K]=ot)}}return ot},Ll}var Nl,Lm;function yv(){if(Lm)return Nl;Lm=1;var s=og(),t=mv(),e=t([s("%String.prototype.indexOf%")]);return Nl=function(n,r){var o=s(n,!!r);return typeof o=="function"&&e(n,".prototype.")>-1?t([o]):o},Nl}var ql,Nm;function _v(){if(Nm)return ql;Nm=1;var s=og(),t=yv(),e=gh(),i=vs(),n=s("%Map%",!0),r=t("Map.prototype.get",!0),o=t("Map.prototype.set",!0),a=t("Map.prototype.has",!0),h=t("Map.prototype.delete",!0),l=t("Map.prototype.size",!0);return ql=!!n&&function(){var d,f={assert:function(c){if(!f.has(c))throw new i("Side channel does not contain "+e(c))},delete:function(c){if(d){var g=h(d,c);return l(d)===0&&(d=void 0),g}return!1},get:function(c){if(d)return r(d,c)},has:function(c){return d?a(d,c):!1},set:function(c,g){d||(d=new n),o(d,c,g)}};return f},ql}var Ul,qm;function cS(){if(qm)return Ul;qm=1;var s=og(),t=yv(),e=gh(),i=_v(),n=vs(),r=s("%WeakMap%",!0),o=t("WeakMap.prototype.get",!0),a=t("WeakMap.prototype.set",!0),h=t("WeakMap.prototype.has",!0),l=t("WeakMap.prototype.delete",!0);return Ul=r?function(){var d,f,c={assert:function(g){if(!c.has(g))throw new n("Side channel does not contain "+e(g))},delete:function(g){if(r&&g&&(typeof g=="object"||typeof g=="function")){if(d)return l(d,g)}else if(i&&f)return f.delete(g);return!1},get:function(g){return r&&g&&(typeof g=="object"||typeof g=="function")&&d?o(d,g):f&&f.get(g)},has:function(g){return r&&g&&(typeof g=="object"||typeof g=="function")&&d?h(d,g):!!f&&f.has(g)},set:function(g,p){r&&g&&(typeof g=="object"||typeof g=="function")?(d||(d=new r),a(d,g,p)):i&&(f||(f=i()),f.set(g,p))}};return c}:i,Ul}var Gl,Um;function dS(){if(Um)return Gl;Um=1;var s=vs(),t=gh(),e=NT(),i=_v(),n=cS(),r=n||i||e;return Gl=function(){var a,h={assert:function(l){if(!h.has(l))throw new s("Side channel does not contain "+t(l))},delete:function(l){return!!a&&a.delete(l)},get:function(l){return a&&a.get(l)},has:function(l){return!!a&&a.has(l)},set:function(l,u){a||(a=r()),a.set(l,u)}};return h},Gl}var Hl,Gm;function ag(){if(Gm)return Hl;Gm=1;var s=String.prototype.replace,t=/%20/g,e={RFC1738:"RFC1738",RFC3986:"RFC3986"};return Hl={default:e.RFC3986,formatters:{RFC1738:function(i){return s.call(i,t,"+")},RFC3986:function(i){return String(i)}},RFC1738:e.RFC1738,RFC3986:e.RFC3986},Hl}var Wl,Hm;function xv(){if(Hm)return Wl;Hm=1;var s=ag(),t=Object.prototype.hasOwnProperty,e=Array.isArray,i=function(){for(var m=[],y=0;y<256;++y)m.push("%"+((y<16?"0":"")+y.toString(16)).toUpperCase());return m}(),n=function(y){for(;y.length>1;){var x=y.pop(),v=x.obj[x.prop];if(e(v)){for(var w=[],_=0;_<v.length;++_)typeof v[_]<"u"&&w.push(v[_]);x.obj[x.prop]=w}}},r=function(y,x){for(var v=x&&x.plainObjects?{__proto__:null}:{},w=0;w<y.length;++w)typeof y[w]<"u"&&(v[w]=y[w]);return v},o=function m(y,x,v){if(!x)return y;if(typeof x!="object"&&typeof x!="function"){if(e(y))y.push(x);else if(y&&typeof y=="object")(v&&(v.plainObjects||v.allowPrototypes)||!t.call(Object.prototype,x))&&(y[x]=!0);else return[y,x];return y}if(!y||typeof y!="object")return[y].concat(x);var w=y;return e(y)&&!e(x)&&(w=r(y,v)),e(y)&&e(x)?(x.forEach(function(_,T){if(t.call(y,T)){var b=y[T];b&&typeof b=="object"&&_&&typeof _=="object"?y[T]=m(b,_,v):y.push(_)}else y[T]=_}),y):Object.keys(x).reduce(function(_,T){var b=x[T];return t.call(_,T)?_[T]=m(_[T],b,v):_[T]=b,_},w)},a=function(y,x){return Object.keys(x).reduce(function(v,w){return v[w]=x[w],v},y)},h=function(m,y,x){var v=m.replace(/\+/g," ");if(x==="iso-8859-1")return v.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(v)}catch{return v}},l=1024,u=function(y,x,v,w,_){if(y.length===0)return y;var T=y;if(typeof y=="symbol"?T=Symbol.prototype.toString.call(y):typeof y!="string"&&(T=String(y)),v==="iso-8859-1")return escape(T).replace(/%u[0-9a-f]{4}/gi,function(R){return"%26%23"+parseInt(R.slice(2),16)+"%3B"});for(var b="",S=0;S<T.length;S+=l){for(var A=T.length>=l?T.slice(S,S+l):T,P=[],M=0;M<A.length;++M){var C=A.charCodeAt(M);if(C===45||C===46||C===95||C===126||C>=48&&C<=57||C>=65&&C<=90||C>=97&&C<=122||_===s.RFC1738&&(C===40||C===41)){P[P.length]=A.charAt(M);continue}if(C<128){P[P.length]=i[C];continue}if(C<2048){P[P.length]=i[192|C>>6]+i[128|C&63];continue}if(C<55296||C>=57344){P[P.length]=i[224|C>>12]+i[128|C>>6&63]+i[128|C&63];continue}M+=1,C=65536+((C&1023)<<10|A.charCodeAt(M)&1023),P[P.length]=i[240|C>>18]+i[128|C>>12&63]+i[128|C>>6&63]+i[128|C&63]}b+=P.join("")}return b},d=function(y){for(var x=[{obj:{o:y},prop:"o"}],v=[],w=0;w<x.length;++w)for(var _=x[w],T=_.obj[_.prop],b=Object.keys(T),S=0;S<b.length;++S){var A=b[S],P=T[A];typeof P=="object"&&P!==null&&v.indexOf(P)===-1&&(x.push({obj:T,prop:A}),v.push(P))}return n(x),y},f=function(y){return Object.prototype.toString.call(y)==="[object RegExp]"},c=function(y){return!y||typeof y!="object"?!1:!!(y.constructor&&y.constructor.isBuffer&&y.constructor.isBuffer(y))},g=function(y,x){return[].concat(y,x)},p=function(y,x){if(e(y)){for(var v=[],w=0;w<y.length;w+=1)v.push(x(y[w]));return v}return x(y)};return Wl={arrayToObject:r,assign:a,combine:g,compact:d,decode:h,encode:u,isBuffer:c,isRegExp:f,maybeMap:p,merge:o},Wl}var Vl,Wm;function fS(){if(Wm)return Vl;Wm=1;var s=dS(),t=xv(),e=ag(),i=Object.prototype.hasOwnProperty,n={brackets:function(m){return m+"[]"},comma:"comma",indices:function(m,y){return m+"["+y+"]"},repeat:function(m){return m}},r=Array.isArray,o=Array.prototype.push,a=function(p,m){o.apply(p,r(m)?m:[m])},h=Date.prototype.toISOString,l=e.default,u={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:t.encode,encodeValuesOnly:!1,filter:void 0,format:l,formatter:e.formatters[l],indices:!1,serializeDate:function(m){return h.call(m)},skipNulls:!1,strictNullHandling:!1},d=function(m){return typeof m=="string"||typeof m=="number"||typeof m=="boolean"||typeof m=="symbol"||typeof m=="bigint"},f={},c=function p(m,y,x,v,w,_,T,b,S,A,P,M,C,R,D,F,E,z){for(var I=m,O=z,k=0,j=!1;(O=O.get(f))!==void 0&&!j;){var B=O.get(m);if(k+=1,typeof B<"u"){if(B===k)throw new RangeError("Cyclic object value");j=!0}typeof O.get(f)>"u"&&(k=0)}if(typeof A=="function"?I=A(y,I):I instanceof Date?I=C(I):x==="comma"&&r(I)&&(I=t.maybeMap(I,function(K){return K instanceof Date?C(K):K})),I===null){if(_)return S&&!F?S(y,u.encoder,E,"key",R):y;I=""}if(d(I)||t.isBuffer(I)){if(S){var L=F?y:S(y,u.encoder,E,"key",R);return[D(L)+"="+D(S(I,u.encoder,E,"value",R))]}return[D(y)+"="+D(String(I))]}var U=[];if(typeof I>"u")return U;var H;if(x==="comma"&&r(I))F&&S&&(I=t.maybeMap(I,S)),H=[{value:I.length>0?I.join(",")||null:void 0}];else if(r(A))H=A;else{var V=Object.keys(I);H=P?V.sort(P):V}var Z=b?String(y).replace(/\./g,"%2E"):String(y),J=v&&r(I)&&I.length===1?Z+"[]":Z;if(w&&r(I)&&I.length===0)return J+"[]";for(var it=0;it<H.length;++it){var W=H[it],Q=typeof W=="object"&&W&&typeof W.value<"u"?W.value:I[W];if(!(T&&Q===null)){var tt=M&&b?String(W).replace(/\./g,"%2E"):String(W),dt=r(I)?typeof x=="function"?x(J,tt):J:J+(M?"."+tt:"["+tt+"]");z.set(m,k);var bt=s();bt.set(f,z),a(U,p(Q,dt,x,v,w,_,T,b,x==="comma"&&F&&r(I)?null:S,A,P,M,C,R,D,F,E,bt))}}return U},g=function(m){if(!m)return u;if(typeof m.allowEmptyArrays<"u"&&typeof m.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof m.encodeDotInKeys<"u"&&typeof m.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(m.encoder!==null&&typeof m.encoder<"u"&&typeof m.encoder!="function")throw new TypeError("Encoder has to be a function.");var y=m.charset||u.charset;if(typeof m.charset<"u"&&m.charset!=="utf-8"&&m.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var x=e.default;if(typeof m.format<"u"){if(!i.call(e.formatters,m.format))throw new TypeError("Unknown format option provided.");x=m.format}var v=e.formatters[x],w=u.filter;(typeof m.filter=="function"||r(m.filter))&&(w=m.filter);var _;if(m.arrayFormat in n?_=m.arrayFormat:"indices"in m?_=m.indices?"indices":"repeat":_=u.arrayFormat,"commaRoundTrip"in m&&typeof m.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var T=typeof m.allowDots>"u"?m.encodeDotInKeys===!0?!0:u.allowDots:!!m.allowDots;return{addQueryPrefix:typeof m.addQueryPrefix=="boolean"?m.addQueryPrefix:u.addQueryPrefix,allowDots:T,allowEmptyArrays:typeof m.allowEmptyArrays=="boolean"?!!m.allowEmptyArrays:u.allowEmptyArrays,arrayFormat:_,charset:y,charsetSentinel:typeof m.charsetSentinel=="boolean"?m.charsetSentinel:u.charsetSentinel,commaRoundTrip:!!m.commaRoundTrip,delimiter:typeof m.delimiter>"u"?u.delimiter:m.delimiter,encode:typeof m.encode=="boolean"?m.encode:u.encode,encodeDotInKeys:typeof m.encodeDotInKeys=="boolean"?m.encodeDotInKeys:u.encodeDotInKeys,encoder:typeof m.encoder=="function"?m.encoder:u.encoder,encodeValuesOnly:typeof m.encodeValuesOnly=="boolean"?m.encodeValuesOnly:u.encodeValuesOnly,filter:w,format:x,formatter:v,serializeDate:typeof m.serializeDate=="function"?m.serializeDate:u.serializeDate,skipNulls:typeof m.skipNulls=="boolean"?m.skipNulls:u.skipNulls,sort:typeof m.sort=="function"?m.sort:null,strictNullHandling:typeof m.strictNullHandling=="boolean"?m.strictNullHandling:u.strictNullHandling}};return Vl=function(p,m){var y=p,x=g(m),v,w;typeof x.filter=="function"?(w=x.filter,y=w("",y)):r(x.filter)&&(w=x.filter,v=w);var _=[];if(typeof y!="object"||y===null)return"";var T=n[x.arrayFormat],b=T==="comma"&&x.commaRoundTrip;v||(v=Object.keys(y)),x.sort&&v.sort(x.sort);for(var S=s(),A=0;A<v.length;++A){var P=v[A],M=y[P];x.skipNulls&&M===null||a(_,c(M,P,T,b,x.allowEmptyArrays,x.strictNullHandling,x.skipNulls,x.encodeDotInKeys,x.encode?x.encoder:null,x.filter,x.sort,x.allowDots,x.serializeDate,x.format,x.formatter,x.encodeValuesOnly,x.charset,S))}var C=_.join(x.delimiter),R=x.addQueryPrefix===!0?"?":"";return x.charsetSentinel&&(x.charset==="iso-8859-1"?R+="utf8=%26%2310003%3B&":R+="utf8=%E2%9C%93&"),C.length>0?R+C:""},Vl}var $l,Vm;function gS(){if(Vm)return $l;Vm=1;var s=xv(),t=Object.prototype.hasOwnProperty,e=Array.isArray,i={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:s.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},n=function(f){return f.replace(/&#(\d+);/g,function(c,g){return String.fromCharCode(parseInt(g,10))})},r=function(f,c,g){if(f&&typeof f=="string"&&c.comma&&f.indexOf(",")>-1)return f.split(",");if(c.throwOnLimitExceeded&&g>=c.arrayLimit)throw new RangeError("Array limit exceeded. Only "+c.arrayLimit+" element"+(c.arrayLimit===1?"":"s")+" allowed in an array.");return f},o="utf8=%26%2310003%3B",a="utf8=%E2%9C%93",h=function(c,g){var p={__proto__:null},m=g.ignoreQueryPrefix?c.replace(/^\?/,""):c;m=m.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var y=g.parameterLimit===1/0?void 0:g.parameterLimit,x=m.split(g.delimiter,g.throwOnLimitExceeded?y+1:y);if(g.throwOnLimitExceeded&&x.length>y)throw new RangeError("Parameter limit exceeded. Only "+y+" parameter"+(y===1?"":"s")+" allowed.");var v=-1,w,_=g.charset;if(g.charsetSentinel)for(w=0;w<x.length;++w)x[w].indexOf("utf8=")===0&&(x[w]===a?_="utf-8":x[w]===o&&(_="iso-8859-1"),v=w,w=x.length);for(w=0;w<x.length;++w)if(w!==v){var T=x[w],b=T.indexOf("]="),S=b===-1?T.indexOf("="):b+1,A,P;S===-1?(A=g.decoder(T,i.decoder,_,"key"),P=g.strictNullHandling?null:""):(A=g.decoder(T.slice(0,S),i.decoder,_,"key"),P=s.maybeMap(r(T.slice(S+1),g,e(p[A])?p[A].length:0),function(C){return g.decoder(C,i.decoder,_,"value")})),P&&g.interpretNumericEntities&&_==="iso-8859-1"&&(P=n(String(P))),T.indexOf("[]=")>-1&&(P=e(P)?[P]:P);var M=t.call(p,A);M&&g.duplicates==="combine"?p[A]=s.combine(p[A],P):(!M||g.duplicates==="last")&&(p[A]=P)}return p},l=function(f,c,g,p){var m=0;if(f.length>0&&f[f.length-1]==="[]"){var y=f.slice(0,-1).join("");m=Array.isArray(c)&&c[y]?c[y].length:0}for(var x=p?c:r(c,g,m),v=f.length-1;v>=0;--v){var w,_=f[v];if(_==="[]"&&g.parseArrays)w=g.allowEmptyArrays&&(x===""||g.strictNullHandling&&x===null)?[]:s.combine([],x);else{w=g.plainObjects?{__proto__:null}:{};var T=_.charAt(0)==="["&&_.charAt(_.length-1)==="]"?_.slice(1,-1):_,b=g.decodeDotInKeys?T.replace(/%2E/g,"."):T,S=parseInt(b,10);!g.parseArrays&&b===""?w={0:x}:!isNaN(S)&&_!==b&&String(S)===b&&S>=0&&g.parseArrays&&S<=g.arrayLimit?(w=[],w[S]=x):b!=="__proto__"&&(w[b]=x)}x=w}return x},u=function(c,g,p,m){if(c){var y=p.allowDots?c.replace(/\.([^.[]+)/g,"[$1]"):c,x=/(\[[^[\]]*])/,v=/(\[[^[\]]*])/g,w=p.depth>0&&x.exec(y),_=w?y.slice(0,w.index):y,T=[];if(_){if(!p.plainObjects&&t.call(Object.prototype,_)&&!p.allowPrototypes)return;T.push(_)}for(var b=0;p.depth>0&&(w=v.exec(y))!==null&&b<p.depth;){if(b+=1,!p.plainObjects&&t.call(Object.prototype,w[1].slice(1,-1))&&!p.allowPrototypes)return;T.push(w[1])}if(w){if(p.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+p.depth+" and strictDepth is true");T.push("["+y.slice(w.index)+"]")}return l(T,g,p,m)}},d=function(c){if(!c)return i;if(typeof c.allowEmptyArrays<"u"&&typeof c.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof c.decodeDotInKeys<"u"&&typeof c.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(c.decoder!==null&&typeof c.decoder<"u"&&typeof c.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof c.charset<"u"&&c.charset!=="utf-8"&&c.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof c.throwOnLimitExceeded<"u"&&typeof c.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var g=typeof c.charset>"u"?i.charset:c.charset,p=typeof c.duplicates>"u"?i.duplicates:c.duplicates;if(p!=="combine"&&p!=="first"&&p!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var m=typeof c.allowDots>"u"?c.decodeDotInKeys===!0?!0:i.allowDots:!!c.allowDots;return{allowDots:m,allowEmptyArrays:typeof c.allowEmptyArrays=="boolean"?!!c.allowEmptyArrays:i.allowEmptyArrays,allowPrototypes:typeof c.allowPrototypes=="boolean"?c.allowPrototypes:i.allowPrototypes,allowSparse:typeof c.allowSparse=="boolean"?c.allowSparse:i.allowSparse,arrayLimit:typeof c.arrayLimit=="number"?c.arrayLimit:i.arrayLimit,charset:g,charsetSentinel:typeof c.charsetSentinel=="boolean"?c.charsetSentinel:i.charsetSentinel,comma:typeof c.comma=="boolean"?c.comma:i.comma,decodeDotInKeys:typeof c.decodeDotInKeys=="boolean"?c.decodeDotInKeys:i.decodeDotInKeys,decoder:typeof c.decoder=="function"?c.decoder:i.decoder,delimiter:typeof c.delimiter=="string"||s.isRegExp(c.delimiter)?c.delimiter:i.delimiter,depth:typeof c.depth=="number"||c.depth===!1?+c.depth:i.depth,duplicates:p,ignoreQueryPrefix:c.ignoreQueryPrefix===!0,interpretNumericEntities:typeof c.interpretNumericEntities=="boolean"?c.interpretNumericEntities:i.interpretNumericEntities,parameterLimit:typeof c.parameterLimit=="number"?c.parameterLimit:i.parameterLimit,parseArrays:c.parseArrays!==!1,plainObjects:typeof c.plainObjects=="boolean"?c.plainObjects:i.plainObjects,strictDepth:typeof c.strictDepth=="boolean"?!!c.strictDepth:i.strictDepth,strictNullHandling:typeof c.strictNullHandling=="boolean"?c.strictNullHandling:i.strictNullHandling,throwOnLimitExceeded:typeof c.throwOnLimitExceeded=="boolean"?c.throwOnLimitExceeded:!1}};return $l=function(f,c){var g=d(c);if(f===""||f===null||typeof f>"u")return g.plainObjects?{__proto__:null}:{};for(var p=typeof f=="string"?h(f,g):f,m=g.plainObjects?{__proto__:null}:{},y=Object.keys(p),x=0;x<y.length;++x){var v=y[x],w=u(v,p[v],g,typeof f=="string");m=s.merge(m,w,g)}return g.allowSparse===!0?m:s.compact(m)},$l}var Xl,$m;function pS(){if($m)return Xl;$m=1;var s=fS(),t=gS(),e=ag();return Xl={formats:e,parse:t,stringify:s},Xl}var Xm;function mS(){if(Xm)return or;Xm=1;var s=jT();function t(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var e=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,n=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,r=["<",">",'"',"`"," ","\r",`
`,"	"],o=["{","}","|","\\","^","`"].concat(r),a=["'"].concat(o),h=["%","/","?",";","#"].concat(a),l=["/","?","#"],u=255,d=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,c={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},p={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=pS();function y(_,T,b){if(_&&typeof _=="object"&&_ instanceof t)return _;var S=new t;return S.parse(_,T,b),S}t.prototype.parse=function(_,T,b){if(typeof _!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof _);var S=_.indexOf("?"),A=S!==-1&&S<_.indexOf("#")?"?":"#",P=_.split(A),M=/\\/g;P[0]=P[0].replace(M,"/"),_=P.join(A);var C=_;if(C=C.trim(),!b&&_.split("#").length===1){var R=n.exec(C);if(R)return this.path=C,this.href=C,this.pathname=R[1],R[2]?(this.search=R[2],T?this.query=m.parse(this.search.substr(1)):this.query=this.search.substr(1)):T&&(this.search="",this.query={}),this}var D=e.exec(C);if(D){D=D[0];var F=D.toLowerCase();this.protocol=F,C=C.substr(D.length)}if(b||D||C.match(/^\/\/[^@/]+@[^@/]+/)){var E=C.substr(0,2)==="//";E&&!(D&&g[D])&&(C=C.substr(2),this.slashes=!0)}if(!g[D]&&(E||D&&!p[D])){for(var z=-1,I=0;I<l.length;I++){var O=C.indexOf(l[I]);O!==-1&&(z===-1||O<z)&&(z=O)}var k,j;z===-1?j=C.lastIndexOf("@"):j=C.lastIndexOf("@",z),j!==-1&&(k=C.slice(0,j),C=C.slice(j+1),this.auth=decodeURIComponent(k)),z=-1;for(var I=0;I<h.length;I++){var O=C.indexOf(h[I]);O!==-1&&(z===-1||O<z)&&(z=O)}z===-1&&(z=C.length),this.host=C.slice(0,z),C=C.slice(z),this.parseHost(),this.hostname=this.hostname||"";var B=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!B)for(var L=this.hostname.split(/\./),I=0,U=L.length;I<U;I++){var H=L[I];if(H&&!H.match(d)){for(var V="",Z=0,J=H.length;Z<J;Z++)H.charCodeAt(Z)>127?V+="x":V+=H[Z];if(!V.match(d)){var it=L.slice(0,I),W=L.slice(I+1),Q=H.match(f);Q&&(it.push(Q[1]),W.unshift(Q[2])),W.length&&(C="/"+W.join(".")+C),this.hostname=it.join(".");break}}}this.hostname.length>u?this.hostname="":this.hostname=this.hostname.toLowerCase(),B||(this.hostname=s.toASCII(this.hostname));var tt=this.port?":"+this.port:"",dt=this.hostname||"";this.host=dt+tt,this.href+=this.host,B&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),C[0]!=="/"&&(C="/"+C))}if(!c[F])for(var I=0,U=a.length;I<U;I++){var bt=a[I];if(C.indexOf(bt)!==-1){var K=encodeURIComponent(bt);K===bt&&(K=escape(bt)),C=C.split(bt).join(K)}}var ot=C.indexOf("#");ot!==-1&&(this.hash=C.substr(ot),C=C.slice(0,ot));var ct=C.indexOf("?");if(ct!==-1?(this.search=C.substr(ct),this.query=C.substr(ct+1),T&&(this.query=m.parse(this.query)),C=C.slice(0,ct)):T&&(this.search="",this.query={}),C&&(this.pathname=C),p[F]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var tt=this.pathname||"",Pt=this.search||"";this.path=tt+Pt}return this.href=this.format(),this};function x(_){return typeof _=="string"&&(_=y(_)),_ instanceof t?_.format():t.prototype.format.call(_)}t.prototype.format=function(){var _=this.auth||"";_&&(_=encodeURIComponent(_),_=_.replace(/%3A/i,":"),_+="@");var T=this.protocol||"",b=this.pathname||"",S=this.hash||"",A=!1,P="";this.host?A=_+this.host:this.hostname&&(A=_+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(A+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(P=m.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var M=this.search||P&&"?"+P||"";return T&&T.substr(-1)!==":"&&(T+=":"),this.slashes||(!T||p[T])&&A!==!1?(A="//"+(A||""),b&&b.charAt(0)!=="/"&&(b="/"+b)):A||(A=""),S&&S.charAt(0)!=="#"&&(S="#"+S),M&&M.charAt(0)!=="?"&&(M="?"+M),b=b.replace(/[?#]/g,function(C){return encodeURIComponent(C)}),M=M.replace("#","%23"),T+A+b+M+S};function v(_,T){return y(_,!1,!0).resolve(T)}t.prototype.resolve=function(_){return this.resolveObject(y(_,!1,!0)).format()};function w(_,T){return _?y(_,!1,!0).resolveObject(T):T}return t.prototype.resolveObject=function(_){if(typeof _=="string"){var T=new t;T.parse(_,!1,!0),_=T}for(var b=new t,S=Object.keys(this),A=0;A<S.length;A++){var P=S[A];b[P]=this[P]}if(b.hash=_.hash,_.href==="")return b.href=b.format(),b;if(_.slashes&&!_.protocol){for(var M=Object.keys(_),C=0;C<M.length;C++){var R=M[C];R!=="protocol"&&(b[R]=_[R])}return p[b.protocol]&&b.hostname&&!b.pathname&&(b.pathname="/",b.path=b.pathname),b.href=b.format(),b}if(_.protocol&&_.protocol!==b.protocol){if(!p[_.protocol]){for(var D=Object.keys(_),F=0;F<D.length;F++){var E=D[F];b[E]=_[E]}return b.href=b.format(),b}if(b.protocol=_.protocol,!_.host&&!g[_.protocol]){for(var U=(_.pathname||"").split("/");U.length&&!(_.host=U.shift()););_.host||(_.host=""),_.hostname||(_.hostname=""),U[0]!==""&&U.unshift(""),U.length<2&&U.unshift(""),b.pathname=U.join("/")}else b.pathname=_.pathname;if(b.search=_.search,b.query=_.query,b.host=_.host||"",b.auth=_.auth,b.hostname=_.hostname||_.host,b.port=_.port,b.pathname||b.search){var z=b.pathname||"",I=b.search||"";b.path=z+I}return b.slashes=b.slashes||_.slashes,b.href=b.format(),b}var O=b.pathname&&b.pathname.charAt(0)==="/",k=_.host||_.pathname&&_.pathname.charAt(0)==="/",j=k||O||b.host&&_.pathname,B=j,L=b.pathname&&b.pathname.split("/")||[],U=_.pathname&&_.pathname.split("/")||[],H=b.protocol&&!p[b.protocol];if(H&&(b.hostname="",b.port=null,b.host&&(L[0]===""?L[0]=b.host:L.unshift(b.host)),b.host="",_.protocol&&(_.hostname=null,_.port=null,_.host&&(U[0]===""?U[0]=_.host:U.unshift(_.host)),_.host=null),j=j&&(U[0]===""||L[0]==="")),k)b.host=_.host||_.host===""?_.host:b.host,b.hostname=_.hostname||_.hostname===""?_.hostname:b.hostname,b.search=_.search,b.query=_.query,L=U;else if(U.length)L||(L=[]),L.pop(),L=L.concat(U),b.search=_.search,b.query=_.query;else if(_.search!=null){if(H){b.host=L.shift(),b.hostname=b.host;var V=b.host&&b.host.indexOf("@")>0?b.host.split("@"):!1;V&&(b.auth=V.shift(),b.hostname=V.shift(),b.host=b.hostname)}return b.search=_.search,b.query=_.query,(b.pathname!==null||b.search!==null)&&(b.path=(b.pathname?b.pathname:"")+(b.search?b.search:"")),b.href=b.format(),b}if(!L.length)return b.pathname=null,b.search?b.path="/"+b.search:b.path=null,b.href=b.format(),b;for(var Z=L.slice(-1)[0],J=(b.host||_.host||L.length>1)&&(Z==="."||Z==="..")||Z==="",it=0,W=L.length;W>=0;W--)Z=L[W],Z==="."?L.splice(W,1):Z===".."?(L.splice(W,1),it++):it&&(L.splice(W,1),it--);if(!j&&!B)for(;it--;it)L.unshift("..");j&&L[0]!==""&&(!L[0]||L[0].charAt(0)!=="/")&&L.unshift(""),J&&L.join("/").substr(-1)!=="/"&&L.push("");var Q=L[0]===""||L[0]&&L[0].charAt(0)==="/";if(H){b.hostname=Q?"":L.length?L.shift():"",b.host=b.hostname;var V=b.host&&b.host.indexOf("@")>0?b.host.split("@"):!1;V&&(b.auth=V.shift(),b.hostname=V.shift(),b.host=b.hostname)}return j=j||b.host&&L.length,j&&!Q&&L.unshift(""),L.length>0?b.pathname=L.join("/"):(b.pathname=null,b.path=null),(b.pathname!==null||b.search!==null)&&(b.path=(b.pathname?b.pathname:"")+(b.search?b.search:"")),b.auth=_.auth||b.auth,b.slashes=b.slashes||_.slashes,b.href=b.format(),b},t.prototype.parseHost=function(){var _=this.host,T=i.exec(_);T&&(T=T[0],T!==":"&&(this.port=T.substr(1)),_=_.substr(0,_.length-T.length)),_&&(this.hostname=_)},or.parse=y,or.resolve=v,or.resolveObject=w,or.format=x,or.Url=t,or}var Yl=mS();const Ym={};function mt(s,t,e=3){if(Ym[t])return;let i=new Error().stack;typeof i>"u"?console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${s}`):(i=i.split(`
`).splice(e).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${t}
Deprecated since v${s}`),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${s}`),console.warn(i))),Ym[t]=!0}const yS={get parse(){return mt("7.3.0","utils.url.parse is deprecated, use native URL API instead."),Yl.parse},get format(){return mt("7.3.0","utils.url.format is deprecated, use native URL API instead."),Yl.format},get resolve(){return mt("7.3.0","utils.url.resolve is deprecated, use native URL API instead."),Yl.resolve}};function fi(s){if(typeof s!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(s)}`)}function Es(s){return s.split("?")[0].split("#")[0]}function _S(s){return s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function xS(s,t,e){return s.replace(new RegExp(_S(t),"g"),e)}function vS(s,t){let e="",i=0,n=-1,r=0,o=-1;for(let a=0;a<=s.length;++a){if(a<s.length)o=s.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(n===a-1||r===1))if(n!==a-1&&r===2){if(e.length<2||i!==2||e.charCodeAt(e.length-1)!==46||e.charCodeAt(e.length-2)!==46){if(e.length>2){const h=e.lastIndexOf("/");if(h!==e.length-1){h===-1?(e="",i=0):(e=e.slice(0,h),i=e.length-1-e.lastIndexOf("/")),n=a,r=0;continue}}else if(e.length===2||e.length===1){e="",i=0,n=a,r=0;continue}}}else e.length>0?e+=`/${s.slice(n+1,a)}`:e=s.slice(n+1,a),i=a-n-1;n=a,r=0}else o===46&&r!==-1?++r:r=-1}return e}const re={toPosix(s){return xS(s,"\\","/")},isUrl(s){return/^https?:/.test(this.toPosix(s))},isDataUrl(s){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(s)},isBlobUrl(s){return s.startsWith("blob:")},hasProtocol(s){return/^[^/:]+:/.test(this.toPosix(s))},getProtocol(s){fi(s),s=this.toPosix(s);const t=/^file:\/\/\//.exec(s);if(t)return t[0];const e=/^[^/:]+:\/{0,2}/.exec(s);return e?e[0]:""},toAbsolute(s,t,e){if(fi(s),this.isDataUrl(s)||this.isBlobUrl(s))return s;const i=Es(this.toPosix(t??nt.ADAPTER.getBaseUrl())),n=Es(this.toPosix(e??this.rootname(i)));return s=this.toPosix(s),s.startsWith("/")?re.join(n,s.slice(1)):this.isAbsolute(s)?s:this.join(i,s)},normalize(s){if(fi(s),s.length===0)return".";if(this.isDataUrl(s)||this.isBlobUrl(s))return s;s=this.toPosix(s);let t="";const e=s.startsWith("/");this.hasProtocol(s)&&(t=this.rootname(s),s=s.slice(t.length));const i=s.endsWith("/");return s=vS(s),s.length>0&&i&&(s+="/"),e?`/${s}`:t+s},isAbsolute(s){return fi(s),s=this.toPosix(s),this.hasProtocol(s)?!0:s.startsWith("/")},join(...s){if(s.length===0)return".";let t;for(let e=0;e<s.length;++e){const i=s[e];if(fi(i),i.length>0)if(t===void 0)t=i;else{const n=s[e-1]??"";this.joinExtensions.includes(this.extname(n).toLowerCase())?t+=`/../${i}`:t+=`/${i}`}}return t===void 0?".":this.normalize(t)},dirname(s){if(fi(s),s.length===0)return".";s=this.toPosix(s);let t=s.charCodeAt(0);const e=t===47;let i=-1,n=!0;const r=this.getProtocol(s),o=s;s=s.slice(r.length);for(let a=s.length-1;a>=1;--a)if(t=s.charCodeAt(a),t===47){if(!n){i=a;break}}else n=!1;return i===-1?e?"/":this.isUrl(o)?r+s:r:e&&i===1?"//":r+s.slice(0,i)},rootname(s){fi(s),s=this.toPosix(s);let t="";if(s.startsWith("/")?t="/":t=this.getProtocol(s),this.isUrl(s)){const e=s.indexOf("/",t.length);e!==-1?t=s.slice(0,e):t=s,t.endsWith("/")||(t+="/")}return t},basename(s,t){fi(s),t&&fi(t),s=Es(this.toPosix(s));let e=0,i=-1,n=!0,r;if(t!==void 0&&t.length>0&&t.length<=s.length){if(t.length===s.length&&t===s)return"";let o=t.length-1,a=-1;for(r=s.length-1;r>=0;--r){const h=s.charCodeAt(r);if(h===47){if(!n){e=r+1;break}}else a===-1&&(n=!1,a=r+1),o>=0&&(h===t.charCodeAt(o)?--o===-1&&(i=r):(o=-1,i=a))}return e===i?i=a:i===-1&&(i=s.length),s.slice(e,i)}for(r=s.length-1;r>=0;--r)if(s.charCodeAt(r)===47){if(!n){e=r+1;break}}else i===-1&&(n=!1,i=r+1);return i===-1?"":s.slice(e,i)},extname(s){fi(s),s=Es(this.toPosix(s));let t=-1,e=0,i=-1,n=!0,r=0;for(let o=s.length-1;o>=0;--o){const a=s.charCodeAt(o);if(a===47){if(!n){e=o+1;break}continue}i===-1&&(n=!1,i=o+1),a===46?t===-1?t=o:r!==1&&(r=1):t!==-1&&(r=-1)}return t===-1||i===-1||r===0||r===1&&t===i-1&&t===e+1?"":s.slice(t,i)},parse(s){fi(s);const t={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return t;s=Es(this.toPosix(s));let e=s.charCodeAt(0);const i=this.isAbsolute(s);let n;t.root=this.rootname(s),i||this.hasProtocol(s)?n=1:n=0;let r=-1,o=0,a=-1,h=!0,l=s.length-1,u=0;for(;l>=n;--l){if(e=s.charCodeAt(l),e===47){if(!h){o=l+1;break}continue}a===-1&&(h=!1,a=l+1),e===46?r===-1?r=l:u!==1&&(u=1):r!==-1&&(u=-1)}return r===-1||a===-1||u===0||u===1&&r===a-1&&r===o+1?a!==-1&&(o===0&&i?t.base=t.name=s.slice(1,a):t.base=t.name=s.slice(o,a)):(o===0&&i?(t.name=s.slice(1,r),t.base=s.slice(1,a)):(t.name=s.slice(o,r),t.base=s.slice(o,a)),t.ext=s.slice(r,a)),t.dir=this.dirname(s),t},sep:"/",delimiter:":",joinExtensions:[".html"]};let Zl;async function vv(){return Zl??(Zl=(async()=>{var r;const s=document.createElement("canvas").getContext("webgl");if(!s)return ve.UNPACK;const t=await new Promise(o=>{const a=document.createElement("video");a.onloadeddata=()=>o(a),a.onerror=()=>o(null),a.autoplay=!1,a.crossOrigin="anonymous",a.preload="auto",a.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",a.load()});if(!t)return ve.UNPACK;const e=s.createTexture();s.bindTexture(s.TEXTURE_2D,e);const i=s.createFramebuffer();s.bindFramebuffer(s.FRAMEBUFFER,i),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,e,0),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),s.pixelStorei(s.UNPACK_COLORSPACE_CONVERSION_WEBGL,s.NONE),s.texImage2D(s.TEXTURE_2D,0,s.RGBA,s.RGBA,s.UNSIGNED_BYTE,t);const n=new Uint8Array(4);return s.readPixels(0,0,1,1,s.RGBA,s.UNSIGNED_BYTE,n),s.deleteFramebuffer(i),s.deleteTexture(e),(r=s.getExtension("WEBGL_lose_context"))==null||r.loseContext(),n[0]<=n[3]?ve.PMA:ve.UNPACK})()),Zl}function bS(){mt("7.0.0","skipHello is deprecated, please use settings.RENDER_OPTIONS.hello")}function wS(){mt("7.0.0",`sayHello is deprecated, please use Renderer's "hello" option`)}let Kl;function bv(){return typeof Kl>"u"&&(Kl=function(){var t;const s={stencil:!0,failIfMajorPerformanceCaveat:nt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!nt.ADAPTER.getWebGLRenderingContext())return!1;const e=nt.ADAPTER.createCanvas();let i=e.getContext("webgl",s)||e.getContext("experimental-webgl",s);const n=!!((t=i==null?void 0:i.getContextAttributes())!=null&&t.stencil);if(i){const r=i.getExtension("WEBGL_lose_context");r&&r.loseContext()}return i=null,n}catch{return!1}}()),Kl}var TS={grad:.9,turn:360,rad:360/(2*Math.PI)},sn=function(s){return typeof s=="string"?s.length>0:typeof s=="number"},he=function(s,t,e){return t===void 0&&(t=0),e===void 0&&(e=Math.pow(10,t)),Math.round(e*s)/e+0},ri=function(s,t,e){return t===void 0&&(t=0),e===void 0&&(e=1),s>e?e:s>t?s:t},wv=function(s){return(s=isFinite(s)?s%360:0)>0?s:s+360},Zm=function(s){return{r:ri(s.r,0,255),g:ri(s.g,0,255),b:ri(s.b,0,255),a:ri(s.a)}},Jl=function(s){return{r:he(s.r),g:he(s.g),b:he(s.b),a:he(s.a,3)}},SS=/^#([0-9a-f]{3,8})$/i,Zo=function(s){var t=s.toString(16);return t.length<2?"0"+t:t},Tv=function(s){var t=s.r,e=s.g,i=s.b,n=s.a,r=Math.max(t,e,i),o=r-Math.min(t,e,i),a=o?r===t?(e-i)/o:r===e?2+(i-t)/o:4+(t-e)/o:0;return{h:60*(a<0?a+6:a),s:r?o/r*100:0,v:r/255*100,a:n}},Sv=function(s){var t=s.h,e=s.s,i=s.v,n=s.a;t=t/360*6,e/=100,i/=100;var r=Math.floor(t),o=i*(1-e),a=i*(1-(t-r)*e),h=i*(1-(1-t+r)*e),l=r%6;return{r:255*[i,a,o,o,h,i][l],g:255*[h,i,i,a,o,o][l],b:255*[o,o,h,i,i,a][l],a:n}},Km=function(s){return{h:wv(s.h),s:ri(s.s,0,100),l:ri(s.l,0,100),a:ri(s.a)}},Jm=function(s){return{h:he(s.h),s:he(s.s),l:he(s.l),a:he(s.a,3)}},Qm=function(s){return Sv((e=(t=s).s,{h:t.h,s:(e*=((i=t.l)<50?i:100-i)/100)>0?2*e/(i+e)*100:0,v:i+e,a:t.a}));var t,e,i},Ys=function(s){return{h:(t=Tv(s)).h,s:(n=(200-(e=t.s))*(i=t.v)/100)>0&&n<200?e*i/100/(n<=100?n:200-n)*100:0,l:n/2,a:t.a};var t,e,i,n},AS=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ES=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,CS=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,PS=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Zd={string:[[function(s){var t=SS.exec(s);return t?(s=t[1]).length<=4?{r:parseInt(s[0]+s[0],16),g:parseInt(s[1]+s[1],16),b:parseInt(s[2]+s[2],16),a:s.length===4?he(parseInt(s[3]+s[3],16)/255,2):1}:s.length===6||s.length===8?{r:parseInt(s.substr(0,2),16),g:parseInt(s.substr(2,2),16),b:parseInt(s.substr(4,2),16),a:s.length===8?he(parseInt(s.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(s){var t=CS.exec(s)||PS.exec(s);return t?t[2]!==t[4]||t[4]!==t[6]?null:Zm({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(s){var t=AS.exec(s)||ES.exec(s);if(!t)return null;var e,i,n=Km({h:(e=t[1],i=t[2],i===void 0&&(i="deg"),Number(e)*(TS[i]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return Qm(n)},"hsl"]],object:[[function(s){var t=s.r,e=s.g,i=s.b,n=s.a,r=n===void 0?1:n;return sn(t)&&sn(e)&&sn(i)?Zm({r:Number(t),g:Number(e),b:Number(i),a:Number(r)}):null},"rgb"],[function(s){var t=s.h,e=s.s,i=s.l,n=s.a,r=n===void 0?1:n;if(!sn(t)||!sn(e)||!sn(i))return null;var o=Km({h:Number(t),s:Number(e),l:Number(i),a:Number(r)});return Qm(o)},"hsl"],[function(s){var t=s.h,e=s.s,i=s.v,n=s.a,r=n===void 0?1:n;if(!sn(t)||!sn(e)||!sn(i))return null;var o=function(a){return{h:wv(a.h),s:ri(a.s,0,100),v:ri(a.v,0,100),a:ri(a.a)}}({h:Number(t),s:Number(e),v:Number(i),a:Number(r)});return Sv(o)},"hsv"]]},ty=function(s,t){for(var e=0;e<t.length;e++){var i=t[e][0](s);if(i)return[i,t[e][1]]}return[null,void 0]},IS=function(s){return typeof s=="string"?ty(s.trim(),Zd.string):typeof s=="object"&&s!==null?ty(s,Zd.object):[null,void 0]},Ql=function(s,t){var e=Ys(s);return{h:e.h,s:ri(e.s+100*t,0,100),l:e.l,a:e.a}},tu=function(s){return(299*s.r+587*s.g+114*s.b)/1e3/255},ey=function(s,t){var e=Ys(s);return{h:e.h,s:e.s,l:ri(e.l+100*t,0,100),a:e.a}},Kd=function(){function s(t){this.parsed=IS(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return s.prototype.isValid=function(){return this.parsed!==null},s.prototype.brightness=function(){return he(tu(this.rgba),2)},s.prototype.isDark=function(){return tu(this.rgba)<.5},s.prototype.isLight=function(){return tu(this.rgba)>=.5},s.prototype.toHex=function(){return t=Jl(this.rgba),e=t.r,i=t.g,n=t.b,o=(r=t.a)<1?Zo(he(255*r)):"","#"+Zo(e)+Zo(i)+Zo(n)+o;var t,e,i,n,r,o},s.prototype.toRgb=function(){return Jl(this.rgba)},s.prototype.toRgbString=function(){return t=Jl(this.rgba),e=t.r,i=t.g,n=t.b,(r=t.a)<1?"rgba("+e+", "+i+", "+n+", "+r+")":"rgb("+e+", "+i+", "+n+")";var t,e,i,n,r},s.prototype.toHsl=function(){return Jm(Ys(this.rgba))},s.prototype.toHslString=function(){return t=Jm(Ys(this.rgba)),e=t.h,i=t.s,n=t.l,(r=t.a)<1?"hsla("+e+", "+i+"%, "+n+"%, "+r+")":"hsl("+e+", "+i+"%, "+n+"%)";var t,e,i,n,r},s.prototype.toHsv=function(){return t=Tv(this.rgba),{h:he(t.h),s:he(t.s),v:he(t.v),a:he(t.a,3)};var t},s.prototype.invert=function(){return Ri({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},s.prototype.saturate=function(t){return t===void 0&&(t=.1),Ri(Ql(this.rgba,t))},s.prototype.desaturate=function(t){return t===void 0&&(t=.1),Ri(Ql(this.rgba,-t))},s.prototype.grayscale=function(){return Ri(Ql(this.rgba,-1))},s.prototype.lighten=function(t){return t===void 0&&(t=.1),Ri(ey(this.rgba,t))},s.prototype.darken=function(t){return t===void 0&&(t=.1),Ri(ey(this.rgba,-t))},s.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},s.prototype.alpha=function(t){return typeof t=="number"?Ri({r:(e=this.rgba).r,g:e.g,b:e.b,a:t}):he(this.rgba.a,3);var e},s.prototype.hue=function(t){var e=Ys(this.rgba);return typeof t=="number"?Ri({h:t,s:e.s,l:e.l,a:e.a}):he(e.h)},s.prototype.isEqual=function(t){return this.toHex()===Ri(t).toHex()},s}(),Ri=function(s){return s instanceof Kd?s:new Kd(s)},iy=[],MS=function(s){s.forEach(function(t){iy.indexOf(t)<0&&(t(Kd,Zd),iy.push(t))})};function zS(s,t){var e={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},i={};for(var n in e)i[e[n]]=n;var r={};s.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,h,l=i[this.toHex()];if(l)return l;if(o!=null&&o.closest){var u=this.toRgb(),d=1/0,f="black";if(!r.length)for(var c in e)r[c]=new s(e[c]).toRgb();for(var g in e){var p=(a=u,h=r[g],Math.pow(a.r-h.r,2)+Math.pow(a.g-h.g,2)+Math.pow(a.b-h.b,2));p<d&&(d=p,f=g)}return f}},t.string.push([function(o){var a=o.toLowerCase(),h=a==="transparent"?"#0000":e[a];return h?new s(h).toRgb():null},"name"])}MS([zS]);const Gr=class ya{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof ya)this._value=this.cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,t))&&(this.normalize(t),this._value=this.cloneSource(t))}}get value(){return this._value}cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}isSourceEqual(t,e){const i=typeof t;if(i!==typeof e)return!1;if(i==="number"||i==="string"||t instanceof Number)return t===e;if(Array.isArray(t)&&Array.isArray(e)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return t.length!==e.length?!1:t.every((n,r)=>n===e[r]);if(t!==null&&e!==null){const n=Object.keys(t),r=Object.keys(e);return n.length!==r.length?!1:n.every(o=>t[o]===e[o])}return t===e}toRgba(){const[t,e,i,n]=this._components;return{r:t,g:e,b:i,a:n}}toRgb(){const[t,e,i]=this._components;return{r:t,g:e,b:i}}toRgbaString(){const[t,e,i]=this.toUint8RgbArray();return`rgba(${t},${e},${i},${this.alpha})`}toUint8RgbArray(t){const[e,i,n]=this._components;return t=t??[],t[0]=Math.round(e*255),t[1]=Math.round(i*255),t[2]=Math.round(n*255),t}toRgbArray(t){t=t??[];const[e,i,n]=this._components;return t[0]=e,t[1]=i,t[2]=n,t}toNumber(){return this._int}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[e,i,n,r]=ya.temp.setValue(t)._components;return this._components[0]*=e,this._components[1]*=i,this._components[2]*=n,this._components[3]*=r,this.refreshInt(),this._value=null,this}premultiply(t,e=!0){return e&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this.refreshInt(),this._value=null,this}toPremultiplied(t,e=!0){if(t===1)return(255<<24)+this._int;if(t===0)return e?0:this._int;let i=this._int>>16&255,n=this._int>>8&255,r=this._int&255;return e&&(i=i*t+.5|0,n=n*t+.5|0,r=r*t+.5|0),(t*255<<24)+(i<<16)+(n<<8)+r}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const t=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-t.length)+t}setAlpha(t){return this._components[3]=this._clamp(t),this}round(t){const[e,i,n]=this._components;return this._components[0]=Math.round(e*t)/t,this._components[1]=Math.round(i*t)/t,this._components[2]=Math.round(n*t)/t,this.refreshInt(),this._value=null,this}toArray(t){t=t??[];const[e,i,n,r]=this._components;return t[0]=e,t[1]=i,t[2]=n,t[3]=r,t}normalize(t){let e,i,n,r;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const o=t;e=(o>>16&255)/255,i=(o>>8&255)/255,n=(o&255)/255,r=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[e,i,n,r=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[e,i,n,r=255]=t,e/=255,i/=255,n/=255,r/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const a=ya.HEX_PATTERN.exec(t);a&&(t=`#${a[2]}`)}const o=Ri(t);o.isValid()&&({r:e,g:i,b:n,a:r}=o.rgba,e/=255,i/=255,n/=255)}if(e!==void 0)this._components[0]=e,this._components[1]=i,this._components[2]=n,this._components[3]=r,this.refreshInt();else throw new Error(`Unable to convert color ${t}`)}refreshInt(){this._clamp(this._components);const[t,e,i]=this._components;this._int=(t*255<<16)+(e*255<<8)+(i*255|0)}_clamp(t,e=0,i=1){return typeof t=="number"?Math.min(Math.max(t,e),i):(t.forEach((n,r)=>{t[r]=Math.min(Math.max(n,e),i)}),t)}};Gr.shared=new Gr,Gr.temp=new Gr,Gr.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Et=Gr;function Av(s,t=[]){return mt("7.2.0","utils.hex2rgb is deprecated, use Color#toRgbArray instead"),Et.shared.setValue(s).toRgbArray(t)}function Ev(s){return mt("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),Et.shared.setValue(s).toHex()}function RS(s){return mt("7.2.0","utils.string2hex is deprecated, use Color#toNumber instead"),Et.shared.setValue(s).toNumber()}function hg(s){return mt("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),Et.shared.setValue(s).toNumber()}function DS(){const s=[],t=[];for(let i=0;i<32;i++)s[i]=i,t[i]=i;s[gt.NORMAL_NPM]=gt.NORMAL,s[gt.ADD_NPM]=gt.ADD,s[gt.SCREEN_NPM]=gt.SCREEN,t[gt.NORMAL]=gt.NORMAL_NPM,t[gt.ADD]=gt.ADD_NPM,t[gt.SCREEN]=gt.SCREEN_NPM;const e=[];return e.push(t),e.push(s),e}const lg=DS();function ug(s,t){return lg[t?1:0][s]}function kS(s,t,e,i=!0){return mt("7.2.0","utils.premultiplyRgba has moved to Color.premultiply"),Et.shared.setValue(s).premultiply(t,i).toArray(e??new Float32Array(4))}function FS(s,t){return mt("7.2.0","utils.premultiplyTint has moved to Color.toPremultiplied"),Et.shared.setValue(s).toPremultiplied(t)}function jS(s,t,e,i=!0){return mt("7.2.0","utils.premultiplyTintToRgba has moved to Color.premultiply"),Et.shared.setValue(s).premultiply(t,i).toArray(e??new Float32Array(4))}const Cv=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function Pv(s,t=null){const e=s*6;if(t=t||new Uint16Array(e),t.length!==e)throw new Error(`Out buffer length is incorrect, got ${t.length} and expected ${e}`);for(let i=0,n=0;i<e;i+=6,n+=4)t[i+0]=n+0,t[i+1]=n+1,t[i+2]=n+2,t[i+3]=n+0,t[i+4]=n+2,t[i+5]=n+3;return t}function mh(s){if(s.BYTES_PER_ELEMENT===4)return s instanceof Float32Array?"Float32Array":s instanceof Uint32Array?"Uint32Array":"Int32Array";if(s.BYTES_PER_ELEMENT===2){if(s instanceof Uint16Array)return"Uint16Array"}else if(s.BYTES_PER_ELEMENT===1&&s instanceof Uint8Array)return"Uint8Array";return null}const OS={Float32Array,Uint32Array,Int32Array,Uint8Array};function BS(s,t){let e=0,i=0;const n={};for(let h=0;h<s.length;h++)i+=t[h],e+=s[h].length;const r=new ArrayBuffer(e*4);let o=null,a=0;for(let h=0;h<s.length;h++){const l=t[h],u=s[h],d=mh(u);n[d]||(n[d]=new OS[d](r)),o=n[d];for(let f=0;f<u.length;f++){const c=(f/l|0)*i+a,g=f%l;o[c+g]=u[f]}a+=l}return new Float32Array(r)}function io(s){return s+=s===0?1:0,--s,s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s+1}function Jd(s){return!(s&s-1)&&!!s}function Qd(s){let t=(s>65535?1:0)<<4;s>>>=t;let e=(s>255?1:0)<<3;return s>>>=e,t|=e,e=(s>15?1:0)<<2,s>>>=e,t|=e,e=(s>3?1:0)<<1,s>>>=e,t|=e,t|s>>1}function vr(s,t,e){const i=s.length;let n;if(t>=i||e===0)return;e=t+e>i?i-t:e;const r=i-e;for(n=t;n<r;++n)s[n]=s[n+e];s.length=r}function mn(s){return s===0?0:s<0?-1:1}let LS=0;function Xn(){return++LS}const tf=class{constructor(s,t,e,i){this.left=s,this.top=t,this.right=e,this.bottom=i}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};tf.EMPTY=new tf(0,0,0,0);let ef=tf;const nf={},_e=Object.create(null),Le=Object.create(null);function NS(){let s;for(s in _e)_e[s].destroy();for(s in Le)Le[s].destroy()}function qS(){let s;for(s in _e)delete _e[s];for(s in Le)delete Le[s]}class Iv{constructor(t,e,i){this._canvas=nt.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=i||nt.RESOLUTION,this.resize(t,e)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(t,e){this._checkDestroyed(),this._canvas.width=Math.round(t*this.resolution),this._canvas.height=Math.round(e*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(t){this._checkDestroyed(),this._canvas.width=Math.round(t)}get height(){return this._checkDestroyed(),this._canvas.height}set height(t){this._checkDestroyed(),this._canvas.height=Math.round(t)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function ny(s,t,e){for(let i=0,n=4*e*t;i<t;++i,n+=4)if(s[n+3]!==0)return!1;return!0}function ry(s,t,e,i,n){const r=4*t;for(let o=i,a=i*r+4*e;o<=n;++o,a+=r)if(s[a+3]!==0)return!1;return!0}function Mv(s){const{width:t,height:e}=s,i=s.getContext("2d",{willReadFrequently:!0});if(i===null)throw new TypeError("Failed to get canvas 2D context");const n=i.getImageData(0,0,t,e).data;let r=0,o=0,a=t-1,h=e-1;for(;o<e&&ny(n,t,o);)++o;if(o===e)return ef.EMPTY;for(;ny(n,t,h);)--h;for(;ry(n,t,r,o,h);)++r;for(;ry(n,t,a,o,h);)--a;return++a,++h,new ef(r,o,a,h)}function zv(s){const t=Mv(s),{width:e,height:i}=t;let n=null;if(!t.isEmpty()){const r=s.getContext("2d");if(r===null)throw new TypeError("Failed to get canvas 2D context");n=r.getImageData(t.left,t.top,e,i)}return{width:e,height:i,data:n}}function US(s){const t=Cv.exec(s);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}}function Rv(s,t=globalThis.location){if(s.startsWith("data:"))return"";t=t||globalThis.location;const e=new URL(s,document.baseURI);return e.hostname!==t.hostname||e.port!==t.port||e.protocol!==t.protocol?"anonymous":""}function $i(s,t=1){var i;const e=(i=nt.RETINA_PREFIX)==null?void 0:i.exec(s);return e?parseFloat(e[1]):t}const GS=Object.freeze(Object.defineProperty({__proto__:null,BaseTextureCache:Le,BoundingBox:ef,CanvasRenderTarget:Iv,DATA_URI:Cv,EventEmitter:xs,ProgramCache:nf,TextureCache:_e,clearTextureCache:qS,correctBlendMode:ug,createIndicesForQuads:Pv,decomposeDataUri:US,deprecation:mt,destroyTextureCache:NS,detectVideoAlphaMode:vv,determineCrossOrigin:Rv,earcut:uv,getBufferType:mh,getCanvasBoundingBox:Mv,getResolutionOfUrl:$i,hex2rgb:Av,hex2string:Ev,interleaveTypedArrays:BS,isMobile:bi,isPow2:Jd,isWebGLSupported:bv,log2:Qd,nextPow2:io,path:re,premultiplyBlendMode:lg,premultiplyRgba:kS,premultiplyTint:FS,premultiplyTintToRgba:jS,removeItems:vr,rgb2hex:hg,sayHello:wS,sign:mn,skipHello:bS,string2hex:RS,trimCanvas:zv,uid:Xn,url:yS},Symbol.toStringTag,{value:"Module"}));var et=(s=>(s.Renderer="renderer",s.Application="application",s.RendererSystem="renderer-webgl-system",s.RendererPlugin="renderer-webgl-plugin",s.CanvasRendererSystem="renderer-canvas-system",s.CanvasRendererPlugin="renderer-canvas-plugin",s.Asset="asset",s.LoadParser="load-parser",s.ResolveParser="resolve-parser",s.CacheParser="cache-parser",s.DetectionParser="detection-parser",s))(et||{});const rf=s=>{if(typeof s=="function"||typeof s=="object"&&s.extension){if(!s.extension)throw new Error("Extension class must have an extension object");s={...typeof s.extension!="object"?{type:s.extension}:s.extension,ref:s}}if(typeof s=="object")s={...s};else throw new Error("Invalid extension type");return typeof s.type=="string"&&(s.type=[s.type]),s},sy=(s,t)=>rf(s).priority??t,at={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...s){return s.map(rf).forEach(t=>{t.type.forEach(e=>{var i,n;return(n=(i=this._removeHandlers)[e])==null?void 0:n.call(i,t)})}),this},add(...s){return s.map(rf).forEach(t=>{t.type.forEach(e=>{var r,o;const i=this._addHandlers,n=this._queue;i[e]?(r=i[e])==null||r.call(i,t):(n[e]=n[e]||[],(o=n[e])==null||o.push(t))})}),this},handle(s,t,e){var o;const i=this._addHandlers,n=this._removeHandlers;if(i[s]||n[s])throw new Error(`Extension type ${s} already has a handler`);i[s]=t,n[s]=e;const r=this._queue;return r[s]&&((o=r[s])==null||o.forEach(a=>t(a)),delete r[s]),this},handleByMap(s,t){return this.handle(s,e=>{e.name&&(t[e.name]=e.ref)},e=>{e.name&&delete t[e.name]})},handleByList(s,t,e=-1){return this.handle(s,i=>{t.includes(i.ref)||(t.push(i.ref),t.sort((n,r)=>sy(r,e)-sy(n,e)))},i=>{const n=t.indexOf(i.ref);n!==-1&&t.splice(n,1)})}};class Ba{constructor(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}}const HS=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function WS(s){let t="";for(let e=0;e<s;++e)e>0&&(t+=`
else `),e<s-1&&(t+=`if(test == ${e}.0){}`);return t}function Dv(s,t){if(s===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const e=t.createShader(t.FRAGMENT_SHADER);for(;;){const i=HS.replace(/%forloop%/gi,WS(s));if(t.shaderSource(e,i),t.compileShader(e),!t.getShaderParameter(e,t.COMPILE_STATUS))s=s/2|0;else break}return s}const eu=0,iu=1,nu=2,ru=3,su=4,ou=5;class Ii{constructor(){this.data=0,this.blendMode=gt.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<eu)}set blend(t){!!(this.data&1<<eu)!==t&&(this.data^=1<<eu)}get offsets(){return!!(this.data&1<<iu)}set offsets(t){!!(this.data&1<<iu)!==t&&(this.data^=1<<iu)}get culling(){return!!(this.data&1<<nu)}set culling(t){!!(this.data&1<<nu)!==t&&(this.data^=1<<nu)}get depthTest(){return!!(this.data&1<<ru)}set depthTest(t){!!(this.data&1<<ru)!==t&&(this.data^=1<<ru)}get depthMask(){return!!(this.data&1<<ou)}set depthMask(t){!!(this.data&1<<ou)!==t&&(this.data^=1<<ou)}get clockwiseFrontFace(){return!!(this.data&1<<su)}set clockwiseFrontFace(t){!!(this.data&1<<su)!==t&&(this.data^=1<<su)}get blendMode(){return this._blendMode}set blendMode(t){this.blend=t!==gt.NONE,this._blendMode=t}get polygonOffset(){return this._polygonOffset}set polygonOffset(t){this.offsets=!!t,this._polygonOffset=t}static for2d(){const t=new Ii;return t.depthTest=!1,t.blend=!0,t}}Ii.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const La=[];function cg(s,t){if(!s)return null;let e="";if(typeof s=="string"){const i=/\.(\w{3,4})(?:$|\?|#)/i.exec(s);i&&(e=i[1].toLowerCase())}for(let i=La.length-1;i>=0;--i){const n=La[i];if(n.test&&n.test(s,e))return new n(s,t)}throw new Error("Unrecognized source type to auto-detect Resource")}class We{constructor(t){this.items=[],this._name=t,this._aliasCount=0}emit(t,e,i,n,r,o,a,h){if(arguments.length>8)throw new Error("max arguments reached");const{name:l,items:u}=this;this._aliasCount++;for(let d=0,f=u.length;d<f;d++)u[d][l](t,e,i,n,r,o,a,h);return u===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this}remove(t){const e=this.items.indexOf(t);return e!==-1&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this}contains(t){return this.items.includes(t)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(We.prototype,{dispatch:{value:We.prototype.emit},run:{value:We.prototype.emit}});class os{constructor(t=0,e=0){this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new We("setRealSize"),this.onUpdate=new We("update"),this.onError=new We("onError")}bind(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)}resize(t,e){(t!==this._width||e!==this._height)&&(this._width=t,this._height=e,this.onResize.emit(t,e))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(t,e,i){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(t,e){return!1}}class Po extends os{constructor(t,e){const{width:i,height:n}=e||{};if(!i||!n)throw new Error("BufferResource width or height invalid");super(i,n),this.data=t,this.unpackAlignment=e.unpackAlignment??4}upload(t,e,i){const n=t.gl;n.pixelStorei(n.UNPACK_ALIGNMENT,this.unpackAlignment),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===ve.UNPACK);const r=e.realWidth,o=e.realHeight;return i.width===r&&i.height===o?n.texSubImage2D(e.target,0,0,0,r,o,e.format,i.type,this.data):(i.width=r,i.height=o,n.texImage2D(e.target,0,i.internalFormat,r,o,0,e.format,i.type,this.data)),!0}dispose(){this.data=null}static test(t){return t===null||t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array}}const VS={scaleMode:Li.NEAREST,alphaMode:ve.NPM},sf=class Hr extends xs{constructor(t=null,e=null){super(),e=Object.assign({},Hr.defaultOptions,e);const{alphaMode:i,mipmap:n,anisotropicLevel:r,scaleMode:o,width:a,height:h,wrapMode:l,format:u,type:d,target:f,resolution:c,resourceOptions:g}=e;t&&!(t instanceof os)&&(t=cg(t,g),t.internal=!0),this.resolution=c||nt.RESOLUTION,this.width=Math.round((a||0)*this.resolution)/this.resolution,this.height=Math.round((h||0)*this.resolution)/this.resolution,this._mipmap=n,this.anisotropicLevel=r,this._wrapMode=l,this._scaleMode=o,this.format=u,this.type=d,this.target=f,this.alphaMode=i,this.uid=Xn(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=a>0&&h>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let i;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,i=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,i=!0),i&&this.dirtyStyleId++,this}setSize(t,e,i){return i=i||this.resolution,this.setRealSize(t*i,e*i,i)}setRealSize(t,e,i){return this.resolution=i||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=Jd(this.realWidth)&&Jd(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Le[this.cacheId],delete _e[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),Hr.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,i=nt.STRICT_TEXTURE_CACHE){const n=typeof t=="string";let r=null;if(n)r=t;else{if(!t._pixiId){const a=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${a}_${Xn()}`}r=t._pixiId}let o=Le[r];if(n&&i&&!o)throw new Error(`The cacheId "${r}" does not exist in BaseTextureCache.`);return o||(o=new Hr(t,e),o.cacheId=r,Hr.addToCache(o,r)),o}static fromBuffer(t,e,i,n){t=t||new Float32Array(e*i*4);const r=new Po(t,{width:e,height:i,...n==null?void 0:n.resourceOptions});let o,a;return t instanceof Float32Array?(o=Y.RGBA,a=lt.FLOAT):t instanceof Int32Array?(o=Y.RGBA_INTEGER,a=lt.INT):t instanceof Uint32Array?(o=Y.RGBA_INTEGER,a=lt.UNSIGNED_INT):t instanceof Int16Array?(o=Y.RGBA_INTEGER,a=lt.SHORT):t instanceof Uint16Array?(o=Y.RGBA_INTEGER,a=lt.UNSIGNED_SHORT):t instanceof Int8Array?(o=Y.RGBA,a=lt.BYTE):(o=Y.RGBA,a=lt.UNSIGNED_BYTE),r.internal=!0,new Hr(r,Object.assign({},VS,{type:a,format:o},n))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),Le[e]&&Le[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),Le[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=Le[t];if(e){const i=e.textureCacheIds.indexOf(t);return i>-1&&e.textureCacheIds.splice(i,1),delete Le[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete Le[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};sf.defaultOptions={mipmap:Ci.POW2,anisotropicLevel:0,scaleMode:Li.LINEAR,wrapMode:Hi.CLAMP,alphaMode:ve.UNPACK,target:xr.TEXTURE_2D,format:Y.RGBA,type:lt.UNSIGNED_BYTE},sf._globalBatch=0;let _t=sf;class Na{constructor(){this.texArray=null,this.blend=0,this.type=vi.TRIANGLES,this.start=0,this.size=0,this.data=null}}let $S=0;class Vt{constructor(t,e=!0,i=!1){this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=e,this.id=$S++,this.disposeRunner=new We("disposeBuffer")}update(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(t){this.type=t?Ti.ELEMENT_ARRAY_BUFFER:Ti.ARRAY_BUFFER}get index(){return this.type===Ti.ELEMENT_ARRAY_BUFFER}static from(t){return t instanceof Array&&(t=new Float32Array(t)),new Vt(t)}}class no{constructor(t,e=0,i=!1,n=lt.FLOAT,r,o,a,h=1){this.buffer=t,this.size=e,this.normalized=i,this.type=n,this.stride=r,this.start=o,this.instance=a,this.divisor=h}destroy(){this.buffer=null}static from(t,e,i,n,r){return new no(t,e,i,n,r)}}const XS={Float32Array,Uint32Array,Int32Array,Uint8Array};function YS(s,t){let e=0,i=0;const n={};for(let h=0;h<s.length;h++)i+=t[h],e+=s[h].length;const r=new ArrayBuffer(e*4);let o=null,a=0;for(let h=0;h<s.length;h++){const l=t[h],u=s[h],d=mh(u);n[d]||(n[d]=new XS[d](r)),o=n[d];for(let f=0;f<u.length;f++){const c=(f/l|0)*i+a,g=f%l;o[c+g]=u[f]}a+=l}return new Float32Array(r)}const oy={5126:4,5123:2,5121:1};let ZS=0;const KS={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class bn{constructor(t=[],e={}){this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=ZS++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new We("disposeGeometry"),this.refCount=0}addAttribute(t,e,i=0,n=!1,r,o,a,h=!1){if(!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof Vt||(e instanceof Array&&(e=new Float32Array(e)),e=new Vt(e));const l=t.split("|");if(l.length>1){for(let d=0;d<l.length;d++)this.addAttribute(l[d],e,i,n,r);return this}let u=this.buffers.indexOf(e);return u===-1&&(this.buffers.push(e),u=this.buffers.length-1),this.attributes[t]=new no(u,i,n,r,o,a,h),this.instanced=this.instanced||h,this}getAttribute(t){return this.attributes[t]}getBuffer(t){return this.buffers[this.getAttribute(t).buffer]}addIndex(t){return t instanceof Vt||(t instanceof Array&&(t=new Uint16Array(t)),t=new Vt(t)),t.type=Ti.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,this.buffers.includes(t)||this.buffers.push(t),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const t=[],e=[],i=new Vt;let n;for(n in this.attributes){const r=this.attributes[n],o=this.buffers[r.buffer];t.push(o.data),e.push(r.size*oy[r.type]/4),r.buffer=0}for(i.data=YS(t,e),n=0;n<this.buffers.length;n++)this.buffers[n]!==this.indexBuffer&&this.buffers[n].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const t in this.attributes){const e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const t=new bn;for(let e=0;e<this.buffers.length;e++)t.buffers[e]=new Vt(this.buffers[e].data.slice(0));for(const e in this.attributes){const i=this.attributes[e];t.attributes[e]=new no(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=Ti.ELEMENT_ARRAY_BUFFER),t}static merge(t){const e=new bn,i=[],n=[],r=[];let o;for(let a=0;a<t.length;a++){o=t[a];for(let h=0;h<o.buffers.length;h++)n[h]=n[h]||0,n[h]+=o.buffers[h].data.length,r[h]=0}for(let a=0;a<o.buffers.length;a++)i[a]=new KS[mh(o.buffers[a].data)](n[a]),e.buffers[a]=new Vt(i[a]);for(let a=0;a<t.length;a++){o=t[a];for(let h=0;h<o.buffers.length;h++)i[h].set(o.buffers[h].data,r[h]),r[h]+=o.buffers[h].data.length}if(e.attributes=o.attributes,o.indexBuffer){e.indexBuffer=e.buffers[o.buffers.indexOf(o.indexBuffer)],e.indexBuffer.type=Ti.ELEMENT_ARRAY_BUFFER;let a=0,h=0,l=0,u=0;for(let d=0;d<o.buffers.length;d++)if(o.buffers[d]!==o.indexBuffer){u=d;break}for(const d in o.attributes){const f=o.attributes[d];(f.buffer|0)===u&&(h+=f.size*oy[f.type]/4)}for(let d=0;d<t.length;d++){const f=t[d].indexBuffer.data;for(let c=0;c<f.length;c++)e.indexBuffer.data[c+l]+=a;a+=t[d].buffers[u].data.length/h,l+=f.length}}return e}}class dg extends bn{constructor(t=!1){super(),this._buffer=new Vt(null,t,!1),this._indexBuffer=new Vt(null,t,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,lt.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,lt.FLOAT).addAttribute("aColor",this._buffer,4,!0,lt.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,lt.FLOAT).addIndex(this._indexBuffer)}}const ro=Math.PI*2,kv=180/Math.PI,qa=Math.PI/180;var le=(s=>(s[s.POLY=0]="POLY",s[s.RECT=1]="RECT",s[s.CIRC=2]="CIRC",s[s.ELIP=3]="ELIP",s[s.RREC=4]="RREC",s))(le||{});class St{constructor(t=0,e=0){this.x=0,this.y=0,this.x=t,this.y=e}clone(){return new St(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,e=t){return this.x=t,this.y=e,this}}St.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const Ko=[new St,new St,new St,new St];class xt{constructor(t=0,e=0,i=0,n=0){this.x=Number(t),this.y=Number(e),this.width=Number(i),this.height=Number(n),this.type=le.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new xt(0,0,0,0)}clone(){return new xt(this.x,this.y,this.width,this.height)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}contains(t,e){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height}intersects(t,e){if(!e){const S=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=S)return!1;const A=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>A}const i=this.left,n=this.right,r=this.top,o=this.bottom;if(n<=i||o<=r)return!1;const a=Ko[0].set(t.left,t.top),h=Ko[1].set(t.left,t.bottom),l=Ko[2].set(t.right,t.top),u=Ko[3].set(t.right,t.bottom);if(l.x<=a.x||h.y<=a.y)return!1;const d=Math.sign(e.a*e.d-e.b*e.c);if(d===0||(e.apply(a,a),e.apply(h,h),e.apply(l,l),e.apply(u,u),Math.max(a.x,h.x,l.x,u.x)<=i||Math.min(a.x,h.x,l.x,u.x)>=n||Math.max(a.y,h.y,l.y,u.y)<=r||Math.min(a.y,h.y,l.y,u.y)>=o))return!1;const f=d*(h.y-a.y),c=d*(a.x-h.x),g=f*i+c*r,p=f*n+c*r,m=f*i+c*o,y=f*n+c*o;if(Math.max(g,p,m,y)<=f*a.x+c*a.y||Math.min(g,p,m,y)>=f*u.x+c*u.y)return!1;const x=d*(a.y-l.y),v=d*(l.x-a.x),w=x*i+v*r,_=x*n+v*r,T=x*i+v*o,b=x*n+v*o;return!(Math.max(w,_,T,b)<=x*a.x+v*a.y||Math.min(w,_,T,b)>=x*u.x+v*u.y)}pad(t=0,e=t){return this.x-=t,this.y-=e,this.width+=t*2,this.height+=e*2,this}fit(t){const e=Math.max(this.x,t.x),i=Math.min(this.x+this.width,t.x+t.width),n=Math.max(this.y,t.y),r=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(i-e,0),this.y=n,this.height=Math.max(r-n,0),this}ceil(t=1,e=.001){const i=Math.ceil((this.x+this.width-e)*t)/t,n=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=i-this.x,this.height=n-this.y,this}enlarge(t){const e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),n=Math.min(this.y,t.y),r=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=i-e,this.y=n,this.height=r-n,this}}xt.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Io{constructor(t=0,e=0,i=0){this.x=t,this.y=e,this.radius=i,this.type=le.CIRC}clone(){return new Io(this.x,this.y,this.radius)}contains(t,e){if(this.radius<=0)return!1;const i=this.radius*this.radius;let n=this.x-t,r=this.y-e;return n*=n,r*=r,n+r<=i}getBounds(){return new xt(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}Io.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class Mo{constructor(t=0,e=0,i=0,n=0){this.x=t,this.y=e,this.width=i,this.height=n,this.type=le.ELIP}clone(){return new Mo(this.x,this.y,this.width,this.height)}contains(t,e){if(this.width<=0||this.height<=0)return!1;let i=(t-this.x)/this.width,n=(e-this.y)/this.height;return i*=i,n*=n,i+n<=1}getBounds(){return new xt(this.x-this.width,this.y-this.height,this.width,this.height)}}Mo.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Gn{constructor(...t){let e=Array.isArray(t[0])?t[0]:t;if(typeof e[0]!="number"){const i=[];for(let n=0,r=e.length;n<r;n++)i.push(e[n].x,e[n].y);e=i}this.points=e,this.type=le.POLY,this.closeStroke=!0}clone(){const t=this.points.slice(),e=new Gn(t);return e.closeStroke=this.closeStroke,e}contains(t,e){let i=!1;const n=this.points.length/2;for(let r=0,o=n-1;r<n;o=r++){const a=this.points[r*2],h=this.points[r*2+1],l=this.points[o*2],u=this.points[o*2+1];h>e!=u>e&&t<(l-a)*((e-h)/(u-h))+a&&(i=!i)}return i}}Gn.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((s,t)=>`${s}, ${t}`,"")}]`};class zo{constructor(t=0,e=0,i=0,n=0,r=20){this.x=t,this.y=e,this.width=i,this.height=n,this.radius=r,this.type=le.RREC}clone(){return new zo(this.x,this.y,this.width,this.height,this.radius)}contains(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){const i=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(e>=this.y+i&&e<=this.y+this.height-i||t>=this.x+i&&t<=this.x+this.width-i)return!0;let n=t-(this.x+i),r=e-(this.y+i);const o=i*i;if(n*n+r*r<=o||(n=t-(this.x+this.width-i),n*n+r*r<=o)||(r=e-(this.y+this.height-i),n*n+r*r<=o)||(n=t-(this.x+i),n*n+r*r<=o))return!0}return!1}}zo.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class Ft{constructor(t=1,e=0,i=0,n=1,r=0,o=0){this.array=null,this.a=t,this.b=e,this.c=i,this.d=n,this.tx=r,this.ty=o}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,e,i,n,r,o){return this.a=t,this.b=e,this.c=i,this.d=n,this.tx=r,this.ty=o,this}toArray(t,e){this.array||(this.array=new Float32Array(9));const i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i}apply(t,e){e=e||new St;const i=t.x,n=t.y;return e.x=this.a*i+this.c*n+this.tx,e.y=this.b*i+this.d*n+this.ty,e}applyInverse(t,e){e=e||new St;const i=1/(this.a*this.d+this.c*-this.b),n=t.x,r=t.y;return e.x=this.d*i*n+-this.c*i*r+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*r+-this.b*i*n+(-this.ty*this.a+this.tx*this.b)*i,e}translate(t,e){return this.tx+=t,this.ty+=e,this}scale(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this}rotate(t){const e=Math.cos(t),i=Math.sin(t),n=this.a,r=this.c,o=this.tx;return this.a=n*e-this.b*i,this.b=n*i+this.b*e,this.c=r*e-this.d*i,this.d=r*i+this.d*e,this.tx=o*e-this.ty*i,this.ty=o*i+this.ty*e,this}append(t){const e=this.a,i=this.b,n=this.c,r=this.d;return this.a=t.a*e+t.b*n,this.b=t.a*i+t.b*r,this.c=t.c*e+t.d*n,this.d=t.c*i+t.d*r,this.tx=t.tx*e+t.ty*n+this.tx,this.ty=t.tx*i+t.ty*r+this.ty,this}setTransform(t,e,i,n,r,o,a,h,l){return this.a=Math.cos(a+l)*r,this.b=Math.sin(a+l)*r,this.c=-Math.sin(a-h)*o,this.d=Math.cos(a-h)*o,this.tx=t-(i*this.a+n*this.c),this.ty=e-(i*this.b+n*this.d),this}prepend(t){const e=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){const i=this.a,n=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=n*t.a+this.d*t.c,this.d=n*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this}decompose(t){const e=this.a,i=this.b,n=this.c,r=this.d,o=t.pivot,a=-Math.atan2(-n,r),h=Math.atan2(i,e),l=Math.abs(a+h);return l<1e-5||Math.abs(ro-l)<1e-5?(t.rotation=h,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=a,t.skew.y=h),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(n*n+r*r),t.position.x=this.tx+(o.x*e+o.y*n),t.position.y=this.ty+(o.x*i+o.y*r),t}invert(){const t=this.a,e=this.b,i=this.c,n=this.d,r=this.tx,o=t*n-e*i;return this.a=n/o,this.b=-e/o,this.c=-i/o,this.d=t/o,this.tx=(i*this.ty-n*r)/o,this.ty=-(t*this.ty-e*r)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new Ft;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}static get IDENTITY(){return new Ft}static get TEMP_MATRIX(){return new Ft}}Ft.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const dr=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],fr=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],gr=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],pr=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],of=[],Fv=[],Jo=Math.sign;function JS(){for(let s=0;s<16;s++){const t=[];of.push(t);for(let e=0;e<16;e++){const i=Jo(dr[s]*dr[e]+gr[s]*fr[e]),n=Jo(fr[s]*dr[e]+pr[s]*fr[e]),r=Jo(dr[s]*gr[e]+gr[s]*pr[e]),o=Jo(fr[s]*gr[e]+pr[s]*pr[e]);for(let a=0;a<16;a++)if(dr[a]===i&&fr[a]===n&&gr[a]===r&&pr[a]===o){t.push(a);break}}}for(let s=0;s<16;s++){const t=new Ft;t.set(dr[s],fr[s],gr[s],pr[s],0,0),Fv.push(t)}}JS();const Bt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:s=>dr[s],uY:s=>fr[s],vX:s=>gr[s],vY:s=>pr[s],inv:s=>s&8?s&15:-s&7,add:(s,t)=>of[s][t],sub:(s,t)=>of[s][Bt.inv(t)],rotate180:s=>s^4,isVertical:s=>(s&3)===2,byDirection:(s,t)=>Math.abs(s)*2<=Math.abs(t)?t>=0?Bt.S:Bt.N:Math.abs(t)*2<=Math.abs(s)?s>0?Bt.E:Bt.W:t>0?s>0?Bt.SE:Bt.SW:s>0?Bt.NE:Bt.NW,matrixAppendRotationInv:(s,t,e=0,i=0)=>{const n=Fv[Bt.inv(t)];n.tx=e,n.ty=i,s.append(n)}};class wi{constructor(t,e,i=0,n=0){this._x=i,this._y=n,this.cb=t,this.scope=e}clone(t=this.cb,e=this.scope){return new wi(t,e,this._x,this._y)}set(t=0,e=t){return(this._x!==t||this._y!==e)&&(this._x=t,this._y=e,this.cb.call(this.scope)),this}copyFrom(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}wi.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const af=class{constructor(){this.worldTransform=new Ft,this.localTransform=new Ft,this.position=new wi(this.onChange,this,0,0),this.scale=new wi(this.onChange,this,1,1),this.pivot=new wi(this.onChange,this,0,0),this.skew=new wi(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const s=this.localTransform;this._localID!==this._currentLocalID&&(s.a=this._cx*this.scale.x,s.b=this._sx*this.scale.x,s.c=this._cy*this.scale.y,s.d=this._sy*this.scale.y,s.tx=this.position.x-(this.pivot.x*s.a+this.pivot.y*s.c),s.ty=this.position.y-(this.pivot.x*s.b+this.pivot.y*s.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(s){const t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==s._worldID){const e=s.worldTransform,i=this.worldTransform;i.a=t.a*e.a+t.b*e.c,i.b=t.a*e.b+t.b*e.d,i.c=t.c*e.a+t.d*e.c,i.d=t.c*e.b+t.d*e.d,i.tx=t.tx*e.a+t.ty*e.c+e.tx,i.ty=t.tx*e.b+t.ty*e.d+e.ty,this._parentID=s._worldID,this._worldID++}}setFromMatrix(s){s.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(s){this._rotation!==s&&(this._rotation=s,this.updateSkew())}};af.IDENTITY=new af;let Ro=af;Ro.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var QS=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,tA=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function ay(s,t,e){const i=s.createShader(t);return s.shaderSource(i,e),s.compileShader(i),i}function au(s){const t=new Array(s);for(let e=0;e<t.length;e++)t[e]=!1;return t}function jv(s,t){switch(s){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return au(2*t);case"bvec3":return au(3*t);case"bvec4":return au(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const br=[{test:s=>s.type==="float"&&s.size===1&&!s.isArray,code:s=>`
            if(uv["${s}"] !== ud["${s}"].value)
            {
                ud["${s}"].value = uv["${s}"]
                gl.uniform1f(ud["${s}"].location, uv["${s}"])
            }
            `},{test:(s,t)=>(s.type==="sampler2D"||s.type==="samplerCube"||s.type==="sampler2DArray")&&s.size===1&&!s.isArray&&(t==null||t.castToBaseTexture!==void 0),code:s=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${s}"], t);

            if(ud["${s}"].value !== t)
            {
                ud["${s}"].value = t;
                gl.uniform1i(ud["${s}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(s,t)=>s.type==="mat3"&&s.size===1&&!s.isArray&&t.a!==void 0,code:s=>`
            gl.uniformMatrix3fv(ud["${s}"].location, false, uv["${s}"].toArray(true));
            `,codeUbo:s=>`
                var ${s}_matrix = uv.${s}.toArray(true);

                data[offset] = ${s}_matrix[0];
                data[offset+1] = ${s}_matrix[1];
                data[offset+2] = ${s}_matrix[2];
        
                data[offset + 4] = ${s}_matrix[3];
                data[offset + 5] = ${s}_matrix[4];
                data[offset + 6] = ${s}_matrix[5];
        
                data[offset + 8] = ${s}_matrix[6];
                data[offset + 9] = ${s}_matrix[7];
                data[offset + 10] = ${s}_matrix[8];
            `},{test:(s,t)=>s.type==="vec2"&&s.size===1&&!s.isArray&&t.x!==void 0,code:s=>`
                cv = ud["${s}"].value;
                v = uv["${s}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${s}"].location, v.x, v.y);
                }`,codeUbo:s=>`
                v = uv.${s};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:s=>s.type==="vec2"&&s.size===1&&!s.isArray,code:s=>`
                cv = ud["${s}"].value;
                v = uv["${s}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${s}"].location, v[0], v[1]);
                }
            `},{test:(s,t)=>s.type==="vec4"&&s.size===1&&!s.isArray&&t.width!==void 0,code:s=>`
                cv = ud["${s}"].value;
                v = uv["${s}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${s}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:s=>`
                    v = uv.${s};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(s,t)=>s.type==="vec4"&&s.size===1&&!s.isArray&&t.red!==void 0,code:s=>`
                cv = ud["${s}"].value;
                v = uv["${s}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${s}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:s=>`
                    v = uv.${s};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(s,t)=>s.type==="vec3"&&s.size===1&&!s.isArray&&t.red!==void 0,code:s=>`
                cv = ud["${s}"].value;
                v = uv["${s}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${s}"].location, v.red, v.green, v.blue)
                }`,codeUbo:s=>`
                    v = uv.${s};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:s=>s.type==="vec4"&&s.size===1&&!s.isArray,code:s=>`
                cv = ud["${s}"].value;
                v = uv["${s}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${s}"].location, v[0], v[1], v[2], v[3])
                }`}],eA={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},iA={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function nA(s,t){var i;const e=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const n in s.uniforms){const r=t[n];if(!r){((i=s.uniforms[n])==null?void 0:i.group)===!0&&(s.uniforms[n].ubo?e.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${n}, '${n}');
                    `):e.push(`
                        renderer.shader.syncUniformGroup(uv.${n}, syncData);
                    `));continue}const o=s.uniforms[n];let a=!1;for(let h=0;h<br.length;h++)if(br[h].test(r,o)){e.push(br[h].code(n,o)),a=!0;break}if(!a){const h=(r.size===1&&!r.isArray?eA:iA)[r.type].replace("location",`ud["${n}"].location`);e.push(`
            cu = ud["${n}"];
            cv = cu.value;
            v = uv["${n}"];
            ${h};`)}}return new Function("ud","uv","renderer","syncData",e.join(`
`))}const Ov={};let Lr=Ov;function Bv(){if(Lr===Ov||Lr!=null&&Lr.isContextLost()){const s=nt.ADAPTER.createCanvas();let t;nt.PREFER_ENV>=tr.WEBGL2&&(t=s.getContext("webgl2",{})),t||(t=s.getContext("webgl",{})||s.getContext("experimental-webgl",{}),t?t.getExtension("WEBGL_draw_buffers"):t=null),Lr=t}return Lr}let Qo;function rA(){if(!Qo){Qo=Ge.MEDIUM;const s=Bv();if(s&&s.getShaderPrecisionFormat){const t=s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.HIGH_FLOAT);t&&(Qo=t.precision?Ge.HIGH:Ge.MEDIUM)}}return Qo}function hy(s,t){const e=s.getShaderSource(t).split(`
`).map((l,u)=>`${u}: ${l}`),i=s.getShaderInfoLog(t),n=i.split(`
`),r={},o=n.map(l=>parseFloat(l.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(l=>l&&!r[l]?(r[l]=!0,!0):!1),a=[""];o.forEach(l=>{e[l-1]=`%c${e[l-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const h=e.join(`
`);a[0]=h,console.error(i),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function sA(s,t,e,i){s.getProgramParameter(t,s.LINK_STATUS)||(s.getShaderParameter(e,s.COMPILE_STATUS)||hy(s,e),s.getShaderParameter(i,s.COMPILE_STATUS)||hy(s,i),console.error("PixiJS Error: Could not initialize shader."),s.getProgramInfoLog(t)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",s.getProgramInfoLog(t)))}const oA={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Lv(s){return oA[s]}let ta=null;const ly={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Nv(s,t){if(!ta){const e=Object.keys(ly);ta={};for(let i=0;i<e.length;++i){const n=e[i];ta[s[n]]=ly[n]}}return ta[t]}function uy(s,t,e){if(s.substring(0,9)!=="precision"){let i=t;return t===Ge.HIGH&&e!==Ge.HIGH&&(i=Ge.MEDIUM),`precision ${i} float;
${s}`}else if(e!==Ge.HIGH&&s.substring(0,15)==="precision highp")return s.replace("precision highp","precision mediump");return s}let Cs;function qv(){if(typeof Cs=="boolean")return Cs;try{Cs=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Cs=!1}return Cs}let aA=0;const ea={},hf=class Wr{constructor(t,e,i="pixi-shader",n={}){this.extra={},this.id=aA++,this.vertexSrc=t||Wr.defaultVertexSrc,this.fragmentSrc=e||Wr.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=n,this.vertexSrc.substring(0,8)!=="#version"&&(i=i.replace(/\s+/g,"-"),ea[i]?(ea[i]++,i+=`-${ea[i]}`):ea[i]=1,this.vertexSrc=`#define SHADER_NAME ${i}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${i}
${this.fragmentSrc}`,this.vertexSrc=uy(this.vertexSrc,Wr.defaultVertexPrecision,Ge.HIGH),this.fragmentSrc=uy(this.fragmentSrc,Wr.defaultFragmentPrecision,rA())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return tA}static get defaultFragmentSrc(){return QS}static from(t,e,i){const n=t+e;let r=nf[n];return r||(nf[n]=r=new Wr(t,e,i)),r}};hf.defaultVertexPrecision=Ge.HIGH,hf.defaultFragmentPrecision=bi.apple.device?Ge.HIGH:Ge.MEDIUM;let qi=hf,hA=0;class hi{constructor(t,e,i){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=hA++,this.static=!!e,this.ubo=!!i,t instanceof Vt?(this.buffer=t,this.buffer.type=Ti.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new Vt(new Float32Array(1)),this.buffer.type=Ti.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(t,e,i){if(!this.ubo)this.uniforms[t]=new hi(e,i);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(t,e,i){return new hi(t,e,i)}static uboFrom(t,e){return new hi(t,e??!0,!0)}}class Si{constructor(t,e){this.uniformBindCount=0,this.program=t,e?e instanceof hi?this.uniformGroup=e:this.uniformGroup=new hi(e):this.uniformGroup=new hi({}),this.disposeRunner=new We("disposeShader")}checkUniformExists(t,e){if(e.uniforms[t])return!0;for(const i in e.uniforms){const n=e.uniforms[i];if(n.group===!0&&this.checkUniformExists(t,n))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(t,e,i){const n=qi.from(t,e);return new Si(n,i)}}class Uv{constructor(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},!e.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!e.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(t){if(!this.programCache[t]){const i=new Int32Array(t);for(let r=0;r<t;r++)i[r]=r;this.defaultGroupCache[t]=hi.from({uSamplers:i},!0);let n=this.fragTemplate;n=n.replace(/%count%/gi,`${t}`),n=n.replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new qi(this.vertexSrc,n)}const e={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ft,default:this.defaultGroupCache[t]};return new Si(this.programCache[t],e)}generateSampleSrc(t){let e="";e+=`
`,e+=`
`;for(let i=0;i<t;i++)i>0&&(e+=`
else `),i<t-1&&(e+=`if(vTextureId < ${i}.5)`),e+=`
{`,e+=`
	color = texture2D(uSamplers[${i}], vTextureCoord);`,e+=`
}`;return e+=`
`,e+=`
`,e}}class Ua{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let t=0;t<this.count;t++)this.elements[t]=null;this.count=0}}function lA(){return!bi.apple.device}function uA(s){let t=!0;const e=nt.ADAPTER.getNavigator();if(bi.tablet||bi.phone){if(bi.apple.device){const i=e.userAgent.match(/OS (\d+)_(\d+)?/);i&&parseInt(i[1],10)<11&&(t=!1)}if(bi.android.device){const i=e.userAgent.match(/Android\s([0-9.]*)/);i&&parseInt(i[1],10)<7&&(t=!1)}}return t?s:4}class Do{constructor(t){this.renderer=t}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(t){}}var cA=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,dA=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const ks=class pi extends Do{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=dg,this.vertexSize=6,this.state=Ii.for2d(),this.size=pi.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??uA(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??lA(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return mt("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return dA}static get defaultFragmentTemplate(){return cA}setShaderGenerator({vertex:t=pi.defaultVertexSrc,fragment:e=pi.defaultFragmentTemplate}={}){this.shaderGenerator=new Uv(t,e)}contextChange(){const t=this.renderer.gl;nt.PREFER_ENV===tr.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),pi.defaultMaxTextures),this.maxTextures=Dv(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=pi,i=this.size/4,n=Math.floor(i/this.maxTextures)+1;for(;t.length<i;)t.push(new Na);for(;e.length<n;)e.push(new Ua);for(let r=0;r<this.maxTextures;r++)this._tempBoundTextures[r]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,i=pi._textureArrayPool,n=this.renderer.batch,r=this._tempBoundTextures,o=this.renderer.textureGC.count;let a=++_t._globalBatch,h=0,l=i[0],u=0;n.copyBoundTextures(r,e);for(let d=0;d<this._bufferSize;++d){const f=t[d];t[d]=null,f._batchEnabled!==a&&(l.count>=e&&(n.boundArray(l,r,a,e),this.buildDrawCalls(l,u,d),u=d,l=i[++h],++a),f._batchEnabled=a,f.touched=o,l.elements[l.count++]=f)}l.count>0&&(n.boundArray(l,r,a,e),this.buildDrawCalls(l,u,this._bufferSize),++h,++a);for(let d=0;d<r.length;d++)r[d]=null;_t._globalBatch=a}buildDrawCalls(t,e,i){const{_bufferedElements:n,_attributeBuffer:r,_indexBuffer:o,vertexSize:a}=this,h=pi._drawCallPool;let l=this._dcIndex,u=this._aIndex,d=this._iIndex,f=h[l];f.start=this._iIndex,f.texArray=t;for(let c=e;c<i;++c){const g=n[c],p=g._texture.baseTexture,m=lg[p.alphaMode?1:0][g.blendMode];n[c]=null,e<c&&f.blend!==m&&(f.size=d-f.start,e=c,f=h[++l],f.texArray=t,f.start=d),this.packInterleavedGeometry(g,r,o,u,d),u+=g.vertexData.length/2*a,d+=g.indices.length,f.blend=m}e<i&&(f.size=d-f.start,++l),this._dcIndex=l,this._aIndex=u,this._iIndex=d}bindAndClearTexArray(t){const e=this.renderer.texture;for(let i=0;i<t.count;i++)e.bind(t.elements[i],t.ids[i]),t.elements[i]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:i}=this;pi.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(i),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(i),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:i}=this.renderer,n=pi._drawCallPool;let r=null;for(let o=0;o<t;o++){const{texArray:a,type:h,size:l,start:u,blend:d}=n[o];r!==a&&(r=a,this.bindAndClearTexArray(a)),this.state.blendMode=d,i.set(this.state),e.drawElements(h,l,e.UNSIGNED_SHORT,u*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),pi.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=io(Math.ceil(t/8)),i=Qd(e),n=e*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);let r=this._aBuffers[n];return r||(this._aBuffers[n]=r=new Ba(n*this.vertexSize*4)),r}getIndexBuffer(t){const e=io(Math.ceil(t/12)),i=Qd(e),n=e*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);let r=this._iBuffers[i];return r||(this._iBuffers[i]=r=new Uint16Array(n)),r}packInterleavedGeometry(t,e,i,n,r){const{uint32View:o,float32View:a}=e,h=n/this.vertexSize,l=t.uvs,u=t.indices,d=t.vertexData,f=t._texture.baseTexture._batchLocation,c=Math.min(t.worldAlpha,1),g=Et.shared.setValue(t._tintRGB).toPremultiplied(c,t._texture.baseTexture.alphaMode>0);for(let p=0;p<d.length;p+=2)a[n++]=d[p],a[n++]=d[p+1],a[n++]=l[p],a[n++]=l[p+1],o[n++]=g,a[n++]=f;for(let p=0;p<u.length;p++)i[r++]=h+u[p]}};ks.defaultBatchSize=4096,ks.extension={name:"batch",type:et.RendererPlugin},ks._drawCallPool=[],ks._textureArrayPool=[];let zn=ks;at.add(zn);var fA=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,gA=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const lf=class Fs extends Si{constructor(t,e,i){const n=qi.from(t||Fs.defaultVertexSrc,e||Fs.defaultFragmentSrc);super(n,i),this.padding=0,this.resolution=Fs.defaultResolution,this.multisample=Fs.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Ii}apply(t,e,i,n,r){t.applyFilter(this,e,i,n)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return gA}static get defaultFragmentSrc(){return fA}};lf.defaultResolution=1,lf.defaultMultisample=Zt.NONE;let ne=lf;class so{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new Et(0),this.alpha=1}init(t){this.clearBeforeRender=t.clearBeforeRender;const{backgroundColor:e,background:i,backgroundAlpha:n}=t,r=i??e;r!==void 0&&(this.color=r),this.alpha=n}get color(){return this._backgroundColor.value}set color(t){this._backgroundColor.setValue(t)}get alpha(){return this._backgroundColor.alpha}set alpha(t){this._backgroundColor.setAlpha(t)}get backgroundColor(){return this._backgroundColor}destroy(){}}so.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},so.extension={type:[et.RendererSystem,et.CanvasRendererSystem],name:"background"};at.add(so);class fg{constructor(t){this.renderer=t,this.emptyRenderer=new Do(t),this.currentRenderer=this.emptyRenderer}setObjectRenderer(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(t,e){const{boundTextures:i}=this.renderer.texture;for(let n=e-1;n>=0;--n)t[n]=i[n]||null,t[n]&&(t[n]._batchLocation=n)}boundArray(t,e,i,n){const{elements:r,ids:o,count:a}=t;let h=0;for(let l=0;l<a;l++){const u=r[l],d=u._batchLocation;if(d>=0&&d<n&&e[d]===u){o[l]=d;continue}for(;h<n;){const f=e[h];if(f&&f._batchEnabled===i&&f._batchLocation===h){h++;continue}o[l]=h,u._batchLocation=h,e[h]=u;break}}}destroy(){this.renderer=null}}fg.extension={type:et.RendererSystem,name:"batch"};at.add(fg);let cy=0;class oo{constructor(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=cy++}init(t){if(t.context)this.initFromContext(t.context);else{const e=this.renderer.background.alpha<1,i=t.premultipliedAlpha;this.preserveDrawingBuffer=t.preserveDrawingBuffer,this.useContextAlpha=t.useContextAlpha,this.powerPreference=t.powerPreference,this.initFromOptions({alpha:e,premultipliedAlpha:i,antialias:t.antialias,stencil:!0,preserveDrawingBuffer:t.preserveDrawingBuffer,powerPreference:t.powerPreference})}}initFromContext(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=cy++,this.renderer.runners.contextChange.emit(t);const e=this.renderer.view;e.addEventListener!==void 0&&(e.addEventListener("webglcontextlost",this.handleContextLost,!1),e.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(t){const e=this.createContext(this.renderer.view,t);this.initFromContext(e)}createContext(t,e){let i;if(nt.PREFER_ENV>=tr.WEBGL2&&(i=t.getContext("webgl2",e)),i)this.webGLVersion=2;else if(this.webGLVersion=1,i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),!i)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl}getExtensions(){const{gl:t}=this,e={loseContext:t.getExtension("WEBGL_lose_context"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc"),bptc:t.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,e,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,e,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})}handleContextLost(t){t.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const t=this.renderer.view;this.renderer=null,t.removeEventListener!==void 0&&(t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(t){const e=t.getContextAttributes(),i="WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext;i&&(this.webGLVersion=2),e&&!e.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const n=i||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=n,n||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}oo.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},oo.extension={type:et.RendererSystem,name:"context"};at.add(oo);class Ga{constructor(t,e){if(this.width=Math.round(t),this.height=Math.round(e),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new We("disposeFramebuffer"),this.multisample=Zt.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(t=0,e){return this.colorTextures[t]=e||new _t(null,{scaleMode:Li.NEAREST,resolution:1,mipmap:Ci.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(t){return this.depthTexture=t||new _t(null,{scaleMode:Li.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Ci.OFF,format:Y.DEPTH_COMPONENT,type:lt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(t,e){if(t=Math.round(t),e=Math.round(e),!t||!e)throw new Error("Framebuffer width and height must not be zero");if(!(t===this.width&&e===this.height)){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(let i=0;i<this.colorTextures.length;i++){const n=this.colorTextures[i],r=n.resolution;n.setSize(t/r,e/r)}if(this.depthTexture){const i=this.depthTexture.resolution;this.depthTexture.setSize(t/i,e/i)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class gg extends _t{constructor(t={}){if(typeof t=="number"){const e=arguments[0],i=arguments[1],n=arguments[2],r=arguments[3];t={width:e,height:i,scaleMode:n,resolution:r}}t.width=t.width??100,t.height=t.height??100,t.multisample??(t.multisample=Zt.NONE),super(null,t),this.mipmap=Ci.OFF,this.valid=!0,this._clear=new Et([0,0,0,0]),this.framebuffer=new Ga(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=t.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(t){this._clear.setValue(t)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(t){this.framebuffer.multisample=t}resize(t,e){this.framebuffer.resize(t*this.resolution,e*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Xi extends os{constructor(t){const e=t,i=e.naturalWidth||e.videoWidth||e.displayWidth||e.width,n=e.naturalHeight||e.videoHeight||e.displayHeight||e.height;super(i,n),this.source=t,this.noSubImage=!1}static crossOrigin(t,e,i){i===void 0&&!e.startsWith("data:")?t.crossOrigin=Rv(e):i!==!1&&(t.crossOrigin=typeof i=="string"?i:"anonymous")}upload(t,e,i,n){const r=t.gl,o=e.realWidth,a=e.realHeight;if(n=n||this.source,typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement){if(!n.complete||n.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement&&n.readyState<=1)return!1;return r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===ve.UNPACK),!this.noSubImage&&e.target===r.TEXTURE_2D&&i.width===o&&i.height===a?r.texSubImage2D(r.TEXTURE_2D,0,0,0,e.format,i.type,n):(i.width=o,i.height=a,r.texImage2D(e.target,0,i.internalFormat,e.format,i.type,n)),!0}update(){if(this.destroyed)return;const t=this.source,e=t.naturalWidth||t.videoWidth||t.width,i=t.naturalHeight||t.videoHeight||t.height;this.resize(e,i),super.update()}dispose(){this.source=null}}class pg extends Xi{constructor(t,e){if(e=e||{},typeof t=="string"){const i=new Image;Xi.crossOrigin(i,t,e.crossorigin),i.src=t,t=i}super(t),!t.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=t.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(e.createBitmap??nt.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof e.alphaMode=="number"?e.alphaMode:null,this.bitmap=null,this._load=null,e.autoLoad!==!1&&this.load()}load(t){return this._load?this._load:(t!==void 0&&(this.createBitmap=t),this._load=new Promise((e,i)=>{const n=this.source;this.url=n.src;const r=()=>{this.destroyed||(n.onload=null,n.onerror=null,this.update(),this._load=null,this.createBitmap?e(this.process()):e(this))};n.complete&&n.src?r():(n.onload=r,n.onerror=o=>{i(o),this.onError.emit(o)})}),this._load)}process(){const t=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const e=globalThis.createImageBitmap,i=!t.crossOrigin||t.crossOrigin==="anonymous";return this._process=fetch(t.src,{mode:i?"cors":"no-cors"}).then(n=>n.blob()).then(n=>e(n,0,0,t.width,t.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===ve.UNPACK?"premultiply":"none"})).then(n=>this.destroyed?Promise.reject():(this.bitmap=n,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(t,e,i){if(typeof this.alphaMode=="number"&&(e.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(t,e,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(t,e,i,this.bitmap),!this.preserveBitmap){let n=!0;const r=e._glTextures;for(const o in r){const a=r[o];if(a!==i&&a.dirtyId!==e.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(t){return typeof HTMLImageElement<"u"&&(typeof t=="string"||t instanceof HTMLImageElement)}}class yh{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(t,e,i){const n=e.width,r=e.height;if(i){const o=t.width/2/n,a=t.height/2/r,h=t.x/n+o,l=t.y/r+a;i=Bt.add(i,Bt.NW),this.x0=h+o*Bt.uX(i),this.y0=l+a*Bt.uY(i),i=Bt.add(i,2),this.x1=h+o*Bt.uX(i),this.y1=l+a*Bt.uY(i),i=Bt.add(i,2),this.x2=h+o*Bt.uX(i),this.y2=l+a*Bt.uY(i),i=Bt.add(i,2),this.x3=h+o*Bt.uX(i),this.y3=l+a*Bt.uY(i)}else this.x0=t.x/n,this.y0=t.y/r,this.x1=(t.x+t.width)/n,this.y1=t.y/r,this.x2=(t.x+t.width)/n,this.y2=(t.y+t.height)/r,this.x3=t.x/n,this.y3=(t.y+t.height)/r;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}yh.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const dy=new yh;function ia(s){s.destroy=function(){},s.on=function(){},s.once=function(){},s.emit=function(){}}class st extends xs{constructor(t,e,i,n,r,o,a){if(super(),this.noFrame=!1,e||(this.noFrame=!0,e=new xt(0,0,1,1)),t instanceof st&&(t=t.baseTexture),this.baseTexture=t,this._frame=e,this.trim=n,this.valid=!1,this.destroyed=!1,this._uvs=dy,this.uvMatrix=null,this.orig=i||e,this._rotate=Number(r||0),r===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new St(o.x,o.y):new St(0,0),this.defaultBorders=a,this._updateID=0,this.textureCacheIds=[],t.valid?this.noFrame?t.valid&&this.onBaseTextureUpdated(t):this.frame=e:t.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&t.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(t){if(this.baseTexture){if(t){const{resource:e}=this.baseTexture;e!=null&&e.url&&_e[e.url]&&st.removeFromCache(e.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,st.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var n;const t=this._frame.clone(),e=this._frame===this.orig?t:this.orig.clone(),i=new st(this.baseTexture,!this.noFrame&&t,e,(n=this.trim)==null?void 0:n.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(i._frame=t),i}updateUvs(){this._uvs===dy&&(this._uvs=new yh),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(t,e={},i=nt.STRICT_TEXTURE_CACHE){const n=typeof t=="string";let r=null;if(n)r=t;else if(t instanceof _t){if(!t.cacheId){const a=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t.cacheId=`${a}-${Xn()}`,_t.addToCache(t,t.cacheId)}r=t.cacheId}else{if(!t._pixiId){const a=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${a}_${Xn()}`}r=t._pixiId}let o=_e[r];if(n&&i&&!o)throw new Error(`The cacheId "${r}" does not exist in TextureCache.`);return!o&&!(t instanceof _t)?(e.resolution||(e.resolution=$i(t)),o=new st(new _t(t,e)),o.baseTexture.cacheId=r,_t.addToCache(o.baseTexture,r),st.addToCache(o,r)):!o&&t instanceof _t&&(o=new st(t),st.addToCache(o,r)),o}static fromURL(t,e){const i=Object.assign({autoLoad:!1},e==null?void 0:e.resourceOptions),n=st.from(t,Object.assign({resourceOptions:i},e),!1),r=n.baseTexture.resource;return n.baseTexture.valid?Promise.resolve(n):r.load().then(()=>Promise.resolve(n))}static fromBuffer(t,e,i,n){return new st(_t.fromBuffer(t,e,i,n))}static fromLoader(t,e,i,n){const r=new _t(t,Object.assign({scaleMode:_t.defaultOptions.scaleMode,resolution:$i(e)},n)),{resource:o}=r;o instanceof pg&&(o.url=e);const a=new st(r);return i||(i=e),_t.addToCache(a.baseTexture,i),st.addToCache(a,i),i!==e&&(_t.addToCache(a.baseTexture,e),st.addToCache(a,e)),a.baseTexture.valid?Promise.resolve(a):new Promise(h=>{a.baseTexture.once("loaded",()=>h(a))})}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),_e[e]&&_e[e]!==t&&console.warn(`Texture added to the cache with an id [${e}] that already had an entry`),_e[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=_e[t];if(e){const i=e.textureCacheIds.indexOf(t);return i>-1&&e.textureCacheIds.splice(i,1),delete _e[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)_e[t.textureCacheIds[e]]===t&&delete _e[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(t){this._frame=t,this.noFrame=!1;const{x:e,y:i,width:n,height:r}=t,o=e+n>this.baseTexture.width,a=i+r>this.baseTexture.height;if(o||a){const h=o&&a?"and":"or",l=`X: ${e} + ${n} = ${e+n} > ${this.baseTexture.width}`,u=`Y: ${i} + ${r} = ${i+r} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${l} ${h} ${u}`)}this.valid=n&&r&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=t),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(t){this._rotate=t,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return st._EMPTY||(st._EMPTY=new st(new _t),ia(st._EMPTY),ia(st._EMPTY.baseTexture)),st._EMPTY}static get WHITE(){if(!st._WHITE){const t=nt.ADAPTER.createCanvas(16,16),e=t.getContext("2d");t.width=16,t.height=16,e.fillStyle="white",e.fillRect(0,0,16,16),st._WHITE=new st(_t.from(t)),ia(st._WHITE),ia(st._WHITE.baseTexture)}return st._WHITE}}class er extends st{constructor(t,e){super(t,e),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(t){this.framebuffer.multisample=t}resize(t,e,i=!0){const n=this.baseTexture.resolution,r=Math.round(t*n)/n,o=Math.round(e*n)/n;this.valid=r>0&&o>0,this._frame.width=this.orig.width=r,this._frame.height=this.orig.height=o,i&&this.baseTexture.resize(r,o),this.updateUvs()}setResolution(t){const{baseTexture:e}=this;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))}static create(t){return new er(new gg(t))}}class mg{constructor(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(t,e,i=Zt.NONE){const n=new gg(Object.assign({width:t,height:e,resolution:1,multisample:i},this.textureOptions));return new er(n)}getOptimalTexture(t,e,i=1,n=Zt.NONE){let r;t=Math.max(Math.ceil(t*i-1e-6),1),e=Math.max(Math.ceil(e*i-1e-6),1),!this.enableFullScreen||t!==this._pixelsWidth||e!==this._pixelsHeight?(t=io(t),e=io(e),r=((t&65535)<<16|e&65535)>>>0,n>1&&(r+=n*4294967296)):r=n>1?-n:-1,this.texturePool[r]||(this.texturePool[r]=[]);let o=this.texturePool[r].pop();return o||(o=this.createTexture(t,e,n)),o.filterPoolKey=r,o.setResolution(i),o}getFilterTexture(t,e,i){const n=this.getOptimalTexture(t.width,t.height,e||t.resolution,i||Zt.NONE);return n.filterFrame=t.filterFrame,n}returnTexture(t){const e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)}returnFilterTexture(t){this.returnTexture(t)}clear(t){if(t=t!==!1,t)for(const e in this.texturePool){const i=this.texturePool[e];if(i)for(let n=0;n<i.length;n++)i[n].destroy(!0)}this.texturePool={}}setScreenSize(t){if(!(t.width===this._pixelsWidth&&t.height===this._pixelsHeight)){this.enableFullScreen=t.width>0&&t.height>0;for(const e in this.texturePool){if(!(Number(e)<0))continue;const i=this.texturePool[e];if(i)for(let n=0;n<i.length;n++)i[n].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}}}mg.SCREEN_KEY=-1;class Gv extends bn{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class yg extends bn{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Vt(this.vertices),this.uvBuffer=new Vt(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(t,e){let i=0,n=0;return this.uvs[0]=i,this.uvs[1]=n,this.uvs[2]=i+e.width/t.width,this.uvs[3]=n,this.uvs[4]=i+e.width/t.width,this.uvs[5]=n+e.height/t.height,this.uvs[6]=i,this.uvs[7]=n+e.height/t.height,i=e.x,n=e.y,this.vertices[0]=i,this.vertices[1]=n,this.vertices[2]=i+e.width,this.vertices[3]=n,this.vertices[4]=i+e.width,this.vertices[5]=n+e.height,this.vertices[6]=i,this.vertices[7]=n+e.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class Hv{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Zt.NONE,this.sourceFrame=new xt,this.destinationFrame=new xt,this.bindingSourceFrame=new xt,this.bindingDestinationFrame=new xt,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const na=[new St,new St,new St,new St],hu=new Ft;class _g{constructor(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new mg,this.statePool=[],this.quad=new Gv,this.quadUv=new yg,this.tempRect=new xt,this.activeState={},this.globalUniforms=new hi({outputFrame:new xt,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(t,e){const i=this.renderer,n=this.defaultFilterStack,r=this.statePool.pop()||new Hv,o=i.renderTexture;let a,h;if(o.current){const m=o.current;a=m.resolution,h=m.multisample}else a=i.resolution,h=i.multisample;let l=e[0].resolution||a,u=e[0].multisample??h,d=e[0].padding,f=e[0].autoFit,c=e[0].legacy??!0;for(let m=1;m<e.length;m++){const y=e[m];l=Math.min(l,y.resolution||a),u=Math.min(u,y.multisample??h),d=this.useMaxPadding?Math.max(d,y.padding):d+y.padding,f=f&&y.autoFit,c=c||(y.legacy??!0)}n.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),n.push(r),r.resolution=l,r.multisample=u,r.legacy=c,r.target=t,r.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),r.sourceFrame.pad(d);const g=this.tempRect.copyFrom(o.sourceFrame);i.projection.transform&&this.transformAABB(hu.copyFrom(i.projection.transform).invert(),g),f?(r.sourceFrame.fit(g),(r.sourceFrame.width<=0||r.sourceFrame.height<=0)&&(r.sourceFrame.width=0,r.sourceFrame.height=0)):r.sourceFrame.intersects(g)||(r.sourceFrame.width=0,r.sourceFrame.height=0),this.roundFrame(r.sourceFrame,o.current?o.current.resolution:i.resolution,o.sourceFrame,o.destinationFrame,i.projection.transform),r.renderTexture=this.getOptimalFilterTexture(r.sourceFrame.width,r.sourceFrame.height,l,u),r.filters=e,r.destinationFrame.width=r.renderTexture.width,r.destinationFrame.height=r.renderTexture.height;const p=this.tempRect;p.x=0,p.y=0,p.width=r.sourceFrame.width,p.height=r.sourceFrame.height,r.renderTexture.filterFrame=r.sourceFrame,r.bindingSourceFrame.copyFrom(o.sourceFrame),r.bindingDestinationFrame.copyFrom(o.destinationFrame),r.transform=i.projection.transform,i.projection.transform=null,o.bind(r.renderTexture,r.sourceFrame,p),i.framebuffer.clear(0,0,0,0)}pop(){const t=this.defaultFilterStack,e=t.pop(),i=e.filters;this.activeState=e;const n=this.globalUniforms.uniforms;n.outputFrame=e.sourceFrame,n.resolution=e.resolution;const r=n.inputSize,o=n.inputPixel,a=n.inputClamp;if(r[0]=e.destinationFrame.width,r[1]=e.destinationFrame.height,r[2]=1/r[0],r[3]=1/r[1],o[0]=Math.round(r[0]*e.resolution),o[1]=Math.round(r[1]*e.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=e.sourceFrame.width*r[2]-.5*o[2],a[3]=e.sourceFrame.height*r[3]-.5*o[3],e.legacy){const l=n.filterArea;l[0]=e.destinationFrame.width,l[1]=e.destinationFrame.height,l[2]=e.sourceFrame.x,l[3]=e.sourceFrame.y,n.filterClamp=n.inputClamp}this.globalUniforms.update();const h=t[t.length-1];if(this.renderer.framebuffer.blit(),i.length===1)i[0].apply(this,e.renderTexture,h.renderTexture,yi.BLEND,e),this.returnFilterTexture(e.renderTexture);else{let l=e.renderTexture,u=this.getOptimalFilterTexture(l.width,l.height,e.resolution);u.filterFrame=l.filterFrame;let d=0;for(d=0;d<i.length-1;++d){d===1&&e.multisample>1&&(u=this.getOptimalFilterTexture(l.width,l.height,e.resolution),u.filterFrame=l.filterFrame),i[d].apply(this,l,u,yi.CLEAR,e);const f=l;l=u,u=f}i[d].apply(this,l,h.renderTexture,yi.BLEND,e),d>1&&e.multisample>1&&this.returnFilterTexture(e.renderTexture),this.returnFilterTexture(l),this.returnFilterTexture(u)}e.clear(),this.statePool.push(e)}bindAndClear(t,e=yi.CLEAR){const{renderTexture:i,state:n}=this.renderer;if(t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t==null?void 0:t.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=t.filterFrame.width,o.height=t.filterFrame.height,i.bind(t,t.filterFrame,o)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const r=n.stateId&1||this.forceClear;(e===yi.CLEAR||e===yi.BLIT&&r)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(t,e,i,n){const r=this.renderer;r.state.set(t.state),this.bindAndClear(i,n),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,r.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(e._frame,e.filterFrame),r.geometry.bind(this.quadUv),r.geometry.draw(vi.TRIANGLES)):(r.geometry.bind(this.quad),r.geometry.draw(vi.TRIANGLE_STRIP))}calculateSpriteMatrix(t,e){const{sourceFrame:i,destinationFrame:n}=this.activeState,{orig:r}=e._texture,o=t.set(n.width,0,0,n.height,i.x,i.y),a=e.worldTransform.copyTo(Ft.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/r.width,1/r.height),o.translate(e.anchor.x,e.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(t,e,i=1,n=Zt.NONE){return this.texturePool.getOptimalTexture(t,e,i,n)}getFilterTexture(t,e,i){if(typeof t=="number"){const r=t;t=e,e=r}t=t||this.activeState.renderTexture;const n=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution,i||Zt.NONE);return n.filterFrame=t.filterFrame,n}returnFilterTexture(t){this.texturePool.returnTexture(t)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(t,e){const i=na[0],n=na[1],r=na[2],o=na[3];i.set(e.left,e.top),n.set(e.left,e.bottom),r.set(e.right,e.top),o.set(e.right,e.bottom),t.apply(i,i),t.apply(n,n),t.apply(r,r),t.apply(o,o);const a=Math.min(i.x,n.x,r.x,o.x),h=Math.min(i.y,n.y,r.y,o.y),l=Math.max(i.x,n.x,r.x,o.x),u=Math.max(i.y,n.y,r.y,o.y);e.x=a,e.y=h,e.width=l-a,e.height=u-h}roundFrame(t,e,i,n,r){if(!(t.width<=0||t.height<=0||i.width<=0||i.height<=0)){if(r){const{a:o,b:a,c:h,d:l}=r;if((Math.abs(a)>1e-4||Math.abs(h)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(l)>1e-4))return}r=r?hu.copyFrom(r):hu.identity(),r.translate(-i.x,-i.y).scale(n.width/i.width,n.height/i.height).translate(n.x,n.y),this.transformAABB(r,t),t.ceil(e),this.transformAABB(r.invert(),t)}}}_g.extension={type:et.RendererSystem,name:"filter"};at.add(_g);class Wv{constructor(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Zt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const pA=new xt;class xg{constructor(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new Ga(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new xt,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let e=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;nt.PREFER_ENV===tr.WEBGL_LEGACY&&(e=null,i=null),e?t.drawBuffers=n=>e.drawBuffersWEBGL(n):(this.hasMRT=!1,t.drawBuffers=()=>{}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)}bind(t,e,i=0){const{gl:n}=this;if(t){const r=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,n.bindFramebuffer(n.FRAMEBUFFER,r.framebuffer)),r.mipLevel!==i&&(t.dirtyId++,t.dirtyFormat++,r.mipLevel=i),r.dirtyId!==t.dirtyId&&(r.dirtyId=t.dirtyId,r.dirtyFormat!==t.dirtyFormat?(r.dirtyFormat=t.dirtyFormat,r.dirtySize=t.dirtySize,this.updateFramebuffer(t,i)):r.dirtySize!==t.dirtySize&&(r.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(let o=0;o<t.colorTextures.length;o++){const a=t.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e){const o=e.width>>i,a=e.height>>i,h=o/e.width;this.setViewport(e.x*h,e.y*h,o,a)}else{const o=t.width>>i,a=t.height>>i;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,n.bindFramebuffer(n.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(t,e,i,n){const r=this.viewport;t=Math.round(t),e=Math.round(e),i=Math.round(i),n=Math.round(n),(r.width!==i||r.height!==n||r.x!==t||r.y!==e)&&(r.x=t,r.y=e,r.width=i,r.height=n,this.gl.viewport(t,e,i,n))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(t,e,i,n,r=Oa.COLOR|Oa.DEPTH){const{gl:o}=this;o.clearColor(t,e,i,n),o.clear(r)}initFramebuffer(t){const{gl:e}=this,i=new Wv(e.createFramebuffer());return i.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=i,this.managedFramebuffers.push(t),t.disposeRunner.add(this),i}resizeFramebuffer(t){const{gl:e}=this,i=t.glFramebuffers[this.CONTEXT_UID];if(i.stencil){e.bindRenderbuffer(e.RENDERBUFFER,i.stencil);let o;this.renderer.context.webGLVersion===1?o=e.DEPTH_STENCIL:t.depth&&t.stencil?o=e.DEPTH24_STENCIL8:t.depth?o=e.DEPTH_COMPONENT24:o=e.STENCIL_INDEX8,i.msaaBuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,o,t.width,t.height):e.renderbufferStorage(e.RENDERBUFFER,o,t.width,t.height)}const n=t.colorTextures;let r=n.length;e.drawBuffers||(r=Math.min(r,1));for(let o=0;o<r;o++){const a=n[o],h=a.parentTextureArray||a;this.renderer.texture.bind(h,0),o===0&&i.msaaBuffer&&(e.bindRenderbuffer(e.RENDERBUFFER,i.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,h._glTextures[this.CONTEXT_UID].internalFormat,t.width,t.height))}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)}updateFramebuffer(t,e){const{gl:i}=this,n=t.glFramebuffers[this.CONTEXT_UID],r=t.colorTextures;let o=r.length;i.drawBuffers||(o=Math.min(o,1)),n.multisample>1&&this.canMultisampleFramebuffer(t)?n.msaaBuffer=n.msaaBuffer||i.createRenderbuffer():n.msaaBuffer&&(i.deleteRenderbuffer(n.msaaBuffer),n.msaaBuffer=null,n.blitFramebuffer&&(n.blitFramebuffer.dispose(),n.blitFramebuffer=null));const a=[];for(let h=0;h<o;h++){const l=r[h],u=l.parentTextureArray||l;this.renderer.texture.bind(u,0),h===0&&n.msaaBuffer?(i.bindRenderbuffer(i.RENDERBUFFER,n.msaaBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,n.multisample,u._glTextures[this.CONTEXT_UID].internalFormat,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,n.msaaBuffer)):(i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+h,l.target,u._glTextures[this.CONTEXT_UID].texture,e),a.push(i.COLOR_ATTACHMENT0+h))}if(a.length>1&&i.drawBuffers(a),t.depthTexture&&this.writeDepthTexture){const h=t.depthTexture;this.renderer.texture.bind(h,0),i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,e)}if((t.stencil||t.depth)&&!(t.depthTexture&&this.writeDepthTexture)){n.stencil=n.stencil||i.createRenderbuffer();let h,l;this.renderer.context.webGLVersion===1?(h=i.DEPTH_STENCIL_ATTACHMENT,l=i.DEPTH_STENCIL):t.depth&&t.stencil?(h=i.DEPTH_STENCIL_ATTACHMENT,l=i.DEPTH24_STENCIL8):t.depth?(h=i.DEPTH_ATTACHMENT,l=i.DEPTH_COMPONENT24):(h=i.STENCIL_ATTACHMENT,l=i.STENCIL_INDEX8),i.bindRenderbuffer(i.RENDERBUFFER,n.stencil),n.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,n.multisample,l,t.width,t.height):i.renderbufferStorage(i.RENDERBUFFER,l,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,h,i.RENDERBUFFER,n.stencil)}else n.stencil&&(i.deleteRenderbuffer(n.stencil),n.stencil=null)}canMultisampleFramebuffer(t){return this.renderer.context.webGLVersion!==1&&t.colorTextures.length<=1&&!t.depthTexture}detectSamples(t){const{msaaSamples:e}=this;let i=Zt.NONE;if(t<=1||e===null)return i;for(let n=0;n<e.length;n++)if(e[n]<=t){i=e[n];break}return i===1&&(i=Zt.NONE),i}blit(t,e,i){const{current:n,renderer:r,gl:o,CONTEXT_UID:a}=this;if(r.context.webGLVersion!==2||!n)return;const h=n.glFramebuffers[a];if(!h)return;if(!t){if(!h.msaaBuffer)return;const u=n.colorTextures[0];if(!u)return;h.blitFramebuffer||(h.blitFramebuffer=new Ga(n.width,n.height),h.blitFramebuffer.addColorTexture(0,u)),t=h.blitFramebuffer,t.colorTextures[0]!==u&&(t.colorTextures[0]=u,t.dirtyId++,t.dirtyFormat++),(t.width!==n.width||t.height!==n.height)&&(t.width=n.width,t.height=n.height,t.dirtyId++,t.dirtySize++)}e||(e=pA,e.width=n.width,e.height=n.height),i||(i=e);const l=e.width===i.width&&e.height===i.height;this.bind(t),o.bindFramebuffer(o.READ_FRAMEBUFFER,h.framebuffer),o.blitFramebuffer(e.left,e.top,e.right,e.bottom,i.left,i.top,i.right,i.bottom,o.COLOR_BUFFER_BIT,l?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,t.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(t,e){const i=t.glFramebuffers[this.CONTEXT_UID],n=this.gl;if(!i)return;delete t.glFramebuffers[this.CONTEXT_UID];const r=this.managedFramebuffers.indexOf(t);r>=0&&this.managedFramebuffers.splice(r,1),t.disposeRunner.remove(this),e||(n.deleteFramebuffer(i.framebuffer),i.msaaBuffer&&n.deleteRenderbuffer(i.msaaBuffer),i.stencil&&n.deleteRenderbuffer(i.stencil)),i.blitFramebuffer&&this.disposeFramebuffer(i.blitFramebuffer,e)}disposeAll(t){const e=this.managedFramebuffers;this.managedFramebuffers=[];for(let i=0;i<e.length;i++)this.disposeFramebuffer(e[i],t)}forceStencil(){const t=this.current;if(!t)return;const e=t.glFramebuffers[this.CONTEXT_UID];if(!e||e.stencil&&t.stencil)return;t.stencil=!0;const i=t.width,n=t.height,r=this.gl,o=e.stencil=r.createRenderbuffer();r.bindRenderbuffer(r.RENDERBUFFER,o);let a,h;this.renderer.context.webGLVersion===1?(a=r.DEPTH_STENCIL_ATTACHMENT,h=r.DEPTH_STENCIL):t.depth?(a=r.DEPTH_STENCIL_ATTACHMENT,h=r.DEPTH24_STENCIL8):(a=r.STENCIL_ATTACHMENT,h=r.STENCIL_INDEX8),e.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,e.multisample,h,i,n):r.renderbufferStorage(r.RENDERBUFFER,h,i,n),r.framebufferRenderbuffer(r.FRAMEBUFFER,a,r.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new xt}destroy(){this.renderer=null}}xg.extension={type:et.RendererSystem,name:"framebuffer"};at.add(xg);const lu={5126:4,5123:2,5121:1};class vg{constructor(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,e.webGLVersion!==2){let i=this.renderer.context.extensions.vertexArrayObject;nt.PREFER_ENV===tr.WEBGL_LEGACY&&(i=null),i?(t.createVertexArray=()=>i.createVertexArrayOES(),t.bindVertexArray=n=>i.bindVertexArrayOES(n),t.deleteVertexArray=n=>i.deleteVertexArrayOES(n)):(this.hasVao=!1,t.createVertexArray=()=>null,t.bindVertexArray=()=>null,t.deleteVertexArray=()=>null)}if(e.webGLVersion!==2){const i=t.getExtension("ANGLE_instanced_arrays");i?(t.vertexAttribDivisor=(n,r)=>i.vertexAttribDivisorANGLE(n,r),t.drawElementsInstanced=(n,r,o,a,h)=>i.drawElementsInstancedANGLE(n,r,o,a,h),t.drawArraysInstanced=(n,r,o,a)=>i.drawArraysInstancedANGLE(n,r,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=e.webGLVersion===2||!!e.extensions.uint32ElementIndex}bind(t,e){e=e||this.renderer.shader.shader;const{gl:i}=this;let n=t.glVertexArrayObjects[this.CONTEXT_UID],r=!1;n||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=n={},r=!0);const o=n[e.program.id]||this.initGeometryVao(t,e,r);this._activeGeometry=t,this._activeVao!==o&&(this._activeVao=o,this.hasVao?i.bindVertexArray(o):this.activateVao(t,e.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const t=this._activeGeometry,e=this.renderer.buffer;for(let i=0;i<t.buffers.length;i++){const n=t.buffers[i];e.update(n)}}checkCompatibility(t,e){const i=t.attributes,n=e.attributeData;for(const r in n)if(!i[r])throw new Error(`shader and geometry incompatible, geometry missing the "${r}" attribute`)}getSignature(t,e){const i=t.attributes,n=e.attributeData,r=["g",t.id];for(const o in i)n[o]&&r.push(o,n[o].location);return r.join("-")}initGeometryVao(t,e,i=!0){const n=this.gl,r=this.CONTEXT_UID,o=this.renderer.buffer,a=e.program;a.glPrograms[r]||this.renderer.shader.generateProgram(e),this.checkCompatibility(t,a);const h=this.getSignature(t,a),l=t.glVertexArrayObjects[this.CONTEXT_UID];let u=l[h];if(u)return l[a.id]=u,u;const d=t.buffers,f=t.attributes,c={},g={};for(const p in d)c[p]=0,g[p]=0;for(const p in f)!f[p].size&&a.attributeData[p]?f[p].size=a.attributeData[p].size:f[p].size||console.warn(`PIXI Geometry attribute '${p}' size cannot be determined (likely the bound shader does not have the attribute)`),c[f[p].buffer]+=f[p].size*lu[f[p].type];for(const p in f){const m=f[p],y=m.size;m.stride===void 0&&(c[m.buffer]===y*lu[m.type]?m.stride=0:m.stride=c[m.buffer]),m.start===void 0&&(m.start=g[m.buffer],g[m.buffer]+=y*lu[m.type])}u=n.createVertexArray(),n.bindVertexArray(u);for(let p=0;p<d.length;p++){const m=d[p];o.bind(m),i&&m._glBuffers[r].refCount++}return this.activateVao(t,a),l[a.id]=u,l[h]=u,n.bindVertexArray(null),o.unbind(Ti.ARRAY_BUFFER),u}disposeGeometry(t,e){var a;if(!this.managedGeometries[t.id])return;delete this.managedGeometries[t.id];const i=t.glVertexArrayObjects[this.CONTEXT_UID],n=this.gl,r=t.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(t.disposeRunner.remove(this),!!i){if(o)for(let h=0;h<r.length;h++){const l=r[h]._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!e&&o.dispose(r[h],e))}if(!e){for(const h in i)if(h[0]==="g"){const l=i[h];this._activeVao===l&&this.unbind(),n.deleteVertexArray(l)}}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(t){const e=Object.keys(this.managedGeometries);for(let i=0;i<e.length;i++)this.disposeGeometry(this.managedGeometries[e[i]],t)}activateVao(t,e){const i=this.gl,n=this.CONTEXT_UID,r=this.renderer.buffer,o=t.buffers,a=t.attributes;t.indexBuffer&&r.bind(t.indexBuffer);let h=null;for(const l in a){const u=a[l],d=o[u.buffer],f=d._glBuffers[n];if(e.attributeData[l]){h!==f&&(r.bind(d),h=f);const c=e.attributeData[l].location;if(i.enableVertexAttribArray(c),i.vertexAttribPointer(c,u.size,u.type||i.FLOAT,u.normalized,u.stride,u.start),u.instance)if(this.hasInstance)i.vertexAttribDivisor(c,u.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(t,e,i,n){const{gl:r}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,h=a===2?r.UNSIGNED_SHORT:r.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?r.drawElementsInstanced(t,e||o.indexBuffer.data.length,h,(i||0)*a,n||1):r.drawElements(t,e||o.indexBuffer.data.length,h,(i||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?r.drawArraysInstanced(t,i,e||o.getSize(),n||1):r.drawArrays(t,i,e||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}vg.extension={type:et.RendererSystem,name:"geometry"};at.add(vg);const fy=new Ft;class _h{constructor(t,e){this._texture=t,this.mapCoord=new Ft,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof e>"u"?.5:e,this.isSimple=!1}get texture(){return this._texture}set texture(t){this._texture=t,this._textureID=-1}multiplyUvs(t,e){e===void 0&&(e=t);const i=this.mapCoord;for(let n=0;n<t.length;n+=2){const r=t[n],o=t[n+1];e[n]=r*i.a+o*i.c+i.tx,e[n+1]=r*i.b+o*i.d+i.ty}return e}update(t){const e=this._texture;if(!e||!e.valid||!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;const i=e._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);const n=e.orig,r=e.trim;r&&(fy.set(n.width/r.width,0,0,n.height/r.height,-r.x/r.width,-r.y/r.height),this.mapCoord.append(fy));const o=e.baseTexture,a=this.uClampFrame,h=this.clampMargin/o.resolution,l=this.clampOffset;return a[0]=(e._frame.x+h+l)/o.width,a[1]=(e._frame.y+h+l)/o.height,a[2]=(e._frame.x+e._frame.width-h+l)/o.width,a[3]=(e._frame.y+e._frame.height-h+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,this.isSimple=e._frame.width===o.width&&e._frame.height===o.height&&e.rotate===0,!0}}var mA=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,yA=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class Vv extends ne{constructor(t,e,i){let n=null;typeof t!="string"&&e===void 0&&i===void 0&&(n=t,t=void 0,e=void 0,i=void 0),super(t||yA,e||mA,i),this.maskSprite=n,this.maskMatrix=new Ft}get maskSprite(){return this._maskSprite}set maskSprite(t){this._maskSprite=t,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(t,e,i,n){const r=this._maskSprite,o=r._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new _h(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,r).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=r.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,t.applyFilter(this,e,i,n))}}class $v{constructor(t=null){this.type=Jt.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=ne.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Jt.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class bg{constructor(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)}push(t,e){let i=e;if(!i.isMaskData){const r=this.maskDataPool.pop()||new $v;r.pooled=!0,r.maskObject=e,i=r}const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(i.copyCountersOrReset(n),i._colorMask=n?n._colorMask:15,i.autoDetect&&this.detect(i),i._target=t,i.type!==Jt.SPRITE&&this.maskStack.push(i),i.enabled)switch(i.type){case Jt.SCISSOR:this.renderer.scissor.push(i);break;case Jt.STENCIL:this.renderer.stencil.push(i);break;case Jt.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i);break;case Jt.COLOR:this.pushColorMask(i);break}i.type===Jt.SPRITE&&this.maskStack.push(i)}pop(t){const e=this.maskStack.pop();if(!(!e||e._target!==t)){if(e.enabled)switch(e.type){case Jt.SCISSOR:this.renderer.scissor.pop(e);break;case Jt.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case Jt.SPRITE:this.popSpriteMask(e);break;case Jt.COLOR:this.popColorMask(e);break}if(e.reset(),e.pooled&&this.maskDataPool.push(e),this.maskStack.length!==0){const i=this.maskStack[this.maskStack.length-1];i.type===Jt.SPRITE&&i._filters&&(i._filters[0].maskSprite=i.maskObject)}}}detect(t){const e=t.maskObject;e?e.isSprite?t.type=Jt.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?t.type=Jt.SCISSOR:t.type=Jt.STENCIL:t.type=Jt.COLOR}pushSpriteMask(t){const{maskObject:e}=t,i=t._target;let n=t._filters;n||(n=this.alphaMaskPool[this.alphaMaskIndex],n||(n=this.alphaMaskPool[this.alphaMaskIndex]=[new Vv])),n[0].resolution=t.resolution,n[0].multisample=t.multisample,n[0].maskSprite=e;const r=i.filterArea;i.filterArea=e.getBounds(!0),this.renderer.filter.push(i,n),i.filterArea=r,t._filters||this.alphaMaskIndex++}popSpriteMask(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(t){const e=t._colorMask,i=t._colorMask=e&t.colorMask;i!==e&&this.renderer.gl.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)}popColorMask(t){const e=t._colorMask,i=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;i!==e&&this.renderer.gl.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)}destroy(){this.renderer=null}}bg.extension={type:et.RendererSystem,name:"mask"};at.add(bg);class Xv{constructor(t){this.renderer=t,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(t){const{gl:e}=this.renderer,i=this.getStackLength();this.maskStack=t;const n=this.getStackLength();n!==i&&(n===0?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const gy=new Ft,py=[],Yv=class _a extends Xv{constructor(t){super(t),this.glConst=nt.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:i}=t,{renderer:n}=this,r=n.renderTexture,o=i.getBounds(!0,py.pop()??new xt);this.roundFrameToPixels(o,r.current?r.current.resolution:n.resolution,r.sourceFrame,r.destinationFrame,n.projection.transform),e&&o.fit(e),t._scissorRectLocal=o}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:i,c:n,d:r}=t;return(Math.abs(i)>1e-4||Math.abs(n)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(r)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||_a.isMatrixRotated(e.worldTransform)||_a.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const i=t._scissorRectLocal;return i.width>0&&i.height>0}roundFrameToPixels(t,e,i,n,r){_a.isMatrixRotated(r)||(r=r?gy.copyFrom(r):gy.identity(),r.translate(-i.x,-i.y).scale(n.width/i.width,n.height/i.height).translate(n.x,n.y),this.renderer.filter.transformAABB(r,t),t.fit(n),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&py.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};Yv.extension={type:et.RendererSystem,name:"scissor"};let Zv=Yv;at.add(Zv);class wg extends Xv{constructor(t){super(t),this.glConst=nt.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0}push(t){const e=t.maskObject,{gl:i}=this.renderer,n=t._stencilCounter;n===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),t._stencilCounter++;const r=t._colorMask;r!==0&&(t._colorMask=0,i.colorMask(!1,!1,!1,!1)),i.stencilFunc(i.EQUAL,n,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,r!==0&&(t._colorMask=r,i.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)),this._useCurrent()}pop(t){const e=this.renderer.gl;if(this.getStackLength()===0)e.disable(e.STENCIL_TEST);else{const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,n=i?i._colorMask:15;n!==0&&(i._colorMask=0,e.colorMask(!1,!1,!1,!1)),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,n!==0&&(i._colorMask=n,e.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)),this._useCurrent()}}_useCurrent(){const t=this.renderer.gl;t.stencilFunc(t.EQUAL,this.getStackLength(),4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)}}wg.extension={type:et.RendererSystem,name:"stencil"};at.add(wg);class Tg{constructor(t){this.renderer=t,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return mt("7.0.0","renderer.plugins.extract has moved to renderer.extract"),t.extract}},prepare:{enumerable:!1,get(){return mt("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),t.prepare}},interaction:{enumerable:!1,get(){return mt("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),t.events}}})}init(){const t=this.rendererPlugins;for(const e in t)this.plugins[e]=new t[e](this.renderer)}destroy(){for(const t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null}}Tg.extension={type:[et.RendererSystem,et.CanvasRendererSystem],name:"_plugin"};at.add(Tg);class Sg{constructor(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Ft,this.transform=null}update(t,e,i,n){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,n),this.transform&&this.projectionMatrix.append(this.transform);const r=this.renderer;r.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,r.globalUniforms.update(),r.shader.shader&&r.shader.syncUniformGroup(r.shader.shader.uniforms.globals)}calculateProjection(t,e,i,n){const r=this.projectionMatrix,o=n?-1:1;r.identity(),r.a=1/e.width*2,r.d=o*(1/e.height*2),r.tx=-1-e.x*r.a,r.ty=-o-e.y*r.d}setTransform(t){}destroy(){this.renderer=null}}Sg.extension={type:et.RendererSystem,name:"projection"};at.add(Sg);const _A=new Ro,my=new xt;class Ag{constructor(t){this.renderer=t,this._tempMatrix=new Ft}generateTexture(t,e){const{region:i,...n}=e||{},r=(i==null?void 0:i.copyTo(my))||t.getLocalBounds(my,!0),o=n.resolution||this.renderer.resolution;r.width=Math.max(r.width,1/o),r.height=Math.max(r.height,1/o),n.width=r.width,n.height=r.height,n.resolution=o,n.multisample??(n.multisample=this.renderer.multisample);const a=er.create(n);this._tempMatrix.tx=-r.x,this._tempMatrix.ty=-r.y;const h=t.transform;return t.transform=_A,this.renderer.render(t,{renderTexture:a,transform:this._tempMatrix,skipUpdateTransform:!!t.parent,blit:!0}),t.transform=h,a}destroy(){}}Ag.extension={type:[et.RendererSystem,et.CanvasRendererSystem],name:"textureGenerator"};at.add(Ag);const ar=new xt,Ps=new xt;class Eg{constructor(t){this.renderer=t,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new xt,this.destinationFrame=new xt,this.viewportFrame=new xt}contextChange(){var e;const t=(e=this.renderer)==null?void 0:e.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(t&&t.alpha&&t.premultipliedAlpha)}bind(t=null,e,i){const n=this.renderer;this.current=t;let r,o,a;t?(r=t.baseTexture,a=r.resolution,e||(ar.width=t.frame.width,ar.height=t.frame.height,e=ar),i||(Ps.x=t.frame.x,Ps.y=t.frame.y,Ps.width=e.width,Ps.height=e.height,i=Ps),o=r.framebuffer):(a=n.resolution,e||(ar.width=n._view.screen.width,ar.height=n._view.screen.height,e=ar),i||(i=ar,i.width=e.width,i.height=e.height));const h=this.viewportFrame;h.x=i.x*a,h.y=i.y*a,h.width=i.width*a,h.height=i.height*a,t||(h.y=n.view.height-(h.y+h.height)),h.ceil(),this.renderer.framebuffer.bind(o,h),this.renderer.projection.update(i,e,a,!o),t?this.renderer.mask.setMaskStack(r.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(i)}clear(t,e){const i=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,n=Et.shared.setValue(t||i);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&n.premultiply(n.alpha);const r=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,a=r.width!==o.width||r.height!==o.height;if(a){let{x:h,y:l,width:u,height:d}=this.viewportFrame;h=Math.round(h),l=Math.round(l),u=Math.round(u),d=Math.round(d),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(h,l,u,d)}this.renderer.framebuffer.clear(n.red,n.green,n.blue,n.alpha,e),a&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}Eg.extension={type:et.RendererSystem,name:"renderTexture"};at.add(Eg);class xA{}class Kv{constructor(t,e){this.program=t,this.uniformData=e,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function vA(s,t){const e={},i=t.getProgramParameter(s,t.ACTIVE_ATTRIBUTES);for(let n=0;n<i;n++){const r=t.getActiveAttrib(s,n);if(r.name.startsWith("gl_"))continue;const o=Nv(t,r.type),a={type:o,name:r.name,size:Lv(o),location:t.getAttribLocation(s,r.name)};e[r.name]=a}return e}function bA(s,t){const e={},i=t.getProgramParameter(s,t.ACTIVE_UNIFORMS);for(let n=0;n<i;n++){const r=t.getActiveUniform(s,n),o=r.name.replace(/\[.*?\]$/,""),a=!!r.name.match(/\[.*?\]$/),h=Nv(t,r.type);e[o]={name:o,index:n,type:h,size:r.size,isArray:a,value:jv(h,r.size)}}return e}function Jv(s,t){var a;const e=ay(s,s.VERTEX_SHADER,t.vertexSrc),i=ay(s,s.FRAGMENT_SHADER,t.fragmentSrc),n=s.createProgram();s.attachShader(n,e),s.attachShader(n,i);const r=(a=t.extra)==null?void 0:a.transformFeedbackVaryings;if(r&&(typeof s.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):s.transformFeedbackVaryings(n,r.names,r.bufferMode==="separate"?s.SEPARATE_ATTRIBS:s.INTERLEAVED_ATTRIBS)),s.linkProgram(n),s.getProgramParameter(n,s.LINK_STATUS)||sA(s,n,e,i),t.attributeData=vA(n,s),t.uniformData=bA(n,s),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){const h=Object.keys(t.attributeData);h.sort((l,u)=>l>u?1:-1);for(let l=0;l<h.length;l++)t.attributeData[h[l]].location=l,s.bindAttribLocation(n,l,h[l]);s.linkProgram(n)}s.deleteShader(e),s.deleteShader(i);const o={};for(const h in t.uniformData){const l=t.uniformData[h];o[h]={location:s.getUniformLocation(n,h),value:jv(l.type,l.size)}}return new Kv(n,o)}function wA(s,t,e,i,n){e.buffer.update(n)}const TA={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},Qv={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function tb(s){const t=s.map(r=>({data:r,offset:0,dataLen:0,dirty:0}));let e=0,i=0,n=0;for(let r=0;r<t.length;r++){const o=t[r];if(e=Qv[o.data.type],o.data.size>1&&(e=Math.max(e,16)*o.data.size),o.dataLen=e,i%e!==0&&i<16){const a=i%e%16;i+=a,n+=a}i+e>16?(n=Math.ceil(n/16)*16,o.offset=n,n+=e,i=e):(o.offset=n,i+=e,n+=e)}return n=Math.ceil(n/16)*16,{uboElements:t,size:n}}function eb(s,t){const e=[];for(const i in s)t[i]&&e.push(t[i]);return e.sort((i,n)=>i.index-n.index),e}function ib(s,t){if(!s.autoManage)return{size:0,syncFunc:wA};const e=eb(s.uniforms,t),{uboElements:i,size:n}=tb(e),r=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<i.length;o++){const a=i[o],h=s.uniforms[a.data.name],l=a.data.name;let u=!1;for(let d=0;d<br.length;d++){const f=br[d];if(f.codeUbo&&f.test(a.data,h)){r.push(`offset = ${a.offset/4};`,br[d].codeUbo(a.data.name,h)),u=!0;break}}if(!u)if(a.data.size>1){const d=Lv(a.data.type),f=Math.max(Qv[a.data.type]/16,1),c=d/f,g=(4-c%4)%4;r.push(`
                cv = ud.${l}.value;
                v = uv.${l};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*f}; i++)
                {
                    for(var j = 0; j < ${c}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${g};
                }

                `)}else{const d=TA[a.data.type];r.push(`
                cv = ud.${l}.value;
                v = uv.${l};
                offset = ${a.offset/4};
                ${d};
                `)}}return r.push(`
       renderer.buffer.update(buffer);
    `),{size:n,syncFunc:new Function("ud","uv","renderer","syncData","buffer",r.join(`
`))}}let SA=0;const ra={textureCount:0,uboCount:0};class Cg{constructor(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=SA++}systemCheck(){if(!qv())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(t){this.gl=t,this.reset()}bind(t,e){t.disposeRunner.add(this),t.uniforms.globals=this.renderer.globalUniforms;const i=t.program,n=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==i&&(this.program=i,this.gl.useProgram(n.program)),e||(ra.textureCount=0,ra.uboCount=0,this.syncUniformGroup(t.uniformGroup,ra)),n}setUniforms(t){const e=this.shader.program,i=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(i.uniformData,t,this.renderer)}syncUniformGroup(t,e){const i=this.getGlProgram();(!t.static||t.dirtyId!==i.uniformDirtyGroups[t.id])&&(i.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,i,e))}syncUniforms(t,e,i){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,i)}createSyncGroups(t){const e=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[e]||(this.cache[e]=nA(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(t,e){const i=this.getGlProgram();if(!t.static||t.dirtyId!==0||!i.uniformGroups[t.id]){t.dirtyId=0;const n=i.uniformGroups[t.id]||this.createSyncBufferGroup(t,i,e);t.buffer.update(),n(i.uniformData,t.uniforms,this.renderer,ra,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,i.uniformBufferBindings[e])}createSyncBufferGroup(t,e,i){const{gl:n}=this.renderer;this.renderer.buffer.bind(t.buffer);const r=this.gl.getUniformBlockIndex(e.program,i);e.uniformBufferBindings[i]=this.shader.uniformBindCount,n.uniformBlockBinding(e.program,r,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(t,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=ib(t,this.shader.program.uniformData)),t.autoManage){const h=new Float32Array(a.size/4);t.buffer.update(h)}return e.uniformGroups[t.id]=a.syncFunc,e.uniformGroups[t.id]}getSignature(t,e,i){const n=t.uniforms,r=[`${i}-`];for(const o in n)r.push(o),e[o]&&r.push(e[o].type);return r.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(t){const e=this.gl,i=t.program,n=Jv(e,i);return i.glPrograms[this.renderer.CONTEXT_UID]=n,n}reset(){this.program=null,this.shader=null}disposeShader(t){this.shader===t&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}Cg.extension={type:et.RendererSystem,name:"shader"};at.add(Cg);class ao{constructor(t){this.renderer=t}run(t){const{renderer:e}=this;e.runners.init.emit(e.options),t.hello&&console.log(`PixiJS 7.4.3 - ${e.rendererLogId} - https://pixijs.com`),e.resize(e.screen.width,e.screen.height)}destroy(){}}ao.defaultOptions={hello:!1},ao.extension={type:[et.RendererSystem,et.CanvasRendererSystem],name:"startup"};at.add(ao);function AA(s,t=[]){return t[gt.NORMAL]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[gt.ADD]=[s.ONE,s.ONE],t[gt.MULTIPLY]=[s.DST_COLOR,s.ONE_MINUS_SRC_ALPHA,s.ONE,s.ONE_MINUS_SRC_ALPHA],t[gt.SCREEN]=[s.ONE,s.ONE_MINUS_SRC_COLOR,s.ONE,s.ONE_MINUS_SRC_ALPHA],t[gt.OVERLAY]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[gt.DARKEN]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[gt.LIGHTEN]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[gt.COLOR_DODGE]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[gt.COLOR_BURN]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[gt.HARD_LIGHT]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[gt.SOFT_LIGHT]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[gt.DIFFERENCE]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[gt.EXCLUSION]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[gt.HUE]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[gt.SATURATION]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[gt.COLOR]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[gt.LUMINOSITY]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[gt.NONE]=[0,0],t[gt.NORMAL_NPM]=[s.SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA,s.ONE,s.ONE_MINUS_SRC_ALPHA],t[gt.ADD_NPM]=[s.SRC_ALPHA,s.ONE,s.ONE,s.ONE],t[gt.SCREEN_NPM]=[s.SRC_ALPHA,s.ONE_MINUS_SRC_COLOR,s.ONE,s.ONE_MINUS_SRC_ALPHA],t[gt.SRC_IN]=[s.DST_ALPHA,s.ZERO],t[gt.SRC_OUT]=[s.ONE_MINUS_DST_ALPHA,s.ZERO],t[gt.SRC_ATOP]=[s.DST_ALPHA,s.ONE_MINUS_SRC_ALPHA],t[gt.DST_OVER]=[s.ONE_MINUS_DST_ALPHA,s.ONE],t[gt.DST_IN]=[s.ZERO,s.SRC_ALPHA],t[gt.DST_OUT]=[s.ZERO,s.ONE_MINUS_SRC_ALPHA],t[gt.DST_ATOP]=[s.ONE_MINUS_DST_ALPHA,s.SRC_ALPHA],t[gt.XOR]=[s.ONE_MINUS_DST_ALPHA,s.ONE_MINUS_SRC_ALPHA],t[gt.SUBTRACT]=[s.ONE,s.ONE,s.ONE,s.ONE,s.FUNC_REVERSE_SUBTRACT,s.FUNC_ADD],t}const EA=0,CA=1,PA=2,IA=3,MA=4,zA=5,nb=class uf{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=gt.NONE,this._blendEq=!1,this.map=[],this.map[EA]=this.setBlend,this.map[CA]=this.setOffset,this.map[PA]=this.setCullFace,this.map[IA]=this.setDepthTest,this.map[MA]=this.setFrontFace,this.map[zA]=this.setDepthMask,this.checks=[],this.defaultState=new Ii,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=AA(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,i=0;for(;e;)e&1&&this.map[i].call(this,!!(t.data&1<<i)),e=e>>1,i++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(uf.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(uf.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],i=this.gl;e.length===2?i.blendFunc(e[0],e[1]):i.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,i.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const i=this.checks.indexOf(t);e&&i===-1?this.checks.push(t):!e&&i!==-1&&this.checks.splice(i,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};nb.extension={type:et.RendererSystem,name:"state"};let rb=nb;at.add(rb);class sb extends xs{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(t){this.addRunners(...t.runners);const e=(t.priority??[]).filter(n=>t.systems[n]),i=[...e,...Object.keys(t.systems).filter(n=>!e.includes(n))];for(const n of i)this.addSystem(t.systems[n],n)}addRunners(...t){t.forEach(e=>{this.runners[e]=new We(e)})}addSystem(t,e){const i=new t(this);if(this[e])throw new Error(`Whoops! The name "${e}" is already in use`);this[e]=i,this._systemsHash[e]=i;for(const n in this.runners)this.runners[n].add(i);return this}emitWithCustomOptions(t,e){const i=Object.keys(this._systemsHash);t.items.forEach(n=>{const r=i.find(o=>this._systemsHash[o]===n);n[t.name](e[r])})}destroy(){Object.values(this.runners).forEach(t=>{t.destroy()}),this._systemsHash={}}}const js=class xa{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=xa.defaultMaxIdle,this.checkCountMax=xa.defaultCheckCountMax,this.mode=xa.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==fh.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let i=!1;for(let n=0;n<e.length;n++){const r=e[n];r.resource&&this.count-r.touched>this.maxIdle&&(t.destroyTexture(r,!0),e[n]=null,i=!0)}if(i){let n=0;for(let r=0;r<e.length;r++)e[r]!==null&&(e[n++]=e[r]);e.length=n}}unload(t){const e=this.renderer.texture,i=t._texture;i&&!i.framebuffer&&e.destroyTexture(i);for(let n=t.children.length-1;n>=0;n--)this.unload(t.children[n])}destroy(){this.renderer=null}};js.defaultMode=fh.AUTO,js.defaultMaxIdle=3600,js.defaultCheckCountMax=600,js.extension={type:et.RendererSystem,name:"textureGC"};let Rn=js;at.add(Rn);class va{constructor(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=lt.UNSIGNED_BYTE,this.internalFormat=Y.RGBA,this.samplerType=0}}function RA(s){let t;return"WebGL2RenderingContext"in globalThis&&s instanceof globalThis.WebGL2RenderingContext?t={[s.RGB]:rt.FLOAT,[s.RGBA]:rt.FLOAT,[s.ALPHA]:rt.FLOAT,[s.LUMINANCE]:rt.FLOAT,[s.LUMINANCE_ALPHA]:rt.FLOAT,[s.R8]:rt.FLOAT,[s.R8_SNORM]:rt.FLOAT,[s.RG8]:rt.FLOAT,[s.RG8_SNORM]:rt.FLOAT,[s.RGB8]:rt.FLOAT,[s.RGB8_SNORM]:rt.FLOAT,[s.RGB565]:rt.FLOAT,[s.RGBA4]:rt.FLOAT,[s.RGB5_A1]:rt.FLOAT,[s.RGBA8]:rt.FLOAT,[s.RGBA8_SNORM]:rt.FLOAT,[s.RGB10_A2]:rt.FLOAT,[s.RGB10_A2UI]:rt.FLOAT,[s.SRGB8]:rt.FLOAT,[s.SRGB8_ALPHA8]:rt.FLOAT,[s.R16F]:rt.FLOAT,[s.RG16F]:rt.FLOAT,[s.RGB16F]:rt.FLOAT,[s.RGBA16F]:rt.FLOAT,[s.R32F]:rt.FLOAT,[s.RG32F]:rt.FLOAT,[s.RGB32F]:rt.FLOAT,[s.RGBA32F]:rt.FLOAT,[s.R11F_G11F_B10F]:rt.FLOAT,[s.RGB9_E5]:rt.FLOAT,[s.R8I]:rt.INT,[s.R8UI]:rt.UINT,[s.R16I]:rt.INT,[s.R16UI]:rt.UINT,[s.R32I]:rt.INT,[s.R32UI]:rt.UINT,[s.RG8I]:rt.INT,[s.RG8UI]:rt.UINT,[s.RG16I]:rt.INT,[s.RG16UI]:rt.UINT,[s.RG32I]:rt.INT,[s.RG32UI]:rt.UINT,[s.RGB8I]:rt.INT,[s.RGB8UI]:rt.UINT,[s.RGB16I]:rt.INT,[s.RGB16UI]:rt.UINT,[s.RGB32I]:rt.INT,[s.RGB32UI]:rt.UINT,[s.RGBA8I]:rt.INT,[s.RGBA8UI]:rt.UINT,[s.RGBA16I]:rt.INT,[s.RGBA16UI]:rt.UINT,[s.RGBA32I]:rt.INT,[s.RGBA32UI]:rt.UINT,[s.DEPTH_COMPONENT16]:rt.FLOAT,[s.DEPTH_COMPONENT24]:rt.FLOAT,[s.DEPTH_COMPONENT32F]:rt.FLOAT,[s.DEPTH_STENCIL]:rt.FLOAT,[s.DEPTH24_STENCIL8]:rt.FLOAT,[s.DEPTH32F_STENCIL8]:rt.FLOAT}:t={[s.RGB]:rt.FLOAT,[s.RGBA]:rt.FLOAT,[s.ALPHA]:rt.FLOAT,[s.LUMINANCE]:rt.FLOAT,[s.LUMINANCE_ALPHA]:rt.FLOAT,[s.DEPTH_STENCIL]:rt.FLOAT},t}function DA(s){let t;return"WebGL2RenderingContext"in globalThis&&s instanceof globalThis.WebGL2RenderingContext?t={[lt.UNSIGNED_BYTE]:{[Y.RGBA]:s.RGBA8,[Y.RGB]:s.RGB8,[Y.RG]:s.RG8,[Y.RED]:s.R8,[Y.RGBA_INTEGER]:s.RGBA8UI,[Y.RGB_INTEGER]:s.RGB8UI,[Y.RG_INTEGER]:s.RG8UI,[Y.RED_INTEGER]:s.R8UI,[Y.ALPHA]:s.ALPHA,[Y.LUMINANCE]:s.LUMINANCE,[Y.LUMINANCE_ALPHA]:s.LUMINANCE_ALPHA},[lt.BYTE]:{[Y.RGBA]:s.RGBA8_SNORM,[Y.RGB]:s.RGB8_SNORM,[Y.RG]:s.RG8_SNORM,[Y.RED]:s.R8_SNORM,[Y.RGBA_INTEGER]:s.RGBA8I,[Y.RGB_INTEGER]:s.RGB8I,[Y.RG_INTEGER]:s.RG8I,[Y.RED_INTEGER]:s.R8I},[lt.UNSIGNED_SHORT]:{[Y.RGBA_INTEGER]:s.RGBA16UI,[Y.RGB_INTEGER]:s.RGB16UI,[Y.RG_INTEGER]:s.RG16UI,[Y.RED_INTEGER]:s.R16UI,[Y.DEPTH_COMPONENT]:s.DEPTH_COMPONENT16},[lt.SHORT]:{[Y.RGBA_INTEGER]:s.RGBA16I,[Y.RGB_INTEGER]:s.RGB16I,[Y.RG_INTEGER]:s.RG16I,[Y.RED_INTEGER]:s.R16I},[lt.UNSIGNED_INT]:{[Y.RGBA_INTEGER]:s.RGBA32UI,[Y.RGB_INTEGER]:s.RGB32UI,[Y.RG_INTEGER]:s.RG32UI,[Y.RED_INTEGER]:s.R32UI,[Y.DEPTH_COMPONENT]:s.DEPTH_COMPONENT24},[lt.INT]:{[Y.RGBA_INTEGER]:s.RGBA32I,[Y.RGB_INTEGER]:s.RGB32I,[Y.RG_INTEGER]:s.RG32I,[Y.RED_INTEGER]:s.R32I},[lt.FLOAT]:{[Y.RGBA]:s.RGBA32F,[Y.RGB]:s.RGB32F,[Y.RG]:s.RG32F,[Y.RED]:s.R32F,[Y.DEPTH_COMPONENT]:s.DEPTH_COMPONENT32F},[lt.HALF_FLOAT]:{[Y.RGBA]:s.RGBA16F,[Y.RGB]:s.RGB16F,[Y.RG]:s.RG16F,[Y.RED]:s.R16F},[lt.UNSIGNED_SHORT_5_6_5]:{[Y.RGB]:s.RGB565},[lt.UNSIGNED_SHORT_4_4_4_4]:{[Y.RGBA]:s.RGBA4},[lt.UNSIGNED_SHORT_5_5_5_1]:{[Y.RGBA]:s.RGB5_A1},[lt.UNSIGNED_INT_2_10_10_10_REV]:{[Y.RGBA]:s.RGB10_A2,[Y.RGBA_INTEGER]:s.RGB10_A2UI},[lt.UNSIGNED_INT_10F_11F_11F_REV]:{[Y.RGB]:s.R11F_G11F_B10F},[lt.UNSIGNED_INT_5_9_9_9_REV]:{[Y.RGB]:s.RGB9_E5},[lt.UNSIGNED_INT_24_8]:{[Y.DEPTH_STENCIL]:s.DEPTH24_STENCIL8},[lt.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[Y.DEPTH_STENCIL]:s.DEPTH32F_STENCIL8}}:t={[lt.UNSIGNED_BYTE]:{[Y.RGBA]:s.RGBA,[Y.RGB]:s.RGB,[Y.ALPHA]:s.ALPHA,[Y.LUMINANCE]:s.LUMINANCE,[Y.LUMINANCE_ALPHA]:s.LUMINANCE_ALPHA},[lt.UNSIGNED_SHORT_5_6_5]:{[Y.RGB]:s.RGB},[lt.UNSIGNED_SHORT_4_4_4_4]:{[Y.RGBA]:s.RGBA},[lt.UNSIGNED_SHORT_5_5_5_1]:{[Y.RGBA]:s.RGBA}},t}class Pg{constructor(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new _t,this.hasIntegerTextures=!1}contextChange(){const t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=DA(t),this.samplerTypes=RA(t);const e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(let n=0;n<e;n++)this.boundTextures[n]=null;this.emptyTextures={};const i=new va(t.createTexture());t.bindTexture(t.TEXTURE_2D,i.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=i,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new va(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(let n=0;n<6;n++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(let n=0;n<this.boundTextures.length;n++)this.bind(null,n)}bind(t,e=0){const{gl:i}=this;if(t=t==null?void 0:t.castToBaseTexture(),(t==null?void 0:t.valid)&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;const n=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(t.target,n.texture)),n.dirtyId!==t.dirtyId?(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),this.updateTexture(t)):n.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(t),this.boundTextures[e]=t}else this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[e]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture}unbind(t){const{gl:e,boundTextures:i}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let n=0;n<i.length;n++)i[n]===this.unknownTexture&&this.bind(null,n)}for(let n=0;n<i.length;n++)i[n]===t&&(this.currentLocation!==n&&(e.activeTexture(e.TEXTURE0+n),this.currentLocation=n),e.bindTexture(t.target,this.emptyTextures[t.target].texture),i[n]=null)}ensureSamplerType(t){const{boundTextures:e,hasIntegerTextures:i,CONTEXT_UID:n}=this;if(i)for(let r=t-1;r>=0;--r){const o=e[r];o&&o._glTextures[n].samplerType!==rt.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(t){const e=new va(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e}initTextureType(t,e){var i;e.internalFormat=((i=this.internalFormats[t.type])==null?void 0:i[t.format])??t.format,e.samplerType=this.samplerTypes[e.internalFormat]??rt.FLOAT,this.webGLVersion===2&&t.type===lt.HALF_FLOAT?e.type=this.gl.HALF_FLOAT:e.type=t.type}updateTexture(t){var n;const e=t._glTextures[this.CONTEXT_UID];if(!e)return;const i=this.renderer;if(this.initTextureType(t,e),(n=t.resource)==null?void 0:n.upload(i,t,e))e.samplerType!==rt.FLOAT&&(this.hasIntegerTextures=!0);else{const r=t.realWidth,o=t.realHeight,a=i.gl;(e.width!==r||e.height!==o||e.dirtyId<0)&&(e.width=r,e.height=o,a.texImage2D(t.target,0,e.internalFormat,r,o,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}destroyTexture(t,e){const{gl:i}=this;if(t=t.castToBaseTexture(),t._glTextures[this.CONTEXT_UID]&&(this.unbind(t),i.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){const n=this.managedTextures.indexOf(t);n!==-1&&vr(this.managedTextures,n,1)}}updateTextureStyle(t){var i;const e=t._glTextures[this.CONTEXT_UID];e&&((t.mipmap===Ci.POW2||this.webGLVersion!==2)&&!t.isPowerOfTwo?e.mipmap=!1:e.mipmap=t.mipmap>=1,this.webGLVersion!==2&&!t.isPowerOfTwo?e.wrapMode=Hi.CLAMP:e.wrapMode=t.wrapMode,(i=t.resource)!=null&&i.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)}setStyle(t,e){const i=this.gl;if(e.mipmap&&t.mipmap!==Ci.ON_MANUAL&&i.generateMipmap(t.target),i.texParameteri(t.target,i.TEXTURE_WRAP_S,e.wrapMode),i.texParameteri(t.target,i.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===Li.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);const n=this.renderer.context.extensions.anisotropicFiltering;if(n&&t.anisotropicLevel>0&&t.scaleMode===Li.LINEAR){const r=Math.min(t.anisotropicLevel,i.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(t.target,n.TEXTURE_MAX_ANISOTROPY_EXT,r)}}else i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===Li.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(t.target,i.TEXTURE_MAG_FILTER,t.scaleMode===Li.LINEAR?i.LINEAR:i.NEAREST)}destroy(){this.renderer=null}}Pg.extension={type:et.RendererSystem,name:"texture"};at.add(Pg);class Ig{constructor(t){this.renderer=t}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(t){const{gl:e,CONTEXT_UID:i}=this,n=t._glTransformFeedbacks[i]||this.createGLTransformFeedback(t);e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,n)}unbind(){const{gl:t}=this;t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(t,e){const{gl:i,renderer:n}=this;e&&n.shader.bind(e),i.beginTransformFeedback(t)}endTransformFeedback(){const{gl:t}=this;t.endTransformFeedback()}createGLTransformFeedback(t){const{gl:e,renderer:i,CONTEXT_UID:n}=this,r=e.createTransformFeedback();t._glTransformFeedbacks[n]=r,e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,r);for(let o=0;o<t.buffers.length;o++){const a=t.buffers[o];a&&(i.buffer.update(a),a._glBuffers[n].refCount++,e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[n].buffer||null))}return e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null),t.disposeRunner.add(this),r}disposeTransformFeedback(t,e){const i=t._glTransformFeedbacks[this.CONTEXT_UID],n=this.gl;t.disposeRunner.remove(this);const r=this.renderer.buffer;if(r)for(let o=0;o<t.buffers.length;o++){const a=t.buffers[o];if(!a)continue;const h=a._glBuffers[this.CONTEXT_UID];h&&(h.refCount--,h.refCount===0&&!e&&r.dispose(a,e))}i&&(e||n.deleteTransformFeedback(i),delete t._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}Ig.extension={type:et.RendererSystem,name:"transformFeedback"};at.add(Ig);class ho{constructor(t){this.renderer=t}init(t){this.screen=new xt(0,0,t.width,t.height),this.element=t.view||nt.ADAPTER.createCanvas(),this.resolution=t.resolution||nt.RESOLUTION,this.autoDensity=!!t.autoDensity}resizeView(t,e){this.element.width=Math.round(t*this.resolution),this.element.height=Math.round(e*this.resolution);const i=this.element.width/this.resolution,n=this.element.height/this.resolution;this.screen.width=i,this.screen.height=n,this.autoDensity&&(this.element.style.width=`${i}px`,this.element.style.height=`${n}px`),this.renderer.emit("resize",i,n),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(t){var e;t&&((e=this.element.parentNode)==null||e.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}ho.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},ho.extension={type:[et.RendererSystem,et.CanvasRendererSystem],name:"_view"};at.add(ho);nt.PREFER_ENV=tr.WEBGL2;nt.STRICT_TEXTURE_CACHE=!1;nt.RENDER_OPTIONS={...oo.defaultOptions,...so.defaultOptions,...ho.defaultOptions,...ao.defaultOptions};Object.defineProperties(nt,{WRAP_MODE:{get(){return _t.defaultOptions.wrapMode},set(s){mt("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),_t.defaultOptions.wrapMode=s}},SCALE_MODE:{get(){return _t.defaultOptions.scaleMode},set(s){mt("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),_t.defaultOptions.scaleMode=s}},MIPMAP_TEXTURES:{get(){return _t.defaultOptions.mipmap},set(s){mt("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),_t.defaultOptions.mipmap=s}},ANISOTROPIC_LEVEL:{get(){return _t.defaultOptions.anisotropicLevel},set(s){mt("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),_t.defaultOptions.anisotropicLevel=s}},FILTER_RESOLUTION:{get(){return mt("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),ne.defaultResolution},set(s){ne.defaultResolution=s}},FILTER_MULTISAMPLE:{get(){return mt("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),ne.defaultMultisample},set(s){ne.defaultMultisample=s}},SPRITE_MAX_TEXTURES:{get(){return zn.defaultMaxTextures},set(s){mt("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),zn.defaultMaxTextures=s}},SPRITE_BATCH_SIZE:{get(){return zn.defaultBatchSize},set(s){mt("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),zn.defaultBatchSize=s}},CAN_UPLOAD_SAME_BUFFER:{get(){return zn.canUploadSameBuffer},set(s){mt("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),zn.canUploadSameBuffer=s}},GC_MODE:{get(){return Rn.defaultMode},set(s){mt("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Rn.defaultMode=s}},GC_MAX_IDLE:{get(){return Rn.defaultMaxIdle},set(s){mt("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Rn.defaultMaxIdle=s}},GC_MAX_CHECK_COUNT:{get(){return Rn.defaultCheckCountMax},set(s){mt("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Rn.defaultCheckCountMax=s}},PRECISION_VERTEX:{get(){return qi.defaultVertexPrecision},set(s){mt("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),qi.defaultVertexPrecision=s}},PRECISION_FRAGMENT:{get(){return qi.defaultFragmentPrecision},set(s){mt("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),qi.defaultFragmentPrecision=s}}});var Yi=(s=>(s[s.INTERACTION=50]="INTERACTION",s[s.HIGH=25]="HIGH",s[s.NORMAL=0]="NORMAL",s[s.LOW=-25]="LOW",s[s.UTILITY=-50]="UTILITY",s))(Yi||{});class uu{constructor(t,e=null,i=0,n=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=e,this.priority=i,this.once=n}match(t,e=null){return this.fn===t&&this.context===e}emit(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));const e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const e=this.next;return this.next=t?null:e,this.previous=null,e}}const ob=class Be{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new uu(null,null,1/0),this.deltaMS=1/Be.targetFPMS,this.elapsedMS=1/Be.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,i=Yi.NORMAL){return this._addListener(new uu(t,e,i))}addOnce(t,e,i=Yi.NORMAL){return this._addListener(new uu(t,e,i,!0))}_addListener(t){let e=this._head.next,i=this._head;if(!e)t.connect(i);else{for(;e;){if(t.priority>e.priority){t.connect(i);break}i=e,e=e.next}t.previous||t.connect(i)}return this._startIfPossible(),this}remove(t,e){let i=this._head.next;for(;i;)i.match(t,e)?i=i.destroy():i=i.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const r=t-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=t-r%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*Be.targetFPMS;const i=this._head;let n=i.next;for(;n;)n=n.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),i=Math.min(Math.max(0,e)/1e3,Be.targetFPMS);this._maxElapsedMS=1/i}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!Be._shared){const t=Be._shared=new Be;t.autoStart=!0,t._protected=!0}return Be._shared}static get system(){if(!Be._system){const t=Be._system=new Be;t.autoStart=!0,t._protected=!0}return Be._system}};ob.targetFPMS=.06;let Tt=ob;Object.defineProperties(nt,{TARGET_FPMS:{get(){return Tt.targetFPMS},set(s){mt("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),Tt.targetFPMS=s}}});class Mg{static init(t){t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,Yi.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?Tt.shared:new Tt,t.autoStart&&this.start()}static destroy(){if(this._ticker){const t=this._ticker;this.ticker=null,t.destroy()}}}Mg.extension=et.Application;at.add(Mg);const ab=[];at.handleByList(et.Renderer,ab);function hb(s){for(const t of ab)if(t.test(s))return new t(s);throw new Error("Unable to auto-detect a suitable renderer.")}var kA=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,FA=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const lb=kA,zg=FA;class Rg{constructor(t){this.renderer=t}contextChange(t){let e;if(this.renderer.context.webGLVersion===1){const i=t.getParameter(t.FRAMEBUFFER_BINDING);t.bindFramebuffer(t.FRAMEBUFFER,null),e=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.FRAMEBUFFER,i)}else{const i=t.getParameter(t.DRAW_FRAMEBUFFER_BINDING);t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),e=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,i)}e>=Zt.HIGH?this.multisample=Zt.HIGH:e>=Zt.MEDIUM?this.multisample=Zt.MEDIUM:e>=Zt.LOW?this.multisample=Zt.LOW:this.multisample=Zt.NONE}destroy(){}}Rg.extension={type:et.RendererSystem,name:"_multisample"};at.add(Rg);class jA{constructor(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class Dg{constructor(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(t){const{gl:e,CONTEXT_UID:i}=this,n=t._glBuffers[i]||this.createGLBuffer(t);e.bindBuffer(t.type,n.buffer)}unbind(t){const{gl:e}=this;e.bindBuffer(t,null)}bindBufferBase(t,e){const{gl:i,CONTEXT_UID:n}=this;if(this.boundBufferBases[e]!==t){const r=t._glBuffers[n]||this.createGLBuffer(t);this.boundBufferBases[e]=t,i.bindBufferBase(i.UNIFORM_BUFFER,e,r.buffer)}}bindBufferRange(t,e,i){const{gl:n,CONTEXT_UID:r}=this;i=i||0;const o=t._glBuffers[r]||this.createGLBuffer(t);n.bindBufferRange(n.UNIFORM_BUFFER,e||0,o.buffer,i*256,256)}update(t){const{gl:e,CONTEXT_UID:i}=this,n=t._glBuffers[i]||this.createGLBuffer(t);if(t._updateID!==n.updateID)if(n.updateID=t._updateID,e.bindBuffer(t.type,n.buffer),n.byteLength>=t.data.byteLength)e.bufferSubData(t.type,0,t.data);else{const r=t.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;n.byteLength=t.data.byteLength,e.bufferData(t.type,t.data,r)}}dispose(t,e){if(!this.managedBuffers[t.id])return;delete this.managedBuffers[t.id];const i=t._glBuffers[this.CONTEXT_UID],n=this.gl;t.disposeRunner.remove(this),i&&(e||n.deleteBuffer(i.buffer),delete t._glBuffers[this.CONTEXT_UID])}disposeAll(t){const e=Object.keys(this.managedBuffers);for(let i=0;i<e.length;i++)this.dispose(this.managedBuffers[e[i]],t)}createGLBuffer(t){const{CONTEXT_UID:e,gl:i}=this;return t._glBuffers[e]=new jA(i.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[e]}}Dg.extension={type:et.RendererSystem,name:"buffer"};at.add(Dg);class kg{constructor(t){this.renderer=t}render(t,e){const i=this.renderer;let n,r,o,a;if(e&&(n=e.renderTexture,r=e.clear,o=e.transform,a=e.skipUpdateTransform),this.renderingToScreen=!n,i.runners.prerender.emit(),i.emit("prerender"),i.projection.transform=o,!i.context.isLost){if(n||(this.lastObjectRendered=t),!a){const h=t.enableTempParent();t.updateTransform(),t.disableTempParent(h)}i.renderTexture.bind(n),i.batch.currentRenderer.start(),(r??i.background.clearBeforeRender)&&i.renderTexture.clear(),t.render(i),i.batch.currentRenderer.flush(),n&&(e.blit&&i.framebuffer.blit(),n.baseTexture.update()),i.runners.postrender.emit(),i.projection.transform=null,i.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}kg.extension={type:et.RendererSystem,name:"objectRenderer"};at.add(kg);const ba=class cf extends sb{constructor(t){super(),this.type=rg.WEBGL,t=Object.assign({},nt.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new hi({projectionMatrix:new Ft},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:cf.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(mt("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha),this._plugin.rendererPlugins=cf.__plugins,this.options=t,this.startup.run(this.options)}static test(t){return t!=null&&t.forceCanvas?!1:bv()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return mt("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return mt("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return mt("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return mt("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){mt("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return mt("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(t){mt("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return mt("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};ba.extension={type:et.Renderer,priority:1},ba.__plugins={},ba.__systems={};let xh=ba;at.handleByMap(et.RendererPlugin,xh.__plugins);at.handleByMap(et.RendererSystem,xh.__systems);at.add(xh);class Fg extends os{constructor(t,e){const{width:i,height:n}=e||{};super(i,n),this.items=[],this.itemDirtyIds=[];for(let r=0;r<t;r++){const o=new _t;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=t,this._load=null,this.baseTexture=null}initFromArray(t,e){for(let i=0;i<this.length;i++)t[i]&&(t[i].castToBaseTexture?this.addBaseTextureAt(t[i].castToBaseTexture(),i):t[i]instanceof os?this.addResourceAt(t[i],i):this.addResourceAt(cg(t[i],e),i))}dispose(){for(let t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(t,e){if(!this.items[e])throw new Error(`Index ${e} is out of bounds`);return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this}bind(t){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(t);for(let e=0;e<this.length;e++)this.items[e].parentTextureArray=t,this.items[e].on("update",t.update,t)}unbind(t){super.unbind(t);for(let e=0;e<this.length;e++)this.items[e].parentTextureArray=null,this.items[e].off("update",t.update,t)}load(){if(this._load)return this._load;const t=this.items.map(e=>e.resource).filter(e=>e).map(e=>e.load());return this._load=Promise.all(t).then(()=>{const{realWidth:e,realHeight:i}=this.items[0];return this.resize(e,i),this.update(),Promise.resolve(this)}),this._load}}class ub extends Fg{constructor(t,e){const{width:i,height:n}=e||{};let r,o;Array.isArray(t)?(r=t,o=t.length):o=t,super(o,{width:i,height:n}),r&&this.initFromArray(r,e)}addBaseTextureAt(t,e){if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(t){super.bind(t),t.target=xr.TEXTURE_2D_ARRAY}upload(t,e,i){const{length:n,itemDirtyIds:r,items:o}=this,{gl:a}=t;i.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,n,0,e.format,i.type,null);for(let h=0;h<n;h++){const l=o[h];r[h]<l.dirtyId&&(r[h]=l.dirtyId,l.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,h,l.resource.width,l.resource.height,1,e.format,i.type,l.resource.source))}return!0}}class cb extends Xi{constructor(t){super(t)}static test(t){const{OffscreenCanvas:e}=globalThis;return e&&t instanceof e?!0:globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement}}const db=class Os extends Fg{constructor(t,e){const{width:i,height:n,autoLoad:r,linkBaseTexture:o}=e||{};if(t&&t.length!==Os.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:i,height:n});for(let a=0;a<Os.SIDES;a++)this.items[a].target=xr.TEXTURE_CUBE_MAP_POSITIVE_X+a;this.linkBaseTexture=o!==!1,t&&this.initFromArray(t,e),r!==!1&&this.load()}bind(t){super.bind(t),t.target=xr.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,i){if(i===void 0&&(i=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=xr.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,i){const n=this.itemDirtyIds;for(let r=0;r<Os.SIDES;r++){const o=this.items[r];(n[r]<o.dirtyId||i.dirtyId<e.dirtyId)&&(o.valid&&o.resource?(o.resource.upload(t,o,i),n[r]=o.dirtyId):n[r]<-1&&(t.gl.texImage2D(o.target,0,i.internalFormat,e.realWidth,e.realHeight,0,e.format,i.type,null),n[r]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===Os.SIDES}};db.SIDES=6;let fb=db;class yr extends Xi{constructor(t,e){e=e||{};let i,n,r;typeof t=="string"?(i=yr.EMPTY,n=t,r=!0):(i=t,n=null,r=!1),super(i),this.url=n,this.crossOrigin=e.crossOrigin??!0,this.alphaMode=typeof e.alphaMode=="number"?e.alphaMode:null,this.ownsImageBitmap=e.ownsImageBitmap??r,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(t,e)=>{if(this.url===null){t(this);return}try{const i=await nt.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const n=await i.blob();if(this.destroyed)return;const r=await createImageBitmap(n,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===ve.UNPACK?"premultiply":"none"});if(this.destroyed){r.close();return}this.source=r,this.update(),t(this)}catch(i){if(this.destroyed)return;e(i),this.onError.emit(i)}}),this._load)}upload(t,e,i){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(e.alphaMode=this.alphaMode),super.upload(t,e,i)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(t){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof t=="string"||t instanceof ImageBitmap)}static get EMPTY(){return yr._EMPTY=yr._EMPTY??nt.ADAPTER.createCanvas(0,0),yr._EMPTY}}const df=class wa extends Xi{constructor(t,e){e=e||{},super(nt.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.update(),t(this)},wa.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;Xi.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,i=t.height;if(!e||!i)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let n=e*this.scale,r=i*this.scale;(this._overrideWidth||this._overrideHeight)&&(n=this._overrideWidth||this._overrideHeight/i*e,r=this._overrideHeight||this._overrideWidth/e*i),n=Math.round(n),r=Math.round(r);const o=this.source;o.width=n,o.height=r,o._pixiId=`canvas_${Xn()}`,o.getContext("2d").drawImage(t,0,0,e,i,0,0,n,r),this._resolve(),this._resolve=null}}static getSize(t){const e=wa.SVG_SIZE.exec(t),i={};return e&&(i[e[1]]=Math.round(parseFloat(e[3])),i[e[5]]=Math.round(parseFloat(e[7]))),i}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&wa.SVG_XML.test(t)}};df.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,df.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let Ha=df;class OA extends Xi{constructor(t){super(t)}static test(t){return!!globalThis.VideoFrame&&t instanceof globalThis.VideoFrame}}const ff=class gf extends Xi{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const i=document.createElement("video");e.autoLoad!==!1&&i.setAttribute("preload","auto"),e.playsinline!==!1&&(i.setAttribute("webkit-playsinline",""),i.setAttribute("playsinline","")),e.muted===!0&&(i.setAttribute("muted",""),i.muted=!0),e.loop===!0&&i.setAttribute("loop",""),e.autoPlay!==!1&&i.setAttribute("autoplay",""),typeof t=="string"&&(t=[t]);const n=t[0].src||t[0];Xi.crossOrigin(i,n,e.crossorigin);for(let r=0;r<t.length;++r){const o=document.createElement("source");let{src:a,mime:h}=t[r];if(a=a||t[r],a.startsWith("data:"))h=a.slice(5,a.indexOf(";"));else if(!a.startsWith("blob:")){const l=a.split("?").shift().toLowerCase(),u=l.slice(l.lastIndexOf(".")+1);h=h||gf.MIME_TYPES[u]||`video/${u}`}o.src=a,h&&(o.type=h),i.appendChild(o)}t=i}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){if(this._updateFPS){const e=Tt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart),t.addEventListener("pause",this._onPlayStop),t.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise((e,i)=>{this.valid?e(this):(this._resolve=e,this._reject=i,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!e&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._configureAutoUpdate();const t=this.source;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(Tt.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Tt.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Tt.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||gf.TYPES.includes(e)}};ff.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],ff.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let jg=ff;La.push(yr,pg,cb,jg,OA,Ha,Po,fb,ub);class BA{constructor(){this._glTransformFeedbacks={},this.buffers=[],this.disposeRunner=new We("disposeTransformFeedback")}bindBuffer(t,e){this.buffers[t]=e}destroy(){this.disposeRunner.emit(this,!1)}}const LA="7.4.3";class lo{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(t){return this.minX>this.maxX||this.minY>this.maxY?xt.EMPTY:(t=t||new xt(0,0,1,1),t.x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)}addPoint(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)}addPointMatrix(t,e){const{a:i,b:n,c:r,d:o,tx:a,ty:h}=t,l=i*e.x+r*e.y+a,u=n*e.x+o*e.y+h;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)}addQuad(t){let e=this.minX,i=this.minY,n=this.maxX,r=this.maxY,o=t[0],a=t[1];e=o<e?o:e,i=a<i?a:i,n=o>n?o:n,r=a>r?a:r,o=t[2],a=t[3],e=o<e?o:e,i=a<i?a:i,n=o>n?o:n,r=a>r?a:r,o=t[4],a=t[5],e=o<e?o:e,i=a<i?a:i,n=o>n?o:n,r=a>r?a:r,o=t[6],a=t[7],e=o<e?o:e,i=a<i?a:i,n=o>n?o:n,r=a>r?a:r,this.minX=e,this.minY=i,this.maxX=n,this.maxY=r}addFrame(t,e,i,n,r){this.addFrameMatrix(t.worldTransform,e,i,n,r)}addFrameMatrix(t,e,i,n,r){const o=t.a,a=t.b,h=t.c,l=t.d,u=t.tx,d=t.ty;let f=this.minX,c=this.minY,g=this.maxX,p=this.maxY,m=o*e+h*i+u,y=a*e+l*i+d;f=m<f?m:f,c=y<c?y:c,g=m>g?m:g,p=y>p?y:p,m=o*n+h*i+u,y=a*n+l*i+d,f=m<f?m:f,c=y<c?y:c,g=m>g?m:g,p=y>p?y:p,m=o*e+h*r+u,y=a*e+l*r+d,f=m<f?m:f,c=y<c?y:c,g=m>g?m:g,p=y>p?y:p,m=o*n+h*r+u,y=a*n+l*r+d,f=m<f?m:f,c=y<c?y:c,g=m>g?m:g,p=y>p?y:p,this.minX=f,this.minY=c,this.maxX=g,this.maxY=p}addVertexData(t,e,i){let n=this.minX,r=this.minY,o=this.maxX,a=this.maxY;for(let h=e;h<i;h+=2){const l=t[h],u=t[h+1];n=l<n?l:n,r=u<r?u:r,o=l>o?l:o,a=u>a?u:a}this.minX=n,this.minY=r,this.maxX=o,this.maxY=a}addVertices(t,e,i,n){this.addVerticesMatrix(t.worldTransform,e,i,n)}addVerticesMatrix(t,e,i,n,r=0,o=r){const a=t.a,h=t.b,l=t.c,u=t.d,d=t.tx,f=t.ty;let c=this.minX,g=this.minY,p=this.maxX,m=this.maxY;for(let y=i;y<n;y+=2){const x=e[y],v=e[y+1],w=a*x+l*v+d,_=u*v+h*x+f;c=Math.min(c,w-r),p=Math.max(p,w+r),g=Math.min(g,_-o),m=Math.max(m,_+o)}this.minX=c,this.minY=g,this.maxX=p,this.maxY=m}addBounds(t){const e=this.minX,i=this.minY,n=this.maxX,r=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<i?t.minY:i,this.maxX=t.maxX>n?t.maxX:n,this.maxY=t.maxY>r?t.maxY:r}addBoundsMask(t,e){const i=t.minX>e.minX?t.minX:e.minX,n=t.minY>e.minY?t.minY:e.minY,r=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(i<=r&&n<=o){const a=this.minX,h=this.minY,l=this.maxX,u=this.maxY;this.minX=i<a?i:a,this.minY=n<h?n:h,this.maxX=r>l?r:l,this.maxY=o>u?o:u}}addBoundsMatrix(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)}addBoundsArea(t,e){const i=t.minX>e.x?t.minX:e.x,n=t.minY>e.y?t.minY:e.y,r=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(i<=r&&n<=o){const a=this.minX,h=this.minY,l=this.maxX,u=this.maxY;this.minX=i<a?i:a,this.minY=n<h?n:h,this.maxX=r>l?r:l,this.maxY=o>u?o:u}}pad(t=0,e=t){this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)}addFramePad(t,e,i,n,r,o){t-=r,e-=o,i+=r,n+=o,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>i?this.maxX:i,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>n?this.maxY:n}}class qt extends xs{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Ro,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new lo,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(t){const e=Object.keys(t);for(let i=0;i<e.length;++i){const n=e[i];Object.defineProperty(qt.prototype,n,Object.getOwnPropertyDescriptor(t,n))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new xt),e=this._boundsRect),this._bounds.getRectangle(e)}getLocalBounds(t){t||(this._localBoundsRect||(this._localBoundsRect=new xt),t=this._localBoundsRect),this._localBounds||(this._localBounds=new lo);const e=this.transform,i=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(i==null?void 0:i.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const n=this._bounds,r=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,t);return this.parent=i,this.transform=e,this._bounds=n,this._bounds.updateID+=this._boundsID-r,o}toGlobal(t,e,i=!1){return i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)}toLocal(t,e,i,n){return e&&(t=e.toGlobal(t,i,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,i)}setParent(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t}removeFromParent(){var t;(t=this.parent)==null||t.removeChild(this)}setTransform(t=0,e=0,i=1,n=1,r=0,o=0,a=0,h=0,l=0){return this.position.x=t,this.position.y=e,this.scale.x=i||1,this.scale.y=n||1,this.rotation=r,this.skew.x=o,this.skew.y=a,this.pivot.x=h,this.pivot.y=l,this}destroy(t){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new gb),this.tempDisplayObjectParent}enableTempParent(){const t=this.parent;return this.parent=this._tempDisplayObjectParent,t}disableTempParent(t){this.parent=t}get x(){return this.position.x}set x(t){this.transform.position.x=t}get y(){return this.position.y}set y(t){this.transform.position.y=t}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(t){this.transform.position.copyFrom(t)}get scale(){return this.transform.scale}set scale(t){this.transform.scale.copyFrom(t)}get pivot(){return this.transform.pivot}set pivot(t){this.transform.pivot.copyFrom(t)}get skew(){return this.transform.skew}set skew(t){this.transform.skew.copyFrom(t)}get rotation(){return this.transform.rotation}set rotation(t){this.transform.rotation=t}get angle(){return this.transform.rotation*kv}set angle(t){this.transform.rotation=t*qa}get zIndex(){return this._zIndex}set zIndex(t){this._zIndex!==t&&(this._zIndex=t,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}get mask(){return this._mask}set mask(t){if(this._mask!==t){if(this._mask){const e=this._mask.isMaskData?this._mask.maskObject:this._mask;e&&(e._maskRefCount--,e._maskRefCount===0&&(e.renderable=!0,e.isMask=!1))}if(this._mask=t,this._mask){const e=this._mask.isMaskData?this._mask.maskObject:this._mask;e&&(e._maskRefCount===0&&(e.renderable=!1,e.isMask=!0),e._maskRefCount++)}}}}class gb extends qt{constructor(){super(...arguments),this.sortDirty=null}}qt.prototype.displayObjectUpdateTransform=qt.prototype.updateTransform;const NA=new Ft;function qA(s,t){return s.zIndex===t.zIndex?s._lastSortedIndex-t._lastSortedIndex:s.zIndex-t.zIndex}const pb=class pf extends qt{constructor(){super(),this.children=[],this.sortableChildren=pf.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const i=this.getChildIndex(t),n=this.getChildIndex(e);this.children[i]=e,this.children[n]=t,this.onChildrenChange(i<n?i:n)}getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const i=this.getChildIndex(t);vr(this.children,i,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],i=this.children.indexOf(e);if(i===-1)return null;e.parent=null,e.transform._parentID=-1,vr(this.children,i,1),this._boundsID++,this.onChildrenChange(i),e.emit("removed",this),this.emit("childRemoved",e,this,i)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,vr(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const i=t,n=e,r=n-i;let o;if(r>0&&r<=n){o=this.children.splice(i,r);for(let a=0;a<o.length;++a)o[a].parent=null,o[a].transform&&(o[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let a=0;a<o.length;++a)o[a].emit("removed",this),this.emit("childRemoved",o[a],this,a);return o}else if(r===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,i=this.children.length;e<i;++e){const n=this.children[e];n._lastSortedIndex=e,!t&&n.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(qA),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const i=this.children[t];i.visible&&i.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;i?(i.calculateBounds(),this._bounds.addBoundsMask(e._bounds,i._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const i=super.getLocalBounds(t);if(!e)for(let n=0,r=this.children.length;n<r;++n){const o=this.children[n];o.visible&&o.updateTransform()}return i}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let i,n;this.cullArea?(i=this.cullArea,n=this.worldTransform):this._render!==pf.prototype._render&&(i=this.getBounds(!0));const r=t.projection.transform;if(r&&(n?(n=NA.copyFrom(n),n.prepend(r)):n=r),i&&e.intersects(i,n))this._render(t);else if(this.cullArea)return;for(let o=0,a=this.children.length;o<a;++o){const h=this.children[o],l=h.cullable;h.cullable=l||!this.cullArea,h.render(t),h.cullable=l}}render(t){var e;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(e=this.filters)!=null&&e.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let i=0,n=this.children.length;i<n;++i)this.children[i].render(t)}}renderAdvanced(t){var r,o,a;const e=this.filters,i=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let h=0;h<e.length;h++)e[h].enabled&&this._enabledFilters.push(e[h])}const n=e&&((r=this._enabledFilters)==null?void 0:r.length)||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==Jt.NONE));if(n&&t.batch.flush(),e&&((o=this._enabledFilters)!=null&&o.length)&&t.filter.push(this,this._enabledFilters),i&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let h=0,l=this.children.length;h<l;++h)this.children[h].render(t)}n&&t.batch.flush(),i&&t.mask.pop(this),e&&((a=this._enabledFilters)!=null&&a.length)&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e=typeof t=="boolean"?t:t==null?void 0:t.children,i=this.removeChildren(0,this.children.length);if(e)for(let n=0;n<i.length;++n)i[n].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;e!==0?this.scale.x=t/e:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;e!==0?this.scale.y=t/e:this.scale.y=1,this._height=t}};pb.defaultSortableChildren=!1;let ft=pb;ft.prototype.containerUpdateTransform=ft.prototype.updateTransform;Object.defineProperties(nt,{SORTABLE_CHILDREN:{get(){return ft.defaultSortableChildren},set(s){mt("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),ft.defaultSortableChildren=s}}});const Is=new St,UA=new Uint16Array([0,1,2,0,2,3]);class Ve extends ft{constructor(t){super(),this._anchor=new wi(this._onAnchorUpdate,this,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new Et(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=gt.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=t||st.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=UA,this.pluginName="batch",this.isSprite=!0,this._roundPixels=nt.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=mn(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=mn(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const t=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===t._updateID)return;this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;const e=this.transform.worldTransform,i=e.a,n=e.b,r=e.c,o=e.d,a=e.tx,h=e.ty,l=this.vertexData,u=t.trim,d=t.orig,f=this._anchor;let c=0,g=0,p=0,m=0;if(u?(g=u.x-f._x*d.width,c=g+u.width,m=u.y-f._y*d.height,p=m+u.height):(g=-f._x*d.width,c=g+d.width,m=-f._y*d.height,p=m+d.height),l[0]=i*g+r*m+a,l[1]=o*m+n*g+h,l[2]=i*c+r*m+a,l[3]=o*m+n*c+h,l[4]=i*c+r*p+a,l[5]=o*p+n*c+h,l[6]=i*g+r*p+a,l[7]=o*p+n*g+h,this._roundPixels){const y=nt.RESOLUTION;for(let x=0;x<l.length;++x)l[x]=Math.round(l[x]*y)/y}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const t=this._texture,e=this.vertexTrimmedData,i=t.orig,n=this._anchor,r=this.transform.worldTransform,o=r.a,a=r.b,h=r.c,l=r.d,u=r.tx,d=r.ty,f=-n._x*i.width,c=f+i.width,g=-n._y*i.height,p=g+i.height;if(e[0]=o*f+h*g+u,e[1]=l*g+a*f+d,e[2]=o*c+h*g+u,e[3]=l*g+a*c+d,e[4]=o*c+h*p+u,e[5]=l*p+a*c+d,e[6]=o*f+h*p+u,e[7]=l*p+a*f+d,this._roundPixels){const m=nt.RESOLUTION;for(let y=0;y<e.length;++y)e[y]=Math.round(e[y]*m)/m}}_render(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)}_calculateBounds(){const t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(t){return this.children.length===0?(this._localBounds||(this._localBounds=new lo),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new xt),t=this._localBoundsRect),this._localBounds.getRectangle(t)):super.getLocalBounds.call(this,t)}containsPoint(t){this.worldTransform.applyInverse(t,Is);const e=this._texture.orig.width,i=this._texture.orig.height,n=-e*this.anchor.x;let r=0;return Is.x>=n&&Is.x<n+e&&(r=-i*this.anchor.y,Is.y>=r&&Is.y<r+i)}destroy(t){if(super.destroy(t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof t=="boolean"?t:t==null?void 0:t.texture){const e=typeof t=="boolean"?t:t==null?void 0:t.baseTexture;this._texture.destroy(!!e)}this._texture=null}static from(t,e){const i=t instanceof st?t:st.from(t,e);return new Ve(i)}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){const e=mn(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){const e=mn(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get anchor(){return this._anchor}set anchor(t){this._anchor.copyFrom(t)}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||st.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}const mb=new Ft;qt.prototype._cacheAsBitmap=!1;qt.prototype._cacheData=null;qt.prototype._cacheAsBitmapResolution=null;qt.prototype._cacheAsBitmapMultisample=null;class GA{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(qt.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(s){s!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=s,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(s){s!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=s,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(s){if(this._cacheAsBitmap===s)return;this._cacheAsBitmap=s;let t;s?(this._cacheData||(this._cacheData=new GA),t=this._cacheData,t.originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(t=this._cacheData,t.sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea)}}});qt.prototype._renderCached=function(s){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(s),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(s))};qt.prototype._initCachedDisplayObject=function(s){var f,c;if((f=this._cacheData)!=null&&f.sprite)return;const t=this.alpha;this.alpha=1,s.batch.flush();const e=this.getLocalBounds(new xt,!0);if((c=this.filters)!=null&&c.length){const g=this.filters[0].padding;e.pad(g)}const i=this.cacheAsBitmapResolution||s.resolution;e.ceil(i),e.width=Math.max(e.width,1/i),e.height=Math.max(e.height,1/i);const n=s.renderTexture.current,r=s.renderTexture.sourceFrame.clone(),o=s.renderTexture.destinationFrame.clone(),a=s.projection.transform,h=er.create({width:e.width,height:e.height,resolution:i,multisample:this.cacheAsBitmapMultisample??s.multisample}),l=`cacheAsBitmap_${Xn()}`;this._cacheData.textureCacheId=l,_t.addToCache(h.baseTexture,l),st.addToCache(h,l);const u=this.transform.localTransform.copyTo(mb).invert().translate(-e.x,-e.y);this.render=this._cacheData.originalRender,s.render(this,{renderTexture:h,clear:!0,transform:u,skipUpdateTransform:!1}),s.framebuffer.blit(),s.projection.transform=a,s.renderTexture.bind(n,r,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=t;const d=new Ve(h);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-(e.x/e.width),d.anchor.y=-(e.y/e.height),d.alpha=t,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=d.containsPoint.bind(d)};qt.prototype._renderCachedCanvas=function(s){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(s),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(s))};qt.prototype._initCachedDisplayObjectCanvas=function(s){var u;if((u=this._cacheData)!=null&&u.sprite)return;const t=this.getLocalBounds(new xt,!0),e=this.alpha;this.alpha=1;const i=s.canvasContext.activeContext,n=s._projTransform,r=this.cacheAsBitmapResolution||s.resolution;t.ceil(r),t.width=Math.max(t.width,1/r),t.height=Math.max(t.height,1/r);const o=er.create({width:t.width,height:t.height,resolution:r}),a=`cacheAsBitmap_${Xn()}`;this._cacheData.textureCacheId=a,_t.addToCache(o.baseTexture,a),st.addToCache(o,a);const h=mb;this.transform.localTransform.copyTo(h),h.invert(),h.tx-=t.x,h.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,s.render(this,{renderTexture:o,clear:!0,transform:h,skipUpdateTransform:!1}),s.canvasContext.activeContext=i,s._projTransform=n,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const l=new Ve(o);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-(t.x/t.width),l.anchor.y=-(t.y/t.height),l.alpha=e,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=s._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)};qt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};qt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};qt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,_t.removeFromCache(this._cacheData.textureCacheId),st.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};qt.prototype._cacheAsBitmapDestroy=function(s){this.cacheAsBitmap=!1,this.destroy(s)};qt.prototype.name=null;ft.prototype.getChildByName=function(s,t){for(let e=0,i=this.children.length;e<i;e++)if(this.children[e].name===s)return this.children[e];if(t)for(let e=0,i=this.children.length;e<i;e++){const n=this.children[e];if(!n.getChildByName)continue;const r=n.getChildByName(s,!0);if(r)return r}return null};qt.prototype.getGlobalPosition=function(s=new St,t=!1){return this.parent?this.parent.toGlobal(this.position,s,t):(s.x=this.position.x,s.y=this.position.y),s};var HA=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class yb extends ne{constructor(t=1){super(lb,HA,{uAlpha:1}),this.alpha=t}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}}const WA={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},VA=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function $A(s){const t=WA[s],e=t.length;let i=VA,n="";const r="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<s;a++){let h=r.replace("%index%",a.toString());o=a,a>=e&&(o=s-a-1),h=h.replace("%value%",t[o].toString()),n+=h,n+=`
`}return i=i.replace("%blur%",n),i=i.replace("%size%",s.toString()),i}const XA=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function YA(s,t){const e=Math.ceil(s/2);let i=XA,n="",r;t?r="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":r="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<s;o++){let a=r.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(e-1)}.0`),n+=a,n+=`
`}return i=i.replace("%blur%",n),i=i.replace("%size%",s.toString()),i}class Wa extends ne{constructor(t,e=8,i=4,n=ne.defaultResolution,r=5){const o=YA(r,t),a=$A(r);super(o,a),this.horizontal=t,this.resolution=n,this._quality=0,this.quality=i,this.blur=e}apply(t,e,i,n){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/e.width):this.uniforms.strength=1/i.height*(i.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)t.applyFilter(this,e,i,n);else{const r=t.getFilterTexture(),o=t.renderer;let a=e,h=r;this.state.blend=!1,t.applyFilter(this,a,h,yi.CLEAR);for(let l=1;l<this.passes-1;l++){t.bindAndClear(a,yi.BLIT),this.uniforms.uSampler=h;const u=h;h=a,a=u,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,h,i,n),t.returnFilterTexture(r)}}get blur(){return this.strength}set blur(t){this.padding=1+Math.abs(t)*2,this.strength=t}get quality(){return this._quality}set quality(t){this._quality=t,this.passes=t}}class Og extends ne{constructor(t=8,e=4,i=ne.defaultResolution,n=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new Wa(!0,t,e,i,n),this.blurYFilter=new Wa(!1,t,e,i,n),this.resolution=i,this.quality=e,this.blur=t,this.repeatEdgePixels=!1}apply(t,e,i,n){const r=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(r&&o){const a=t.getFilterTexture();this.blurXFilter.apply(t,e,a,yi.CLEAR),this.blurYFilter.apply(t,a,i,n),t.returnFilterTexture(a)}else o?this.blurYFilter.apply(t,e,i,n):this.blurXFilter.apply(t,e,i,n)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(t){this.blurXFilter.quality=this.blurYFilter.quality=t}get blurX(){return this.blurXFilter.blur}set blurX(t){this.blurXFilter.blur=t,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(t){this.blurYFilter.blur=t,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(t){this.blurYFilter.blendMode=t}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(t){this._repeatEdgePixels=t,this.updatePadding()}}var ZA=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class jn extends ne{constructor(){const t={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(zg,ZA,t),this.alpha=1}_loadMatrix(t,e=!1){let i=t;e&&(this._multiply(i,this.uniforms.m,t),i=this._colorMatrix(i)),this.uniforms.m=i}_multiply(t,e,i){return t[0]=e[0]*i[0]+e[1]*i[5]+e[2]*i[10]+e[3]*i[15],t[1]=e[0]*i[1]+e[1]*i[6]+e[2]*i[11]+e[3]*i[16],t[2]=e[0]*i[2]+e[1]*i[7]+e[2]*i[12]+e[3]*i[17],t[3]=e[0]*i[3]+e[1]*i[8]+e[2]*i[13]+e[3]*i[18],t[4]=e[0]*i[4]+e[1]*i[9]+e[2]*i[14]+e[3]*i[19]+e[4],t[5]=e[5]*i[0]+e[6]*i[5]+e[7]*i[10]+e[8]*i[15],t[6]=e[5]*i[1]+e[6]*i[6]+e[7]*i[11]+e[8]*i[16],t[7]=e[5]*i[2]+e[6]*i[7]+e[7]*i[12]+e[8]*i[17],t[8]=e[5]*i[3]+e[6]*i[8]+e[7]*i[13]+e[8]*i[18],t[9]=e[5]*i[4]+e[6]*i[9]+e[7]*i[14]+e[8]*i[19]+e[9],t[10]=e[10]*i[0]+e[11]*i[5]+e[12]*i[10]+e[13]*i[15],t[11]=e[10]*i[1]+e[11]*i[6]+e[12]*i[11]+e[13]*i[16],t[12]=e[10]*i[2]+e[11]*i[7]+e[12]*i[12]+e[13]*i[17],t[13]=e[10]*i[3]+e[11]*i[8]+e[12]*i[13]+e[13]*i[18],t[14]=e[10]*i[4]+e[11]*i[9]+e[12]*i[14]+e[13]*i[19]+e[14],t[15]=e[15]*i[0]+e[16]*i[5]+e[17]*i[10]+e[18]*i[15],t[16]=e[15]*i[1]+e[16]*i[6]+e[17]*i[11]+e[18]*i[16],t[17]=e[15]*i[2]+e[16]*i[7]+e[17]*i[12]+e[18]*i[17],t[18]=e[15]*i[3]+e[16]*i[8]+e[17]*i[13]+e[18]*i[18],t[19]=e[15]*i[4]+e[16]*i[9]+e[17]*i[14]+e[18]*i[19]+e[19],t}_colorMatrix(t){const e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e}brightness(t,e){const i=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(i,e)}tint(t,e){const[i,n,r]=Et.shared.setValue(t).toArray(),o=[i,0,0,0,0,0,n,0,0,0,0,0,r,0,0,0,0,0,1,0];this._loadMatrix(o,e)}greyscale(t,e){const i=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(i,e)}blackAndWhite(t){const e=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(e,t)}hue(t,e){t=(t||0)/180*Math.PI;const i=Math.cos(t),n=Math.sin(t),r=Math.sqrt,o=1/3,a=r(o),h=i+(1-i)*o,l=o*(1-i)-a*n,u=o*(1-i)+a*n,d=o*(1-i)+a*n,f=i+o*(1-i),c=o*(1-i)-a*n,g=o*(1-i)-a*n,p=o*(1-i)+a*n,m=i+o*(1-i),y=[h,l,u,0,0,d,f,c,0,0,g,p,m,0,0,0,0,0,1,0];this._loadMatrix(y,e)}contrast(t,e){const i=(t||0)+1,n=-.5*(i-1),r=[i,0,0,0,n,0,i,0,0,n,0,0,i,0,n,0,0,0,1,0];this._loadMatrix(r,e)}saturate(t=0,e){const i=t*2/3+1,n=(i-1)*-.5,r=[i,n,n,0,0,n,i,n,0,0,n,n,i,0,0,0,0,0,1,0];this._loadMatrix(r,e)}desaturate(){this.saturate(-1)}negative(t){const e=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(e,t)}sepia(t){const e=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(e,t)}technicolor(t){const e=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(e,t)}polaroid(t){const e=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(e,t)}toBGR(t){const e=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)}kodachrome(t){const e=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(e,t)}browni(t){const e=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(e,t)}vintage(t){const e=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(e,t)}colorTone(t,e,i,n,r){t=t||.2,e=e||.15,i=i||16770432,n=n||3375104;const o=Et.shared,[a,h,l]=o.setValue(i).toArray(),[u,d,f]=o.setValue(n).toArray(),c=[.3,.59,.11,0,0,a,h,l,t,0,u,d,f,e,0,a-u,h-d,l-f,0,0];this._loadMatrix(c,r)}night(t,e){t=t||.1;const i=[t*-2,-t,0,0,0,-t,0,t,0,0,0,t,t*2,0,0,0,0,0,1,0];this._loadMatrix(i,e)}predator(t,e){const i=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(i,e)}lsd(t){const e=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(e,t)}reset(){const t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(t,!1)}get matrix(){return this.uniforms.m}set matrix(t){this.uniforms.m=t}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}}jn.prototype.grayscale=jn.prototype.greyscale;var KA=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,JA=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class _b extends ne{constructor(t,e){const i=new Ft;t.renderable=!1,super(JA,KA,{mapSampler:t._texture,filterMatrix:i,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=t,this.maskMatrix=i,e==null&&(e=20),this.scale=new St(e,e)}apply(t,e,i,n){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const r=this.maskSprite.worldTransform,o=Math.sqrt(r.a*r.a+r.b*r.b),a=Math.sqrt(r.c*r.c+r.d*r.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=r.a/o,this.uniforms.rotation[1]=r.b/o,this.uniforms.rotation[2]=r.c/a,this.uniforms.rotation[3]=r.d/a),t.applyFilter(this,e,i,n)}get map(){return this.uniforms.mapSampler}set map(t){this.uniforms.mapSampler=t}}var QA=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,tE=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class xb extends ne{constructor(){super(tE,QA)}}var eE=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class vb extends ne{constructor(t=.5,e=Math.random()){super(zg,eE,{uNoise:0,uSeed:0}),this.noise=t,this.seed=e}get noise(){return this.uniforms.uNoise}set noise(t){this.uniforms.uNoise=t}get seed(){return this.uniforms.uSeed}set seed(t){this.uniforms.uSeed=t}}const mf={AlphaFilter:yb,BlurFilter:Og,BlurFilterPass:Wa,ColorMatrixFilter:jn,DisplacementFilter:_b,FXAAFilter:xb,NoiseFilter:vb};Object.entries(mf).forEach(([s,t])=>{Object.defineProperty(mf,s,{get(){return mt("7.1.0",`filters.${s} has moved to ${s}`),t}})});class iE{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(t){this.removeTickerListener(),this.events=t,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(t){this._pauseUpdate=t}addTickerListener(){this.tickerAdded||!this.domElement||(Tt.system.add(this.tickerUpdate,this,Yi.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(Tt.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const t=this.events.rootPointerEvent;this.events.supportsTouchEvents&&t.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:t.clientX,clientY:t.clientY}))}tickerUpdate(t){this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const kn=new iE;class bs{constructor(t){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=bs.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new St,this.page=new St,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=t}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(t,e,i){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(t,e,i,n,r){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class uo extends bs{constructor(){super(...arguments),this.client=new St,this.movement=new St,this.offset=new St,this.global=new St,this.screen=new St}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(t,e,i){return t.worldTransform.applyInverse(i||this.global,e)}getModifierState(t){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(t)}initMouseEvent(t,e,i,n,r,o,a,h,l,u,d,f,c,g,p){throw new Error("Method not implemented.")}}class Je extends uo{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class wr extends uo{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}wr.DOM_DELTA_PIXEL=0,wr.DOM_DELTA_LINE=1,wr.DOM_DELTA_PAGE=2;const nE=2048,rE=new St,cu=new St;class bb{constructor(t){this.dispatch=new xs,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=t,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(t,e){this.mappingTable[t]||(this.mappingTable[t]=[]),this.mappingTable[t].push({fn:e,priority:0}),this.mappingTable[t].sort((i,n)=>i.priority-n.priority)}dispatchEvent(t,e){t.propagationStopped=!1,t.propagationImmediatelyStopped=!1,this.propagate(t,e),this.dispatch.emit(e||t.type,t)}mapEvent(t){if(!this.rootTarget)return;const e=this.mappingTable[t.type];if(e)for(let i=0,n=e.length;i<n;i++)e[i].fn(t);else console.warn(`[EventBoundary]: Event mapping not defined for ${t.type}`)}hitTest(t,e){kn.pauseUpdate=!0;const i=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",n=this[i](this.rootTarget,this.rootTarget.eventMode,rE.set(t,e),this.hitTestFn,this.hitPruneFn);return n&&n[0]}propagate(t,e){if(!t.target)return;const i=t.composedPath();t.eventPhase=t.CAPTURING_PHASE;for(let n=0,r=i.length-1;n<r;n++)if(t.currentTarget=i[n],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return;if(t.eventPhase=t.AT_TARGET,t.currentTarget=t.target,this.notifyTarget(t,e),!(t.propagationStopped||t.propagationImmediatelyStopped)){t.eventPhase=t.BUBBLING_PHASE;for(let n=i.length-2;n>=0;n--)if(t.currentTarget=i[n],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return}}all(t,e,i=this._allInteractiveElements){if(i.length===0)return;t.eventPhase=t.BUBBLING_PHASE;const n=Array.isArray(e)?e:[e];for(let r=i.length-1;r>=0;r--)n.forEach(o=>{t.currentTarget=i[r],this.notifyTarget(t,o)})}propagationPath(t){const e=[t];for(let i=0;i<nE&&t!==this.rootTarget;i++){if(!t.parent)throw new Error("Cannot find propagation path to disconnected target");e.push(t.parent),t=t.parent}return e.reverse(),e}hitTestMoveRecursive(t,e,i,n,r,o=!1){let a=!1;if(this._interactivePrune(t))return null;if((t.eventMode==="dynamic"||e==="dynamic")&&(kn.pauseUpdate=!1),t.interactiveChildren&&t.children){const u=t.children;for(let d=u.length-1;d>=0;d--){const f=u[d],c=this.hitTestMoveRecursive(f,this._isInteractive(e)?e:f.eventMode,i,n,r,o||r(t,i));if(c){if(c.length>0&&!c[c.length-1].parent)continue;const g=t.isInteractive();(c.length>0||g)&&(g&&this._allInteractiveElements.push(t),c.push(t)),this._hitElements.length===0&&(this._hitElements=c),a=!0}}}const h=this._isInteractive(e),l=t.isInteractive();return h&&l&&this._allInteractiveElements.push(t),o||this._hitElements.length>0?null:a?this._hitElements:h&&!r(t,i)&&n(t,i)?l?[t]:[]:null}hitTestRecursive(t,e,i,n,r){if(this._interactivePrune(t)||r(t,i))return null;if((t.eventMode==="dynamic"||e==="dynamic")&&(kn.pauseUpdate=!1),t.interactiveChildren&&t.children){const h=t.children;for(let l=h.length-1;l>=0;l--){const u=h[l],d=this.hitTestRecursive(u,this._isInteractive(e)?e:u.eventMode,i,n,r);if(d){if(d.length>0&&!d[d.length-1].parent)continue;const f=t.isInteractive();return(d.length>0||f)&&d.push(t),d}}}const o=this._isInteractive(e),a=t.isInteractive();return o&&n(t,i)?a?[t]:[]:null}_isInteractive(t){return t==="static"||t==="dynamic"}_interactivePrune(t){return!!(!t||t.isMask||!t.visible||!t.renderable||t.eventMode==="none"||t.eventMode==="passive"&&!t.interactiveChildren||t.isMask)}hitPruneFn(t,e){var i;if(t.hitArea&&(t.worldTransform.applyInverse(e,cu),!t.hitArea.contains(cu.x,cu.y)))return!0;if(t._mask){const n=t._mask.isMaskData?t._mask.maskObject:t._mask;if(n&&!((i=n.containsPoint)!=null&&i.call(n,e)))return!0}return!1}hitTestFn(t,e){return t.eventMode==="passive"?!1:t.hitArea?!0:t.containsPoint?t.containsPoint(e):!1}notifyTarget(t,e){var r,o;e=e??t.type;const i=`on${e}`;(o=(r=t.currentTarget)[i])==null||o.call(r,t);const n=t.eventPhase===t.CAPTURING_PHASE||t.eventPhase===t.AT_TARGET?`${e}capture`:e;this.notifyListeners(t,n),t.eventPhase===t.AT_TARGET&&this.notifyListeners(t,e)}mapPointerDown(t){if(!(t instanceof Je)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const e=this.createPointerEvent(t);if(this.dispatchEvent(e,"pointerdown"),e.pointerType==="touch")this.dispatchEvent(e,"touchstart");else if(e.pointerType==="mouse"||e.pointerType==="pen"){const n=e.button===2;this.dispatchEvent(e,n?"rightdown":"mousedown")}const i=this.trackingData(t.pointerId);i.pressTargetsByButton[t.button]=e.composedPath(),this.freeEvent(e)}mapPointerMove(t){var h,l;if(!(t instanceof Je)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const e=this.createPointerEvent(t);this._isPointerMoveEvent=!1;const i=e.pointerType==="mouse"||e.pointerType==="pen",n=this.trackingData(t.pointerId),r=this.findMountedTarget(n.overTargets);if(((h=n.overTargets)==null?void 0:h.length)>0&&r!==e.target){const u=t.type==="mousemove"?"mouseout":"pointerout",d=this.createPointerEvent(t,u,r);if(this.dispatchEvent(d,"pointerout"),i&&this.dispatchEvent(d,"mouseout"),!e.composedPath().includes(r)){const f=this.createPointerEvent(t,"pointerleave",r);for(f.eventPhase=f.AT_TARGET;f.target&&!e.composedPath().includes(f.target);)f.currentTarget=f.target,this.notifyTarget(f),i&&this.notifyTarget(f,"mouseleave"),f.target=f.target.parent;this.freeEvent(f)}this.freeEvent(d)}if(r!==e.target){const u=t.type==="mousemove"?"mouseover":"pointerover",d=this.clonePointerEvent(e,u);this.dispatchEvent(d,"pointerover"),i&&this.dispatchEvent(d,"mouseover");let f=r==null?void 0:r.parent;for(;f&&f!==this.rootTarget.parent&&f!==e.target;)f=f.parent;if(!f||f===this.rootTarget.parent){const c=this.clonePointerEvent(e,"pointerenter");for(c.eventPhase=c.AT_TARGET;c.target&&c.target!==r&&c.target!==this.rootTarget.parent;)c.currentTarget=c.target,this.notifyTarget(c),i&&this.notifyTarget(c,"mouseenter"),c.target=c.target.parent;this.freeEvent(c)}this.freeEvent(d)}const o=[],a=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(e,"pointermove"),a&&o.push("globalpointermove"),e.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(e,"touchmove"),a&&o.push("globaltouchmove")),i&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(e,"mousemove"),a&&o.push("globalmousemove"),this.cursor=(l=e.target)==null?void 0:l.cursor),o.length>0&&this.all(e,o),this._allInteractiveElements.length=0,this._hitElements.length=0,n.overTargets=e.composedPath(),this.freeEvent(e)}mapPointerOver(t){var o;if(!(t instanceof Je)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const e=this.trackingData(t.pointerId),i=this.createPointerEvent(t),n=i.pointerType==="mouse"||i.pointerType==="pen";this.dispatchEvent(i,"pointerover"),n&&this.dispatchEvent(i,"mouseover"),i.pointerType==="mouse"&&(this.cursor=(o=i.target)==null?void 0:o.cursor);const r=this.clonePointerEvent(i,"pointerenter");for(r.eventPhase=r.AT_TARGET;r.target&&r.target!==this.rootTarget.parent;)r.currentTarget=r.target,this.notifyTarget(r),n&&this.notifyTarget(r,"mouseenter"),r.target=r.target.parent;e.overTargets=i.composedPath(),this.freeEvent(i),this.freeEvent(r)}mapPointerOut(t){if(!(t instanceof Je)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const e=this.trackingData(t.pointerId);if(e.overTargets){const i=t.pointerType==="mouse"||t.pointerType==="pen",n=this.findMountedTarget(e.overTargets),r=this.createPointerEvent(t,"pointerout",n);this.dispatchEvent(r),i&&this.dispatchEvent(r,"mouseout");const o=this.createPointerEvent(t,"pointerleave",n);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),i&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;e.overTargets=null,this.freeEvent(r),this.freeEvent(o)}this.cursor=null}mapPointerUp(t){if(!(t instanceof Je)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const e=performance.now(),i=this.createPointerEvent(t);if(this.dispatchEvent(i,"pointerup"),i.pointerType==="touch")this.dispatchEvent(i,"touchend");else if(i.pointerType==="mouse"||i.pointerType==="pen"){const a=i.button===2;this.dispatchEvent(i,a?"rightup":"mouseup")}const n=this.trackingData(t.pointerId),r=this.findMountedTarget(n.pressTargetsByButton[t.button]);let o=r;if(r&&!i.composedPath().includes(r)){let a=r;for(;a&&!i.composedPath().includes(a);){if(i.currentTarget=a,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch")this.notifyTarget(i,"touchendoutside");else if(i.pointerType==="mouse"||i.pointerType==="pen"){const h=i.button===2;this.notifyTarget(i,h?"rightupoutside":"mouseupoutside")}a=a.parent}delete n.pressTargetsByButton[t.button],o=a}if(o){const a=this.clonePointerEvent(i,"click");a.target=o,a.path=null,n.clicksByButton[t.button]||(n.clicksByButton[t.button]={clickCount:0,target:a.target,timeStamp:e});const h=n.clicksByButton[t.button];if(h.target===a.target&&e-h.timeStamp<200?++h.clickCount:h.clickCount=1,h.target=a.target,h.timeStamp=e,a.detail=h.clickCount,a.pointerType==="mouse"){const l=a.button===2;this.dispatchEvent(a,l?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(i)}mapPointerUpOutside(t){if(!(t instanceof Je)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const e=this.trackingData(t.pointerId),i=this.findMountedTarget(e.pressTargetsByButton[t.button]),n=this.createPointerEvent(t);if(i){let r=i;for(;r;)n.currentTarget=r,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch"?this.notifyTarget(n,"touchendoutside"):(n.pointerType==="mouse"||n.pointerType==="pen")&&this.notifyTarget(n,n.button===2?"rightupoutside":"mouseupoutside"),r=r.parent;delete e.pressTargetsByButton[t.button]}this.freeEvent(n)}mapWheel(t){if(!(t instanceof wr)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const e=this.createWheelEvent(t);this.dispatchEvent(e),this.freeEvent(e)}findMountedTarget(t){if(!t)return null;let e=t[0];for(let i=1;i<t.length&&t[i].parent===e;i++)e=t[i];return e}createPointerEvent(t,e,i){const n=this.allocateEvent(Je);return this.copyPointerData(t,n),this.copyMouseData(t,n),this.copyData(t,n),n.nativeEvent=t.nativeEvent,n.originalEvent=t,n.target=i??this.hitTest(n.global.x,n.global.y)??this._hitElements[0],typeof e=="string"&&(n.type=e),n}createWheelEvent(t){const e=this.allocateEvent(wr);return this.copyWheelData(t,e),this.copyMouseData(t,e),this.copyData(t,e),e.nativeEvent=t.nativeEvent,e.originalEvent=t,e.target=this.hitTest(e.global.x,e.global.y),e}clonePointerEvent(t,e){const i=this.allocateEvent(Je);return i.nativeEvent=t.nativeEvent,i.originalEvent=t.originalEvent,this.copyPointerData(t,i),this.copyMouseData(t,i),this.copyData(t,i),i.target=t.target,i.path=t.composedPath().slice(),i.type=e??i.type,i}copyWheelData(t,e){e.deltaMode=t.deltaMode,e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ}copyPointerData(t,e){t instanceof Je&&e instanceof Je&&(e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist)}copyMouseData(t,e){t instanceof uo&&e instanceof uo&&(e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.copyFrom(t.client),e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.copyFrom(t.movement),e.screen.copyFrom(t.screen),e.shiftKey=t.shiftKey,e.global.copyFrom(t.global))}copyData(t,e){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.detail=t.detail,e.view=t.view,e.which=t.which,e.layer.copyFrom(t.layer),e.page.copyFrom(t.page)}trackingData(t){return this.mappingState.trackingData[t]||(this.mappingState.trackingData[t]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[t]}allocateEvent(t){this.eventPool.has(t)||this.eventPool.set(t,[]);const e=this.eventPool.get(t).pop()||new t(this);return e.eventPhase=e.NONE,e.currentTarget=null,e.path=null,e.target=null,e}freeEvent(t){if(t.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const e=t.constructor;this.eventPool.has(e)||this.eventPool.set(e,[]),this.eventPool.get(e).push(t)}notifyListeners(t,e){const i=t.currentTarget._events[e];if(i&&t.currentTarget.isInteractive())if("fn"in i)i.once&&t.currentTarget.removeListener(e,i.fn,void 0,!0),i.fn.call(i.context,t);else for(let n=0,r=i.length;n<r&&!t.propagationImmediatelyStopped;n++)i[n].once&&t.currentTarget.removeListener(e,i[n].fn,void 0,!0),i[n].fn.call(i[n].context,t)}}const sE=1,oE={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},yf=class _f{constructor(t){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new bb(null),kn.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new Je(null),this.rootWheelEvent=new wr(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({..._f.defaultEventFeatures},{set:(e,i,n)=>(i==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=n),e[i]=n,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(t){const{view:e,resolution:i}=this.renderer;this.setTargetElement(e),this.resolution=i,_f._defaultEventMode=t.eventMode??"auto",Object.assign(this.features,t.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(t){this.resolution=t}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(t){t=t||"default";let e=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(e=!1),this.currentCursor===t)return;this.currentCursor=t;const i=this.cursorStyles[t];if(i)switch(typeof i){case"string":e&&(this.domElement.style.cursor=i);break;case"function":i(t);break;case"object":e&&Object.assign(this.domElement.style,i);break}else e&&typeof t=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.domElement.style.cursor=t)}get pointer(){return this.rootPointerEvent}onPointerDown(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(let i=0,n=e.length;i<n;i++){const r=e[i],o=this.bootstrapEvent(this.rootPointerEvent,r);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(t){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,kn.pointerMoved();const e=this.normalizeToPointerData(t);for(let i=0,n=e.length;i<n;i++){const r=this.bootstrapEvent(this.rootPointerEvent,e[i]);this.rootBoundary.mapEvent(r)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let e=t.target;t.composedPath&&t.composedPath().length>0&&(e=t.composedPath()[0]);const i=e!==this.domElement?"outside":"",n=this.normalizeToPointerData(t);for(let r=0,o=n.length;r<o;r++){const a=this.bootstrapEvent(this.rootPointerEvent,n[r]);a.type+=i,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const e=this.normalizeToPointerData(t);for(let i=0,n=e.length;i<n;i++){const r=this.bootstrapEvent(this.rootPointerEvent,e[i]);this.rootBoundary.mapEvent(r)}this.setCursor(this.rootBoundary.cursor)}onWheel(t){if(!this.features.wheel)return;const e=this.normalizeWheelEvent(t);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(e)}setTargetElement(t){this.removeEvents(),this.domElement=t,kn.domElement=t,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;kn.addTickerListener();const t=this.domElement.style;t&&(globalThis.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;kn.removeTickerListener();const t=this.domElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(t,e,i){const n=this.domElement.isConnected?this.domElement.getBoundingClientRect():{width:this.domElement.width,height:this.domElement.height,left:0,top:0},r=1/this.resolution;t.x=(e-n.left)*(this.domElement.width/n.width)*r,t.y=(i-n.top)*(this.domElement.height/n.height)*r}normalizeToPointerData(t){const e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(let i=0,n=t.changedTouches.length;i<n;i++){const r=t.changedTouches[i];typeof r.button>"u"&&(r.button=0),typeof r.buttons>"u"&&(r.buttons=1),typeof r.isPrimary>"u"&&(r.isPrimary=t.touches.length===1&&t.type==="touchstart"),typeof r.width>"u"&&(r.width=r.radiusX||1),typeof r.height>"u"&&(r.height=r.radiusY||1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="touch"),typeof r.pointerId>"u"&&(r.pointerId=r.identifier||0),typeof r.pressure>"u"&&(r.pressure=r.force||.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),typeof r.layerX>"u"&&(r.layerX=r.offsetX=r.clientX),typeof r.layerY>"u"&&(r.layerY=r.offsetY=r.clientY),r.isNormalized=!0,r.type=t.type,e.push(r)}else if(!globalThis.MouseEvent||t instanceof MouseEvent&&(!this.supportsPointerEvents||!(t instanceof globalThis.PointerEvent))){const i=t;typeof i.isPrimary>"u"&&(i.isPrimary=!0),typeof i.width>"u"&&(i.width=1),typeof i.height>"u"&&(i.height=1),typeof i.tiltX>"u"&&(i.tiltX=0),typeof i.tiltY>"u"&&(i.tiltY=0),typeof i.pointerType>"u"&&(i.pointerType="mouse"),typeof i.pointerId>"u"&&(i.pointerId=sE),typeof i.pressure>"u"&&(i.pressure=.5),typeof i.twist>"u"&&(i.twist=0),typeof i.tangentialPressure>"u"&&(i.tangentialPressure=0),i.isNormalized=!0,e.push(i)}else e.push(t);return e}normalizeWheelEvent(t){const e=this.rootWheelEvent;return this.transferMouseData(e,t),e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ,e.deltaMode=t.deltaMode,this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.nativeEvent=t,e.type=t.type,e}bootstrapEvent(t,e){return t.originalEvent=null,t.nativeEvent=e,t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist,this.transferMouseData(t,e),this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.isTrusted=e.isTrusted,t.type==="pointerleave"&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=oE[t.type]||t.type),t}transferMouseData(t,e){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.x=e.clientX,t.client.y=e.clientY,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.x=e.movementX,t.movement.y=e.movementY,t.page.x=e.pageX,t.page.y=e.pageY,t.relatedTarget=null,t.shiftKey=e.shiftKey}};yf.extension={name:"events",type:[et.RendererSystem,et.CanvasRendererSystem]},yf.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let Va=yf;at.add(Va);function yy(s){return s==="dynamic"||s==="static"}const wb={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??yy(Va.defaultEventMode)},set interactive(s){mt("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=s,this.eventMode=s?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??Va.defaultEventMode},set eventMode(s){this._internalInteractive=yy(s),this._internalEventMode=s},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(s,t,e){const i=typeof e=="boolean"&&e||typeof e=="object"&&e.capture,n=typeof e=="object"?e.signal:void 0,r=typeof e=="object"?e.once===!0:!1,o=typeof t=="function"?void 0:t;s=i?`${s}capture`:s;const a=typeof t=="function"?t:t.handleEvent,h=this;n&&n.addEventListener("abort",()=>{h.off(s,a,o)}),r?h.once(s,a,o):h.on(s,a,o)},removeEventListener(s,t,e){const i=typeof e=="boolean"&&e||typeof e=="object"&&e.capture,n=typeof t=="function"?void 0:t;s=i?`${s}capture`:s,t=typeof t=="function"?t:t.handleEvent,this.off(s,t,n)},dispatchEvent(s){if(!(s instanceof bs))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return s.defaultPrevented=!1,s.path=null,s.target=this,s.manager.dispatchEvent(s),!s.defaultPrevented}};qt.mixin(wb);const Tb={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};qt.mixin(Tb);const aE=9,sa=100,hE=0,lE=0,_y=2,xy=1,uE=-1e3,cE=-1e3,dE=2;class Bg{constructor(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(bi.tablet||bi.phone)&&this.createTouchHook();const e=document.createElement("div");e.style.width=`${sa}px`,e.style.height=`${sa}px`,e.style.position="absolute",e.style.top=`${hE}px`,e.style.left=`${lE}px`,e.style.zIndex=_y.toString(),this.div=e,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const t=document.createElement("button");t.style.width=`${xy}px`,t.style.height=`${xy}px`,t.style.position="absolute",t.style.top=`${uE}px`,t.style.left=`${cE}px`,t.style.zIndex=dE.toString(),t.style.backgroundColor="#FF0000",t.title="select to enable accessibility for this content",t.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(t),this._hookDiv=t}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var t;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(t=this.renderer.view.parentNode)==null||t.appendChild(this.div))}deactivate(){var t;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(t=this.div.parentNode)==null||t.removeChild(this.div))}updateAccessibleObjects(t){if(!t.visible||!t.accessibleChildren)return;t.accessible&&t.isInteractive()&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);const e=t.children;if(e)for(let i=0;i<e.length;i++)this.updateAccessibleObjects(e[i])}update(){const t=performance.now();if(bi.android.device&&t<this.androidUpdateCount||(this.androidUpdateCount=t+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:e,y:i,width:n,height:r}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:h}=this.renderer,l=n/o*h,u=r/a*h;let d=this.div;d.style.left=`${e}px`,d.style.top=`${i}px`,d.style.width=`${o}px`,d.style.height=`${a}px`;for(let f=0;f<this.children.length;f++){const c=this.children[f];if(c.renderId!==this.renderId)c._accessibleActive=!1,vr(this.children,f,1),this.div.removeChild(c._accessibleDiv),this.pool.push(c._accessibleDiv),c._accessibleDiv=null,f--;else{d=c._accessibleDiv;let g=c.hitArea;const p=c.worldTransform;c.hitArea?(d.style.left=`${(p.tx+g.x*p.a)*l}px`,d.style.top=`${(p.ty+g.y*p.d)*u}px`,d.style.width=`${g.width*p.a*l}px`,d.style.height=`${g.height*p.d*u}px`):(g=c.getBounds(),this.capHitArea(g),d.style.left=`${g.x*l}px`,d.style.top=`${g.y*u}px`,d.style.width=`${g.width*l}px`,d.style.height=`${g.height*u}px`,d.title!==c.accessibleTitle&&c.accessibleTitle!==null&&(d.title=c.accessibleTitle),d.getAttribute("aria-label")!==c.accessibleHint&&c.accessibleHint!==null&&d.setAttribute("aria-label",c.accessibleHint)),(c.accessibleTitle!==d.title||c.tabIndex!==d.tabIndex)&&(d.title=c.accessibleTitle,d.tabIndex=c.tabIndex,this.debug&&this.updateDebugHTML(d))}}this.renderId++}updateDebugHTML(t){t.innerHTML=`type: ${t.type}</br> title : ${t.title}</br> tabIndex: ${t.tabIndex}`}capHitArea(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);const{width:e,height:i}=this.renderer;t.x+t.width>e&&(t.width=e-t.x),t.y+t.height>i&&(t.height=i-t.y)}addChild(t){let e=this.pool.pop();e||(e=document.createElement("button"),e.style.width=`${sa}px`,e.style.height=`${sa}px`,e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=_y.toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&t.accessibleTitle!==null?e.title=t.accessibleTitle:(!t.accessibleHint||t.accessibleHint===null)&&(e.title=`displayObject ${t.tabIndex}`),t.accessibleHint&&t.accessibleHint!==null&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex}_dispatchEvent(t,e){const{displayObject:i}=t.target,n=this.renderer.events.rootBoundary,r=Object.assign(new bs(n),{target:i});n.rootTarget=this.renderer.lastObjectRendered,e.forEach(o=>n.dispatchEvent(r,o))}_onClick(t){this._dispatchEvent(t,["click","pointertap","tap"])}_onFocus(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive"),this._dispatchEvent(t,["mouseover"])}_onFocusOut(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite"),this._dispatchEvent(t,["mouseout"])}_onKeyDown(t){t.keyCode===aE&&this.activate()}_onMouseMove(t){t.movementX===0&&t.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}Bg.extension={name:"accessibility",type:[et.RendererPlugin,et.CanvasRendererPlugin]};at.add(Bg);const Sb=class xf{constructor(t){this.stage=new ft,t=Object.assign({forceCanvas:!1},t),this.renderer=hb(t),xf._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){var t;return(t=this.renderer)==null?void 0:t.view}get screen(){var t;return(t=this.renderer)==null?void 0:t.screen}destroy(t,e){const i=xf._plugins.slice(0);i.reverse(),i.forEach(n=>{n.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};Sb._plugins=[];let Lg=Sb;at.handleByList(et.Application,Lg._plugins);class Ng{static init(t){Object.defineProperty(this,"resizeTo",{set(e){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=e,e&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let e,i;if(this._resizeTo===globalThis.window)e=globalThis.innerWidth,i=globalThis.innerHeight;else{const{clientWidth:n,clientHeight:r}=this._resizeTo;e=n,i=r}this.renderer.resize(e,i),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}Ng.extension=et.Application;at.add(Ng);const vy={loader:et.LoadParser,resolver:et.ResolveParser,cache:et.CacheParser,detection:et.DetectionParser};at.handle(et.Asset,s=>{const t=s.ref;Object.entries(vy).filter(([e])=>!!t[e]).forEach(([e,i])=>at.add(Object.assign(t[e],{extension:t[e].extension??i})))},s=>{const t=s.ref;Object.keys(vy).filter(e=>!!t[e]).forEach(e=>at.remove(t[e]))});class fE{constructor(t,e=!1){this._loader=t,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=e}add(t){t.forEach(e=>{this._assetList.push(e)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const t=[],e=Math.min(this._assetList.length,this._maxConcurrent);for(let i=0;i<e;i++)t.push(this._assetList.pop());await this._loader.load(t),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(t){this._isActive!==t&&(this._isActive=t,t&&!this._isLoading&&this._next())}}function zr(s,t){if(Array.isArray(t)){for(const e of t)if(s.startsWith(`data:${e}`))return!0;return!1}return s.startsWith(`data:${t}`)}function Sn(s,t){const e=s.split("?")[0],i=re.extname(e).toLowerCase();return Array.isArray(t)?t.includes(i):i===t}const ii=(s,t,e=!1)=>(Array.isArray(s)||(s=[s]),t?s.map(i=>typeof i=="string"||e?t(i):i):s),$a=(s,t)=>{const e=t.split("?")[1];return e&&(s+=`?${e}`),s};function Ab(s,t,e,i,n){const r=t[e];for(let o=0;o<r.length;o++){const a=r[o];e<t.length-1?Ab(s.replace(i[e],a),t,e+1,i,n):n.push(s.replace(i[e],a))}}function Eb(s){const t=/\{(.*?)\}/g,e=s.match(t),i=[];if(e){const n=[];e.forEach(r=>{const o=r.substring(1,r.length-1).split(",");n.push(o)}),Ab(s,n,0,e,i)}else i.push(s);return i}const co=s=>!Array.isArray(s);class gE{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const e=this._cache.get(t);return e||console.warn(`[Assets] Asset id ${t} was not found in the Cache`),e}set(t,e){const i=ii(t);let n;for(let a=0;a<this.parsers.length;a++){const h=this.parsers[a];if(h.test(e)){n=h.getCacheableAssets(i,e);break}}n||(n={},i.forEach(a=>{n[a]=e}));const r=Object.keys(n),o={cacheKeys:r,keys:i};if(i.forEach(a=>{this._cacheMap.set(a,o)}),r.forEach(a=>{const h=n?n[a]:e;this._cache.has(a)&&this._cache.get(a)!==h&&console.warn("[Cache] already has key:",a),this._cache.set(a,n[a])}),e instanceof st){const a=e;i.forEach(h=>{a.baseTexture!==st.EMPTY.baseTexture&&_t.addToCache(a.baseTexture,h),st.addToCache(a,h)})}}remove(t){if(!this._cacheMap.has(t)){console.warn(`[Assets] Asset id ${t} was not found in the Cache`);return}const e=this._cacheMap.get(t);e.cacheKeys.forEach(i=>{this._cache.delete(i)}),e.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const Fn=new gE;class pE{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(t,e,i)=>(this._parsersValidated=!1,t[e]=i,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(t,e){const i={promise:null,parser:null};return i.promise=(async()=>{var o,a;let n=null,r=null;if(e.loadParser&&(r=this._parserHash[e.loadParser],r||console.warn(`[Assets] specified load parser "${e.loadParser}" not found while loading ${t}`)),!r){for(let h=0;h<this.parsers.length;h++){const l=this.parsers[h];if(l.load&&((o=l.test)!=null&&o.call(l,t,e,this))){r=l;break}}if(!r)return console.warn(`[Assets] ${t} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}n=await r.load(t,e,this),i.parser=r;for(let h=0;h<this.parsers.length;h++){const l=this.parsers[h];l.parse&&l.parse&&await((a=l.testParse)==null?void 0:a.call(l,n,e,this))&&(n=await l.parse(n,e,this)||n,i.parser=l)}return n})(),i}async load(t,e){this._parsersValidated||this._validateParsers();let i=0;const n={},r=co(t),o=ii(t,l=>({alias:[l],src:l})),a=o.length,h=o.map(async l=>{const u=re.toAbsolute(l.src);if(!n[l.src])try{this.promiseCache[u]||(this.promiseCache[u]=this._getLoadPromiseAndParser(u,l)),n[l.src]=await this.promiseCache[u].promise,e&&e(++i/a)}catch(d){throw delete this.promiseCache[u],delete n[l.src],new Error(`[Loader.load] Failed to load ${u}.
${d}`)}});return await Promise.all(h),r?n[o[0].src]:n}async unload(t){const e=ii(t,i=>({alias:[i],src:i})).map(async i=>{var o,a;const n=re.toAbsolute(i.src),r=this.promiseCache[n];if(r){const h=await r.promise;delete this.promiseCache[n],(a=(o=r.parser)==null?void 0:o.unload)==null||a.call(o,h,i,this)}});await Promise.all(e)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(t=>t.name).reduce((t,e)=>(t[e.name]&&console.warn(`[Assets] loadParser name conflict "${e.name}"`),{...t,[e.name]:e}),{})}}var li=(s=>(s[s.Low=0]="Low",s[s.Normal=1]="Normal",s[s.High=2]="High",s))(li||{});const mE=".json",yE="application/json",Cb={extension:{type:et.LoadParser,priority:li.Low},name:"loadJson",test(s){return zr(s,yE)||Sn(s,mE)},async load(s){return await(await nt.ADAPTER.fetch(s)).json()}};at.add(Cb);const _E=".txt",xE="text/plain",Pb={name:"loadTxt",extension:{type:et.LoadParser,priority:li.Low},test(s){return zr(s,xE)||Sn(s,_E)},async load(s){return await(await nt.ADAPTER.fetch(s)).text()}};at.add(Pb);const vE=["normal","bold","100","200","300","400","500","600","700","800","900"],bE=[".ttf",".otf",".woff",".woff2"],wE=["font/ttf","font/otf","font/woff","font/woff2"],TE=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function Ib(s){const t=re.extname(s),e=re.basename(s,t).replace(/(-|_)/g," ").toLowerCase().split(" ").map(r=>r.charAt(0).toUpperCase()+r.slice(1));let i=e.length>0;for(const r of e)if(!r.match(TE)){i=!1;break}let n=e.join(" ");return i||(n=`"${n.replace(/[\\"]/g,"\\$&")}"`),n}const SE=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function AE(s){return SE.test(s)?s:encodeURI(s)}const Mb={extension:{type:et.LoadParser,priority:li.Low},name:"loadWebFont",test(s){return zr(s,wE)||Sn(s,bE)},async load(s,t){var i,n,r;const e=nt.ADAPTER.getFontFaceSet();if(e){const o=[],a=((i=t.data)==null?void 0:i.family)??Ib(s),h=((r=(n=t.data)==null?void 0:n.weights)==null?void 0:r.filter(u=>vE.includes(u)))??["normal"],l=t.data??{};for(let u=0;u<h.length;u++){const d=h[u],f=new FontFace(a,`url(${AE(s)})`,{...l,weight:d});await f.load(),e.add(f),o.push(f)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(s){(Array.isArray(s)?s:[s]).forEach(t=>nt.ADAPTER.getFontFaceSet().delete(t))}};at.add(Mb);const EE=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let es=null,vf=class{constructor(){es||(es=URL.createObjectURL(new Blob([EE],{type:"application/javascript"}))),this.worker=new Worker(es)}};vf.revokeObjectURL=function(){es&&(URL.revokeObjectURL(es),es=null)};const CE=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let is=null;class zb{constructor(){is||(is=URL.createObjectURL(new Blob([CE],{type:"application/javascript"}))),this.worker=new Worker(is)}}zb.revokeObjectURL=function(){is&&(URL.revokeObjectURL(is),is=null)};let by=0,du;class PE{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(t=>{const{worker:e}=new vf;e.addEventListener("message",i=>{e.terminate(),vf.revokeObjectURL(),t(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(t){return this._run("loadImageBitmap",[t])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){du===void 0&&(du=navigator.hardwareConcurrency||4);let t=this.workerPool.pop();return!t&&this._createdWorkers<du&&(this._createdWorkers++,t=new zb().worker,t.addEventListener("message",e=>{this.complete(e.data),this.returnWorker(e.target),this.next()})),t}returnWorker(t){this.workerPool.push(t)}complete(t){t.error!==void 0?this.resolveHash[t.uuid].reject(t.error):this.resolveHash[t.uuid].resolve(t.data),this.resolveHash[t.uuid]=null}async _run(t,e){await this._initWorkers();const i=new Promise((n,r)=>{this.queue.push({id:t,arguments:e,resolve:n,reject:r})});return this.next(),i}next(){if(!this.queue.length)return;const t=this.getWorker();if(!t)return;const e=this.queue.pop(),i=e.id;this.resolveHash[by]={resolve:e.resolve,reject:e.reject},t.postMessage({data:e.arguments,uuid:by++,id:i})}}const wy=new PE;function ws(s,t,e){s.resource.internal=!0;const i=new st(s),n=()=>{delete t.promiseCache[e],Fn.has(e)&&Fn.remove(e)};return i.baseTexture.once("destroyed",()=>{e in t.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),n())}),i.once("destroyed",()=>{s.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),n())}),i}const IE=[".jpeg",".jpg",".png",".webp",".avif"],ME=["image/jpeg","image/png","image/webp","image/avif"];async function Rb(s){const t=await nt.ADAPTER.fetch(s);if(!t.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${s}: ${t.status} ${t.statusText}`);const e=await t.blob();return await createImageBitmap(e)}const ko={name:"loadTextures",extension:{type:et.LoadParser,priority:li.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(s){return zr(s,ME)||Sn(s,IE)},async load(s,t,e){var a;const i=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let n;i?this.config.preferWorkers&&await wy.isImageBitmapSupported()?n=await wy.loadImageBitmap(s):n=await Rb(s):n=await new Promise((h,l)=>{const u=new Image;u.crossOrigin=this.config.crossOrigin,u.src=s,u.complete?h(u):(u.onload=()=>h(u),u.onerror=d=>l(d))});const r={...t.data};r.resolution??(r.resolution=$i(s)),i&&((a=r.resourceOptions)==null?void 0:a.ownsImageBitmap)===void 0&&(r.resourceOptions={...r.resourceOptions},r.resourceOptions.ownsImageBitmap=!0);const o=new _t(n,r);return o.resource.src=s,ws(o,e,s)},unload(s){s.destroy(!0)}};at.add(ko);const zE=".svg",RE="image/svg+xml",Db={extension:{type:et.LoadParser,priority:li.High},name:"loadSVG",test(s){return zr(s,RE)||Sn(s,zE)},async testParse(s){return Ha.test(s)},async parse(s,t,e){var r;const i=new Ha(s,(r=t==null?void 0:t.data)==null?void 0:r.resourceOptions);await i.load();const n=new _t(i,{resolution:$i(s),...t==null?void 0:t.data});return n.resource.src=t.src,ws(n,e,t.src)},async load(s,t){return(await nt.ADAPTER.fetch(s)).text()},unload:ko.unload};at.add(Db);const DE=[".mp4",".m4v",".webm",".ogv"],kE=["video/mp4","video/webm","video/ogg"],kb={name:"loadVideo",extension:{type:et.LoadParser,priority:li.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(s){return zr(s,kE)||Sn(s,DE)},async load(s,t,e){var o;let i;const n=await(await nt.ADAPTER.fetch(s)).blob(),r=URL.createObjectURL(n);try{const a={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...(o=t==null?void 0:t.data)==null?void 0:o.resourceOptions,autoLoad:!0},h=new jg(r,a);await h.load();const l=new _t(h,{alphaMode:await vv(),resolution:$i(s),...t==null?void 0:t.data});l.resource.src=s,i=ws(l,e,s),i.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(r)})}catch(a){throw URL.revokeObjectURL(r),a}return i},unload(s){s.destroy(!0)}};at.add(kb);class FE{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,e)=>`${t}${this._bundleIdConnector}${e}`,extractAssetIdFromBundle:(t,e)=>e.replace(`${t}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){if(this._bundleIdConnector=t.connector??this._bundleIdConnector,this._createBundleAssetId=t.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=t.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach(e=>{this._preferredOrder.push(e),e.priority||(e.priority=Object.keys(e.params))}),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if(typeof t=="string")this._defaultSearchParams=t;else{const e=t;this._defaultSearchParams=Object.keys(e).map(i=>`${encodeURIComponent(i)}=${encodeURIComponent(e[i])}`).join("&")}}getAlias(t){const{alias:e,name:i,src:n,srcs:r}=t;return ii(e||i||n||r,o=>typeof o=="string"?o:Array.isArray(o)?o.map(a=>(a==null?void 0:a.src)??(a==null?void 0:a.srcs)??a):o!=null&&o.src||o!=null&&o.srcs?o.src??o.srcs:o,!0)}addManifest(t){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach(e=>{this.addBundle(e.name,e.assets)})}addBundle(t,e){const i=[];Array.isArray(e)?e.forEach(n=>{const r=n.src??n.srcs,o=n.alias??n.name;let a;if(typeof o=="string"){const h=this._createBundleAssetId(t,o);i.push(h),a=[o,h]}else{const h=o.map(l=>this._createBundleAssetId(t,l));i.push(...h),a=[...o,...h]}this.add({...n,alias:a,src:r})}):Object.keys(e).forEach(n=>{const r=[n,this._createBundleAssetId(t,n)];if(typeof e[n]=="string")this.add({alias:r,src:e[n]});else if(Array.isArray(e[n]))this.add({alias:r,src:e[n]});else{const o=e[n],a=o.src??o.srcs;this.add({...o,alias:r,src:Array.isArray(a)?a:[a]})}i.push(...r)}),this._bundles[t]=i}add(t,e,i,n,r){const o=[];typeof t=="string"||Array.isArray(t)&&typeof t[0]=="string"?(mt("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),o.push({alias:t,src:e,data:i,format:n,loadParser:r})):Array.isArray(t)?o.push(...t):o.push(t);let a;a=h=>{this.hasKey(h)&&console.warn(`[Resolver] already has key: ${h} overwriting`)},ii(o).forEach(h=>{const{src:l,srcs:u}=h;let{data:d,format:f,loadParser:c}=h;const g=ii(l||u).map(y=>typeof y=="string"?Eb(y):Array.isArray(y)?y:[y]),p=this.getAlias(h);Array.isArray(p)?p.forEach(a):a(p);const m=[];g.forEach(y=>{y.forEach(x=>{let v={};if(typeof x!="object"){v.src=x;for(let w=0;w<this._parsers.length;w++){const _=this._parsers[w];if(_.test(x)){v=_.parse(x);break}}}else d=x.data??d,f=x.format??f,c=x.loadParser??c,v={...v,...x};if(!p)throw new Error(`[Resolver] alias is undefined for this asset: ${v.src}`);v=this.buildResolvedAsset(v,{aliases:p,data:d,format:f,loadParser:c}),m.push(v)})}),p.forEach(y=>{this._assetMap[y]=m})})}resolveBundle(t){const e=co(t);t=ii(t);const i={};return t.forEach(n=>{const r=this._bundles[n];if(r){const o=this.resolve(r),a={};for(const h in o){const l=o[h];a[this._extractAssetIdFromBundle(n,h)]=l}i[n]=a}}),e?i[t[0]]:i}resolveUrl(t){const e=this.resolve(t);if(typeof t!="string"){const i={};for(const n in e)i[n]=e[n].src;return i}return e.src}resolve(t){const e=co(t);t=ii(t);const i={};return t.forEach(n=>{if(!this._resolverHash[n])if(this._assetMap[n]){let r=this._assetMap[n];const o=r[0],a=this._getPreferredOrder(r);a==null||a.priority.forEach(h=>{a.params[h].forEach(l=>{const u=r.filter(d=>d[h]?d[h]===l:!1);u.length&&(r=u)})}),this._resolverHash[n]=r[0]??o}else this._resolverHash[n]=this.buildResolvedAsset({alias:[n],src:n},{});i[n]=this._resolverHash[n]}),e?i[t[0]]:i}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let e=0;e<t.length;e++){const i=t[0],n=this._preferredOrder.find(r=>r.params.format.includes(i.format));if(n)return n}return this._preferredOrder[0]}_appendDefaultSearchParams(t){if(!this._defaultSearchParams)return t;const e=/\?/.test(t)?"&":"?";return`${t}${e}${this._defaultSearchParams}`}buildResolvedAsset(t,e){const{aliases:i,data:n,loadParser:r,format:o}=e;return(this._basePath||this._rootPath)&&(t.src=re.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=i??t.alias??[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data={...n||{},...t.data},t.loadParser=r??t.loadParser,t.format=o??t.format??re.extname(t.src).slice(1),t.srcs=t.src,t.name=t.alias,t}}class Fb{constructor(){this._detections=[],this._initialized=!1,this.resolver=new FE,this.loader=new pE,this.cache=Fn,this._backgroundLoader=new fE(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(t={}){var r,o;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,t.defaultSearchParams&&this.resolver.setDefaultSearchParams(t.defaultSearchParams),t.basePath&&(this.resolver.basePath=t.basePath),t.bundleIdentifier&&this.resolver.setBundleIdentifier(t.bundleIdentifier),t.manifest){let a=t.manifest;typeof a=="string"&&(a=await this.load(a)),this.resolver.addManifest(a)}const e=((r=t.texturePreference)==null?void 0:r.resolution)??1,i=typeof e=="number"?[e]:e,n=await this._detectFormats({preferredFormats:(o=t.texturePreference)==null?void 0:o.format,skipDetections:t.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:n,resolution:i}}),t.preferences&&this.setPreferences(t.preferences)}add(t,e,i,n,r){this.resolver.add(t,e,i,n,r)}async load(t,e){this._initialized||await this.init();const i=co(t),n=ii(t).map(a=>{if(typeof a!="string"){const h=this.resolver.getAlias(a);return h.some(l=>!this.resolver.hasKey(l))&&this.add(a),Array.isArray(h)?h[0]:h}return this.resolver.hasKey(a)||this.add({alias:a,src:a}),a}),r=this.resolver.resolve(n),o=await this._mapLoadToResolve(r,e);return i?o[n[0]]:o}addBundle(t,e){this.resolver.addBundle(t,e)}async loadBundle(t,e){this._initialized||await this.init();let i=!1;typeof t=="string"&&(i=!0,t=[t]);const n=this.resolver.resolveBundle(t),r={},o=Object.keys(n);let a=0,h=0;const l=()=>{e==null||e(++a/h)},u=o.map(d=>{const f=n[d];return h+=Object.keys(f).length,this._mapLoadToResolve(f,l).then(c=>{r[d]=c})});return await Promise.all(u),i?r[t[0]]:r}async backgroundLoad(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const e=this.resolver.resolve(t);this._backgroundLoader.add(Object.values(e))}async backgroundLoadBundle(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const e=this.resolver.resolveBundle(t);Object.values(e).forEach(i=>{this._backgroundLoader.add(Object.values(i))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(t){if(typeof t=="string")return Fn.get(t);const e={};for(let i=0;i<t.length;i++)e[i]=Fn.get(t[i]);return e}async _mapLoadToResolve(t,e){const i=Object.values(t),n=Object.keys(t);this._backgroundLoader.active=!1;const r=await this.loader.load(i,e);this._backgroundLoader.active=!0;const o={};return i.forEach((a,h)=>{const l=r[a.src],u=[a.src];a.alias&&u.push(...a.alias),o[n[h]]=l,Fn.set(u,l)}),o}async unload(t){this._initialized||await this.init();const e=ii(t).map(n=>typeof n!="string"?n.src:n),i=this.resolver.resolve(e);await this._unloadFromResolved(i)}async unloadBundle(t){this._initialized||await this.init(),t=ii(t);const e=this.resolver.resolveBundle(t),i=Object.keys(e).map(n=>this._unloadFromResolved(e[n]));await Promise.all(i)}async _unloadFromResolved(t){const e=Object.values(t);e.forEach(i=>{Fn.remove(i.src)}),await this.loader.unload(e)}async _detectFormats(t){let e=[];t.preferredFormats&&(e=Array.isArray(t.preferredFormats)?t.preferredFormats:[t.preferredFormats]);for(const i of t.detections)t.skipDetections||await i.test()?e=await i.add(e):t.skipDetections||(e=await i.remove(e));return e=e.filter((i,n)=>e.indexOf(i)===n),e}get detections(){return this._detections}get preferWorkers(){return ko.config.preferWorkers}set preferWorkers(t){mt("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:t})}setPreferences(t){this.loader.parsers.forEach(e=>{e.config&&Object.keys(e.config).filter(i=>i in t).forEach(i=>{e.config[i]=t[i]})})}}const be=new Fb;at.handleByList(et.LoadParser,be.loader.parsers).handleByList(et.ResolveParser,be.resolver.parsers).handleByList(et.CacheParser,be.cache.parsers).handleByList(et.DetectionParser,be.detections);const jb={extension:et.CacheParser,test:s=>Array.isArray(s)&&s.every(t=>t instanceof st),getCacheableAssets:(s,t)=>{const e={};return s.forEach(i=>{t.forEach((n,r)=>{e[i+(r===0?"":r+1)]=n})}),e}};at.add(jb);async function Ob(s){if("Image"in globalThis)return new Promise(t=>{const e=new Image;e.onload=()=>{t(!0)},e.onerror=()=>{t(!1)},e.src=s});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const t=await(await fetch(s)).blob();await createImageBitmap(t)}catch{return!1}return!0}return!1}const Bb={extension:{type:et.DetectionParser,priority:1},test:async()=>Ob("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async s=>[...s,"avif"],remove:async s=>s.filter(t=>t!=="avif")};at.add(Bb);const Lb={extension:{type:et.DetectionParser,priority:0},test:async()=>Ob("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async s=>[...s,"webp"],remove:async s=>s.filter(t=>t!=="webp")};at.add(Lb);const Ty=["png","jpg","jpeg"],Nb={extension:{type:et.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async s=>[...s,...Ty],remove:async s=>s.filter(t=>!Ty.includes(t))};at.add(Nb);const jE="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function qg(s){return jE?!1:document.createElement("video").canPlayType(s)!==""}const qb={extension:{type:et.DetectionParser,priority:0},test:async()=>qg("video/webm"),add:async s=>[...s,"webm"],remove:async s=>s.filter(t=>t!=="webm")};at.add(qb);const Ub={extension:{type:et.DetectionParser,priority:0},test:async()=>qg("video/mp4"),add:async s=>[...s,"mp4","m4v"],remove:async s=>s.filter(t=>t!=="mp4"&&t!=="m4v")};at.add(Ub);const Gb={extension:{type:et.DetectionParser,priority:0},test:async()=>qg("video/ogg"),add:async s=>[...s,"ogv"],remove:async s=>s.filter(t=>t!=="ogv")};at.add(Gb);const Hb={extension:et.ResolveParser,test:ko.test,parse:s=>{var t;return{resolution:parseFloat(((t=nt.RETINA_PREFIX.exec(s))==null?void 0:t[1])??"1"),format:re.extname(s).slice(1),src:s}}};at.add(Hb);var ae=(s=>(s[s.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",s[s.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",s[s.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",s[s.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",s[s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",s[s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",s[s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",s[s.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",s[s.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",s[s.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",s[s.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",s[s.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",s[s.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",s[s.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",s[s.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",s[s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",s[s.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",s[s.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",s[s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",s[s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",s[s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",s[s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",s[s.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",s[s.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",s[s.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",s[s.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",s[s.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",s[s.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",s[s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",s[s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",s[s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",s))(ae||{});const fo={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};let Di,Vr;function Sy(){Vr={bptc:Di.getExtension("EXT_texture_compression_bptc"),astc:Di.getExtension("WEBGL_compressed_texture_astc"),etc:Di.getExtension("WEBGL_compressed_texture_etc"),s3tc:Di.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:Di.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:Di.getExtension("WEBGL_compressed_texture_pvrtc")||Di.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:Di.getExtension("WEBGL_compressed_texture_etc1"),atc:Di.getExtension("WEBGL_compressed_texture_atc")}}const Wb={extension:{type:et.DetectionParser,priority:2},test:async()=>{const s=nt.ADAPTER.createCanvas().getContext("webgl");return s?(Di=s,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async s=>{Vr||Sy();const t=[];for(const e in Vr)Vr[e]&&t.push(e);return[...t,...s]},remove:async s=>(Vr||Sy(),s.filter(t=>!(t in Vr)))};at.add(Wb);class Vb extends Po{constructor(t,e={width:1,height:1,autoLoad:!0}){let i,n;typeof t=="string"?(i=t,n=new Uint8Array):(i=null,n=t),super(n,e),this.origin=i,this.buffer=n?new Ba(n):null,this._load=null,this.loaded=!1,this.origin!==null&&e.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(t){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(t=>t.blob()).then(t=>t.arrayBuffer()).then(t=>(this.data=new Uint32Array(t),this.buffer=new Ba(t),this.loaded=!0,this.onBlobLoaded(t),this.update(),this)),this._load)}}class Hn extends Vb{constructor(t,e){super(t,e),this.format=e.format,this.levels=e.levels||1,this._width=e.width,this._height=e.height,this._extension=Hn._formatToExtension(this.format),(e.levelBuffers||this.buffer)&&(this._levelBuffers=e.levelBuffers||Hn._createLevelBuffers(t instanceof Uint8Array?t:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(t,e,i){const n=t.gl;if(!t.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;n.pixelStorei(n.UNPACK_ALIGNMENT,4);for(let r=0,o=this.levels;r<o;r++){const{levelID:a,levelWidth:h,levelHeight:l,levelBuffer:u}=this._levelBuffers[r];n.compressedTexImage2D(n.TEXTURE_2D,a,this.format,h,l,0,u)}return!0}onBlobLoaded(){this._levelBuffers=Hn._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(t){if(t>=33776&&t<=33779)return"s3tc";if(t>=35916&&t<=35919)return"s3tc_sRGB";if(t>=37488&&t<=37497)return"etc";if(t>=35840&&t<=35843)return"pvrtc";if(t===36196)return"etc1";if(t===35986||t===35987||t===34798)return"atc";if(t>=36492&&t<=36495)return"bptc";if(t===37808)return"astc";throw new Error(`Invalid (compressed) texture format given: ${t}`)}static _createLevelBuffers(t,e,i,n,r,o,a){const h=new Array(i);let l=t.byteOffset,u=o,d=a,f=u+n-1&~(n-1),c=d+r-1&~(r-1),g=f*c*fo[e];for(let p=0;p<i;p++)h[p]={levelID:p,levelWidth:i>1?u:f,levelHeight:i>1?d:c,levelBuffer:new Uint8Array(t.buffer,l,g)},l+=g,u=u>>1||1,d=d>>1||1,f=u+n-1&~(n-1),c=d+r-1&~(r-1),g=f*c*fo[e];return h}}const fu=4,oa=124,OE=32,Ay=20,BE=542327876,aa={HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},LE={FOURCC:2},ha={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3},NE=1,qE=2,UE=4,GE=64,HE=512,WE=131072,VE=827611204,$E=861165636,XE=894720068,YE=808540228,ZE=4,KE={[VE]:ae.COMPRESSED_RGBA_S3TC_DXT1_EXT,[$E]:ae.COMPRESSED_RGBA_S3TC_DXT3_EXT,[XE]:ae.COMPRESSED_RGBA_S3TC_DXT5_EXT},JE={70:ae.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:ae.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:ae.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:ae.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:ae.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:ae.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:ae.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:ae.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:ae.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:ae.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:ae.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:ae.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:ae.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function $b(s){const t=new Uint32Array(s);if(t[0]!==BE)throw new Error("Invalid DDS file magic word");const e=new Uint32Array(s,0,oa/Uint32Array.BYTES_PER_ELEMENT),i=e[aa.HEIGHT],n=e[aa.WIDTH],r=e[aa.MIPMAP_COUNT],o=new Uint32Array(s,aa.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,OE/Uint32Array.BYTES_PER_ELEMENT),a=o[NE];if(a&UE){const h=o[LE.FOURCC];if(h!==YE){const x=KE[h],v=fu+oa,w=new Uint8Array(s,v);return[new Hn(w,{format:x,width:n,height:i,levels:r})]}const l=fu+oa,u=new Uint32Array(t.buffer,l,Ay/Uint32Array.BYTES_PER_ELEMENT),d=u[ha.DXGI_FORMAT],f=u[ha.RESOURCE_DIMENSION],c=u[ha.MISC_FLAG],g=u[ha.ARRAY_SIZE],p=JE[d];if(p===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${d}`);if(c===ZE)throw new Error("DDSParser does not support cubemap textures");if(f===6)throw new Error("DDSParser does not supported 3D texture data");const m=new Array,y=fu+oa+Ay;if(g===1)m.push(new Uint8Array(s,y));else{const x=fo[p];let v=0,w=n,_=i;for(let b=0;b<r;b++){const S=Math.max(1,w+3&-4),A=Math.max(1,_+3&-4),P=S*A*x;v+=P,w=w>>>1,_=_>>>1}let T=y;for(let b=0;b<g;b++)m.push(new Uint8Array(s,T,v)),T+=v}return m.map(x=>new Hn(x,{format:p,width:n,height:i,levels:r}))}throw a&GE?new Error("DDSParser does not support uncompressed texture data."):a&HE?new Error("DDSParser does not supported YUV uncompressed texture data."):a&WE?new Error("DDSParser does not support single-channel (lumninance) texture data!"):a&qE?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const Ey=[171,75,84,88,32,49,49,187,13,10,26,10],QE=67305985,gi={ENDIANNESS:12,GL_TYPE:16,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},bf=64,wf={[lt.UNSIGNED_BYTE]:1,[lt.UNSIGNED_SHORT]:2,[lt.INT]:4,[lt.UNSIGNED_INT]:4,[lt.FLOAT]:4,[lt.HALF_FLOAT]:8},Xb={[Y.RGBA]:4,[Y.RGB]:3,[Y.RG]:2,[Y.RED]:1,[Y.LUMINANCE]:1,[Y.LUMINANCE_ALPHA]:2,[Y.ALPHA]:1},Yb={[lt.UNSIGNED_SHORT_4_4_4_4]:2,[lt.UNSIGNED_SHORT_5_5_5_1]:2,[lt.UNSIGNED_SHORT_5_6_5]:2};function Zb(s,t,e=!1){const i=new DataView(t);if(!tC(s,i))return null;const n=i.getUint32(gi.ENDIANNESS,!0)===QE,r=i.getUint32(gi.GL_TYPE,n),o=i.getUint32(gi.GL_FORMAT,n),a=i.getUint32(gi.GL_INTERNAL_FORMAT,n),h=i.getUint32(gi.PIXEL_WIDTH,n),l=i.getUint32(gi.PIXEL_HEIGHT,n)||1,u=i.getUint32(gi.PIXEL_DEPTH,n)||1,d=i.getUint32(gi.NUMBER_OF_ARRAY_ELEMENTS,n)||1,f=i.getUint32(gi.NUMBER_OF_FACES,n),c=i.getUint32(gi.NUMBER_OF_MIPMAP_LEVELS,n),g=i.getUint32(gi.BYTES_OF_KEY_VALUE_DATA,n);if(l===0||u!==1)throw new Error("Only 2D textures are supported");if(f!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(d!==1)throw new Error("WebGL does not support array textures");const p=4,m=4,y=h+3&-4,x=l+3&-4,v=new Array(d);let w=h*l;r===0&&(w=y*x);let _;if(r!==0?wf[r]?_=wf[r]*Xb[o]:_=Yb[r]:_=fo[a],_===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const T=e?iC(i,g,n):null;let b=w*_,S=h,A=l,P=y,M=x,C=bf+g;for(let R=0;R<c;R++){const D=i.getUint32(C,n);let F=C+4;for(let E=0;E<d;E++){let z=v[E];z||(z=v[E]=new Array(c)),z[R]={levelID:R,levelWidth:c>1||r!==0?S:P,levelHeight:c>1||r!==0?A:M,levelBuffer:new Uint8Array(t,F,b)},F+=b}C+=D+4,C=C%4!==0?C+4-C%4:C,S=S>>1||1,A=A>>1||1,P=S+p-1&-4,M=A+m-1&-4,b=P*M*_}return r!==0?{uncompressed:v.map(R=>{let D=R[0].levelBuffer,F=!1;return r===lt.FLOAT?D=new Float32Array(R[0].levelBuffer.buffer,R[0].levelBuffer.byteOffset,R[0].levelBuffer.byteLength/4):r===lt.UNSIGNED_INT?(F=!0,D=new Uint32Array(R[0].levelBuffer.buffer,R[0].levelBuffer.byteOffset,R[0].levelBuffer.byteLength/4)):r===lt.INT&&(F=!0,D=new Int32Array(R[0].levelBuffer.buffer,R[0].levelBuffer.byteOffset,R[0].levelBuffer.byteLength/4)),{resource:new Po(D,{width:R[0].levelWidth,height:R[0].levelHeight}),type:r,format:F?eC(o):o}}),kvData:T}:{compressed:v.map(R=>new Hn(null,{format:a,width:h,height:l,levels:c,levelBuffers:R})),kvData:T}}function tC(s,t){for(let e=0;e<Ey.length;e++)if(t.getUint8(e)!==Ey[e])return console.error(`${s} is not a valid *.ktx file!`),!1;return!0}function eC(s){switch(s){case Y.RGBA:return Y.RGBA_INTEGER;case Y.RGB:return Y.RGB_INTEGER;case Y.RG:return Y.RG_INTEGER;case Y.RED:return Y.RED_INTEGER;default:return s}}function iC(s,t,e){const i=new Map;let n=0;for(;n<t;){const r=s.getUint32(bf+n,e),o=bf+n+4,a=3-(r+3)%4;if(r===0||r>t-n){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let h=0;for(;h<r&&s.getUint8(o+h)!==0;h++);if(h===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const l=new TextDecoder().decode(new Uint8Array(s.buffer,o,h)),u=new DataView(s.buffer,o+h+1,r-h-1);i.set(l,u),n+=4+r+a}return i}const Kb={extension:{type:et.LoadParser,priority:li.High},name:"loadDDS",test(s){return Sn(s,".dds")},async load(s,t,e){const i=await(await nt.ADAPTER.fetch(s)).arrayBuffer(),n=$b(i).map(r=>{const o=new _t(r,{mipmap:Ci.OFF,alphaMode:ve.NO_PREMULTIPLIED_ALPHA,resolution:$i(s),...t.data});return ws(o,e,s)});return n.length===1?n[0]:n},unload(s){Array.isArray(s)?s.forEach(t=>t.destroy(!0)):s.destroy(!0)}};at.add(Kb);const Jb={extension:{type:et.LoadParser,priority:li.High},name:"loadKTX",test(s){return Sn(s,".ktx")},async load(s,t,e){const i=await(await nt.ADAPTER.fetch(s)).arrayBuffer(),{compressed:n,uncompressed:r,kvData:o}=Zb(s,i),a=n??r,h={mipmap:Ci.OFF,alphaMode:ve.NO_PREMULTIPLIED_ALPHA,resolution:$i(s),...t.data},l=a.map(u=>{a===r&&Object.assign(h,{type:u.type,format:u.format});const d=u.resource??u,f=new _t(d,h);return f.ktxKeyValueData=o,ws(f,e,s)});return l.length===1?l[0]:l},unload(s){Array.isArray(s)?s.forEach(t=>t.destroy(!0)):s.destroy(!0)}};at.add(Jb);const nC=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],Qb={extension:et.ResolveParser,test:s=>{const t=re.extname(s).slice(1);return["basis","ktx","dds"].includes(t)},parse:s=>{var i,n;const t=s.split("."),e=t.pop();if(["ktx","dds"].includes(e)){const r=t.pop();if(nC.includes(r))return{resolution:parseFloat(((i=nt.RETINA_PREFIX.exec(s))==null?void 0:i[1])??"1"),format:r,src:s}}return{resolution:parseFloat(((n=nt.RETINA_PREFIX.exec(s))==null?void 0:n[1])??"1"),format:e,src:s}}};at.add(Qb);const la=new xt,rC=4,t1=class Bs{constructor(t){this.renderer=t,this._rendererPremultipliedAlpha=!1}contextChange(){var e;const t=(e=this.renderer)==null?void 0:e.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(t&&t.alpha&&t.premultipliedAlpha)}async image(t,e,i,n){const r=new Image;return r.src=await this.base64(t,e,i,n),r}async base64(t,e,i,n){const r=this.canvas(t,n);if(r.toBlob!==void 0)return new Promise((o,a)=>{r.toBlob(h=>{if(!h){a(new Error("ICanvas.toBlob failed!"));return}const l=new FileReader;l.onload=()=>o(l.result),l.onerror=a,l.readAsDataURL(h)},e,i)});if(r.toDataURL!==void 0)return r.toDataURL(e,i);if(r.convertToBlob!==void 0){const o=await r.convertToBlob({type:e,quality:i});return new Promise((a,h)=>{const l=new FileReader;l.onload=()=>a(l.result),l.onerror=h,l.readAsDataURL(o)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(t,e){const{pixels:i,width:n,height:r,flipY:o,premultipliedAlpha:a}=this._rawPixels(t,e);o&&Bs._flipY(i,n,r),a&&Bs._unpremultiplyAlpha(i);const h=new Iv(n,r,1),l=new ImageData(new Uint8ClampedArray(i.buffer),n,r);return h.context.putImageData(l,0,0),h.canvas}pixels(t,e){const{pixels:i,width:n,height:r,flipY:o,premultipliedAlpha:a}=this._rawPixels(t,e);return o&&Bs._flipY(i,n,r),a&&Bs._unpremultiplyAlpha(i),i}_rawPixels(t,e){const i=this.renderer;if(!i)throw new Error("The Extract has already been destroyed");let n,r=!1,o=!1,a,h=!1;t&&(t instanceof er?a=t:(a=i.generateTexture(t,{region:e,resolution:i.resolution,multisample:i.multisample}),h=!0,e&&(la.width=e.width,la.height=e.height,e=la)));const l=i.gl;if(a){if(n=a.baseTexture.resolution,e=e??a.frame,r=!1,o=a.baseTexture.alphaMode>0&&a.baseTexture.format===Y.RGBA,!h){i.renderTexture.bind(a);const c=a.framebuffer.glFramebuffers[i.CONTEXT_UID];c.blitFramebuffer&&i.framebuffer.bind(c.blitFramebuffer)}}else n=i.resolution,e||(e=la,e.width=i.width/n,e.height=i.height/n),r=!0,o=this._rendererPremultipliedAlpha,i.renderTexture.bind();const u=Math.max(Math.round(e.width*n),1),d=Math.max(Math.round(e.height*n),1),f=new Uint8Array(rC*u*d);return l.readPixels(Math.round(e.x*n),Math.round(e.y*n),u,d,l.RGBA,l.UNSIGNED_BYTE,f),h&&(a==null||a.destroy(!0)),{pixels:f,width:u,height:d,flipY:r,premultipliedAlpha:o}}destroy(){this.renderer=null}static _flipY(t,e,i){const n=e<<2,r=i>>1,o=new Uint8Array(n);for(let a=0;a<r;a++){const h=a*n,l=(i-a-1)*n;o.set(t.subarray(h,h+n)),t.copyWithin(h,l,l+n),t.set(o,l)}}static _unpremultiplyAlpha(t){t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));const e=t.length;for(let i=0;i<e;i+=4){const n=t[i+3];if(n!==0){const r=255.001/n;t[i]=t[i]*r+.5,t[i+1]=t[i+1]*r+.5,t[i+2]=t[i+2]*r+.5}}}};t1.extension={name:"extract",type:et.RendererSystem};let e1=t1;at.add(e1);const go={build(s){const t=s.points;let e,i,n,r,o,a;if(s.type===le.CIRC){const g=s.shape;e=g.x,i=g.y,o=a=g.radius,n=r=0}else if(s.type===le.ELIP){const g=s.shape;e=g.x,i=g.y,o=g.width,a=g.height,n=r=0}else{const g=s.shape,p=g.width/2,m=g.height/2;e=g.x+p,i=g.y+m,o=a=Math.max(0,Math.min(g.radius,Math.min(p,m))),n=p-o,r=m-a}if(!(o>=0&&a>=0&&n>=0&&r>=0)){t.length=0;return}const h=Math.ceil(2.3*Math.sqrt(o+a)),l=h*8+(n?4:0)+(r?4:0);if(t.length=l,l===0)return;if(h===0){t.length=8,t[0]=t[6]=e+n,t[1]=t[3]=i+r,t[2]=t[4]=e-n,t[5]=t[7]=i-r;return}let u=0,d=h*4+(n?2:0)+2,f=d,c=l;{const g=n+o,p=r,m=e+g,y=e-g,x=i+p;if(t[u++]=m,t[u++]=x,t[--d]=x,t[--d]=y,r){const v=i-p;t[f++]=y,t[f++]=v,t[--c]=v,t[--c]=m}}for(let g=1;g<h;g++){const p=Math.PI/2*(g/h),m=n+Math.cos(p)*o,y=r+Math.sin(p)*a,x=e+m,v=e-m,w=i+y,_=i-y;t[u++]=x,t[u++]=w,t[--d]=w,t[--d]=v,t[f++]=v,t[f++]=_,t[--c]=_,t[--c]=x}{const g=n,p=r+a,m=e+g,y=e-g,x=i+p,v=i-p;t[u++]=m,t[u++]=x,t[--c]=v,t[--c]=m,n&&(t[u++]=y,t[u++]=x,t[--c]=v,t[--c]=y)}},triangulate(s,t){const e=s.points,i=t.points,n=t.indices;if(e.length===0)return;let r=i.length/2;const o=r;let a,h;if(s.type!==le.RREC){const u=s.shape;a=u.x,h=u.y}else{const u=s.shape;a=u.x+u.width/2,h=u.y+u.height/2}const l=s.matrix;i.push(s.matrix?l.a*a+l.c*h+l.tx:a,s.matrix?l.b*a+l.d*h+l.ty:h),r++,i.push(e[0],e[1]);for(let u=2;u<e.length;u+=2)i.push(e[u],e[u+1]),n.push(r++,o,r);n.push(o+1,o,r)}};function Cy(s,t=!1){const e=s.length;if(e<6)return;let i=0;for(let n=0,r=s[e-2],o=s[e-1];n<e;n+=2){const a=s[n],h=s[n+1];i+=(a-r)*(h+o),r=a,o=h}if(!t&&i>0||t&&i<=0){const n=e/2;for(let r=n+n%2;r<e;r+=2){const o=e-r-2,a=e-r-1,h=r,l=r+1;[s[o],s[h]]=[s[h],s[o]],[s[a],s[l]]=[s[l],s[a]]}}}const Ug={build(s){s.points=s.shape.points.slice()},triangulate(s,t){let e=s.points;const i=s.holes,n=t.points,r=t.indices;if(e.length>=6){Cy(e,!1);const o=[];for(let l=0;l<i.length;l++){const u=i[l];Cy(u.points,!0),o.push(e.length/2),e=e.concat(u.points)}const a=uv(e,o,2);if(!a)return;const h=n.length/2;for(let l=0;l<a.length;l+=3)r.push(a[l]+h),r.push(a[l+1]+h),r.push(a[l+2]+h);for(let l=0;l<e.length;l++)n.push(e[l])}}},i1={build(s){const t=s.shape,e=t.x,i=t.y,n=t.width,r=t.height,o=s.points;o.length=0,n>=0&&r>=0&&o.push(e,i,e+n,i,e+n,i+r,e,i+r)},triangulate(s,t){const e=s.points,i=t.points;if(e.length===0)return;const n=i.length/2;i.push(e[0],e[1],e[2],e[3],e[6],e[7],e[4],e[5]),t.indices.push(n,n+1,n+2,n+1,n+2,n+3)}},n1={build(s){go.build(s)},triangulate(s,t){go.triangulate(s,t)}};var Ne=(s=>(s.MITER="miter",s.BEVEL="bevel",s.ROUND="round",s))(Ne||{}),yn=(s=>(s.BUTT="butt",s.ROUND="round",s.SQUARE="square",s))(yn||{});const Yn={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(s,t=20){if(!this.adaptive||!s||isNaN(s))return t;let e=Math.ceil(s/this.maxLength);return e<this.minSegments?e=this.minSegments:e>this.maxSegments&&(e=this.maxSegments),e}},sC=Yn;class Tf{static curveTo(t,e,i,n,r,o){const a=o[o.length-2],h=o[o.length-1]-e,l=a-t,u=n-e,d=i-t,f=Math.abs(h*d-l*u);if(f<1e-8||r===0)return(o[o.length-2]!==t||o[o.length-1]!==e)&&o.push(t,e),null;const c=h*h+l*l,g=u*u+d*d,p=h*u+l*d,m=r*Math.sqrt(c)/f,y=r*Math.sqrt(g)/f,x=m*p/c,v=y*p/g,w=m*d+y*l,_=m*u+y*h,T=l*(y+x),b=h*(y+x),S=d*(m+v),A=u*(m+v),P=Math.atan2(b-_,T-w),M=Math.atan2(A-_,S-w);return{cx:w+t,cy:_+e,radius:r,startAngle:P,endAngle:M,anticlockwise:l*u>d*h}}static arc(t,e,i,n,r,o,a,h,l){const u=a-o,d=Yn._segmentsCount(Math.abs(u)*r,Math.ceil(Math.abs(u)/ro)*40),f=u/(d*2),c=f*2,g=Math.cos(f),p=Math.sin(f),m=d-1,y=m%1/m;for(let x=0;x<=m;++x){const v=x+y*x,w=f+o+c*v,_=Math.cos(w),T=-Math.sin(w);l.push((g*_+p*T)*r+i,(g*-T+p*_)*r+n)}}}class r1{constructor(){this.reset()}begin(t,e,i){this.reset(),this.style=t,this.start=e,this.attribStart=i}end(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class vh{static curveLength(t,e,i,n,r,o,a,h){let l=0,u=0,d=0,f=0,c=0,g=0,p=0,m=0,y=0,x=0,v=0,w=t,_=e;for(let T=1;T<=10;++T)u=T/10,d=u*u,f=d*u,c=1-u,g=c*c,p=g*c,m=p*t+3*g*u*i+3*c*d*r+f*a,y=p*e+3*g*u*n+3*c*d*o+f*h,x=w-m,v=_-y,w=m,_=y,l+=Math.sqrt(x*x+v*v);return l}static curveTo(t,e,i,n,r,o,a){const h=a[a.length-2],l=a[a.length-1];a.length-=2;const u=Yn._segmentsCount(vh.curveLength(h,l,t,e,i,n,r,o));let d=0,f=0,c=0,g=0,p=0;a.push(h,l);for(let m=1,y=0;m<=u;++m)y=m/u,d=1-y,f=d*d,c=f*d,g=y*y,p=g*y,a.push(c*h+3*f*y*t+3*d*g*i+p*r,c*l+3*f*y*e+3*d*g*n+p*o)}}function Py(s,t,e,i,n,r,o,a){const h=s-e*n,l=t-i*n,u=s+e*r,d=t+i*r;let f,c;o?(f=i,c=-e):(f=-i,c=e);const g=h+f,p=l+c,m=u+f,y=d+c;return a.push(g,p,m,y),2}function hr(s,t,e,i,n,r,o,a){const h=e-s,l=i-t;let u=Math.atan2(h,l),d=Math.atan2(n-s,r-t);a&&u<d?u+=Math.PI*2:!a&&u>d&&(d+=Math.PI*2);let f=u;const c=d-u,g=Math.abs(c),p=Math.sqrt(h*h+l*l),m=(15*g*Math.sqrt(p)/Math.PI>>0)+1,y=c/m;if(f+=y,a){o.push(s,t,e,i);for(let x=1,v=f;x<m;x++,v+=y)o.push(s,t,s+Math.sin(v)*p,t+Math.cos(v)*p);o.push(s,t,n,r)}else{o.push(e,i,s,t);for(let x=1,v=f;x<m;x++,v+=y)o.push(s+Math.sin(v)*p,t+Math.cos(v)*p,s,t);o.push(n,r,s,t)}return m*2}function oC(s,t){const e=s.shape;let i=s.points||e.points.slice();const n=t.closePointEps;if(i.length===0)return;const r=s.lineStyle,o=new St(i[0],i[1]),a=new St(i[i.length-2],i[i.length-1]),h=e.type!==le.POLY||e.closeStroke,l=Math.abs(o.x-a.x)<n&&Math.abs(o.y-a.y)<n;if(h){i=i.slice(),l&&(i.pop(),i.pop(),a.set(i[i.length-2],i[i.length-1]));const z=(o.x+a.x)*.5,I=(a.y+o.y)*.5;i.unshift(z,I),i.push(z,I)}const u=t.points,d=i.length/2;let f=i.length;const c=u.length/2,g=r.width/2,p=g*g,m=r.miterLimit*r.miterLimit;let y=i[0],x=i[1],v=i[2],w=i[3],_=0,T=0,b=-(x-w),S=y-v,A=0,P=0,M=Math.sqrt(b*b+S*S);b/=M,S/=M,b*=g,S*=g;const C=r.alignment,R=(1-C)*2,D=C*2;h||(r.cap===yn.ROUND?f+=hr(y-b*(R-D)*.5,x-S*(R-D)*.5,y-b*R,x-S*R,y+b*D,x+S*D,u,!0)+2:r.cap===yn.SQUARE&&(f+=Py(y,x,b,S,R,D,!0,u))),u.push(y-b*R,x-S*R,y+b*D,x+S*D);for(let z=1;z<d-1;++z){y=i[(z-1)*2],x=i[(z-1)*2+1],v=i[z*2],w=i[z*2+1],_=i[(z+1)*2],T=i[(z+1)*2+1],b=-(x-w),S=y-v,M=Math.sqrt(b*b+S*S),b/=M,S/=M,b*=g,S*=g,A=-(w-T),P=v-_,M=Math.sqrt(A*A+P*P),A/=M,P/=M,A*=g,P*=g;const I=v-y,O=x-w,k=v-_,j=T-w,B=I*k+O*j,L=O*k-j*I,U=L<0;if(Math.abs(L)<.001*Math.abs(B)){u.push(v-b*R,w-S*R,v+b*D,w+S*D),B>=0&&(r.join===Ne.ROUND?f+=hr(v,w,v-b*R,w-S*R,v-A*R,w-P*R,u,!1)+4:f+=2,u.push(v-A*D,w-P*D,v+A*R,w+P*R));continue}const H=(-b+y)*(-S+w)-(-b+v)*(-S+x),V=(-A+_)*(-P+w)-(-A+v)*(-P+T),Z=(I*V-k*H)/L,J=(j*H-O*V)/L,it=(Z-v)*(Z-v)+(J-w)*(J-w),W=v+(Z-v)*R,Q=w+(J-w)*R,tt=v-(Z-v)*D,dt=w-(J-w)*D,bt=Math.min(I*I+O*O,k*k+j*j),K=U?R:D,ot=bt+K*K*p,ct=it<=ot;let Pt=r.join;if(Pt===Ne.MITER&&it/p>m&&(Pt=Ne.BEVEL),ct)switch(Pt){case Ne.MITER:{u.push(W,Q,tt,dt);break}case Ne.BEVEL:{U?u.push(W,Q,v+b*D,w+S*D,W,Q,v+A*D,w+P*D):u.push(v-b*R,w-S*R,tt,dt,v-A*R,w-P*R,tt,dt),f+=2;break}case Ne.ROUND:{U?(u.push(W,Q,v+b*D,w+S*D),f+=hr(v,w,v+b*D,w+S*D,v+A*D,w+P*D,u,!0)+4,u.push(W,Q,v+A*D,w+P*D)):(u.push(v-b*R,w-S*R,tt,dt),f+=hr(v,w,v-b*R,w-S*R,v-A*R,w-P*R,u,!1)+4,u.push(v-A*R,w-P*R,tt,dt));break}}else{switch(u.push(v-b*R,w-S*R,v+b*D,w+S*D),Pt){case Ne.MITER:{U?u.push(tt,dt,tt,dt):u.push(W,Q,W,Q),f+=2;break}case Ne.ROUND:{U?f+=hr(v,w,v+b*D,w+S*D,v+A*D,w+P*D,u,!0)+2:f+=hr(v,w,v-b*R,w-S*R,v-A*R,w-P*R,u,!1)+2;break}}u.push(v-A*R,w-P*R,v+A*D,w+P*D),f+=2}}y=i[(d-2)*2],x=i[(d-2)*2+1],v=i[(d-1)*2],w=i[(d-1)*2+1],b=-(x-w),S=y-v,M=Math.sqrt(b*b+S*S),b/=M,S/=M,b*=g,S*=g,u.push(v-b*R,w-S*R,v+b*D,w+S*D),h||(r.cap===yn.ROUND?f+=hr(v-b*(R-D)*.5,w-S*(R-D)*.5,v-b*R,w-S*R,v+b*D,w+S*D,u,!1)+2:r.cap===yn.SQUARE&&(f+=Py(v,w,b,S,R,D,!1,u)));const F=t.indices,E=Yn.epsilon*Yn.epsilon;for(let z=c;z<f+c-2;++z)y=u[z*2],x=u[z*2+1],v=u[(z+1)*2],w=u[(z+1)*2+1],_=u[(z+2)*2],T=u[(z+2)*2+1],!(Math.abs(y*(w-T)+v*(T-x)+_*(x-w))<E)&&F.push(z,z+1,z+2)}function aC(s,t){let e=0;const i=s.shape,n=s.points||i.points,r=i.type!==le.POLY||i.closeStroke;if(n.length===0)return;const o=t.points,a=t.indices,h=n.length/2,l=o.length/2;let u=l;for(o.push(n[0],n[1]),e=1;e<h;e++)o.push(n[e*2],n[e*2+1]),a.push(u,u+1),u++;r&&a.push(u,l)}function Sf(s,t){s.lineStyle.native?aC(s,t):oC(s,t)}class bh{static curveLength(t,e,i,n,r,o){const a=t-2*i+r,h=e-2*n+o,l=2*i-2*t,u=2*n-2*e,d=4*(a*a+h*h),f=4*(a*l+h*u),c=l*l+u*u,g=2*Math.sqrt(d+f+c),p=Math.sqrt(d),m=2*d*p,y=2*Math.sqrt(c),x=f/p;return(m*g+p*f*(g-y)+(4*c*d-f*f)*Math.log((2*p+x+g)/(x+y)))/(4*m)}static curveTo(t,e,i,n,r){const o=r[r.length-2],a=r[r.length-1],h=Yn._segmentsCount(bh.curveLength(o,a,t,e,i,n));let l=0,u=0;for(let d=1;d<=h;++d){const f=d/h;l=o+(t-o)*f,u=a+(e-a)*f,r.push(l+(t+(i-t)*f-l)*f,u+(e+(n-e)*f-u)*f)}}}const Ta={[le.POLY]:Ug,[le.CIRC]:go,[le.ELIP]:go,[le.RECT]:i1,[le.RREC]:n1},Af=[],Ls=[];class po{constructor(t,e=null,i=null,n=null){this.points=[],this.holes=[],this.shape=t,this.lineStyle=i,this.fillStyle=e,this.matrix=n,this.type=t.type}clone(){return new po(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Nr=new St,s1=class o1 extends dg{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new lo,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),Ls.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),Af.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,i=null,n=null){const r=new po(t,e,i,n);return this.graphicsData.push(r),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const i=new po(t,null,null,e),n=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=n.lineStyle,n.holes.push(i),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let i=0;i<e.length;++i){const n=e[i];if(n.fillStyle.visible&&n.shape&&(n.matrix?n.matrix.applyInverse(t,Nr):Nr.copyFrom(t),n.shape.contains(Nr.x,Nr.y))){let r=!1;if(n.holes){for(let o=0;o<n.holes.length;o++)if(n.holes[o].shape.contains(Nr.x,Nr.y)){r=!0;break}}if(!r)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let i=null,n=null;this.batches.length>0&&(i=this.batches[this.batches.length-1],n=i.style);for(let h=this.shapeIndex;h<e.length;h++){this.shapeIndex++;const l=e[h],u=l.fillStyle,d=l.lineStyle;Ta[l.type].build(l),l.matrix&&this.transformPoints(l.points,l.matrix),(u.visible||d.visible)&&this.processHoles(l.holes);for(let f=0;f<2;f++){const c=f===0?u:d;if(!c.visible)continue;const g=c.texture.baseTexture,p=this.indices.length,m=this.points.length/2;g.wrapMode=Hi.REPEAT,f===0?this.processFill(l):this.processLine(l);const y=this.points.length/2-m;y!==0&&(i&&!this._compareStyles(n,c)&&(i.end(p,m),i=null),i||(i=Af.pop()||new r1,i.begin(c,p,m),this.batches.push(i),n=c),this.addUvs(this.points,t,c.texture,m,y,c.matrix))}}const r=this.indices.length,o=this.points.length/2;if(i&&i.end(r,o),this.batches.length===0){this.batchable=!0;return}const a=o>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&a===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=a?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const i=this.graphicsData[t],n=i.fillStyle,r=i.lineStyle;if(n&&!n.texture.baseTexture.valid||r&&!r.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,i=t.length;e<i;e++){const n=t[e];for(let r=0;r<n.size;r++){const o=n.start+r;this.indicesUint16[o]=this.indicesUint16[o]-n.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<o1.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++_t._globalBatch;for(let d=0;d<this.drawCalls.length;d++)this.drawCalls[d].texArray.clear(),Ls.push(this.drawCalls[d]);this.drawCalls.length=0;const e=this.colors,i=this.textureIds;let n=Ls.pop();n||(n=new Na,n.texArray=new Ua),n.texArray.count=0,n.start=0,n.size=0,n.type=vi.TRIANGLES;let r=0,o=null,a=0,h=!1,l=vi.TRIANGLES,u=0;this.drawCalls.push(n);for(let d=0;d<this.batches.length;d++){const f=this.batches[d],c=8,g=f.style,p=g.texture.baseTexture;h!==!!g.native&&(h=!!g.native,l=h?vi.LINES:vi.TRIANGLES,o=null,r=c,t++),o!==p&&(o=p,p._batchEnabled!==t&&(r===c&&(t++,r=0,n.size>0&&(n=Ls.pop(),n||(n=new Na,n.texArray=new Ua),this.drawCalls.push(n)),n.start=u,n.size=0,n.texArray.count=0,n.type=l),p.touched=1,p._batchEnabled=t,p._batchLocation=r,p.wrapMode=Hi.REPEAT,n.texArray.elements[n.texArray.count++]=p,r++)),n.size+=f.size,u+=f.size,a=p._batchLocation,this.addColors(e,g.color,g.alpha,f.attribSize,f.attribStart),this.addTextureIds(i,a,f.attribSize,f.attribStart)}_t._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,i=this.colors,n=this.textureIds,r=new ArrayBuffer(t.length*3*4),o=new Float32Array(r),a=new Uint32Array(r);let h=0;for(let l=0;l<t.length/2;l++)o[h++]=t[l*2],o[h++]=t[l*2+1],o[h++]=e[l*2],o[h++]=e[l*2+1],a[h++]=i[l],o[h++]=n[l];this._buffer.update(r),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?Ug.triangulate(t,this):Ta[t.type].triangulate(t,this)}processLine(t){Sf(t,this);for(let e=0;e<t.holes.length;e++)Sf(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const i=t[e];Ta[i.type].build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let i=0;i<t.length/2;i++){const n=t[i*2],r=t[i*2+1];t[i*2]=e.a*n+e.c*r+e.tx,t[i*2+1]=e.b*n+e.d*r+e.ty}}addColors(t,e,i,n,r=0){const o=Et.shared.setValue(e).toLittleEndianNumber(),a=Et.shared.setValue(o).toPremultiplied(i);t.length=Math.max(t.length,r+n);for(let h=0;h<n;h++)t[r+h]=a}addTextureIds(t,e,i,n=0){t.length=Math.max(t.length,n+i);for(let r=0;r<i;r++)t[n+r]=e}addUvs(t,e,i,n,r,o=null){let a=0;const h=e.length,l=i.frame;for(;a<r;){let d=t[(n+a)*2],f=t[(n+a)*2+1];if(o){const c=o.a*d+o.c*f+o.tx;f=o.b*d+o.d*f+o.ty,d=c}a++,e.push(d/l.width,f/l.height)}const u=i.baseTexture;(l.width<u.width||l.height<u.height)&&this.adjustUvs(e,i,h,r)}adjustUvs(t,e,i,n){const r=e.baseTexture,o=1e-6,a=i+n*2,h=e.frame,l=h.width/r.width,u=h.height/r.height;let d=h.x/h.width,f=h.y/h.height,c=Math.floor(t[i]+o),g=Math.floor(t[i+1]+o);for(let p=i+2;p<a;p+=2)c=Math.min(c,Math.floor(t[p]+o)),g=Math.min(g,Math.floor(t[p+1]+o));d-=c,f-=g;for(let p=i;p<a;p+=2)t[p]=(t[p]+d)*l,t[p+1]=(t[p+1]+f)*u}};s1.BATCHABLE_SIZE=100;let a1=s1;class Fo{constructor(){this.color=16777215,this.alpha=1,this.texture=st.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const t=new Fo;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t}reset(){this.color=16777215,this.alpha=1,this.texture=st.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class wh extends Fo{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=yn.BUTT,this.join=Ne.MITER,this.miterLimit=10}clone(){const t=new wh;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=yn.BUTT,this.join=Ne.MITER,this.miterLimit=10}}const gu={},Ef=class Sa extends ft{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Fo,this._lineStyle=new wh,this._matrix=null,this._holeMode=!1,this.state=Ii.for2d(),this._geometry=t||new a1,this._geometry.refCount++,this._transformID=-1,this._tintColor=new Et(16777215),this.blendMode=gt.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Sa(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,i,n=.5,r=!1){return typeof t=="number"&&(t={width:t,color:e,alpha:i,alignment:n,native:r}),this.lineTextureStyle(t)}lineTextureStyle(t){const e={width:0,texture:st.WHITE,color:t!=null&&t.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:yn.BUTT,join:Ne.MITER,miterLimit:10};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const i=t.width>0&&t.alpha>0;return i?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:i},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new Gn,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new Gn,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const i=this.currentPath.points,n=i[i.length-2],r=i[i.length-1];return(n!==t||r!==e)&&i.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,i,n){this._initCurve();const r=this.currentPath.points;return r.length===0&&this.moveTo(0,0),bh.curveTo(t,e,i,n,r),this}bezierCurveTo(t,e,i,n,r,o){return this._initCurve(),vh.curveTo(t,e,i,n,r,o,this.currentPath.points),this}arcTo(t,e,i,n,r){this._initCurve(t,e);const o=this.currentPath.points,a=Tf.curveTo(t,e,i,n,r,o);if(a){const{cx:h,cy:l,radius:u,startAngle:d,endAngle:f,anticlockwise:c}=a;this.arc(h,l,u,d,f,c)}return this}arc(t,e,i,n,r,o=!1){if(n===r)return this;if(!o&&r<=n?r+=ro:o&&n<=r&&(n+=ro),r-n===0)return this;const a=t+Math.cos(n)*i,h=e+Math.sin(n)*i,l=this._geometry.closePointEps;let u=this.currentPath?this.currentPath.points:null;if(u){const d=Math.abs(u[u.length-2]-a),f=Math.abs(u[u.length-1]-h);d<l&&f<l||u.push(a,h)}else this.moveTo(a,h),u=this.currentPath.points;return Tf.arc(a,h,t,e,i,n,r,o,u),this}beginFill(t=0,e){return this.beginTextureFill({texture:st.WHITE,color:t,alpha:e})}normalizeColor(t){const e=Et.shared.setValue(t.color??0);t.color=e.toNumber(),t.alpha??(t.alpha=e.alpha)}beginTextureFill(t){const e={texture:st.WHITE,color:16777215,matrix:null};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const i=t.alpha>0;return i?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:i},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,i,n){return this.drawShape(new xt(t,e,i,n))}drawRoundedRect(t,e,i,n,r){return this.drawShape(new zo(t,e,i,n,r))}drawCircle(t,e,i){return this.drawShape(new Io(t,e,i))}drawEllipse(t,e,i,n){return this.drawShape(new Mo(t,e,i,n))}drawPolygon(...t){let e,i=!0;const n=t[0];n.points?(i=n.closeStroke,e=n.points):Array.isArray(t[0])?e=t[0]:e=t;const r=new Gn(e);return r.closeStroke=i,this.drawShape(r),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===le.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,i=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(t.points);for(let n=0;n<i;n++){const r=t.batches[n],o=r.style.color,a=new Float32Array(this.vertexData.buffer,r.attribStart*4*2,r.attribSize*2),h=new Float32Array(t.uvsFloat32.buffer,r.attribStart*4*2,r.attribSize*2),l=new Uint16Array(t.indicesUint16.buffer,r.start*2,r.size),u={vertexData:a,blendMode:e,indices:l,uvs:h,_batchRGB:Et.shared.setValue(o).toRgbArray(),_tintRGB:o,_texture:r.style.texture,alpha:r.style.alpha,worldAlpha:1};this.batches[n]=u}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,i=this.batches.length;e<i;e++){const n=this.batches[e];n.worldAlpha=this.worldAlpha*n.alpha,t.plugins[this.pluginName].render(n)}}}_renderDirect(t){const e=this._resolveDirectShader(t),i=this._geometry,n=this.worldAlpha,r=e.uniforms,o=i.drawCalls;r.translationMatrix=this.transform.worldTransform,Et.shared.setValue(this._tintColor).premultiply(n).toArray(r.tint),t.shader.bind(e),t.geometry.bind(i,e),t.state.set(this.state);for(let a=0,h=o.length;a<h;a++)this._renderDrawCallDirect(t,i.drawCalls[a])}_renderDrawCallDirect(t,e){const{texArray:i,type:n,size:r,start:o}=e,a=i.count;for(let h=0;h<a;h++)t.texture.bind(i.elements[h],h);t.geometry.draw(n,r,o)}_resolveDirectShader(t){let e=this.shader;const i=this.pluginName;if(!e){if(!gu[i]){const{maxTextures:n}=t.plugins[i],r=new Int32Array(n);for(let h=0;h<n;h++)r[h]=h;const o={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ft,default:hi.from({uSamplers:r},!0)},a=t.plugins[i]._shader.program;gu[i]=new Si(a,o)}e=gu[i]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:i,maxX:n,maxY:r}=t.bounds;this._bounds.addFrame(this.transform,e,i,n,r)}containsPoint(t){return this.worldTransform.applyInverse(t,Sa._TEMP_POINT),this._geometry.containsPoint(Sa._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e._tintRGB=Et.shared.setValue(this._tintColor).multiply(e._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,i=e.a,n=e.b,r=e.c,o=e.d,a=e.tx,h=e.ty,l=this._geometry.points,u=this.vertexData;let d=0;for(let f=0;f<l.length;f+=2){const c=l[f],g=l[f+1];u[d++]=i*c+r*g+a,u[d++]=o*g+n*c+h}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};Ef.curves=Yn,Ef._TEMP_POINT=new St;let Xt=Ef;const hC={buildPoly:Ug,buildCircle:go,buildRectangle:i1,buildRoundedRectangle:n1,buildLine:Sf,ArcUtils:Tf,BezierUtils:vh,QuadraticUtils:bh,BatchPart:r1,FILL_COMMANDS:Ta,BATCH_POOL:Af,DRAW_CALL_POOL:Ls};class h1{constructor(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(t){if(!t&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const e=this.uvBuffer.data;(!this.data||this.data.length!==e.length)&&(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}}const pu=new St,Iy=new Gn,l1=class u1 extends ft{constructor(t,e,i,n=vi.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=i||Ii.for2d(),this.drawMode=n,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=nt.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===vi.TRIANGLES&&e.length<u1.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;const n=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[n]),t.plugins[n].render(this)}calculateVertices(){const t=this.geometry.buffers[0],e=t.data,i=t._updateID;if(i===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));const n=this.transform.worldTransform,r=n.a,o=n.b,a=n.c,h=n.d,l=n.tx,u=n.ty,d=this.vertexData;for(let f=0;f<d.length/2;f++){const c=e[f*2],g=e[f*2+1];d[f*2]=r*c+a*g+l,d[f*2+1]=o*c+h*g+u}if(this._roundPixels){const f=nt.RESOLUTION;for(let c=0;c<d.length;++c)d[c]=Math.round(d[c]*f)/f}this.vertexDirty=i}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new h1(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,pu);const e=this.geometry.getBuffer("aVertexPosition").data,i=Iy.points,n=this.geometry.getIndex().data,r=n.length,o=this.drawMode===4?3:1;for(let a=0;a+2<r;a+=o){const h=n[a]*2,l=n[a+1]*2,u=n[a+2]*2;if(i[0]=e[h],i[1]=e[h+1],i[2]=e[l],i[3]=e[l+1],i[4]=e[u],i[5]=e[u+1],Iy.contains(pu.x,pu.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};l1.BATCHABLE_SIZE=100;let as=l1;class jo extends bn{constructor(t,e,i){super();const n=new Vt(t),r=new Vt(e,!0),o=new Vt(i,!0,!0);this.addAttribute("aVertexPosition",n,2,!1,lt.FLOAT).addAttribute("aTextureCoord",r,2,!1,lt.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var lC=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,uC=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class hs extends Si{constructor(t,e){const i={uSampler:t,alpha:1,uTextureMatrix:Ft.IDENTITY,uColor:new Float32Array([1,1,1,1])};e=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},e),e.uniforms&&Object.assign(i,e.uniforms),super(e.program||qi.from(uC,lC),i),this._colorDirty=!1,this.uvMatrix=new _h(t),this.batchable=e.program===void 0,this.pluginName=e.pluginName,this._tintColor=new Et(e.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=e.alpha}get texture(){return this.uniforms.uSampler}set texture(t){this.uniforms.uSampler!==t&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!t.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=t,this.uvMatrix.texture=t)}set alpha(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(t){t!==this.tint&&(this._tintColor.setValue(t),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const t=this.texture.baseTexture.alphaMode;Et.shared.setValue(this._tintColor).premultiply(this._alpha,t).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class c1 extends jo{constructor(t=100,e=100,i=10,n=10){super(),this.segWidth=i,this.segHeight=n,this.width=t,this.height=e,this.build()}build(){const t=this.segWidth*this.segHeight,e=[],i=[],n=[],r=this.segWidth-1,o=this.segHeight-1,a=this.width/r,h=this.height/o;for(let u=0;u<t;u++){const d=u%this.segWidth,f=u/this.segWidth|0;e.push(d*a,f*h),i.push(d/r,f/o)}const l=r*o;for(let u=0;u<l;u++){const d=u%r,f=u/r|0,c=f*this.segWidth+d,g=f*this.segWidth+d+1,p=(f+1)*this.segWidth+d,m=(f+1)*this.segWidth+d+1;n.push(c,g,p,g,m,p)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(n),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class d1 extends jo{constructor(t=200,e,i=0){super(new Float32Array(e.length*4),new Float32Array(e.length*4),new Uint16Array((e.length-1)*6)),this.points=e,this._width=t,this.textureScale=i,this.build()}get width(){return this._width}build(){const t=this.points;if(!t)return;const e=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),n=this.getIndex();if(t.length<1)return;e.data.length/4!==t.length&&(e.data=new Float32Array(t.length*4),i.data=new Float32Array(t.length*4),n.data=new Uint16Array((t.length-1)*6));const r=i.data,o=n.data;r[0]=0,r[1]=0,r[2]=0,r[3]=1;let a=0,h=t[0];const l=this._width*this.textureScale,u=t.length;for(let f=0;f<u;f++){const c=f*4;if(this.textureScale>0){const g=h.x-t[f].x,p=h.y-t[f].y,m=Math.sqrt(g*g+p*p);h=t[f],a+=m/l}else a=f/(u-1);r[c]=a,r[c+1]=0,r[c+2]=a,r[c+3]=1}let d=0;for(let f=0;f<u-1;f++){const c=f*2;o[d++]=c,o[d++]=c+1,o[d++]=c+2,o[d++]=c+2,o[d++]=c+1,o[d++]=c+3}i.update(),n.update(),this.updateVertices()}updateVertices(){const t=this.points;if(t.length<1)return;let e=t[0],i,n=0,r=0;const o=this.buffers[0].data,a=t.length,h=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let l=0;l<a;l++){const u=t[l],d=l*4;l<t.length-1?i=t[l+1]:i=u,r=-(i.x-e.x),n=i.y-e.y;const f=Math.sqrt(n*n+r*r);f<1e-6?(n=0,r=0):(n/=f,r/=f,n*=h,r*=h),o[d]=u.x+n,o[d+1]=u.y+r,o[d+2]=u.x-n,o[d+3]=u.y-r,e=u}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class f1 extends as{constructor(t,e,i){const n=new c1(t.width,t.height,e,i),r=new hs(st.WHITE);super(n,r),this.texture=t,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const t=this.geometry,{width:e,height:i}=this.shader.texture;this.autoResize&&(t.width!==e||t.height!==i)&&(t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build())}set texture(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(t){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(t)}destroy(t){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(t)}}const ua=10;class cC extends f1{constructor(t,e,i,n,r){var o,a,h,l;super(st.WHITE,4,4),this._origWidth=t.orig.width,this._origHeight=t.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=e??((o=t.defaultBorders)==null?void 0:o.left)??ua,this._rightWidth=n??((a=t.defaultBorders)==null?void 0:a.right)??ua,this._topHeight=i??((h=t.defaultBorders)==null?void 0:h.top)??ua,this._bottomHeight=r??((l=t.defaultBorders)==null?void 0:l.bottom)??ua,this.texture=t}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(t){this.geometry.getBuffer("aVertexPosition").data=t}updateHorizontalVertices(){const t=this.vertices,e=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*e,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*e,t[25]=t[27]=t[29]=t[31]=this._height}updateVerticalVertices(){const t=this.vertices,e=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*e,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*e,t[6]=t[14]=t[22]=t[30]=this._width}_getMinScale(){const t=this._leftWidth+this._rightWidth,e=this._width>t?1:this._width/t,i=this._topHeight+this._bottomHeight,n=this._height>i?1:this._height/i;return Math.min(e,n)}get width(){return this._width}set width(t){this._width=t,this._refresh()}get height(){return this._height}set height(t){this._height=t,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(t){this._leftWidth=t,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(t){this._rightWidth=t,this._refresh()}get topHeight(){return this._topHeight}set topHeight(t){this._topHeight=t,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(t){this._bottomHeight=t,this._refresh()}_refresh(){const t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;const i=1/this._origWidth,n=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=i*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-i*this._rightWidth,e[9]=e[11]=e[13]=e[15]=n*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-n*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class dC extends as{constructor(t=st.EMPTY,e,i,n,r){const o=new jo(e,i,n);o.getBuffer("aVertexPosition").static=!1;const a=new hs(t);super(o,a,null,r),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(t){this.geometry.getBuffer("aVertexPosition").data=t}_render(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(t)}}class fC extends as{constructor(t,e,i=0){const n=new d1(t.height,e,i),r=new hs(t);i>0&&(t.baseTexture.wrapMode=Hi.REPEAT),super(n,r),this.autoUpdate=!0}_render(t){const e=this.geometry;(this.autoUpdate||e._width!==this.shader.texture.height)&&(e._width=this.shader.texture.height,e.update()),super._render(t)}}class gC extends ft{constructor(t=1500,e,i=16384,n=!1){super();const r=16384;i>r&&(i=r),this._properties=[!1,!0,!1,!1,!1],this._maxSize=t,this._batchSize=i,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=gt.NORMAL,this.autoResize=n,this.roundPixels=!0,this.baseTexture=null,this.setProperties(e),this._tintColor=new Et(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t),this._tintColor.toRgbArray(this.tintRgb)}render(t){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))}onChildrenChange(t){const e=Math.floor(t/this._batchSize);for(;this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID}dispose(){if(this._buffers){for(let t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}}destroy(t){super.destroy(t),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class My{constructor(t,e,i){this.geometry=new bn,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(let n=0;n<t.length;++n){let r=t[n];r={attributeName:r.attributeName,size:r.size,uploadFunction:r.uploadFunction,type:r.type||lt.FLOAT,offset:r.offset},e[n]?this.dynamicProperties.push(r):this.staticProperties.push(r)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const t=this.geometry;let e=0;this.indexBuffer=new Vt(Pv(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=e,e+=a.size,this.dynamicStride+=a.size}const i=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(i),this.dynamicDataUint32=new Uint32Array(i),this.dynamicBuffer=new Vt(this.dynamicData,!1,!1);let n=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=n,n+=a.size,this.staticStride+=a.size}const r=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(r),this.staticDataUint32=new Uint32Array(r),this.staticBuffer=new Vt(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];t.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===lt.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];t.addAttribute(a.attributeName,this.staticBuffer,0,a.type===lt.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(t,e,i){for(let n=0;n<this.dynamicProperties.length;n++){const r=this.dynamicProperties[n];r.uploadFunction(t,e,i,r.type===lt.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,r.offset)}this.dynamicBuffer._updateID++}uploadStatic(t,e,i){for(let n=0;n<this.staticProperties.length;n++){const r=this.staticProperties[n];r.uploadFunction(t,e,i,r.type===lt.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,r.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var pC=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,mC=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class Gg extends Do{constructor(t){super(t),this.shader=null,this.properties=null,this.tempMatrix=new Ft,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:lt.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Si.from(mC,pC,{}),this.state=Ii.for2d()}render(t){const e=t.children,i=t._maxSize,n=t._batchSize,r=this.renderer;let o=e.length;if(o===0)return;o>i&&!t.autoResize&&(o=i);let a=t._buffers;a||(a=t._buffers=this.generateBuffers(t));const h=e[0]._texture.baseTexture,l=h.alphaMode>0;this.state.blendMode=ug(t.blendMode,l),r.state.set(this.state);const u=r.gl,d=t.worldTransform.copyTo(this.tempMatrix);d.prepend(r.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=d.toArray(!0),this.shader.uniforms.uColor=Et.shared.setValue(t.tintRgb).premultiply(t.worldAlpha,l).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=h,this.renderer.shader.bind(this.shader);let f=!1;for(let c=0,g=0;c<o;c+=n,g+=1){let p=o-c;p>n&&(p=n),g>=a.length&&a.push(this._generateOneMoreBuffer(t));const m=a[g];m.uploadDynamic(e,c,p);const y=t._bufferUpdateIDs[g]||0;f=f||m._updateID<y,f&&(m._updateID=t._updateID,m.uploadStatic(e,c,p)),r.geometry.bind(m.geometry),u.drawElements(u.TRIANGLES,p*6,u.UNSIGNED_SHORT,0)}}generateBuffers(t){const e=[],i=t._maxSize,n=t._batchSize,r=t._properties;for(let o=0;o<i;o+=n)e.push(new My(this.properties,r,n));return e}_generateOneMoreBuffer(t){const e=t._batchSize,i=t._properties;return new My(this.properties,i,e)}uploadVertices(t,e,i,n,r,o){let a=0,h=0,l=0,u=0;for(let d=0;d<i;++d){const f=t[e+d],c=f._texture,g=f.scale.x,p=f.scale.y,m=c.trim,y=c.orig;m?(h=m.x-f.anchor.x*y.width,a=h+m.width,u=m.y-f.anchor.y*y.height,l=u+m.height):(a=y.width*(1-f.anchor.x),h=y.width*-f.anchor.x,l=y.height*(1-f.anchor.y),u=y.height*-f.anchor.y),n[o]=h*g,n[o+1]=u*p,n[o+r]=a*g,n[o+r+1]=u*p,n[o+r*2]=a*g,n[o+r*2+1]=l*p,n[o+r*3]=h*g,n[o+r*3+1]=l*p,o+=r*4}}uploadPosition(t,e,i,n,r,o){for(let a=0;a<i;a++){const h=t[e+a].position;n[o]=h.x,n[o+1]=h.y,n[o+r]=h.x,n[o+r+1]=h.y,n[o+r*2]=h.x,n[o+r*2+1]=h.y,n[o+r*3]=h.x,n[o+r*3+1]=h.y,o+=r*4}}uploadRotation(t,e,i,n,r,o){for(let a=0;a<i;a++){const h=t[e+a].rotation;n[o]=h,n[o+r]=h,n[o+r*2]=h,n[o+r*3]=h,o+=r*4}}uploadUvs(t,e,i,n,r,o){for(let a=0;a<i;++a){const h=t[e+a]._texture._uvs;h?(n[o]=h.x0,n[o+1]=h.y0,n[o+r]=h.x1,n[o+r+1]=h.y1,n[o+r*2]=h.x2,n[o+r*2+1]=h.y2,n[o+r*3]=h.x3,n[o+r*3+1]=h.y3,o+=r*4):(n[o]=0,n[o+1]=0,n[o+r]=0,n[o+r+1]=0,n[o+r*2]=0,n[o+r*2+1]=0,n[o+r*3]=0,n[o+r*3+1]=0,o+=r*4)}}uploadTint(t,e,i,n,r,o){for(let a=0;a<i;++a){const h=t[e+a],l=Et.shared.setValue(h._tintRGB).toPremultiplied(h.alpha,h.texture.baseTexture.alphaMode>0);n[o]=l,n[o+r]=l,n[o+r*2]=l,n[o+r*3]=l,o+=r*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}Gg.extension={name:"particle",type:et.RendererPlugin};at.add(Gg);var Pr=(s=>(s[s.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",s[s.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",s))(Pr||{});const ca={willReadFrequently:!0},ki=class ht{static get experimentalLetterSpacingSupported(){let t=ht._experimentalLetterSpacingSupported;if(t!==void 0){const e=nt.ADAPTER.getCanvasRenderingContext2D().prototype;t=ht._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,i,n,r,o,a,h,l){this.text=t,this.style=e,this.width=i,this.height=n,this.lines=r,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=h,this.fontProperties=l}static measureText(t,e,i,n=ht._canvas){i=i??e.wordWrap;const r=e.toFontString(),o=ht.measureFont(r);o.fontSize===0&&(o.fontSize=e.fontSize,o.ascent=e.fontSize);const a=n.getContext("2d",ca);a.font=r;const h=(i?ht.wordWrap(t,e,n):t).split(/(?:\r\n|\r|\n)/),l=new Array(h.length);let u=0;for(let g=0;g<h.length;g++){const p=ht._measureText(h[g],e.letterSpacing,a);l[g]=p,u=Math.max(u,p)}let d=u+e.strokeThickness;e.dropShadow&&(d+=e.dropShadowDistance);const f=e.lineHeight||o.fontSize+e.strokeThickness;let c=Math.max(f,o.fontSize+e.strokeThickness*2)+e.leading+(h.length-1)*(f+e.leading);return e.dropShadow&&(c+=e.dropShadowDistance),new ht(t,e,d,c,h,l,f+e.leading,u,o)}static _measureText(t,e,i){let n=!1;ht.experimentalLetterSpacingSupported&&(ht.experimentalLetterSpacing?(i.letterSpacing=`${e}px`,i.textLetterSpacing=`${e}px`,n=!0):(i.letterSpacing="0px",i.textLetterSpacing="0px"));let r=i.measureText(t).width;return r>0&&(n?r-=e:r+=(ht.graphemeSegmenter(t).length-1)*e),r}static wordWrap(t,e,i=ht._canvas){const n=i.getContext("2d",ca);let r=0,o="",a="";const h=Object.create(null),{letterSpacing:l,whiteSpace:u}=e,d=ht.collapseSpaces(u),f=ht.collapseNewlines(u);let c=!d;const g=e.wordWrapWidth+l,p=ht.tokenize(t);for(let m=0;m<p.length;m++){let y=p[m];if(ht.isNewline(y)){if(!f){a+=ht.addLine(o),c=!d,o="",r=0;continue}y=" "}if(d){const v=ht.isBreakingSpace(y),w=ht.isBreakingSpace(o[o.length-1]);if(v&&w)continue}const x=ht.getFromCache(y,l,h,n);if(x>g)if(o!==""&&(a+=ht.addLine(o),o="",r=0),ht.canBreakWords(y,e.breakWords)){const v=ht.wordWrapSplit(y);for(let w=0;w<v.length;w++){let _=v[w],T=_,b=1;for(;v[w+b];){const A=v[w+b];if(!ht.canBreakChars(T,A,y,w,e.breakWords))_+=A;else break;T=A,b++}w+=b-1;const S=ht.getFromCache(_,l,h,n);S+r>g&&(a+=ht.addLine(o),c=!1,o="",r=0),o+=_,r+=S}}else{o.length>0&&(a+=ht.addLine(o),o="",r=0);const v=m===p.length-1;a+=ht.addLine(y,!v),c=!1,o="",r=0}else x+r>g&&(c=!1,a+=ht.addLine(o),o="",r=0),(o.length>0||!ht.isBreakingSpace(y)||c)&&(o+=y,r+=x)}return a+=ht.addLine(o,!1),a}static addLine(t,e=!0){return t=ht.trimRight(t),t=e?`${t}
`:t,t}static getFromCache(t,e,i,n){let r=i[t];return typeof r!="number"&&(r=ht._measureText(t,e,n)+e,i[t]=r),r}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const i=t[e];if(!ht.isBreakingSpace(i))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:ht._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:ht._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let i="";if(typeof t!="string")return e;for(let n=0;n<t.length;n++){const r=t[n],o=t[n+1];if(ht.isBreakingSpace(r,o)||ht.isNewline(r)){i!==""&&(e.push(i),i=""),e.push(r);continue}i+=r}return i!==""&&e.push(i),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,i,n,r){return!0}static wordWrapSplit(t){return ht.graphemeSegmenter(t)}static measureFont(t){if(ht._fonts[t])return ht._fonts[t];const e={ascent:0,descent:0,fontSize:0},i=ht._canvas,n=ht._context;n.font=t;const r=ht.METRICS_STRING+ht.BASELINE_SYMBOL,o=Math.ceil(n.measureText(r).width);let a=Math.ceil(n.measureText(ht.BASELINE_SYMBOL).width);const h=Math.ceil(ht.HEIGHT_MULTIPLIER*a);if(a=a*ht.BASELINE_MULTIPLIER|0,o===0||h===0)return ht._fonts[t]=e,e;i.width=o,i.height=h,n.fillStyle="#f00",n.fillRect(0,0,o,h),n.font=t,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(r,0,a);const l=n.getImageData(0,0,o,h).data,u=l.length,d=o*4;let f=0,c=0,g=!1;for(f=0;f<a;++f){for(let p=0;p<d;p+=4)if(l[c+p]!==255){g=!0;break}if(!g)c+=d;else break}for(e.ascent=a-f,c=u-d,g=!1,f=h;f>a;--f){for(let p=0;p<d;p+=4)if(l[c+p]!==255){g=!0;break}if(!g)c-=d;else break}return e.descent=f-a,e.fontSize=e.ascent+e.descent,ht._fonts[t]=e,e}static clearMetrics(t=""){t?delete ht._fonts[t]:ht._fonts={}}static get _canvas(){var t;if(!ht.__canvas){let e;try{const i=new OffscreenCanvas(0,0);if((t=i.getContext("2d",ca))!=null&&t.measureText)return ht.__canvas=i,i;e=nt.ADAPTER.createCanvas()}catch{e=nt.ADAPTER.createCanvas()}e.width=e.height=10,ht.__canvas=e}return ht.__canvas}static get _context(){return ht.__context||(ht.__context=ht._canvas.getContext("2d",ca)),ht.__context}};ki.METRICS_STRING="|q",ki.BASELINE_SYMBOL="M",ki.BASELINE_MULTIPLIER=1.4,ki.HEIGHT_MULTIPLIER=2,ki.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const s=new Intl.Segmenter;return t=>[...s.segment(t)].map(e=>e.segment)}return s=>[...s]})(),ki.experimentalLetterSpacing=!1,ki._fonts={},ki._newlines=[10,13],ki._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let un=ki;const yC=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],g1=class Ns{constructor(t){this.styleID=0,this.reset(),yu(this,t,t)}clone(){const t={};return yu(t,this,Ns.defaultStyle),new Ns(t)}reset(){yu(this,Ns.defaultStyle,Ns.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=mu(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=mu(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){_C(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=mu(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let i=e.length-1;i>=0;i--){let n=e[i].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&!yC.includes(n)&&(n=`"${n}"`),e[i]=n}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};g1.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Pr.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let Zi=g1;function mu(s){const t=Et.shared,e=i=>{const n=t.setValue(i);return n.alpha===1?n.toHex():n.toRgbaString()};return Array.isArray(s)?s.map(e):e(s)}function _C(s,t){if(!Array.isArray(s)||!Array.isArray(t)||s.length!==t.length)return!1;for(let e=0;e<s.length;++e)if(s[e]!==t[e])return!1;return!0}function yu(s,t,e){for(const i in e)Array.isArray(t[i])?s[i]=t[i].slice():s[i]=t[i]}const xC={texture:!0,children:!1,baseTexture:!0},p1=class Cf extends Ve{constructor(t,e,i){let n=!1;i||(i=nt.ADAPTER.createCanvas(),n=!0),i.width=3,i.height=3;const r=st.from(i);r.orig=new xt,r.trim=new xt,super(r),this._ownCanvas=n,this.canvas=i,this.context=i.getContext("2d",{willReadFrequently:!0}),this._resolution=Cf.defaultResolution??nt.RESOLUTION,this._autoResolution=Cf.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return un.experimentalLetterSpacing}static set experimentalLetterSpacing(t){mt("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),un.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const i=this.context,n=un.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),r=n.width,o=n.height,a=n.lines,h=n.lineHeight,l=n.lineWidths,u=n.maxLineWidth,d=n.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,r)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+e.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=e.strokeThickness,i.textBaseline=e.textBaseline,i.lineJoin=e.lineJoin,i.miterLimit=e.miterLimit;let f,c;const g=e.dropShadow?2:1;for(let p=0;p<g;++p){const m=e.dropShadow&&p===0,y=m?Math.ceil(Math.max(1,o)+e.padding*2):0,x=y*this._resolution;if(m){i.fillStyle="black",i.strokeStyle="black";const w=e.dropShadowColor,_=e.dropShadowBlur*this._resolution,T=e.dropShadowDistance*this._resolution;i.shadowColor=Et.shared.setValue(w).setAlpha(e.dropShadowAlpha).toRgbaString(),i.shadowBlur=_,i.shadowOffsetX=Math.cos(e.dropShadowAngle)*T,i.shadowOffsetY=Math.sin(e.dropShadowAngle)*T+x}else i.fillStyle=this._generateFillStyle(e,a,n),i.strokeStyle=e.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;let v=(h-d.fontSize)/2;h-d.fontSize<0&&(v=0);for(let w=0;w<a.length;w++)f=e.strokeThickness/2,c=e.strokeThickness/2+w*h+d.ascent+v,e.align==="right"?f+=u-l[w]:e.align==="center"&&(f+=(u-l[w])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(a[w],f+e.padding,c+e.padding-y,!0),e.fill&&this.drawLetterSpacing(a[w],f+e.padding,c+e.padding-y)}this.updateTexture()}drawLetterSpacing(t,e,i,n=!1){const r=this._style.letterSpacing;let o=!1;if(un.experimentalLetterSpacingSupported&&(un.experimentalLetterSpacing?(this.context.letterSpacing=`${r}px`,this.context.textLetterSpacing=`${r}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),r===0||o){n?this.context.strokeText(t,e,i):this.context.fillText(t,e,i);return}let a=e;const h=un.graphemeSegmenter(t);let l=this.context.measureText(t).width,u=0;for(let d=0;d<h.length;++d){const f=h[d];n?this.context.strokeText(f,a,i):this.context.fillText(f,a,i);let c="";for(let g=d+1;g<h.length;++g)c+=h[g];u=this.context.measureText(c).width,a+=l-u+r,l=u}}updateTexture(){const t=this.canvas;if(this._style.trim){const o=zv(t);o.data&&(t.width=o.width,t.height=o.height,this.context.putImageData(o.data,0,0))}const e=this._texture,i=this._style,n=i.trim?0:i.padding,r=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-n,e.trim.y=-n,e.orig.width=e._frame.width-n*2,e.orig.height=e._frame.height-n*2,this._onTextureUpdate(),r.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,i){const n=t.fill;if(Array.isArray(n)){if(n.length===1)return n[0]}else return n;let r;const o=t.dropShadow?t.dropShadowDistance:0,a=t.padding||0,h=this.canvas.width/this._resolution-o-a*2,l=this.canvas.height/this._resolution-o-a*2,u=n.slice(),d=t.fillGradientStops.slice();if(!d.length){const f=u.length+1;for(let c=1;c<f;++c)d.push(c/f)}if(u.unshift(n[0]),d.unshift(0),u.push(n[n.length-1]),d.push(1),t.fillGradientType===Pr.LINEAR_VERTICAL){r=this.context.createLinearGradient(h/2,a,h/2,l+a);const f=i.fontProperties.fontSize+t.strokeThickness;for(let c=0;c<e.length;c++){const g=i.lineHeight*(c-1)+f,p=i.lineHeight*c;let m=p;c>0&&g>p&&(m=(p+g)/2);const y=p+f,x=i.lineHeight*(c+1);let v=y;c+1<e.length&&x<y&&(v=(y+x)/2);const w=(v-m)/l;for(let _=0;_<u.length;_++){let T=0;typeof d[_]=="number"?T=d[_]:T=_/u.length;let b=Math.min(1,Math.max(0,m/l+T*w));b=Number(b.toFixed(5)),r.addColorStop(b,u[_])}}}else{r=this.context.createLinearGradient(a,l/2,h+a,l/2);const f=u.length+1;let c=1;for(let g=0;g<u.length;g++){let p;typeof d[g]=="number"?p=d[g]:p=c/f,r.addColorStop(p,u[g]),c++}}return r}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},xC,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=mn(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=mn(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof Zi?this._style=t:this._style=new Zi(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};p1.defaultAutoResolution=!0;let Th=p1;class m1{constructor(t){this.maxItemsPerFrame=t,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function vC(s,t){var i;let e=!1;if((i=s==null?void 0:s._textures)!=null&&i.length){for(let n=0;n<s._textures.length;n++)if(s._textures[n]instanceof st){const r=s._textures[n].baseTexture;t.includes(r)||(t.push(r),e=!0)}}return e}function bC(s,t){if(s.baseTexture instanceof _t){const e=s.baseTexture;return t.includes(e)||t.push(e),!0}return!1}function wC(s,t){if(s._texture&&s._texture instanceof st){const e=s._texture.baseTexture;return t.includes(e)||t.push(e),!0}return!1}function TC(s,t){return t instanceof Th?(t.updateText(!0),!0):!1}function SC(s,t){if(t instanceof Zi){const e=t.toFontString();return un.measureFont(e),!0}return!1}function AC(s,t){if(s instanceof Th){t.includes(s.style)||t.push(s.style),t.includes(s)||t.push(s);const e=s._texture.baseTexture;return t.includes(e)||t.push(e),!0}return!1}function EC(s,t){return s instanceof Zi?(t.includes(s)||t.push(s),!0):!1}const y1=class _1{constructor(t){this.limiter=new m1(_1.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(AC),this.registerFindHook(EC),this.registerFindHook(vC),this.registerFindHook(bC),this.registerFindHook(wC),this.registerUploadHook(TC),this.registerUploadHook(SC)}upload(t){return new Promise(e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,Tt.system.addOnce(this.tick,this,Yi.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed){for(let i=0,n=this.uploadHooks.length;i<n;i++)if(this.uploadHooks[i](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)Tt.system.addOnce(this.tick,this,Yi.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,i=t.length;e<i;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,i=this.addHooks.length;e<i&&!this.addHooks[e](t,this.queue);e++);if(t instanceof ft)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&Tt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};y1.uploadsPerFrame=4;let Xa=y1;Object.defineProperties(nt,{UPLOADS_PER_FRAME:{get(){return Xa.uploadsPerFrame},set(s){mt("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),Xa.uploadsPerFrame=s}}});function x1(s,t){return t instanceof _t?(t._glTextures[s.CONTEXT_UID]||s.texture.bind(t),!0):!1}function CC(s,t){if(!(t instanceof Xt))return!1;const{geometry:e}=t;t.finishPoly(),e.updateBatches();const{batches:i}=e;for(let n=0;n<i.length;n++){const{texture:r}=i[n].style;r&&x1(s,r.baseTexture)}return e.batchable||s.geometry.bind(e,t._resolveDirectShader(s)),!0}function PC(s,t){return s instanceof Xt?(t.push(s),!0):!1}class Hg extends Xa{constructor(t){super(t),this.uploadHookHelper=this.renderer,this.registerFindHook(PC),this.registerUploadHook(x1),this.registerUploadHook(CC)}}Hg.extension={name:"prepare",type:et.RendererSystem};at.add(Hg);class IC{constructor(t){this.maxMilliseconds=t,this.frameStart=0}beginFrame(){this.frameStart=Date.now()}allowedToUpload(){return Date.now()-this.frameStart<this.maxMilliseconds}}class Ya extends Ve{constructor(t,e=!0){super(t[0]instanceof st?t[0]:t[0].texture),this._textures=null,this._durations=null,this._autoUpdate=e,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=t}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Tt.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Tt.shared.add(this.update,this,Yi.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(t){this.stop(),this.currentFrame=t}gotoAndPlay(t){this.currentFrame=t,this.play()}update(t){if(!this._playing)return;const e=this.animationSpeed*t,i=this.currentFrame;if(this._durations!==null){let n=this._currentTime%1*this._durations[this.currentFrame];for(n+=e/60*1e3;n<0;)this._currentTime--,n+=this._durations[this.currentFrame];const r=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*r,this._currentTime+=r;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i||this.animationSpeed<0&&this.currentFrame>i)&&this.onLoop(),this.updateTexture())}updateTexture(){const t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(t){this.stop(),super.destroy(t),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(t){const e=[];for(let i=0;i<t.length;++i)e.push(st.from(t[i]));return new Ya(e)}static fromImages(t){const e=[];for(let i=0;i<t.length;++i)e.push(st.from(t[i]));return new Ya(e)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(t){if(t[0]instanceof st)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(let e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}set currentFrame(t){if(t<0||t>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${t}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Tt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Tt.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const Ms=new St;class xn extends Ve{constructor(t,e=100,i=100){super(t),this.tileTransform=new Ro,this._width=e,this._height=i,this.uvMatrix=this.texture.uvMatrix||new _h(t),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(t){this.tileTransform.scale.copyFrom(t)}get tilePosition(){return this.tileTransform.position}set tilePosition(t){this.tileTransform.position.copyFrom(t)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(t){const e=this._texture;!e||!e.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))}_calculateBounds(){const t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),n=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,i,n)}getLocalBounds(t){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new xt),t=this._localBoundsRect),this._bounds.getRectangle(t)):super.getLocalBounds.call(this,t)}containsPoint(t){this.worldTransform.applyInverse(t,Ms);const e=this._width,i=this._height,n=-e*this.anchor._x;if(Ms.x>=n&&Ms.x<n+e){const r=-i*this.anchor._y;if(Ms.y>=r&&Ms.y<r+i)return!0}return!1}destroy(t){super.destroy(t),this.tileTransform=null,this.uvMatrix=null}static from(t,e){const i=t instanceof st?t:st.from(t,e);return new xn(i,e.width,e.height)}get width(){return this._width}set width(t){this._width=t}get height(){return this._height}set height(t){this._height=t}}var MC=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,zC=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,RC=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,zy=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,DC=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const da=new Ft;class Wg extends Do{constructor(t){super(t),t.runners.contextChange.add(this),this.quad=new yg,this.state=Ii.for2d()}contextChange(){const t=this.renderer,e={globals:t.globalUniforms};this.simpleShader=Si.from(zy,DC,e),this.shader=t.context.webGLVersion>1?Si.from(zC,MC,e):Si.from(zy,RC,e)}render(t){const e=this.renderer,i=this.quad;let n=i.vertices;n[0]=n[6]=t._width*-t.anchor.x,n[1]=n[3]=t._height*-t.anchor.y,n[2]=n[4]=t._width*(1-t.anchor.x),n[5]=n[7]=t._height*(1-t.anchor.y);const r=t.uvRespectAnchor?t.anchor.x:0,o=t.uvRespectAnchor?t.anchor.y:0;n=i.uvs,n[0]=n[6]=-r,n[1]=n[3]=-o,n[2]=n[4]=1-r,n[5]=n[7]=1-o,i.invalidate();const a=t._texture,h=a.baseTexture,l=h.alphaMode>0,u=t.tileTransform.localTransform,d=t.uvMatrix;let f=h.isPowerOfTwo&&a.frame.width===h.width&&a.frame.height===h.height;f&&(h._glTextures[e.CONTEXT_UID]?f=h.wrapMode!==Hi.CLAMP:h.wrapMode===Hi.CLAMP&&(h.wrapMode=Hi.REPEAT));const c=f?this.simpleShader:this.shader,g=a.width,p=a.height,m=t._width,y=t._height;da.set(u.a*g/m,u.b*g/y,u.c*p/m,u.d*p/y,u.tx/m,u.ty/y),da.invert(),f?da.prepend(d.mapCoord):(c.uniforms.uMapCoord=d.mapCoord.toArray(!0),c.uniforms.uClampFrame=d.uClampFrame,c.uniforms.uClampOffset=d.uClampOffset),c.uniforms.uTransform=da.toArray(!0),c.uniforms.uColor=Et.shared.setValue(t.tint).premultiply(t.worldAlpha,l).toArray(c.uniforms.uColor),c.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),c.uniforms.uSampler=a,e.shader.bind(c),e.geometry.bind(i),this.state.blendMode=ug(t.blendMode,l),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}Wg.extension={name:"tilingSprite",type:et.RendererPlugin};at.add(Wg);const v1=class qs{constructor(t,e,i){this.linkedSheets=[],(t instanceof _t||t instanceof st)&&(t={texture:t,data:e,resolutionFilename:i});const{texture:n,data:r,resolutionFilename:o=null,cachePrefix:a=""}=t;this.cachePrefix=a,this._texture=n instanceof st?n:null,this.baseTexture=n instanceof _t?n:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;const h=this.baseTexture.resource;this.resolution=this._updateResolution(o||(h?h.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let i=$i(t,null);return i===null&&(i=typeof e=="number"?e:parseFloat(e??"1")),i!==1&&this.baseTexture.setResolution(i),i}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=qs.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const i=qs.BATCH_SIZE;for(;e-t<i&&e<this._frameKeys.length;){const n=this._frameKeys[e],r=this._frames[n],o=r.frame;if(o){let a=null,h=null;const l=r.trimmed!==!1&&r.sourceSize?r.sourceSize:r.frame,u=new xt(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);r.rotated?a=new xt(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):a=new xt(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),r.trimmed!==!1&&r.spriteSourceSize&&(h=new xt(Math.floor(r.spriteSourceSize.x)/this.resolution,Math.floor(r.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[n]=new st(this.baseTexture,a,u,h,r.rotated?2:0,r.anchor,r.borders),st.addToCache(this.textures[n],this.cachePrefix+n.toString())}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let i=0;i<t[e].length;i++){const n=t[e][i];this.animations[e].push(this.textures[n])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*qs.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*qs.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var e;for(const i in this.textures)this.textures[i].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((e=this._texture)==null||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};v1.BATCH_SIZE=1e3;let Pf=v1;const kC=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function b1(s,t,e){const i={};if(s.forEach(n=>{i[n]=t}),Object.keys(t.textures).forEach(n=>{i[`${t.cachePrefix}${n}`]=t.textures[n]}),!e){const n=re.dirname(s[0]);t.linkedSheets.forEach((r,o)=>{Object.assign(i,b1([`${n}/${t.data.meta.related_multi_packs[o]}`],r,!0))})}return i}const w1={extension:et.Asset,cache:{test:s=>s instanceof Pf,getCacheableAssets:(s,t)=>b1(s,t,!1)},resolver:{test:s=>{const t=s.split("?")[0].split("."),e=t.pop(),i=t.pop();return e==="json"&&kC.includes(i)},parse:s=>{var e;const t=s.split(".");return{resolution:parseFloat(((e=nt.RETINA_PREFIX.exec(s))==null?void 0:e[1])??"1"),format:t[t.length-2],src:s}}},loader:{name:"spritesheetLoader",extension:{type:et.LoadParser,priority:li.Normal},async testParse(s,t){return re.extname(t.src).toLowerCase()===".json"&&!!s.frames},async parse(s,t,e){var u,d;const{texture:i,imageFilename:n,cachePrefix:r}=(t==null?void 0:t.data)??{};let o=re.dirname(t.src);o&&o.lastIndexOf("/")!==o.length-1&&(o+="/");let a;if(i&&i.baseTexture)a=i;else{const f=$a(o+(n??s.meta.image),t.src);a=(await e.load([f]))[f]}const h=new Pf({texture:a.baseTexture,data:s,resolutionFilename:t.src,cachePrefix:r});await h.parse();const l=(u=s==null?void 0:s.meta)==null?void 0:u.related_multi_packs;if(Array.isArray(l)){const f=[];for(const g of l){if(typeof g!="string")continue;let p=o+g;(d=t.data)!=null&&d.ignoreMultiPack||(p=$a(p,t.src),f.push(e.load({src:p,data:{ignoreMultiPack:!0}})))}const c=await Promise.all(f);h.linkedSheets=c,c.forEach(g=>{g.linkedSheets=[h].concat(h.linkedSheets.filter(p=>p!==g))})}return h},unload(s){s.destroy(!0)}}};at.add(w1);class mo{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Zs{static test(t){return typeof t=="string"&&t.startsWith("info face=")}static parse(t){const e=t.match(/^[a-z]+\s+.+$/gm),i={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const r in e){const o=e[r].match(/^[a-z]+/gm)[0],a=e[r].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),h={};for(const l in a){const u=a[l].split("="),d=u[0],f=u[1].replace(/"/gm,""),c=parseFloat(f),g=isNaN(c)?f:c;h[d]=g}i[o].push(h)}const n=new mo;return i.info.forEach(r=>n.info.push({face:r.face,size:parseInt(r.size,10)})),i.common.forEach(r=>n.common.push({lineHeight:parseInt(r.lineHeight,10)})),i.page.forEach(r=>n.page.push({id:parseInt(r.id,10),file:r.file})),i.char.forEach(r=>n.char.push({id:parseInt(r.id,10),page:parseInt(r.page,10),x:parseInt(r.x,10),y:parseInt(r.y,10),width:parseInt(r.width,10),height:parseInt(r.height,10),xoffset:parseInt(r.xoffset,10),yoffset:parseInt(r.yoffset,10),xadvance:parseInt(r.xadvance,10)})),i.kerning.forEach(r=>n.kerning.push({first:parseInt(r.first,10),second:parseInt(r.second,10),amount:parseInt(r.amount,10)})),i.distanceField.forEach(r=>n.distanceField.push({distanceRange:parseInt(r.distanceRange,10),fieldType:r.fieldType})),n}}class Za{static test(t){const e=t;return typeof t!="string"&&"getElementsByTagName"in t&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(t){const e=new mo,i=t.getElementsByTagName("info"),n=t.getElementsByTagName("common"),r=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),a=t.getElementsByTagName("kerning"),h=t.getElementsByTagName("distanceField");for(let l=0;l<i.length;l++)e.info.push({face:i[l].getAttribute("face"),size:parseInt(i[l].getAttribute("size"),10)});for(let l=0;l<n.length;l++)e.common.push({lineHeight:parseInt(n[l].getAttribute("lineHeight"),10)});for(let l=0;l<r.length;l++)e.page.push({id:parseInt(r[l].getAttribute("id"),10)||0,file:r[l].getAttribute("file")});for(let l=0;l<o.length;l++){const u=o[l];e.char.push({id:parseInt(u.getAttribute("id"),10),page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xoffset:parseInt(u.getAttribute("xoffset"),10),yoffset:parseInt(u.getAttribute("yoffset"),10),xadvance:parseInt(u.getAttribute("xadvance"),10)})}for(let l=0;l<a.length;l++)e.kerning.push({first:parseInt(a[l].getAttribute("first"),10),second:parseInt(a[l].getAttribute("second"),10),amount:parseInt(a[l].getAttribute("amount"),10)});for(let l=0;l<h.length;l++)e.distanceField.push({fieldType:h[l].getAttribute("fieldType"),distanceRange:parseInt(h[l].getAttribute("distanceRange"),10)});return e}}class Ka{static test(t){return typeof t=="string"&&t.includes("<font>")?Za.test(nt.ADAPTER.parseXML(t)):!1}static parse(t){return Za.parse(nt.ADAPTER.parseXML(t))}}const _u=[Zs,Za,Ka];function T1(s){for(let t=0;t<_u.length;t++)if(_u[t].test(s))return _u[t];return null}function FC(s,t,e,i,n,r){const o=e.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const h=e.dropShadow?e.dropShadowDistance:0,l=e.padding||0,u=s.width/i-h-l*2,d=s.height/i-h-l*2,f=o.slice(),c=e.fillGradientStops.slice();if(!c.length){const g=f.length+1;for(let p=1;p<g;++p)c.push(p/g)}if(f.unshift(o[0]),c.unshift(0),f.push(o[o.length-1]),c.push(1),e.fillGradientType===Pr.LINEAR_VERTICAL){a=t.createLinearGradient(u/2,l,u/2,d+l);let g=0;const p=(r.fontProperties.fontSize+e.strokeThickness)/d;for(let m=0;m<n.length;m++){const y=r.lineHeight*m;for(let x=0;x<f.length;x++){let v=0;typeof c[x]=="number"?v=c[x]:v=x/f.length;const w=y/d+v*p;let _=Math.max(g,w);_=Math.min(_,1),a.addColorStop(_,f[x]),g=_}}}else{a=t.createLinearGradient(l,d/2,u+l,d/2);const g=f.length+1;let p=1;for(let m=0;m<f.length;m++){let y;typeof c[m]=="number"?y=c[m]:y=p/g,a.addColorStop(y,f[m]),p++}}return a}function jC(s,t,e,i,n,r,o){const a=e.text,h=e.fontProperties;t.translate(i,n),t.scale(r,r);const l=o.strokeThickness/2,u=-(o.strokeThickness/2);if(t.font=o.toFontString(),t.lineWidth=o.strokeThickness,t.textBaseline=o.textBaseline,t.lineJoin=o.lineJoin,t.miterLimit=o.miterLimit,t.fillStyle=FC(s,t,o,r,[a],e),t.strokeStyle=o.stroke,o.dropShadow){const d=o.dropShadowColor,f=o.dropShadowBlur*r,c=o.dropShadowDistance*r;t.shadowColor=Et.shared.setValue(d).setAlpha(o.dropShadowAlpha).toRgbaString(),t.shadowBlur=f,t.shadowOffsetX=Math.cos(o.dropShadowAngle)*c,t.shadowOffsetY=Math.sin(o.dropShadowAngle)*c}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;o.stroke&&o.strokeThickness&&t.strokeText(a,l,u+e.lineHeight-h.descent),o.fill&&t.fillText(a,l,u+e.lineHeight-h.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function Aa(s){return s.codePointAt?s.codePointAt(0):s.charCodeAt(0)}function S1(s){return Array.from?Array.from(s):s.split("")}function OC(s){typeof s=="string"&&(s=[s]);const t=[];for(let e=0,i=s.length;e<i;e++){const n=s[e];if(Array.isArray(n)){if(n.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${n.length}.`);const r=n[0].charCodeAt(0),o=n[1].charCodeAt(0);if(o<r)throw new Error("[BitmapFont]: Invalid character range.");for(let a=r,h=o;a<=h;a++)t.push(String.fromCharCode(a))}else t.push(...S1(n))}if(t.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}const In=class Fi{constructor(t,e,i){var u;const[n]=t.info,[r]=t.common,[o]=t.page,[a]=t.distanceField,h=$i(o.file),l={};this._ownsTextures=i,this.font=n.face,this.size=n.size,this.lineHeight=r.lineHeight/h,this.chars={},this.pageTextures=l;for(let d=0;d<t.page.length;d++){const{id:f,file:c}=t.page[d];l[f]=e instanceof Array?e[d]:e[c],a!=null&&a.fieldType&&a.fieldType!=="none"&&(l[f].baseTexture.alphaMode=ve.NO_PREMULTIPLIED_ALPHA,l[f].baseTexture.mipmap=Ci.OFF)}for(let d=0;d<t.char.length;d++){const{id:f,page:c}=t.char[d];let{x:g,y:p,width:m,height:y,xoffset:x,yoffset:v,xadvance:w}=t.char[d];g/=h,p/=h,m/=h,y/=h,x/=h,v/=h,w/=h;const _=new xt(g+l[c].frame.x/h,p+l[c].frame.y/h,m,y);this.chars[f]={xOffset:x,yOffset:v,xAdvance:w,kerning:{},texture:new st(l[c].baseTexture,_),page:c}}for(let d=0;d<t.kerning.length;d++){let{first:f,second:c,amount:g}=t.kerning[d];f/=h,c/=h,g/=h,this.chars[c]&&(this.chars[c].kerning[f]=g)}this.distanceFieldRange=a==null?void 0:a.distanceRange,this.distanceFieldType=((u=a==null?void 0:a.fieldType)==null?void 0:u.toLowerCase())??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,i){let n;if(t instanceof mo)n=t;else{const o=T1(t);if(!o)throw new Error("Unrecognized data format for font.");n=o.parse(t)}e instanceof st&&(e=[e]);const r=new Fi(n,e,i);return Fi.available[r.font]=r,r}static uninstall(t){const e=Fi.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete Fi.available[t]}static from(t,e,i){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:n,padding:r,resolution:o,textureWidth:a,textureHeight:h,...l}=Object.assign({},Fi.defaultOptions,i),u=OC(n),d=e instanceof Zi?e:new Zi(e),f=a,c=new mo;c.info[0]={face:d.fontFamily,size:d.fontSize},c.common[0]={lineHeight:d.fontSize};let g=0,p=0,m,y,x,v=0;const w=[];for(let T=0;T<u.length;T++){m||(m=nt.ADAPTER.createCanvas(),m.width=a,m.height=h,y=m.getContext("2d"),x=new _t(m,{resolution:o,...l}),w.push(new st(x)),c.page.push({id:w.length-1,file:""}));const b=u[T],S=un.measureText(b,d,!1,m),A=S.width,P=Math.ceil(S.height),M=Math.ceil((d.fontStyle==="italic"?2:1)*A);if(p>=h-P*o){if(p===0)throw new Error(`[BitmapFont] textureHeight ${h}px is too small (fontFamily: '${d.fontFamily}', fontSize: ${d.fontSize}px, char: '${b}')`);--T,m=null,y=null,x=null,p=0,g=0,v=0;continue}if(v=Math.max(P+S.fontProperties.descent,v),M*o+g>=f){if(g===0)throw new Error(`[BitmapFont] textureWidth ${a}px is too small (fontFamily: '${d.fontFamily}', fontSize: ${d.fontSize}px, char: '${b}')`);--T,p+=v*o,p=Math.ceil(p),g=0,v=0;continue}jC(m,y,S,g,p,o,d);const C=Aa(S.text);c.char.push({id:C,page:w.length-1,x:g/o,y:p/o,width:M,height:P,xoffset:0,yoffset:0,xadvance:A-(d.dropShadow?d.dropShadowDistance:0)-(d.stroke?d.strokeThickness:0)}),g+=(M+2*r)*o,g=Math.ceil(g)}if(!(i!=null&&i.skipKerning))for(let T=0,b=u.length;T<b;T++){const S=u[T];for(let A=0;A<b;A++){const P=u[A],M=y.measureText(S).width,C=y.measureText(P).width,R=y.measureText(S+P).width-(M+C);R&&c.kerning.push({first:Aa(S),second:Aa(P),amount:R})}}const _=new Fi(c,w,!0);return Fi.available[t]!==void 0&&Fi.uninstall(t),Fi.available[t]=_,_}};In.ALPHA=[["a","z"],["A","Z"]," "],In.NUMERIC=[["0","9"]],In.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],In.ASCII=[[" ","~"]],In.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:In.ALPHANUMERIC},In.available={};let hn=In;var BC=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,LC=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const Ry=[],Dy=[],ky=[],A1=class E1 extends ft{constructor(t,e={}){super();const{align:i,tint:n,maxWidth:r,letterSpacing:o,fontName:a,fontSize:h}=Object.assign({},E1.styleDefaults,e);if(!hn.available[a])throw new Error(`Missing BitmapFont "${a}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=i,this._tintColor=new Et(n),this._font=void 0,this._fontName=a,this._fontSize=h,this.text=t,this._maxWidth=r,this._maxLineHeight=0,this._letterSpacing=o,this._anchor=new wi(()=>{this.dirty=!0},this,0,0),this._roundPixels=nt.ROUND_PIXELS,this.dirty=!0,this._resolution=nt.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var M;const t=hn.available[this._fontName],e=this.fontSize,i=e/t.size,n=new St,r=[],o=[],a=[],h=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",l=S1(h),u=this._maxWidth*t.size/e,d=t.distanceFieldType==="none"?Ry:Dy;let f=null,c=0,g=0,p=0,m=-1,y=0,x=0,v=0,w=0;for(let C=0;C<l.length;C++){const R=l[C],D=Aa(R);if(/(?:\s)/.test(R)&&(m=C,y=c,w++),R==="\r"||R===`
`){o.push(c),a.push(-1),g=Math.max(g,c),++p,++x,n.x=0,n.y+=t.lineHeight,f=null,w=0;continue}const F=t.chars[D];if(!F)continue;f&&F.kerning[f]&&(n.x+=F.kerning[f]);const E=ky.pop()||{texture:st.EMPTY,line:0,charCode:0,prevSpaces:0,position:new St};E.texture=F.texture,E.line=p,E.charCode=D,E.position.x=Math.round(n.x+F.xOffset+this._letterSpacing/2),E.position.y=Math.round(n.y+F.yOffset),E.prevSpaces=w,r.push(E),c=E.position.x+Math.max(F.xAdvance-F.xOffset,F.texture.orig.width),n.x+=F.xAdvance+this._letterSpacing,v=Math.max(v,F.yOffset+F.texture.height),f=D,m!==-1&&u>0&&n.x>u&&(++x,vr(r,1+m-x,1+C-m),C=m,m=-1,o.push(y),a.push(r.length>0?r[r.length-1].prevSpaces:0),g=Math.max(g,y),p++,n.x=0,n.y+=t.lineHeight,f=null,w=0)}const _=l[l.length-1];_!=="\r"&&_!==`
`&&(/(?:\s)/.test(_)&&(c=y),o.push(c),g=Math.max(g,c),a.push(-1));const T=[];for(let C=0;C<=p;C++){let R=0;this._align==="right"?R=g-o[C]:this._align==="center"?R=(g-o[C])/2:this._align==="justify"&&(R=a[C]<0?0:(g-o[C])/a[C]),T.push(R)}const b=r.length,S={},A=[],P=this._activePagesMeshData;d.push(...P);for(let C=0;C<b;C++){const R=r[C].texture,D=R.baseTexture.uid;if(!S[D]){let F=d.pop();if(!F){const z=new jo;let I,O;t.distanceFieldType==="none"?(I=new hs(st.EMPTY),O=gt.NORMAL):(I=new hs(st.EMPTY,{program:qi.from(LC,BC),uniforms:{uFWidth:0}}),O=gt.NORMAL_NPM);const k=new as(z,I);k.blendMode=O,F={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:k,vertices:null,uvs:null,indices:null}}F.index=0,F.indexCount=0,F.vertexCount=0,F.uvsCount=0,F.total=0;const{_textureCache:E}=this;E[D]=E[D]||new st(R.baseTexture),F.mesh.texture=E[D],F.mesh.tint=this._tintColor.value,A.push(F),S[D]=F}S[D].total++}for(let C=0;C<P.length;C++)A.includes(P[C])||this.removeChild(P[C].mesh);for(let C=0;C<A.length;C++)A[C].mesh.parent!==this&&this.addChild(A[C].mesh);this._activePagesMeshData=A;for(const C in S){const R=S[C],D=R.total;if(!(((M=R.indices)==null?void 0:M.length)>6*D)||R.vertices.length<as.BATCHABLE_SIZE*2)R.vertices=new Float32Array(8*D),R.uvs=new Float32Array(8*D),R.indices=new Uint16Array(6*D);else{const F=R.total,E=R.vertices;for(let z=F*4*2;z<E.length;z++)E[z]=0}R.mesh.size=6*D}for(let C=0;C<b;C++){const R=r[C];let D=R.position.x+T[R.line]*(this._align==="justify"?R.prevSpaces:1);this._roundPixels&&(D=Math.round(D));const F=D*i,E=R.position.y*i,z=R.texture,I=S[z.baseTexture.uid],O=z.frame,k=z._uvs,j=I.index++;I.indices[j*6+0]=0+j*4,I.indices[j*6+1]=1+j*4,I.indices[j*6+2]=2+j*4,I.indices[j*6+3]=0+j*4,I.indices[j*6+4]=2+j*4,I.indices[j*6+5]=3+j*4,I.vertices[j*8+0]=F,I.vertices[j*8+1]=E,I.vertices[j*8+2]=F+O.width*i,I.vertices[j*8+3]=E,I.vertices[j*8+4]=F+O.width*i,I.vertices[j*8+5]=E+O.height*i,I.vertices[j*8+6]=F,I.vertices[j*8+7]=E+O.height*i,I.uvs[j*8+0]=k.x0,I.uvs[j*8+1]=k.y0,I.uvs[j*8+2]=k.x1,I.uvs[j*8+3]=k.y1,I.uvs[j*8+4]=k.x2,I.uvs[j*8+5]=k.y2,I.uvs[j*8+6]=k.x3,I.uvs[j*8+7]=k.y3}this._textWidth=g*i,this._textHeight=(n.y+t.lineHeight)*i;for(const C in S){const R=S[C];if(this.anchor.x!==0||this.anchor.y!==0){let z=0;const I=this._textWidth*this.anchor.x,O=this._textHeight*this.anchor.y;for(let k=0;k<R.total;k++)R.vertices[z++]-=I,R.vertices[z++]-=O,R.vertices[z++]-=I,R.vertices[z++]-=O,R.vertices[z++]-=I,R.vertices[z++]-=O,R.vertices[z++]-=I,R.vertices[z++]-=O}this._maxLineHeight=v*i;const D=R.mesh.geometry.getBuffer("aVertexPosition"),F=R.mesh.geometry.getBuffer("aTextureCoord"),E=R.mesh.geometry.getIndex();D.data=R.vertices,F.data=R.uvs,E.data=R.indices,D.update(),F.update(),E.update()}for(let C=0;C<r.length;C++)ky.push(r[C]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:i,size:n}=hn.available[this._fontName];if(i!=="none"){const{a:r,b:o,c:a,d:h}=this.worldTransform,l=Math.sqrt(r*r+o*o),u=Math.sqrt(a*a+h*h),d=(Math.abs(l)+Math.abs(u))/2,f=this.fontSize/n,c=t._view.resolution;for(const g of this._activePagesMeshData)g.mesh.shader.uniforms.uFWidth=d*e*f*c}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=hn.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(t){if(this.tint!==t){this._tintColor.setValue(t);for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!hn.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??hn.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,i=hn.available[this._fontName].distanceFieldType==="none"?Ry:Dy;i.push(...this._activePagesMeshData);for(const n of this._activePagesMeshData)this.removeChild(n.mesh);this._activePagesMeshData=[],i.filter(n=>e[n.mesh.texture.baseTexture.uid]).forEach(n=>{n.mesh.texture=st.EMPTY});for(const n in e)e[n].destroy(),delete e[n];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(t)}};A1.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let NC=A1;const qC=[".xml",".fnt"],C1={extension:{type:et.LoadParser,priority:li.Normal},name:"loadBitmapFont",test(s){return qC.includes(re.extname(s).toLowerCase())},async testParse(s){return Zs.test(s)||Ka.test(s)},async parse(s,t,e){const i=Zs.test(s)?Zs.parse(s):Ka.parse(s),{src:n}=t,{page:r}=i,o=[];for(let l=0;l<r.length;++l){const u=r[l].file;let d=re.join(re.dirname(n),u);d=$a(d,n),o.push(d)}const a=await e.load(o),h=o.map(l=>a[l]);return hn.install(i,h,!0)},async load(s,t){return(await nt.ADAPTER.fetch(s)).text()},unload(s){s.destroy()}};at.add(C1);const If=class $r extends Zi{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(t){return new $r(Object.keys($r.defaultOptions).reduce((e,i)=>({...e,[i]:t[i]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(t=>{URL.revokeObjectURL(t.src),t.refs--,t.refs===0&&(t.fontFace&&document.fonts.delete(t.fontFace),delete $r.availableFonts[t.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(t,e={}){const{availableFonts:i}=$r;if(i[t]){const n=i[t];return this._fonts.push(n),n.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return nt.ADAPTER.fetch(t).then(n=>n.blob()).then(async n=>new Promise((r,o)=>{const a=URL.createObjectURL(n),h=new FileReader;h.onload=()=>r([a,h.result]),h.onerror=o,h.readAsDataURL(n)})).then(async([n,r])=>{const o=Object.assign({family:re.basename(t,re.extname(t)),weight:"normal",style:"normal",display:"auto",src:n,dataSrc:r,refs:1,originalUrl:t,fontFace:null},e);i[t]=o,this._fonts.push(o),this.styleID++;const a=new FontFace(o.family,`url(${o.src})`,{weight:o.weight,style:o.style,display:o.display});o.fontFace=a,await a.load(),document.fonts.add(a),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...t){const e=t.filter(i=>!this._overrides.includes(i));e.length>0&&(this._overrides.push(...e),this.styleID++)}removeOverride(...t){const e=t.filter(i=>this._overrides.includes(i));e.length>0&&(this._overrides=this._overrides.filter(i=>!e.includes(i)),this.styleID++)}toCSS(t){return[`transform: scale(${t})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((t,e)=>`${t}
            @font-face {
                font-family: "${e.family}";
                src: url('${e.dataSrc}');
                font-weight: ${e.weight};
                font-style: ${e.style};
                font-display: ${e.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(t){this._stylesheet!==t&&(this._stylesheet=t,this.styleID++)}normalizeColor(t){return Array.isArray(t)&&(t=hg(t)),typeof t=="number"?Ev(t):t}dropShadowToCSS(){let t=this.normalizeColor(this.dropShadowColor);const e=this.dropShadowAlpha,i=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),n=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);t.startsWith("#")&&e<1&&(t+=(e*255|0).toString(16).padStart(2,"0"));const r=`${i}px ${n}px`;return this.dropShadowBlur>0?`text-shadow: ${r} ${this.dropShadowBlur}px ${t}`:`text-shadow: ${r} ${t}`}reset(){Object.assign(this,$r.defaultOptions)}onBeforeDraw(){const{fontsDirty:t}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&t?new Promise(e=>setTimeout(e,100)):Promise.resolve()}get isSafari(){const{userAgent:t}=nt.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(t)}set fillGradientStops(t){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(t){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(t){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(t){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(t){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(t){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(t){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};If.availableFonts={},If.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let Ea=If;const Us=class Xr extends Ve{constructor(t="",e={}){super(st.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const i=new Image,n=st.from(i,{scaleMode:nt.SCALE_MODE,resourceOptions:{autoLoad:!1}});n.orig=new xt,n.trim=new xt,this.texture=n;const r="http://www.w3.org/2000/svg",o="http://www.w3.org/1999/xhtml",a=document.createElementNS(r,"svg"),h=document.createElementNS(r,"foreignObject"),l=document.createElementNS(o,"div"),u=document.createElementNS(o,"style");h.setAttribute("width","10000"),h.setAttribute("height","10000"),h.style.overflow="hidden",a.appendChild(h),this.maxWidth=Xr.defaultMaxWidth,this.maxHeight=Xr.defaultMaxHeight,this._domElement=l,this._styleElement=u,this._svgRoot=a,this._foreignObject=h,this._foreignObject.appendChild(u),this._foreignObject.appendChild(l),this._image=i,this._loadImage=new Image,this._autoResolution=Xr.defaultAutoResolution,this._resolution=Xr.defaultResolution??nt.RESOLUTION,this.text=t,this.style=e}measureText(t){var u,d;const{text:e,style:i,resolution:n}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},t);Object.assign(this._domElement,{innerHTML:e,style:i.toCSS(n)}),this._styleElement.textContent=i.toGlobalCSS(),document.body.appendChild(this._svgRoot);const r=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:o,height:a}=r;(o>this.maxWidth||a>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const h=Math.min(this.maxWidth,Math.ceil(o)),l=Math.min(this.maxHeight,Math.ceil(a));return this._svgRoot.setAttribute("width",h.toString()),this._svgRoot.setAttribute("height",l.toString()),e!==this._text&&(this._domElement.innerHTML=this._text),i!==this._style&&(Object.assign(this._domElement,{style:(u=this._style)==null?void 0:u.toCSS(n)}),this._styleElement.textContent=(d=this._style)==null?void 0:d.toGlobalCSS()),{width:h+i.padding*2,height:l+i.padding*2}}async updateText(t=!0){const{style:e,_image:i,_loadImage:n}=this;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;const{width:r,height:o}=this.measureText();i.width=n.width=Math.ceil(Math.max(1,r)),i.height=n.height=Math.ceil(Math.max(1,o)),this._updateID++;const a=this._updateID;await new Promise(h=>{n.onload=async()=>{if(a<this._updateID){h();return}await e.onBeforeDraw(),i.src=n.src,n.onload=null,n.src="",this.updateTexture(),h()};const l=new XMLSerializer().serializeToString(this._svgRoot);n.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(l)}`})}get source(){return this._image}updateTexture(){const{style:t,texture:e,_image:i,resolution:n}=this,{padding:r}=t,{baseTexture:o}=e;e.trim.width=e._frame.width=i.width/n,e.trim.height=e._frame.height=i.height/n,e.trim.x=-r,e.trim.y=-r,e.orig.width=e._frame.width-r*2,e.orig.height=e._frame.height-r*2,this._onTextureUpdate(),o.setRealSize(i.width,i.height,n),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}_renderCanvas(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(t)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds(t)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(t){var i,n,r,o,a;typeof t=="boolean"&&(t={children:t}),t=Object.assign({},Xr.defaultDestroyOptions,t),super.destroy(t);const e=null;this.ownsStyle&&((i=this._style)==null||i.cleanFonts()),this._style=e,(n=this._svgRoot)==null||n.remove(),this._svgRoot=e,(r=this._domElement)==null||r.remove(),this._domElement=e,(o=this._foreignObject)==null||o.remove(),this._foreignObject=e,(a=this._styleElement)==null||a.remove(),this._styleElement=e,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=e,this._image.src="",this._image=e}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(t){this.updateText(!0);const e=mn(this.scale.x)||1;this.scale.x=e*t/this._image.width/this.resolution,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(t){this.updateText(!0);const e=mn(this.scale.y)||1;this.scale.y=e*t/this._image.height/this.resolution,this._height=t}get style(){return this._style}set style(t){this._style!==t&&(t=t||{},t instanceof Ea?(this.ownsStyle=!1,this._style=t):t instanceof Zi?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=Ea.from(t)):(this.ownsStyle=!0,this._style=new Ea(t)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(t){t=String(t===""||t===null||t===void 0?" ":t),t=this.sanitiseText(t),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}sanitiseText(t){return t.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};Us.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},Us.defaultMaxWidth=2024,Us.defaultMaxHeight=2024,Us.defaultAutoResolution=!0;let UC=Us;const GC=Object.freeze(Object.defineProperty({__proto__:null,ALPHA_MODES:ve,AbstractMultiResource:Fg,AccessibilityManager:Bg,AlphaFilter:yb,AnimatedSprite:Ya,Application:Lg,ArrayResource:ub,Assets:be,AssetsClass:Fb,Attribute:no,BLEND_MODES:gt,BUFFER_BITS:Oa,BUFFER_TYPE:Ti,BackgroundSystem:so,BaseImageResource:Xi,BasePrepare:Xa,BaseRenderTexture:gg,BaseTexture:_t,BatchDrawCall:Na,BatchGeometry:dg,BatchRenderer:zn,BatchShaderGenerator:Uv,BatchSystem:fg,BatchTextureArray:Ua,BitmapFont:hn,BitmapFontData:mo,BitmapText:NC,BlobResource:Vb,BlurFilter:Og,BlurFilterPass:Wa,Bounds:lo,BrowserAdapter:lv,Buffer:Vt,BufferResource:Po,BufferSystem:Dg,CLEAR_MODES:yi,COLOR_MASK_BITS:hv,Cache:Fn,CanvasResource:cb,Circle:Io,Color:Et,ColorMatrixFilter:jn,CompressedTextureResource:Hn,Container:ft,ContextSystem:oo,CountLimiter:m1,CubeResource:fb,DEG_TO_RAD:qa,DRAW_MODES:vi,DisplacementFilter:_b,DisplayObject:qt,ENV:tr,Ellipse:Mo,EventBoundary:bb,EventSystem:Va,ExtensionType:et,Extract:e1,FORMATS:Y,FORMATS_TO_COMPONENTS:Xb,FXAAFilter:xb,FederatedDisplayObject:wb,FederatedEvent:bs,FederatedMouseEvent:uo,FederatedPointerEvent:Je,FederatedWheelEvent:wr,FillStyle:Fo,Filter:ne,FilterState:Hv,FilterSystem:_g,Framebuffer:Ga,FramebufferSystem:xg,GC_MODES:fh,GLFramebuffer:Wv,GLProgram:Kv,GLTexture:va,GRAPHICS_CURVES:sC,GenerateTextureSystem:Ag,Geometry:bn,GeometrySystem:vg,Graphics:Xt,GraphicsData:po,GraphicsGeometry:a1,HTMLText:UC,HTMLTextStyle:Ea,IGLUniformData:xA,INSTALLED:La,INTERNAL_FORMATS:ae,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:fo,ImageBitmapResource:yr,ImageResource:pg,LINE_CAP:yn,LINE_JOIN:Ne,LineStyle:wh,LoaderParserPriority:li,MASK_TYPES:Jt,MIPMAP_MODES:Ci,MSAA_QUALITY:Zt,MaskData:$v,MaskSystem:bg,Matrix:Ft,Mesh:as,MeshBatchUvs:h1,MeshGeometry:jo,MeshMaterial:hs,MultisampleSystem:Rg,NineSlicePlane:cC,NoiseFilter:vb,ObjectRenderer:Do,ObjectRendererSystem:kg,ObservablePoint:wi,PI_2:ro,PRECISION:Ge,ParticleContainer:gC,ParticleRenderer:Gg,PlaneGeometry:c1,PluginSystem:Tg,Point:St,Polygon:Gn,Prepare:Hg,Program:qi,ProjectionSystem:Sg,Quad:Gv,QuadUv:yg,RAD_TO_DEG:kv,RENDERER_TYPE:rg,Rectangle:xt,RenderTexture:er,RenderTexturePool:mg,RenderTextureSystem:Eg,Renderer:xh,ResizePlugin:Ng,Resource:os,RopeGeometry:d1,RoundedRectangle:zo,Runner:We,SAMPLER_TYPES:rt,SCALE_MODES:Li,SHAPES:le,SVGResource:Ha,ScissorSystem:Zv,Shader:Si,ShaderSystem:Cg,SimpleMesh:dC,SimplePlane:f1,SimpleRope:fC,Sprite:Ve,SpriteMaskFilter:Vv,Spritesheet:Pf,StartupSystem:ao,State:Ii,StateSystem:rb,StencilSystem:wg,SystemManager:sb,TARGETS:xr,TEXT_GRADIENT:Pr,TYPES:lt,TYPES_TO_BYTES_PER_COMPONENT:wf,TYPES_TO_BYTES_PER_PIXEL:Yb,TemporaryDisplayObject:gb,Text:Th,TextFormat:Zs,TextMetrics:un,TextStyle:Zi,Texture:st,TextureGCSystem:Rn,TextureMatrix:_h,TextureSystem:Pg,TextureUvs:yh,Ticker:Tt,TickerPlugin:Mg,TilingSprite:xn,TilingSpriteRenderer:Wg,TimeLimiter:IC,Transform:Ro,TransformFeedback:BA,TransformFeedbackSystem:Ig,UPDATE_PRIORITY:Yi,UniformGroup:hi,VERSION:LA,VideoResource:jg,ViewSystem:ho,ViewableBuffer:Ba,WRAP_MODES:Hi,XMLFormat:Za,XMLStringFormat:Ka,accessibleTarget:Tb,autoDetectFormat:T1,autoDetectRenderer:hb,autoDetectResource:cg,cacheTextureArray:jb,checkDataUrl:zr,checkExtension:Sn,checkMaxIfStatementsInShader:Dv,convertToList:ii,copySearchParams:$a,createStringVariations:Eb,createTexture:ws,createUBOElements:tb,curves:Yn,defaultFilterVertex:zg,defaultVertex:lb,detectAvif:Bb,detectCompressedTextures:Wb,detectDefaults:Nb,detectMp4:Ub,detectOgv:Gb,detectWebm:qb,detectWebp:Lb,extensions:at,filters:mf,generateProgram:Jv,generateUniformBufferSync:ib,getFontFamilyName:Ib,getTestContext:Bv,getUBOData:eb,graphicsUtils:hC,groupD8:Bt,isMobile:bi,isSingleItem:co,loadBitmapFont:C1,loadDDS:Kb,loadImageBitmap:Rb,loadJson:Cb,loadKTX:Jb,loadSVG:Db,loadTextures:ko,loadTxt:Pb,loadVideo:kb,loadWebFont:Mb,parseDDS:$b,parseKTX:Zb,resolveCompressedTextureUrl:Qb,resolveTextureUrl:Hb,settings:nt,spritesheetAsset:w1,uniformParsers:br,unsafeEvalSupported:qv,utils:GS},Symbol.toStringTag,{value:"Module"}));/*!
 * PixiPlugin 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var On,Ja,Fy,ni,Ks,P1,Mf,Sh,I1=function(){return typeof window<"u"},M1=function(){return On||I1()&&(On=window.gsap)&&On.registerPlugin&&On},zf=function(t){return typeof t=="function"},z1=function(t){return console.warn(t)},HC=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mi=.212671,ti=.71516,ei=.072169,R1=function(t){return zf(ni[t])?ni[t]:ni.filters[t]},Ah=function(t,e){var i=[],n=0,r=0,o,a;for(o=0;o<4;o++){for(a=0;a<5;a++)r=a===4?t[n+4]:0,i[n+a]=t[n]*e[a]+t[n+1]*e[a+5]+t[n+2]*e[a+10]+t[n+3]*e[a+15]+r;n+=5}return i},jy=function(t,e){var i=1-e,n=i*mi,r=i*ti,o=i*ei;return Ah([n+e,r,o,0,0,n,r+e,o,0,0,n,r,o+e,0,0,0,0,0,1,0],t)},Oy=function(t,e,i){var n=Ja(e),r=n[0]/255,o=n[1]/255,a=n[2]/255,h=1-i;return Ah([h+i*r*mi,i*r*ti,i*r*ei,0,0,i*o*mi,h+i*o*ti,i*o*ei,0,0,i*a*mi,i*a*ti,h+i*a*ei,0,0,0,0,0,1,0],t)},By=function(t,e){e*=Math.PI/180;var i=Math.cos(e),n=Math.sin(e);return Ah([mi+i*(1-mi)+n*-mi,ti+i*-ti+n*-ti,ei+i*-ei+n*(1-ei),0,0,mi+i*-mi+n*.143,ti+i*(1-ti)+n*.14,ei+i*-ei+n*-.283,0,0,mi+i*-mi+n*-.787329,ti+i*-ti+n*ti,ei+i*(1-ei)+n*ei,0,0,0,0,0,1,0,0,0,0,0,1],t)},Ly=function(t,e){return Ah([e,0,0,0,.5*(1-e),0,e,0,0,.5*(1-e),0,0,e,0,.5*(1-e),0,0,0,1,0],t)},D1=function(t,e){var i=R1(e),n=t.filters||[],r=n.length,o;for(i||z1(e+" not found. PixiPlugin.registerPIXI(PIXI)");--r>-1;)if(n[r]instanceof i)return n[r];return o=new i,e==="BlurFilter"&&(Sh?o.strength=0:o.blur=0),t.filters=[].concat(n,[o]),o},oe=function(t,e,i,n){e.add(i,t,i[t],n[t]),e._props.push(t)},Ny=function(t,e){var i=R1("ColorMatrixFilter"),n=new i;return n.matrix=e,n.brightness(t,!0),n.matrix},WC=function(t){var e={},i;for(i in t)e[i]=t[i];return e},Oe={contrast:1,saturation:1,colorizeAmount:0,colorize:"rgb(255,255,255)",hue:0,brightness:1},VC=function(t,e,i){var n=D1(t,"ColorMatrixFilter"),r=t._gsColorMatrixFilter=t._gsColorMatrixFilter||WC(Oe),o=e.combineCMF&&!("colorMatrixFilter"in e&&!e.colorMatrixFilter),a,h,l;for(l=n.matrix,e.resolution&&(n.resolution=e.resolution),e.matrix&&e.matrix.length===l.length?(h=e.matrix,r.contrast!==1&&oe("contrast",i,r,Oe),r.hue&&oe("hue",i,r,Oe),r.brightness!==1&&oe("brightness",i,r,Oe),r.colorizeAmount&&(oe("colorize",i,r,Oe),oe("colorizeAmount",i,r,Oe)),r.saturation!==1&&oe("saturation",i,r,Oe)):(h=HC.slice(),e.contrast!=null?(h=Ly(h,+e.contrast),oe("contrast",i,r,e)):r.contrast!==1&&(o?h=Ly(h,r.contrast):oe("contrast",i,r,Oe)),e.hue!=null?(h=By(h,+e.hue),oe("hue",i,r,e)):r.hue&&(o?h=By(h,r.hue):oe("hue",i,r,Oe)),e.brightness!=null?(h=Ny(+e.brightness,h),oe("brightness",i,r,e)):r.brightness!==1&&(o?h=Ny(r.brightness,h):oe("brightness",i,r,Oe)),e.colorize!=null?(e.colorizeAmount="colorizeAmount"in e?+e.colorizeAmount:1,h=Oy(h,e.colorize,e.colorizeAmount),oe("colorize",i,r,e),oe("colorizeAmount",i,r,e)):r.colorizeAmount&&(o?h=Oy(h,r.colorize,r.colorizeAmount):(oe("colorize",i,r,Oe),oe("colorizeAmount",i,r,Oe))),e.saturation!=null?(h=jy(h,+e.saturation),oe("saturation",i,r,e)):r.saturation!==1&&(o?h=jy(h,r.saturation):oe("saturation",i,r,Oe))),a=h.length;--a>-1;)h[a]!==l[a]&&i.add(l,a,l[a],h[a],"colorMatrixFilter");i._props.push("colorMatrixFilter")},$C=function(t,e){var i=e.t,n=e.p,r=e.color,o=e.set;o(i,n,r[0]<<16|r[1]<<8|r[2])},XC=function(t,e){var i=e.g;Sh?(i.fill(),i.stroke()):i&&(i.dirty++,i.clearDirty++)},YC=function(t,e){e.t.visible=!!e.t.alpha},qy=function(t,e,i,n){var r=t[e],o=Ja(zf(r)?t[e.indexOf("set")||!zf(t["get"+e.substr(3)])?e:"get"+e.substr(3)]():r),a=Ja(i);n._pt=new Ks(n._pt,t,e,0,0,$C,{t,p:e,color:o,set:P1(t,e)}),n.add(o,0,o[0],a[0]),n.add(o,1,o[1],a[1]),n.add(o,2,o[2],a[2])},ZC={tint:1,lineColor:1,fillColor:1,strokeColor:1},Uy="position,scale,skew,pivot,anchor,tilePosition,tileScale".split(","),Rf={x:"position",y:"position",tileX:"tilePosition",tileY:"tilePosition"},KC={colorMatrixFilter:1,saturation:1,contrast:1,hue:1,colorize:1,colorizeAmount:1,brightness:1,combineCMF:1},Qa=Math.PI/180,k1=function(t){return typeof t=="string"},JC=function(t){return k1(t)&&t.charAt(1)==="="?t.substr(0,2)+parseFloat(t.substr(2))*Qa:t*Qa},QC=function(t,e){return e.set(e.t,e.p,t===1?e.e:Math.round((e.s+e.c*t)*1e5)/1e5,e)},tP=function(t,e,i,n,r,o){var a=360*(o?Qa:1),h=k1(r),l=h&&r.charAt(1)==="="?+(r.charAt(0)+"1"):0,u=parseFloat(l?r.substr(2):r)*(o?Qa:1),d=l?u*l:u-n,f=n+d,c,g;return h&&(c=r.split("_")[1],c==="short"&&(d%=a,d!==d%(a/2)&&(d+=d<0?a:-a)),c==="cw"&&d<0?d=(d+a*1e10)%a-~~(d/a)*a:c==="ccw"&&d>0&&(d=(d-a*1e10)%a-~~(d/a)*a)),t._pt=g=new Ks(t._pt,e,i,n,d,QC),g.e=f,g},Gy=function(){if(!Fy){On=M1(),ni=Fy=ni||I1()&&window.PIXI;var t=ni&&ni.VERSION&&parseFloat(ni.VERSION.split(".")[0])||0;Mf=t===4,Sh=t>=8,Ja=function(i){return On.utils.splitColor((i+"").substr(0,2)==="0x"?"#"+i.substr(2):i)}}},fa,zs;for(fa=0;fa<Uy.length;fa++)zs=Uy[fa],Rf[zs+"X"]=zs,Rf[zs+"Y"]=zs;var Vg={version:"3.13.0",name:"pixi",register:function(t,e,i){On=t,Ks=i,P1=e.getSetter,Gy()},headless:!0,registerPIXI:function(t){ni=t},init:function(t,e,i,n,r){if(ni||Gy(),!ni)return z1("PIXI was not found. PixiPlugin.registerPIXI(PIXI);"),!1;var o,a,h,l,u,d,f,c,g,p;for(d in e){if(o=Rf[d],h=e[d],o)a=~d.charAt(d.length-1).toLowerCase().indexOf("x")?"x":"y",this.add(t[o],a,t[o][a],o==="skew"?JC(h):h,0,0,0,0,0,1);else if(d==="scale"||d==="anchor"||d==="pivot"||d==="tileScale")this.add(t[d],"x",t[d].x,h),this.add(t[d],"y",t[d].y,h);else if(d==="rotation"||d==="angle")tP(this,t,d,t[d],h,d==="rotation");else if(KC[d])l||(VC(t,e.colorMatrixFilter||e,this),l=!0);else if(d==="blur"||d==="blurX"||d==="blurY"||d==="blurPadding"){if(u=D1(t,"BlurFilter"),this.add(u,d,u[d],h),e.blurPadding!==0)for(f=e.blurPadding||Math.max(u[d],h)*2,c=t.filters.length;--c>-1;)t.filters[c].padding=Math.max(t.filters[c].padding,f)}else if(ZC[d])if((d==="lineColor"||d==="fillColor"||d==="strokeColor")&&t instanceof ni.Graphics)for(g=("fillStyle"in t)?[t]:(t.geometry||t).graphicsData,p=d.substr(0,d.length-5),Sh&&p==="line"&&(p="stroke"),this._pt=new Ks(this._pt,t,d,0,0,XC,{g:t.geometry||t}),c=g.length;--c>-1;)qy(Mf?g[c]:g[c][p+"Style"],Mf?d:"color",h,this);else qy(t,d,h,this);else d==="autoAlpha"?(this._pt=new Ks(this._pt,t,"visible",0,0,YC),this.add(t,"alpha",t.alpha,h),this._props.push("alpha","visible")):d!=="resolution"&&this.add(t,d,"get",h);this._props.push(d)}}};M1()&&On.registerPlugin(Vg);function ln(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function F1(s,t){s.prototype=Object.create(t.prototype),s.prototype.constructor=s,s.__proto__=t}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var $e={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},ls={duration:.5,overwrite:!1,delay:0},$g,de,Nt,si=1e8,zt=1/si,Df=Math.PI*2,eP=Df/4,iP=0,j1=Math.sqrt,nP=Math.cos,rP=Math.sin,ue=function(t){return typeof t=="string"},$t=function(t){return typeof t=="function"},wn=function(t){return typeof t=="number"},Xg=function(t){return typeof t>"u"},Ki=function(t){return typeof t=="object"},Pe=function(t){return t!==!1},Yg=function(){return typeof window<"u"},ga=function(t){return $t(t)||ue(t)},O1=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},pe=Array.isArray,kf=/(?:-?\.?\d|\.)+/gi,B1=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Yr=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,xu=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,L1=/[+-]=-?[.\d]+/,N1=/[^,'"\[\]\s]+/gi,sP=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Gt,ji,Ff,Zg,Xe={},th={},q1,U1=function(t){return(th=us(t,Xe))&&Re},Kg=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},yo=function(t,e){return!e&&console.warn(t)},G1=function(t,e){return t&&(Xe[t]=e)&&th&&(th[t]=e)||Xe},_o=function(){return 0},oP={suppressEvents:!0,isStart:!0,kill:!1},Ca={suppressEvents:!0,kill:!1},aP={suppressEvents:!0},Jg={},Wn=[],jf={},H1,qe={},vu={},Hy=30,Pa=[],Qg="",tp=function(t){var e=t[0],i,n;if(Ki(e)||$t(e)||(t=[t]),!(i=(e._gsap||{}).harness)){for(n=Pa.length;n--&&!Pa[n].targetTest(e););i=Pa[n]}for(n=t.length;n--;)t[n]&&(t[n]._gsap||(t[n]._gsap=new gw(t[n],i)))||t.splice(n,1);return t},Tr=function(t){return t._gsap||tp(oi(t))[0]._gsap},W1=function(t,e,i){return(i=t[e])&&$t(i)?t[e]():Xg(i)&&t.getAttribute&&t.getAttribute(e)||i},Ie=function(t,e){return(t=t.split(",")).forEach(e)||t},Yt=function(t){return Math.round(t*1e5)/1e5||0},te=function(t){return Math.round(t*1e7)/1e7||0},ns=function(t,e){var i=e.charAt(0),n=parseFloat(e.substr(2));return t=parseFloat(t),i==="+"?t+n:i==="-"?t-n:i==="*"?t*n:t/n},hP=function(t,e){for(var i=e.length,n=0;t.indexOf(e[n])<0&&++n<i;);return n<i},eh=function(){var t=Wn.length,e=Wn.slice(0),i,n;for(jf={},Wn.length=0,i=0;i<t;i++)n=e[i],n&&n._lazy&&(n.render(n._lazy[0],n._lazy[1],!0)._lazy=0)},ep=function(t){return!!(t._initted||t._startAt||t.add)},V1=function(t,e,i,n){Wn.length&&!de&&eh(),t.render(e,i,!!(de&&e<0&&ep(t))),Wn.length&&!de&&eh()},$1=function(t){var e=parseFloat(t);return(e||e===0)&&(t+"").match(N1).length<2?e:ue(t)?t.trim():t},X1=function(t){return t},Ye=function(t,e){for(var i in e)i in t||(t[i]=e[i]);return t},lP=function(t){return function(e,i){for(var n in i)n in e||n==="duration"&&t||n==="ease"||(e[n]=i[n])}},us=function(t,e){for(var i in e)t[i]=e[i];return t},Wy=function s(t,e){for(var i in e)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(t[i]=Ki(e[i])?s(t[i]||(t[i]={}),e[i]):e[i]);return t},ih=function(t,e){var i={},n;for(n in t)n in e||(i[n]=t[n]);return i},Js=function(t){var e=t.parent||Gt,i=t.keyframes?lP(pe(t.keyframes)):Ye;if(Pe(t.inherit))for(;e;)i(t,e.vars.defaults),e=e.parent||e._dp;return t},uP=function(t,e){for(var i=t.length,n=i===e.length;n&&i--&&t[i]===e[i];);return i<0},Y1=function(t,e,i,n,r){var o=t[n],a;if(r)for(a=e[r];o&&o[r]>a;)o=o._prev;return o?(e._next=o._next,o._next=e):(e._next=t[i],t[i]=e),e._next?e._next._prev=e:t[n]=e,e._prev=o,e.parent=e._dp=t,e},Eh=function(t,e,i,n){i===void 0&&(i="_first"),n===void 0&&(n="_last");var r=e._prev,o=e._next;r?r._next=o:t[i]===e&&(t[i]=o),o?o._prev=r:t[n]===e&&(t[n]=r),e._next=e._prev=e.parent=null},Zn=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},Sr=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var i=t;i;)i._dirty=1,i=i.parent;return t},cP=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},Of=function(t,e,i,n){return t._startAt&&(de?t._startAt.revert(Ca):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,n))},dP=function s(t){return!t||t._ts&&s(t.parent)},Vy=function(t){return t._repeat?cs(t._tTime,t=t.duration()+t._rDelay)*t:0},cs=function(t,e){var i=Math.floor(t=te(t/e));return t&&i===t?i-1:i},nh=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},Ch=function(t){return t._end=te(t._start+(t._tDur/Math.abs(t._ts||t._rts||zt)||0))},Ph=function(t,e){var i=t._dp;return i&&i.smoothChildTiming&&t._ts&&(t._start=te(i._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),Ch(t),i._dirty||Sr(i,t)),t},Z1=function(t,e){var i;if((e._time||!e._dur&&e._initted||e._start<t._time&&(e._dur||!e.add))&&(i=nh(t.rawTime(),e),(!e._dur||Oo(0,e.totalDuration(),i)-e._tTime>zt)&&e.render(i,!0)),Sr(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(i=t;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;t._zTime=-zt}},Bi=function(t,e,i,n){return e.parent&&Zn(e),e._start=te((wn(i)?i:i||t!==Gt?Qe(t,i,e):t._time)+e._delay),e._end=te(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),Y1(t,e,"_first","_last",t._sort?"_start":0),Bf(e)||(t._recent=e),n||Z1(t,e),t._ts<0&&Ph(t,t._tTime),t},K1=function(t,e){return(Xe.ScrollTrigger||Kg("scrollTrigger",e))&&Xe.ScrollTrigger.create(e,t)},J1=function(t,e,i,n,r){if(np(t,e,r),!t._initted)return 1;if(!i&&t._pt&&!de&&(t._dur&&t.vars.lazy!==!1||!t._dur&&t.vars.lazy)&&H1!==Ue.frame)return Wn.push(t),t._lazy=[r,n],1},fP=function s(t){var e=t.parent;return e&&e._ts&&e._initted&&!e._lock&&(e.rawTime()<0||s(e))},Bf=function(t){var e=t.data;return e==="isFromStart"||e==="isStart"},gP=function(t,e,i,n){var r=t.ratio,o=e<0||!e&&(!t._start&&fP(t)&&!(!t._initted&&Bf(t))||(t._ts<0||t._dp._ts<0)&&!Bf(t))?0:1,a=t._rDelay,h=0,l,u,d;if(a&&t._repeat&&(h=Oo(0,t._tDur,e),u=cs(h,a),t._yoyo&&u&1&&(o=1-o),u!==cs(t._tTime,a)&&(r=1-o,t.vars.repeatRefresh&&t._initted&&t.invalidate())),o!==r||de||n||t._zTime===zt||!e&&t._zTime){if(!t._initted&&J1(t,e,n,i,h))return;for(d=t._zTime,t._zTime=e||(i?zt:0),i||(i=e&&!d),t.ratio=o,t._from&&(o=1-o),t._time=0,t._tTime=h,l=t._pt;l;)l.r(o,l.d),l=l._next;e<0&&Of(t,e,i,!0),t._onUpdate&&!i&&He(t,"onUpdate"),h&&t._repeat&&!i&&t.parent&&He(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===o&&(o&&Zn(t,1),!i&&!de&&(He(t,o?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)},pP=function(t,e,i){var n;if(i>e)for(n=t._first;n&&n._start<=i;){if(n.data==="isPause"&&n._start>e)return n;n=n._next}else for(n=t._last;n&&n._start>=i;){if(n.data==="isPause"&&n._start<e)return n;n=n._prev}},ds=function(t,e,i,n){var r=t._repeat,o=te(e)||0,a=t._tTime/t._tDur;return a&&!n&&(t._time*=o/t._dur),t._dur=o,t._tDur=r?r<0?1e10:te(o*(r+1)+t._rDelay*r):o,a>0&&!n&&Ph(t,t._tTime=t._tDur*a),t.parent&&Ch(t),i||Sr(t.parent,t),t},$y=function(t){return t instanceof xe?Sr(t):ds(t,t._dur)},mP={_start:0,endTime:_o,totalDuration:_o},Qe=function s(t,e,i){var n=t.labels,r=t._recent||mP,o=t.duration()>=si?r.endTime(!1):t._dur,a,h,l;return ue(e)&&(isNaN(e)||e in n)?(h=e.charAt(0),l=e.substr(-1)==="%",a=e.indexOf("="),h==="<"||h===">"?(a>=0&&(e=e.replace(/=/,"")),(h==="<"?r._start:r.endTime(r._repeat>=0))+(parseFloat(e.substr(1))||0)*(l?(a<0?r:i).totalDuration()/100:1)):a<0?(e in n||(n[e]=o),n[e]):(h=parseFloat(e.charAt(a-1)+e.substr(a+1)),l&&i&&(h=h/100*(pe(i)?i[0]:i).totalDuration()),a>1?s(t,e.substr(0,a-1),i)+h:o+h)):e==null?o:+e},Qs=function(t,e,i){var n=wn(e[1]),r=(n?2:1)+(t<2?0:1),o=e[r],a,h;if(n&&(o.duration=e[1]),o.parent=i,t){for(a=o,h=i;h&&!("immediateRender"in a);)a=h.vars.defaults||{},h=Pe(h.vars.inherit)&&h.parent;o.immediateRender=Pe(a.immediateRender),t<2?o.runBackwards=1:o.startAt=e[r-1]}return new Qt(e[0],o,e[r+1])},ir=function(t,e){return t||t===0?e(t):e},Oo=function(t,e,i){return i<t?t:i>e?e:i},ge=function(t,e){return!ue(t)||!(e=sP.exec(t))?"":e[1]},yP=function(t,e,i){return ir(i,function(n){return Oo(t,e,n)})},Lf=[].slice,Q1=function(t,e){return t&&Ki(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&Ki(t[0]))&&!t.nodeType&&t!==ji},_P=function(t,e,i){return i===void 0&&(i=[]),t.forEach(function(n){var r;return ue(n)&&!e||Q1(n,1)?(r=i).push.apply(r,oi(n)):i.push(n)})||i},oi=function(t,e,i){return Nt&&!e&&Nt.selector?Nt.selector(t):ue(t)&&!i&&(Ff||!fs())?Lf.call((e||Zg).querySelectorAll(t),0):pe(t)?_P(t,i):Q1(t)?Lf.call(t,0):t?[t]:[]},Nf=function(t){return t=oi(t)[0]||yo("Invalid scope")||{},function(e){var i=t.current||t.nativeElement||t;return oi(e,i.querySelectorAll?i:i===t?yo("Invalid scope")||Zg.createElement("div"):t)}},tw=function(t){return t.sort(function(){return .5-Math.random()})},ew=function(t){if($t(t))return t;var e=Ki(t)?t:{each:t},i=Ar(e.ease),n=e.from||0,r=parseFloat(e.base)||0,o={},a=n>0&&n<1,h=isNaN(n)||a,l=e.axis,u=n,d=n;return ue(n)?u=d={center:.5,edges:.5,end:1}[n]||0:!a&&h&&(u=n[0],d=n[1]),function(f,c,g){var p=(g||e).length,m=o[p],y,x,v,w,_,T,b,S,A;if(!m){if(A=e.grid==="auto"?0:(e.grid||[1,si])[1],!A){for(b=-si;b<(b=g[A++].getBoundingClientRect().left)&&A<p;);A<p&&A--}for(m=o[p]=[],y=h?Math.min(A,p)*u-.5:n%A,x=A===si?0:h?p*d/A-.5:n/A|0,b=0,S=si,T=0;T<p;T++)v=T%A-y,w=x-(T/A|0),m[T]=_=l?Math.abs(l==="y"?w:v):j1(v*v+w*w),_>b&&(b=_),_<S&&(S=_);n==="random"&&tw(m),m.max=b-S,m.min=S,m.v=p=(parseFloat(e.amount)||parseFloat(e.each)*(A>p?p-1:l?l==="y"?p/A:A:Math.max(A,p/A))||0)*(n==="edges"?-1:1),m.b=p<0?r-p:r,m.u=ge(e.amount||e.each)||0,i=i&&p<0?cw(i):i}return p=(m[f]-m.min)/m.max||0,te(m.b+(i?i(p):p)*m.v)+m.u}},qf=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(i){var n=te(Math.round(parseFloat(i)/t)*t*e);return(n-n%1)/e+(wn(i)?0:ge(i))}},iw=function(t,e){var i=pe(t),n,r;return!i&&Ki(t)&&(n=i=t.radius||si,t.values?(t=oi(t.values),(r=!wn(t[0]))&&(n*=n)):t=qf(t.increment)),ir(e,i?$t(t)?function(o){return r=t(o),Math.abs(r-o)<=n?r:o}:function(o){for(var a=parseFloat(r?o.x:o),h=parseFloat(r?o.y:0),l=si,u=0,d=t.length,f,c;d--;)r?(f=t[d].x-a,c=t[d].y-h,f=f*f+c*c):f=Math.abs(t[d]-a),f<l&&(l=f,u=d);return u=!n||l<=n?t[u]:o,r||u===o||wn(o)?u:u+ge(o)}:qf(t))},nw=function(t,e,i,n){return ir(pe(t)?!e:i===!0?!!(i=0):!n,function(){return pe(t)?t[~~(Math.random()*t.length)]:(i=i||1e-5)&&(n=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((t-i/2+Math.random()*(e-t+i*.99))/i)*i*n)/n})},xP=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(n){return e.reduce(function(r,o){return o(r)},n)}},vP=function(t,e){return function(i){return t(parseFloat(i))+(e||ge(i))}},bP=function(t,e,i){return sw(t,e,0,1,i)},rw=function(t,e,i){return ir(i,function(n){return t[~~e(n)]})},wP=function s(t,e,i){var n=e-t;return pe(t)?rw(t,s(0,t.length),e):ir(i,function(r){return(n+(r-t)%n)%n+t})},TP=function s(t,e,i){var n=e-t,r=n*2;return pe(t)?rw(t,s(0,t.length-1),e):ir(i,function(o){return o=(r+(o-t)%r)%r||0,t+(o>n?r-o:o)})},xo=function(t){for(var e=0,i="",n,r,o,a;~(n=t.indexOf("random(",e));)o=t.indexOf(")",n),a=t.charAt(n+7)==="[",r=t.substr(n+7,o-n-7).match(a?N1:kf),i+=t.substr(e,n-e)+nw(a?r:+r[0],a?0:+r[1],+r[2]||1e-5),e=o+1;return i+t.substr(e,t.length-e)},sw=function(t,e,i,n,r){var o=e-t,a=n-i;return ir(r,function(h){return i+((h-t)/o*a||0)})},SP=function s(t,e,i,n){var r=isNaN(t+e)?0:function(c){return(1-c)*t+c*e};if(!r){var o=ue(t),a={},h,l,u,d,f;if(i===!0&&(n=1)&&(i=null),o)t={p:t},e={p:e};else if(pe(t)&&!pe(e)){for(u=[],d=t.length,f=d-2,l=1;l<d;l++)u.push(s(t[l-1],t[l]));d--,r=function(g){g*=d;var p=Math.min(f,~~g);return u[p](g-p)},i=e}else n||(t=us(pe(t)?[]:{},t));if(!u){for(h in e)ip.call(a,t,h,"get",e[h]);r=function(g){return op(g,a)||(o?t.p:t)}}}return ir(i,r)},Xy=function(t,e,i){var n=t.labels,r=si,o,a,h;for(o in n)a=n[o]-e,a<0==!!i&&a&&r>(a=Math.abs(a))&&(h=o,r=a);return h},He=function(t,e,i){var n=t.vars,r=n[e],o=Nt,a=t._ctx,h,l,u;if(r)return h=n[e+"Params"],l=n.callbackScope||t,i&&Wn.length&&eh(),a&&(Nt=a),u=h?r.apply(l,h):r.call(l),Nt=o,u},Gs=function(t){return Zn(t),t.scrollTrigger&&t.scrollTrigger.kill(!!de),t.progress()<1&&He(t,"onInterrupt"),t},Zr,ow=[],aw=function(t){if(t)if(t=!t.name&&t.default||t,Yg()||t.headless){var e=t.name,i=$t(t),n=e&&!i&&t.init?function(){this._props=[]}:t,r={init:_o,render:op,add:ip,kill:NP,modifier:LP,rawVars:0},o={targetTest:0,get:0,getSetter:sp,aliases:{},register:0};if(fs(),t!==n){if(qe[e])return;Ye(n,Ye(ih(t,r),o)),us(n.prototype,us(r,ih(t,o))),qe[n.prop=e]=n,t.targetTest&&(Pa.push(n),Jg[e]=1),e=(e==="css"?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}G1(e,n),t.register&&t.register(Re,n,Me)}else ow.push(t)},Mt=255,Hs={aqua:[0,Mt,Mt],lime:[0,Mt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Mt],navy:[0,0,128],white:[Mt,Mt,Mt],olive:[128,128,0],yellow:[Mt,Mt,0],orange:[Mt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Mt,0,0],pink:[Mt,192,203],cyan:[0,Mt,Mt],transparent:[Mt,Mt,Mt,0]},bu=function(t,e,i){return t+=t<0?1:t>1?-1:0,(t*6<1?e+(i-e)*t*6:t<.5?i:t*3<2?e+(i-e)*(2/3-t)*6:e)*Mt+.5|0},hw=function(t,e,i){var n=t?wn(t)?[t>>16,t>>8&Mt,t&Mt]:0:Hs.black,r,o,a,h,l,u,d,f,c,g;if(!n){if(t.substr(-1)===","&&(t=t.substr(0,t.length-1)),Hs[t])n=Hs[t];else if(t.charAt(0)==="#"){if(t.length<6&&(r=t.charAt(1),o=t.charAt(2),a=t.charAt(3),t="#"+r+r+o+o+a+a+(t.length===5?t.charAt(4)+t.charAt(4):"")),t.length===9)return n=parseInt(t.substr(1,6),16),[n>>16,n>>8&Mt,n&Mt,parseInt(t.substr(7),16)/255];t=parseInt(t.substr(1),16),n=[t>>16,t>>8&Mt,t&Mt]}else if(t.substr(0,3)==="hsl"){if(n=g=t.match(kf),!e)h=+n[0]%360/360,l=+n[1]/100,u=+n[2]/100,o=u<=.5?u*(l+1):u+l-u*l,r=u*2-o,n.length>3&&(n[3]*=1),n[0]=bu(h+1/3,r,o),n[1]=bu(h,r,o),n[2]=bu(h-1/3,r,o);else if(~t.indexOf("="))return n=t.match(B1),i&&n.length<4&&(n[3]=1),n}else n=t.match(kf)||Hs.transparent;n=n.map(Number)}return e&&!g&&(r=n[0]/Mt,o=n[1]/Mt,a=n[2]/Mt,d=Math.max(r,o,a),f=Math.min(r,o,a),u=(d+f)/2,d===f?h=l=0:(c=d-f,l=u>.5?c/(2-d-f):c/(d+f),h=d===r?(o-a)/c+(o<a?6:0):d===o?(a-r)/c+2:(r-o)/c+4,h*=60),n[0]=~~(h+.5),n[1]=~~(l*100+.5),n[2]=~~(u*100+.5)),i&&n.length<4&&(n[3]=1),n},lw=function(t){var e=[],i=[],n=-1;return t.split(Vn).forEach(function(r){var o=r.match(Yr)||[];e.push.apply(e,o),i.push(n+=o.length+1)}),e.c=i,e},Yy=function(t,e,i){var n="",r=(t+n).match(Vn),o=e?"hsla(":"rgba(",a=0,h,l,u,d;if(!r)return t;if(r=r.map(function(f){return(f=hw(f,e,1))&&o+(e?f[0]+","+f[1]+"%,"+f[2]+"%,"+f[3]:f.join(","))+")"}),i&&(u=lw(t),h=i.c,h.join(n)!==u.c.join(n)))for(l=t.replace(Vn,"1").split(Yr),d=l.length-1;a<d;a++)n+=l[a]+(~h.indexOf(a)?r.shift()||o+"0,0,0,0)":(u.length?u:r.length?r:i).shift());if(!l)for(l=t.split(Vn),d=l.length-1;a<d;a++)n+=l[a]+r[a];return n+l[d]},Vn=function(){var s="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",t;for(t in Hs)s+="|"+t+"\\b";return new RegExp(s+")","gi")}(),AP=/hsl[a]?\(/,uw=function(t){var e=t.join(" "),i;if(Vn.lastIndex=0,Vn.test(e))return i=AP.test(e),t[1]=Yy(t[1],i),t[0]=Yy(t[0],i,lw(t[1])),!0},vo,Ue=function(){var s=Date.now,t=500,e=33,i=s(),n=i,r=1e3/240,o=r,a=[],h,l,u,d,f,c,g=function p(m){var y=s()-n,x=m===!0,v,w,_,T;if((y>t||y<0)&&(i+=y-e),n+=y,_=n-i,v=_-o,(v>0||x)&&(T=++d.frame,f=_-d.time*1e3,d.time=_=_/1e3,o+=v+(v>=r?4:r-v),w=1),x||(h=l(p)),w)for(c=0;c<a.length;c++)a[c](_,f,T,m)};return d={time:0,frame:0,tick:function(){g(!0)},deltaRatio:function(m){return f/(1e3/(m||60))},wake:function(){q1&&(!Ff&&Yg()&&(ji=Ff=window,Zg=ji.document||{},Xe.gsap=Re,(ji.gsapVersions||(ji.gsapVersions=[])).push(Re.version),U1(th||ji.GreenSockGlobals||!ji.gsap&&ji||{}),ow.forEach(aw)),u=typeof requestAnimationFrame<"u"&&requestAnimationFrame,h&&d.sleep(),l=u||function(m){return setTimeout(m,o-d.time*1e3+1|0)},vo=1,g(2))},sleep:function(){(u?cancelAnimationFrame:clearTimeout)(h),vo=0,l=_o},lagSmoothing:function(m,y){t=m||1/0,e=Math.min(y||33,t)},fps:function(m){r=1e3/(m||240),o=d.time*1e3+r},add:function(m,y,x){var v=y?function(w,_,T,b){m(w,_,T,b),d.remove(v)}:m;return d.remove(m),a[x?"unshift":"push"](v),fs(),v},remove:function(m,y){~(y=a.indexOf(m))&&a.splice(y,1)&&c>=y&&c--},_listeners:a},d}(),fs=function(){return!vo&&Ue.wake()},At={},EP=/^[\d.\-M][\d.\-,\s]/,CP=/["']/g,PP=function(t){for(var e={},i=t.substr(1,t.length-3).split(":"),n=i[0],r=1,o=i.length,a,h,l;r<o;r++)h=i[r],a=r!==o-1?h.lastIndexOf(","):h.length,l=h.substr(0,a),e[n]=isNaN(l)?l.replace(CP,"").trim():+l,n=h.substr(a+1).trim();return e},IP=function(t){var e=t.indexOf("(")+1,i=t.indexOf(")"),n=t.indexOf("(",e);return t.substring(e,~n&&n<i?t.indexOf(")",i+1):i)},MP=function(t){var e=(t+"").split("("),i=At[e[0]];return i&&e.length>1&&i.config?i.config.apply(null,~t.indexOf("{")?[PP(e[1])]:IP(t).split(",").map($1)):At._CE&&EP.test(t)?At._CE("",t):i},cw=function(t){return function(e){return 1-t(1-e)}},dw=function s(t,e){for(var i=t._first,n;i;)i instanceof xe?s(i,e):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==e&&(i.timeline?s(i.timeline,e):(n=i._ease,i._ease=i._yEase,i._yEase=n,i._yoyo=e)),i=i._next},Ar=function(t,e){return t&&($t(t)?t:At[t]||MP(t))||e},Rr=function(t,e,i,n){i===void 0&&(i=function(h){return 1-e(1-h)}),n===void 0&&(n=function(h){return h<.5?e(h*2)/2:1-e((1-h)*2)/2});var r={easeIn:e,easeOut:i,easeInOut:n},o;return Ie(t,function(a){At[a]=Xe[a]=r,At[o=a.toLowerCase()]=i;for(var h in r)At[o+(h==="easeIn"?".in":h==="easeOut"?".out":".inOut")]=At[a+"."+h]=r[h]}),r},fw=function(t){return function(e){return e<.5?(1-t(1-e*2))/2:.5+t((e-.5)*2)/2}},wu=function s(t,e,i){var n=e>=1?e:1,r=(i||(t?.3:.45))/(e<1?e:1),o=r/Df*(Math.asin(1/n)||0),a=function(u){return u===1?1:n*Math.pow(2,-10*u)*rP((u-o)*r)+1},h=t==="out"?a:t==="in"?function(l){return 1-a(1-l)}:fw(a);return r=Df/r,h.config=function(l,u){return s(t,l,u)},h},Tu=function s(t,e){e===void 0&&(e=1.70158);var i=function(o){return o?--o*o*((e+1)*o+e)+1:0},n=t==="out"?i:t==="in"?function(r){return 1-i(1-r)}:fw(i);return n.config=function(r){return s(t,r)},n};Ie("Linear,Quad,Cubic,Quart,Quint,Strong",function(s,t){var e=t<5?t+1:t;Rr(s+",Power"+(e-1),t?function(i){return Math.pow(i,e)}:function(i){return i},function(i){return 1-Math.pow(1-i,e)},function(i){return i<.5?Math.pow(i*2,e)/2:1-Math.pow((1-i)*2,e)/2})});At.Linear.easeNone=At.none=At.Linear.easeIn;Rr("Elastic",wu("in"),wu("out"),wu());(function(s,t){var e=1/t,i=2*e,n=2.5*e,r=function(a){return a<e?s*a*a:a<i?s*Math.pow(a-1.5/t,2)+.75:a<n?s*(a-=2.25/t)*a+.9375:s*Math.pow(a-2.625/t,2)+.984375};Rr("Bounce",function(o){return 1-r(1-o)},r)})(7.5625,2.75);Rr("Expo",function(s){return Math.pow(2,10*(s-1))*s+s*s*s*s*s*s*(1-s)});Rr("Circ",function(s){return-(j1(1-s*s)-1)});Rr("Sine",function(s){return s===1?1:-nP(s*eP)+1});Rr("Back",Tu("in"),Tu("out"),Tu());At.SteppedEase=At.steps=Xe.SteppedEase={config:function(t,e){t===void 0&&(t=1);var i=1/t,n=t+(e?0:1),r=e?1:0,o=1-zt;return function(a){return((n*Oo(0,o,a)|0)+r)*i}}};ls.ease=At["quad.out"];Ie("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(s){return Qg+=s+","+s+"Params,"});var gw=function(t,e){this.id=iP++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:W1,this.set=e?e.getSetter:sp},bo=function(){function s(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,ds(this,+e.duration,1,1),this.data=e.data,Nt&&(this._ctx=Nt,Nt.data.push(this)),vo||Ue.wake()}var t=s.prototype;return t.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},t.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},t.totalDuration=function(i){return arguments.length?(this._dirty=0,ds(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(i,n){if(fs(),!arguments.length)return this._tTime;var r=this._dp;if(r&&r.smoothChildTiming&&this._ts){for(Ph(this,i),!r._dp||r.parent||Z1(r,this);r&&r.parent;)r.parent._time!==r._start+(r._ts>=0?r._tTime/r._ts:(r.totalDuration()-r._tTime)/-r._ts)&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&Bi(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!n||this._initted&&Math.abs(this._zTime)===zt||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),V1(this,i,n)),this},t.time=function(i,n){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+Vy(this))%(this._dur+this._rDelay)||(i?this._dur:0),n):this._time},t.totalProgress=function(i,n){return arguments.length?this.totalTime(this.totalDuration()*i,n):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},t.progress=function(i,n){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+Vy(this),n):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(i,n){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*r,n):this._repeat?cs(this._tTime,r)+1:1},t.timeScale=function(i,n){if(!arguments.length)return this._rts===-zt?0:this._rts;if(this._rts===i)return this;var r=this.parent&&this._ts?nh(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-zt?0:this._rts,this.totalTime(Oo(-Math.abs(this._delay),this.totalDuration(),r),n!==!1),Ch(this),cP(this)},t.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(fs(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==zt&&(this._tTime-=zt)))),this):this._ps},t.startTime=function(i){if(arguments.length){this._start=i;var n=this.parent||this._dp;return n&&(n._sort||!this.parent)&&Bi(n,this,i-this._delay),this}return this._start},t.endTime=function(i){return this._start+(Pe(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(i){var n=this.parent||this._dp;return n?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?nh(n.rawTime(i),this):this._tTime:this._tTime},t.revert=function(i){i===void 0&&(i=aP);var n=de;return de=i,ep(this)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),de=n,this},t.globalTime=function(i){for(var n=this,r=arguments.length?i:n.rawTime();n;)r=n._start+r/(Math.abs(n._ts)||1),n=n._dp;return!this.parent&&this._sat?this._sat.globalTime(i):r},t.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,$y(this)):this._repeat===-2?1/0:this._repeat},t.repeatDelay=function(i){if(arguments.length){var n=this._time;return this._rDelay=i,$y(this),n?this.time(n):this}return this._rDelay},t.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},t.seek=function(i,n){return this.totalTime(Qe(this,i),Pe(n))},t.restart=function(i,n){return this.play().totalTime(i?-this._delay:0,Pe(n)),this._dur||(this._zTime=-zt),this},t.play=function(i,n){return i!=null&&this.seek(i,n),this.reversed(!1).paused(!1)},t.reverse=function(i,n){return i!=null&&this.seek(i||this.totalDuration(),n),this.reversed(!0).paused(!1)},t.pause=function(i,n){return i!=null&&this.seek(i,n),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-zt:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-zt,this},t.isActive=function(){var i=this.parent||this._dp,n=this._start,r;return!!(!i||this._ts&&this._initted&&i.isActive()&&(r=i.rawTime(!0))>=n&&r<this.endTime(!0)-zt)},t.eventCallback=function(i,n,r){var o=this.vars;return arguments.length>1?(n?(o[i]=n,r&&(o[i+"Params"]=r),i==="onUpdate"&&(this._onUpdate=n)):delete o[i],this):o[i]},t.then=function(i){var n=this;return new Promise(function(r){var o=$t(i)?i:X1,a=function(){var l=n.then;n.then=null,$t(o)&&(o=o(n))&&(o.then||o===n)&&(n.then=l),r(o),n.then=l};n._initted&&n.totalProgress()===1&&n._ts>=0||!n._tTime&&n._ts<0?a():n._prom=a})},t.kill=function(){Gs(this)},s}();Ye(bo.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-zt,_prom:0,_ps:!1,_rts:1});var xe=function(s){F1(t,s);function t(i,n){var r;return i===void 0&&(i={}),r=s.call(this,i)||this,r.labels={},r.smoothChildTiming=!!i.smoothChildTiming,r.autoRemoveChildren=!!i.autoRemoveChildren,r._sort=Pe(i.sortChildren),Gt&&Bi(i.parent||Gt,ln(r),n),i.reversed&&r.reverse(),i.paused&&r.paused(!0),i.scrollTrigger&&K1(ln(r),i.scrollTrigger),r}var e=t.prototype;return e.to=function(n,r,o){return Qs(0,arguments,this),this},e.from=function(n,r,o){return Qs(1,arguments,this),this},e.fromTo=function(n,r,o,a){return Qs(2,arguments,this),this},e.set=function(n,r,o){return r.duration=0,r.parent=this,Js(r).repeatDelay||(r.repeat=0),r.immediateRender=!!r.immediateRender,new Qt(n,r,Qe(this,o),1),this},e.call=function(n,r,o){return Bi(this,Qt.delayedCall(0,n,r),o)},e.staggerTo=function(n,r,o,a,h,l,u){return o.duration=r,o.stagger=o.stagger||a,o.onComplete=l,o.onCompleteParams=u,o.parent=this,new Qt(n,o,Qe(this,h)),this},e.staggerFrom=function(n,r,o,a,h,l,u){return o.runBackwards=1,Js(o).immediateRender=Pe(o.immediateRender),this.staggerTo(n,r,o,a,h,l,u)},e.staggerFromTo=function(n,r,o,a,h,l,u,d){return a.startAt=o,Js(a).immediateRender=Pe(a.immediateRender),this.staggerTo(n,r,a,h,l,u,d)},e.render=function(n,r,o){var a=this._time,h=this._dirty?this.totalDuration():this._tDur,l=this._dur,u=n<=0?0:te(n),d=this._zTime<0!=n<0&&(this._initted||!l),f,c,g,p,m,y,x,v,w,_,T,b;if(this!==Gt&&u>h&&n>=0&&(u=h),u!==this._tTime||o||d){if(a!==this._time&&l&&(u+=this._time-a,n+=this._time-a),f=u,w=this._start,v=this._ts,y=!v,d&&(l||(a=this._zTime),(n||!r)&&(this._zTime=n)),this._repeat){if(T=this._yoyo,m=l+this._rDelay,this._repeat<-1&&n<0)return this.totalTime(m*100+n,r,o);if(f=te(u%m),u===h?(p=this._repeat,f=l):(_=te(u/m),p=~~_,p&&p===_&&(f=l,p--),f>l&&(f=l)),_=cs(this._tTime,m),!a&&this._tTime&&_!==p&&this._tTime-_*m-this._dur<=0&&(_=p),T&&p&1&&(f=l-f,b=1),p!==_&&!this._lock){var S=T&&_&1,A=S===(T&&p&1);if(p<_&&(S=!S),a=S?0:u%l?l:u,this._lock=1,this.render(a||(b?0:te(p*m)),r,!l)._lock=0,this._tTime=u,!r&&this.parent&&He(this,"onRepeat"),this.vars.repeatRefresh&&!b&&(this.invalidate()._lock=1),a&&a!==this._time||y!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(l=this._dur,h=this._tDur,A&&(this._lock=2,a=S?l:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!b&&this.invalidate()),this._lock=0,!this._ts&&!y)return this;dw(this,b)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(x=pP(this,te(a),te(f)),x&&(u-=f-(f=x._start))),this._tTime=u,this._time=f,this._act=!v,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=n,a=0),!a&&u&&!r&&!_&&(He(this,"onStart"),this._tTime!==u))return this;if(f>=a&&n>=0)for(c=this._first;c;){if(g=c._next,(c._act||f>=c._start)&&c._ts&&x!==c){if(c.parent!==this)return this.render(n,r,o);if(c.render(c._ts>0?(f-c._start)*c._ts:(c._dirty?c.totalDuration():c._tDur)+(f-c._start)*c._ts,r,o),f!==this._time||!this._ts&&!y){x=0,g&&(u+=this._zTime=-zt);break}}c=g}else{c=this._last;for(var P=n<0?n:f;c;){if(g=c._prev,(c._act||P<=c._end)&&c._ts&&x!==c){if(c.parent!==this)return this.render(n,r,o);if(c.render(c._ts>0?(P-c._start)*c._ts:(c._dirty?c.totalDuration():c._tDur)+(P-c._start)*c._ts,r,o||de&&ep(c)),f!==this._time||!this._ts&&!y){x=0,g&&(u+=this._zTime=P?-zt:zt);break}}c=g}}if(x&&!r&&(this.pause(),x.render(f>=a?0:-zt)._zTime=f>=a?1:-1,this._ts))return this._start=w,Ch(this),this.render(n,r,o);this._onUpdate&&!r&&He(this,"onUpdate",!0),(u===h&&this._tTime>=this.totalDuration()||!u&&a)&&(w===this._start||Math.abs(v)!==Math.abs(this._ts))&&(this._lock||((n||!l)&&(u===h&&this._ts>0||!u&&this._ts<0)&&Zn(this,1),!r&&!(n<0&&!a)&&(u||a||!h)&&(He(this,u===h&&n>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<h&&this.timeScale()>0)&&this._prom())))}return this},e.add=function(n,r){var o=this;if(wn(r)||(r=Qe(this,r,n)),!(n instanceof bo)){if(pe(n))return n.forEach(function(a){return o.add(a,r)}),this;if(ue(n))return this.addLabel(n,r);if($t(n))n=Qt.delayedCall(0,n);else return this}return this!==n?Bi(this,n,r):this},e.getChildren=function(n,r,o,a){n===void 0&&(n=!0),r===void 0&&(r=!0),o===void 0&&(o=!0),a===void 0&&(a=-si);for(var h=[],l=this._first;l;)l._start>=a&&(l instanceof Qt?r&&h.push(l):(o&&h.push(l),n&&h.push.apply(h,l.getChildren(!0,r,o)))),l=l._next;return h},e.getById=function(n){for(var r=this.getChildren(1,1,1),o=r.length;o--;)if(r[o].vars.id===n)return r[o]},e.remove=function(n){return ue(n)?this.removeLabel(n):$t(n)?this.killTweensOf(n):(n.parent===this&&Eh(this,n),n===this._recent&&(this._recent=this._last),Sr(this))},e.totalTime=function(n,r){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=te(Ue.time-(this._ts>0?n/this._ts:(this.totalDuration()-n)/-this._ts))),s.prototype.totalTime.call(this,n,r),this._forcing=0,this):this._tTime},e.addLabel=function(n,r){return this.labels[n]=Qe(this,r),this},e.removeLabel=function(n){return delete this.labels[n],this},e.addPause=function(n,r,o){var a=Qt.delayedCall(0,r||_o,o);return a.data="isPause",this._hasPause=1,Bi(this,a,Qe(this,n))},e.removePause=function(n){var r=this._first;for(n=Qe(this,n);r;)r._start===n&&r.data==="isPause"&&Zn(r),r=r._next},e.killTweensOf=function(n,r,o){for(var a=this.getTweensOf(n,o),h=a.length;h--;)Bn!==a[h]&&a[h].kill(n,r);return this},e.getTweensOf=function(n,r){for(var o=[],a=oi(n),h=this._first,l=wn(r),u;h;)h instanceof Qt?hP(h._targets,a)&&(l?(!Bn||h._initted&&h._ts)&&h.globalTime(0)<=r&&h.globalTime(h.totalDuration())>r:!r||h.isActive())&&o.push(h):(u=h.getTweensOf(a,r)).length&&o.push.apply(o,u),h=h._next;return o},e.tweenTo=function(n,r){r=r||{};var o=this,a=Qe(o,n),h=r,l=h.startAt,u=h.onStart,d=h.onStartParams,f=h.immediateRender,c,g=Qt.to(o,Ye({ease:r.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:r.duration||Math.abs((a-(l&&"time"in l?l.time:o._time))/o.timeScale())||zt,onStart:function(){if(o.pause(),!c){var m=r.duration||Math.abs((a-(l&&"time"in l?l.time:o._time))/o.timeScale());g._dur!==m&&ds(g,m,0,1).render(g._time,!0,!0),c=1}u&&u.apply(g,d||[])}},r));return f?g.render(0):g},e.tweenFromTo=function(n,r,o){return this.tweenTo(r,Ye({startAt:{time:Qe(this,n)}},o))},e.recent=function(){return this._recent},e.nextLabel=function(n){return n===void 0&&(n=this._time),Xy(this,Qe(this,n))},e.previousLabel=function(n){return n===void 0&&(n=this._time),Xy(this,Qe(this,n),1)},e.currentLabel=function(n){return arguments.length?this.seek(n,!0):this.previousLabel(this._time+zt)},e.shiftChildren=function(n,r,o){o===void 0&&(o=0);for(var a=this._first,h=this.labels,l;a;)a._start>=o&&(a._start+=n,a._end+=n),a=a._next;if(r)for(l in h)h[l]>=o&&(h[l]+=n);return Sr(this)},e.invalidate=function(n){var r=this._first;for(this._lock=0;r;)r.invalidate(n),r=r._next;return s.prototype.invalidate.call(this,n)},e.clear=function(n){n===void 0&&(n=!0);for(var r=this._first,o;r;)o=r._next,this.remove(r),r=o;return this._dp&&(this._time=this._tTime=this._pTime=0),n&&(this.labels={}),Sr(this)},e.totalDuration=function(n){var r=0,o=this,a=o._last,h=si,l,u,d;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-n:n));if(o._dirty){for(d=o.parent;a;)l=a._prev,a._dirty&&a.totalDuration(),u=a._start,u>h&&o._sort&&a._ts&&!o._lock?(o._lock=1,Bi(o,a,u-a._delay,1)._lock=0):h=u,u<0&&a._ts&&(r-=u,(!d&&!o._dp||d&&d.smoothChildTiming)&&(o._start+=u/o._ts,o._time-=u,o._tTime-=u),o.shiftChildren(-u,!1,-1/0),h=0),a._end>r&&a._ts&&(r=a._end),a=l;ds(o,o===Gt&&o._time>r?o._time:r,1,1),o._dirty=0}return o._tDur},t.updateRoot=function(n){if(Gt._ts&&(V1(Gt,nh(n,Gt)),H1=Ue.frame),Ue.frame>=Hy){Hy+=$e.autoSleep||120;var r=Gt._first;if((!r||!r._ts)&&$e.autoSleep&&Ue._listeners.length<2){for(;r&&!r._ts;)r=r._next;r||Ue.sleep()}}},t}(bo);Ye(xe.prototype,{_lock:0,_hasPause:0,_forcing:0});var zP=function(t,e,i,n,r,o,a){var h=new Me(this._pt,t,e,0,1,vw,null,r),l=0,u=0,d,f,c,g,p,m,y,x;for(h.b=i,h.e=n,i+="",n+="",(y=~n.indexOf("random("))&&(n=xo(n)),o&&(x=[i,n],o(x,t,e),i=x[0],n=x[1]),f=i.match(xu)||[];d=xu.exec(n);)g=d[0],p=n.substring(l,d.index),c?c=(c+1)%5:p.substr(-5)==="rgba("&&(c=1),g!==f[u++]&&(m=parseFloat(f[u-1])||0,h._pt={_next:h._pt,p:p||u===1?p:",",s:m,c:g.charAt(1)==="="?ns(m,g)-m:parseFloat(g)-m,m:c&&c<4?Math.round:0},l=xu.lastIndex);return h.c=l<n.length?n.substring(l,n.length):"",h.fp=a,(L1.test(n)||y)&&(h.e=0),this._pt=h,h},ip=function(t,e,i,n,r,o,a,h,l,u){$t(n)&&(n=n(r||0,t,o));var d=t[e],f=i!=="get"?i:$t(d)?l?t[e.indexOf("set")||!$t(t["get"+e.substr(3)])?e:"get"+e.substr(3)](l):t[e]():d,c=$t(d)?l?jP:_w:rp,g;if(ue(n)&&(~n.indexOf("random(")&&(n=xo(n)),n.charAt(1)==="="&&(g=ns(f,n)+(ge(f)||0),(g||g===0)&&(n=g))),!u||f!==n||Uf)return!isNaN(f*n)&&n!==""?(g=new Me(this._pt,t,e,+f||0,n-(f||0),typeof d=="boolean"?BP:xw,0,c),l&&(g.fp=l),a&&g.modifier(a,this,t),this._pt=g):(!d&&!(e in t)&&Kg(e,n),zP.call(this,t,e,f,n,c,h||$e.stringFilter,l))},RP=function(t,e,i,n,r){if($t(t)&&(t=to(t,r,e,i,n)),!Ki(t)||t.style&&t.nodeType||pe(t)||O1(t))return ue(t)?to(t,r,e,i,n):t;var o={},a;for(a in t)o[a]=to(t[a],r,e,i,n);return o},pw=function(t,e,i,n,r,o){var a,h,l,u;if(qe[t]&&(a=new qe[t]).init(r,a.rawVars?e[t]:RP(e[t],n,r,o,i),i,n,o)!==!1&&(i._pt=h=new Me(i._pt,r,t,0,1,a.render,a,0,a.priority),i!==Zr))for(l=i._ptLookup[i._targets.indexOf(r)],u=a._props.length;u--;)l[a._props[u]]=h;return a},Bn,Uf,np=function s(t,e,i){var n=t.vars,r=n.ease,o=n.startAt,a=n.immediateRender,h=n.lazy,l=n.onUpdate,u=n.runBackwards,d=n.yoyoEase,f=n.keyframes,c=n.autoRevert,g=t._dur,p=t._startAt,m=t._targets,y=t.parent,x=y&&y.data==="nested"?y.vars.targets:m,v=t._overwrite==="auto"&&!$g,w=t.timeline,_,T,b,S,A,P,M,C,R,D,F,E,z;if(w&&(!f||!r)&&(r="none"),t._ease=Ar(r,ls.ease),t._yEase=d?cw(Ar(d===!0?r:d,ls.ease)):0,d&&t._yoyo&&!t._repeat&&(d=t._yEase,t._yEase=t._ease,t._ease=d),t._from=!w&&!!n.runBackwards,!w||f&&!n.stagger){if(C=m[0]?Tr(m[0]).harness:0,E=C&&n[C.prop],_=ih(n,Jg),p&&(p._zTime<0&&p.progress(1),e<0&&u&&a&&!c?p.render(-1,!0):p.revert(u&&g?Ca:oP),p._lazy=0),o){if(Zn(t._startAt=Qt.set(m,Ye({data:"isStart",overwrite:!1,parent:y,immediateRender:!0,lazy:!p&&Pe(h),startAt:null,delay:0,onUpdate:l&&function(){return He(t,"onUpdate")},stagger:0},o))),t._startAt._dp=0,t._startAt._sat=t,e<0&&(de||!a&&!c)&&t._startAt.revert(Ca),a&&g&&e<=0&&i<=0){e&&(t._zTime=e);return}}else if(u&&g&&!p){if(e&&(a=!1),b=Ye({overwrite:!1,data:"isFromStart",lazy:a&&!p&&Pe(h),immediateRender:a,stagger:0,parent:y},_),E&&(b[C.prop]=E),Zn(t._startAt=Qt.set(m,b)),t._startAt._dp=0,t._startAt._sat=t,e<0&&(de?t._startAt.revert(Ca):t._startAt.render(-1,!0)),t._zTime=e,!a)s(t._startAt,zt,zt);else if(!e)return}for(t._pt=t._ptCache=0,h=g&&Pe(h)||h&&!g,T=0;T<m.length;T++){if(A=m[T],M=A._gsap||tp(m)[T]._gsap,t._ptLookup[T]=D={},jf[M.id]&&Wn.length&&eh(),F=x===m?T:x.indexOf(A),C&&(R=new C).init(A,E||_,t,F,x)!==!1&&(t._pt=S=new Me(t._pt,A,R.name,0,1,R.render,R,0,R.priority),R._props.forEach(function(I){D[I]=S}),R.priority&&(P=1)),!C||E)for(b in _)qe[b]&&(R=pw(b,_,t,F,A,x))?R.priority&&(P=1):D[b]=S=ip.call(t,A,b,"get",_[b],F,x,0,n.stringFilter);t._op&&t._op[T]&&t.kill(A,t._op[T]),v&&t._pt&&(Bn=t,Gt.killTweensOf(A,D,t.globalTime(e)),z=!t.parent,Bn=0),t._pt&&h&&(jf[M.id]=1)}P&&bw(t),t._onInit&&t._onInit(t)}t._onUpdate=l,t._initted=(!t._op||t._pt)&&!z,f&&e<=0&&w.render(si,!0,!0)},DP=function(t,e,i,n,r,o,a,h){var l=(t._pt&&t._ptCache||(t._ptCache={}))[e],u,d,f,c;if(!l)for(l=t._ptCache[e]=[],f=t._ptLookup,c=t._targets.length;c--;){if(u=f[c][e],u&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==e&&u.fp!==e;)u=u._next;if(!u)return Uf=1,t.vars[e]="+=0",np(t,a),Uf=0,h?yo(e+" not eligible for reset"):1;l.push(u)}for(c=l.length;c--;)d=l[c],u=d._pt||d,u.s=(n||n===0)&&!r?n:u.s+(n||0)+o*u.c,u.c=i-u.s,d.e&&(d.e=Yt(i)+ge(d.e)),d.b&&(d.b=u.s+ge(d.b))},kP=function(t,e){var i=t[0]?Tr(t[0]).harness:0,n=i&&i.aliases,r,o,a,h;if(!n)return e;r=us({},e);for(o in n)if(o in r)for(h=n[o].split(","),a=h.length;a--;)r[h[a]]=r[o];return r},FP=function(t,e,i,n){var r=e.ease||n||"power1.inOut",o,a;if(pe(e))a=i[t]||(i[t]=[]),e.forEach(function(h,l){return a.push({t:l/(e.length-1)*100,v:h,e:r})});else for(o in e)a=i[o]||(i[o]=[]),o==="ease"||a.push({t:parseFloat(t),v:e[o],e:r})},to=function(t,e,i,n,r){return $t(t)?t.call(e,i,n,r):ue(t)&&~t.indexOf("random(")?xo(t):t},mw=Qg+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",yw={};Ie(mw+",id,stagger,delay,duration,paused,scrollTrigger",function(s){return yw[s]=1});var Qt=function(s){F1(t,s);function t(i,n,r,o){var a;typeof n=="number"&&(r.duration=n,n=r,r=null),a=s.call(this,o?n:Js(n))||this;var h=a.vars,l=h.duration,u=h.delay,d=h.immediateRender,f=h.stagger,c=h.overwrite,g=h.keyframes,p=h.defaults,m=h.scrollTrigger,y=h.yoyoEase,x=n.parent||Gt,v=(pe(i)||O1(i)?wn(i[0]):"length"in n)?[i]:oi(i),w,_,T,b,S,A,P,M;if(a._targets=v.length?tp(v):yo("GSAP target "+i+" not found. https://gsap.com",!$e.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=c,g||f||ga(l)||ga(u)){if(n=a.vars,w=a.timeline=new xe({data:"nested",defaults:p||{},targets:x&&x.data==="nested"?x.vars.targets:v}),w.kill(),w.parent=w._dp=ln(a),w._start=0,f||ga(l)||ga(u)){if(b=v.length,P=f&&ew(f),Ki(f))for(S in f)~mw.indexOf(S)&&(M||(M={}),M[S]=f[S]);for(_=0;_<b;_++)T=ih(n,yw),T.stagger=0,y&&(T.yoyoEase=y),M&&us(T,M),A=v[_],T.duration=+to(l,ln(a),_,A,v),T.delay=(+to(u,ln(a),_,A,v)||0)-a._delay,!f&&b===1&&T.delay&&(a._delay=u=T.delay,a._start+=u,T.delay=0),w.to(A,T,P?P(_,A,v):0),w._ease=At.none;w.duration()?l=u=0:a.timeline=0}else if(g){Js(Ye(w.vars.defaults,{ease:"none"})),w._ease=Ar(g.ease||n.ease||"none");var C=0,R,D,F;if(pe(g))g.forEach(function(E){return w.to(v,E,">")}),w.duration();else{T={};for(S in g)S==="ease"||S==="easeEach"||FP(S,g[S],T,g.easeEach);for(S in T)for(R=T[S].sort(function(E,z){return E.t-z.t}),C=0,_=0;_<R.length;_++)D=R[_],F={ease:D.e,duration:(D.t-(_?R[_-1].t:0))/100*l},F[S]=D.v,w.to(v,F,C),C+=F.duration;w.duration()<l&&w.to({},{duration:l-w.duration()})}}l||a.duration(l=w.duration())}else a.timeline=0;return c===!0&&!$g&&(Bn=ln(a),Gt.killTweensOf(v),Bn=0),Bi(x,ln(a),r),n.reversed&&a.reverse(),n.paused&&a.paused(!0),(d||!l&&!g&&a._start===te(x._time)&&Pe(d)&&dP(ln(a))&&x.data!=="nested")&&(a._tTime=-zt,a.render(Math.max(0,-u)||0)),m&&K1(ln(a),m),a}var e=t.prototype;return e.render=function(n,r,o){var a=this._time,h=this._tDur,l=this._dur,u=n<0,d=n>h-zt&&!u?h:n<zt?0:n,f,c,g,p,m,y,x,v,w;if(!l)gP(this,n,r,o);else if(d!==this._tTime||!n||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u||this._lazy){if(f=d,v=this.timeline,this._repeat){if(p=l+this._rDelay,this._repeat<-1&&u)return this.totalTime(p*100+n,r,o);if(f=te(d%p),d===h?(g=this._repeat,f=l):(m=te(d/p),g=~~m,g&&g===m?(f=l,g--):f>l&&(f=l)),y=this._yoyo&&g&1,y&&(w=this._yEase,f=l-f),m=cs(this._tTime,p),f===a&&!o&&this._initted&&g===m)return this._tTime=d,this;g!==m&&(v&&this._yEase&&dw(v,y),this.vars.repeatRefresh&&!y&&!this._lock&&f!==p&&this._initted&&(this._lock=o=1,this.render(te(p*g),!0).invalidate()._lock=0))}if(!this._initted){if(J1(this,u?n:f,o,r,d))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&g!==m))return this;if(l!==this._dur)return this.render(n,r,o)}if(this._tTime=d,this._time=f,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=x=(w||this._ease)(f/l),this._from&&(this.ratio=x=1-x),!a&&d&&!r&&!m&&(He(this,"onStart"),this._tTime!==d))return this;for(c=this._pt;c;)c.r(x,c.d),c=c._next;v&&v.render(n<0?n:v._dur*v._ease(f/this._dur),r,o)||this._startAt&&(this._zTime=n),this._onUpdate&&!r&&(u&&Of(this,n,r,o),He(this,"onUpdate")),this._repeat&&g!==m&&this.vars.onRepeat&&!r&&this.parent&&He(this,"onRepeat"),(d===this._tDur||!d)&&this._tTime===d&&(u&&!this._onUpdate&&Of(this,n,!0,!0),(n||!l)&&(d===this._tDur&&this._ts>0||!d&&this._ts<0)&&Zn(this,1),!r&&!(u&&!a)&&(d||a||y)&&(He(this,d===h?"onComplete":"onReverseComplete",!0),this._prom&&!(d<h&&this.timeScale()>0)&&this._prom()))}return this},e.targets=function(){return this._targets},e.invalidate=function(n){return(!n||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(n),s.prototype.invalidate.call(this,n)},e.resetTo=function(n,r,o,a,h){vo||Ue.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),u;return this._initted||np(this,l),u=this._ease(l/this._dur),DP(this,n,r,o,a,u,l,h)?this.resetTo(n,r,o,a,1):(Ph(this,0),this.parent||Y1(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},e.kill=function(n,r){if(r===void 0&&(r="all"),!n&&(!r||r==="all"))return this._lazy=this._pt=0,this.parent?Gs(this):this.scrollTrigger&&this.scrollTrigger.kill(!!de),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(n,r,Bn&&Bn.vars.overwrite!==!0)._first||Gs(this),this.parent&&o!==this.timeline.totalDuration()&&ds(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,h=n?oi(n):a,l=this._ptLookup,u=this._pt,d,f,c,g,p,m,y;if((!r||r==="all")&&uP(a,h))return r==="all"&&(this._pt=0),Gs(this);for(d=this._op=this._op||[],r!=="all"&&(ue(r)&&(p={},Ie(r,function(x){return p[x]=1}),r=p),r=kP(a,r)),y=a.length;y--;)if(~h.indexOf(a[y])){f=l[y],r==="all"?(d[y]=r,g=f,c={}):(c=d[y]=d[y]||{},g=r);for(p in g)m=f&&f[p],m&&((!("kill"in m.d)||m.d.kill(p)===!0)&&Eh(this,m,"_pt"),delete f[p]),c!=="all"&&(c[p]=1)}return this._initted&&!this._pt&&u&&Gs(this),this},t.to=function(n,r){return new t(n,r,arguments[2])},t.from=function(n,r){return Qs(1,arguments)},t.delayedCall=function(n,r,o,a){return new t(r,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:n,onComplete:r,onReverseComplete:r,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},t.fromTo=function(n,r,o){return Qs(2,arguments)},t.set=function(n,r){return r.duration=0,r.repeatDelay||(r.repeat=0),new t(n,r)},t.killTweensOf=function(n,r,o){return Gt.killTweensOf(n,r,o)},t}(bo);Ye(Qt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Ie("staggerTo,staggerFrom,staggerFromTo",function(s){Qt[s]=function(){var t=new xe,e=Lf.call(arguments,0);return e.splice(s==="staggerFromTo"?5:4,0,0),t[s].apply(t,e)}});var rp=function(t,e,i){return t[e]=i},_w=function(t,e,i){return t[e](i)},jP=function(t,e,i,n){return t[e](n.fp,i)},OP=function(t,e,i){return t.setAttribute(e,i)},sp=function(t,e){return $t(t[e])?_w:Xg(t[e])&&t.setAttribute?OP:rp},xw=function(t,e){return e.set(e.t,e.p,Math.round((e.s+e.c*t)*1e6)/1e6,e)},BP=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},vw=function(t,e){var i=e._pt,n="";if(!t&&e.b)n=e.b;else if(t===1&&e.e)n=e.e;else{for(;i;)n=i.p+(i.m?i.m(i.s+i.c*t):Math.round((i.s+i.c*t)*1e4)/1e4)+n,i=i._next;n+=e.c}e.set(e.t,e.p,n,e)},op=function(t,e){for(var i=e._pt;i;)i.r(t,i.d),i=i._next},LP=function(t,e,i,n){for(var r=this._pt,o;r;)o=r._next,r.p===n&&r.modifier(t,e,i),r=o},NP=function(t){for(var e=this._pt,i,n;e;)n=e._next,e.p===t&&!e.op||e.op===t?Eh(this,e,"_pt"):e.dep||(i=1),e=n;return!i},qP=function(t,e,i,n){n.mSet(t,e,n.m.call(n.tween,i,n.mt),n)},bw=function(t){for(var e=t._pt,i,n,r,o;e;){for(i=e._next,n=r;n&&n.pr>e.pr;)n=n._next;(e._prev=n?n._prev:o)?e._prev._next=e:r=e,(e._next=n)?n._prev=e:o=e,e=i}t._pt=r},Me=function(){function s(e,i,n,r,o,a,h,l,u){this.t=i,this.s=r,this.c=o,this.p=n,this.r=a||xw,this.d=h||this,this.set=l||rp,this.pr=u||0,this._next=e,e&&(e._prev=this)}var t=s.prototype;return t.modifier=function(i,n,r){this.mSet=this.mSet||this.set,this.set=qP,this.m=i,this.mt=r,this.tween=n},s}();Ie(Qg+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(s){return Jg[s]=1});Xe.TweenMax=Xe.TweenLite=Qt;Xe.TimelineLite=Xe.TimelineMax=xe;Gt=new xe({sortChildren:!1,defaults:ls,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});$e.stringFilter=uw;var Er=[],Ia={},UP=[],Zy=0,GP=0,Su=function(t){return(Ia[t]||UP).map(function(e){return e()})},Gf=function(){var t=Date.now(),e=[];t-Zy>2&&(Su("matchMediaInit"),Er.forEach(function(i){var n=i.queries,r=i.conditions,o,a,h,l;for(a in n)o=ji.matchMedia(n[a]).matches,o&&(h=1),o!==r[a]&&(r[a]=o,l=1);l&&(i.revert(),h&&e.push(i))}),Su("matchMediaRevert"),e.forEach(function(i){return i.onMatch(i,function(n){return i.add(null,n)})}),Zy=t,Su("matchMedia"))},ww=function(){function s(e,i){this.selector=i&&Nf(i),this.data=[],this._r=[],this.isReverted=!1,this.id=GP++,e&&this.add(e)}var t=s.prototype;return t.add=function(i,n,r){$t(i)&&(r=n,n=i,i=$t);var o=this,a=function(){var l=Nt,u=o.selector,d;return l&&l!==o&&l.data.push(o),r&&(o.selector=Nf(r)),Nt=o,d=n.apply(o,arguments),$t(d)&&o._r.push(d),Nt=l,o.selector=u,o.isReverted=!1,d};return o.last=a,i===$t?a(o,function(h){return o.add(null,h)}):i?o[i]=a:a},t.ignore=function(i){var n=Nt;Nt=null,i(this),Nt=n},t.getTweens=function(){var i=[];return this.data.forEach(function(n){return n instanceof s?i.push.apply(i,n.getTweens()):n instanceof Qt&&!(n.parent&&n.parent.data==="nested")&&i.push(n)}),i},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(i,n){var r=this;if(i?function(){for(var a=r.getTweens(),h=r.data.length,l;h--;)l=r.data[h],l.data==="isFlip"&&(l.revert(),l.getChildren(!0,!0,!1).forEach(function(u){return a.splice(a.indexOf(u),1)}));for(a.map(function(u){return{g:u._dur||u._delay||u._sat&&!u._sat.vars.immediateRender?u.globalTime(0):-1/0,t:u}}).sort(function(u,d){return d.g-u.g||-1/0}).forEach(function(u){return u.t.revert(i)}),h=r.data.length;h--;)l=r.data[h],l instanceof xe?l.data!=="nested"&&(l.scrollTrigger&&l.scrollTrigger.revert(),l.kill()):!(l instanceof Qt)&&l.revert&&l.revert(i);r._r.forEach(function(u){return u(i,r)}),r.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),n)for(var o=Er.length;o--;)Er[o].id===this.id&&Er.splice(o,1)},t.revert=function(i){this.kill(i||{})},s}(),HP=function(){function s(e){this.contexts=[],this.scope=e,Nt&&Nt.data.push(this)}var t=s.prototype;return t.add=function(i,n,r){Ki(i)||(i={matches:i});var o=new ww(0,r||this.scope),a=o.conditions={},h,l,u;Nt&&!o.selector&&(o.selector=Nt.selector),this.contexts.push(o),n=o.add("onMatch",n),o.queries=i;for(l in i)l==="all"?u=1:(h=ji.matchMedia(i[l]),h&&(Er.indexOf(o)<0&&Er.push(o),(a[l]=h.matches)&&(u=1),h.addListener?h.addListener(Gf):h.addEventListener("change",Gf)));return u&&n(o,function(d){return o.add(null,d)}),this},t.revert=function(i){this.kill(i||{})},t.kill=function(i){this.contexts.forEach(function(n){return n.kill(i,!0)})},s}(),rh={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e.forEach(function(n){return aw(n)})},timeline:function(t){return new xe(t)},getTweensOf:function(t,e){return Gt.getTweensOf(t,e)},getProperty:function(t,e,i,n){ue(t)&&(t=oi(t)[0]);var r=Tr(t||{}).get,o=i?X1:$1;return i==="native"&&(i=""),t&&(e?o((qe[e]&&qe[e].get||r)(t,e,i,n)):function(a,h,l){return o((qe[a]&&qe[a].get||r)(t,a,h,l))})},quickSetter:function(t,e,i){if(t=oi(t),t.length>1){var n=t.map(function(u){return Re.quickSetter(u,e,i)}),r=n.length;return function(u){for(var d=r;d--;)n[d](u)}}t=t[0]||{};var o=qe[e],a=Tr(t),h=a.harness&&(a.harness.aliases||{})[e]||e,l=o?function(u){var d=new o;Zr._pt=0,d.init(t,i?u+i:u,Zr,0,[t]),d.render(1,d),Zr._pt&&op(1,Zr)}:a.set(t,h);return o?l:function(u){return l(t,h,i?u+i:u,a,1)}},quickTo:function(t,e,i){var n,r=Re.to(t,Ye((n={},n[e]="+=0.1",n.paused=!0,n.stagger=0,n),i||{})),o=function(h,l,u){return r.resetTo(e,h,l,u)};return o.tween=r,o},isTweening:function(t){return Gt.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Ar(t.ease,ls.ease)),Wy(ls,t||{})},config:function(t){return Wy($e,t||{})},registerEffect:function(t){var e=t.name,i=t.effect,n=t.plugins,r=t.defaults,o=t.extendTimeline;(n||"").split(",").forEach(function(a){return a&&!qe[a]&&!Xe[a]&&yo(e+" effect requires "+a+" plugin.")}),vu[e]=function(a,h,l){return i(oi(a),Ye(h||{},r),l)},o&&(xe.prototype[e]=function(a,h,l){return this.add(vu[e](a,Ki(h)?h:(l=h)&&{},this),l)})},registerEase:function(t,e){At[t]=Ar(e)},parseEase:function(t,e){return arguments.length?Ar(t,e):At},getById:function(t){return Gt.getById(t)},exportRoot:function(t,e){t===void 0&&(t={});var i=new xe(t),n,r;for(i.smoothChildTiming=Pe(t.smoothChildTiming),Gt.remove(i),i._dp=0,i._time=i._tTime=Gt._time,n=Gt._first;n;)r=n._next,(e||!(!n._dur&&n instanceof Qt&&n.vars.onComplete===n._targets[0]))&&Bi(i,n,n._start-n._delay),n=r;return Bi(Gt,i,0),i},context:function(t,e){return t?new ww(t,e):Nt},matchMedia:function(t){return new HP(t)},matchMediaRefresh:function(){return Er.forEach(function(t){var e=t.conditions,i,n;for(n in e)e[n]&&(e[n]=!1,i=1);i&&t.revert()})||Gf()},addEventListener:function(t,e){var i=Ia[t]||(Ia[t]=[]);~i.indexOf(e)||i.push(e)},removeEventListener:function(t,e){var i=Ia[t],n=i&&i.indexOf(e);n>=0&&i.splice(n,1)},utils:{wrap:wP,wrapYoyo:TP,distribute:ew,random:nw,snap:iw,normalize:bP,getUnit:ge,clamp:yP,splitColor:hw,toArray:oi,selector:Nf,mapRange:sw,pipe:xP,unitize:vP,interpolate:SP,shuffle:tw},install:U1,effects:vu,ticker:Ue,updateRoot:xe.updateRoot,plugins:qe,globalTimeline:Gt,core:{PropTween:Me,globals:G1,Tween:Qt,Timeline:xe,Animation:bo,getCache:Tr,_removeLinkedListItem:Eh,reverting:function(){return de},context:function(t){return t&&Nt&&(Nt.data.push(t),t._ctx=Nt),Nt},suppressOverwrites:function(t){return $g=t}}};Ie("to,from,fromTo,delayedCall,set,killTweensOf",function(s){return rh[s]=Qt[s]});Ue.add(xe.updateRoot);Zr=rh.to({},{duration:0});var WP=function(t,e){for(var i=t._pt;i&&i.p!==e&&i.op!==e&&i.fp!==e;)i=i._next;return i},VP=function(t,e){var i=t._targets,n,r,o;for(n in e)for(r=i.length;r--;)o=t._ptLookup[r][n],o&&(o=o.d)&&(o._pt&&(o=WP(o,n)),o&&o.modifier&&o.modifier(e[n],t,i[r],n))},Au=function(t,e){return{name:t,headless:1,rawVars:1,init:function(n,r,o){o._onInit=function(a){var h,l;if(ue(r)&&(h={},Ie(r,function(u){return h[u]=1}),r=h),e){h={};for(l in r)h[l]=e(r[l]);r=h}VP(a,r)}}}},Re=rh.registerPlugin({name:"attr",init:function(t,e,i,n,r){var o,a,h;this.tween=i;for(o in e)h=t.getAttribute(o)||"",a=this.add(t,"setAttribute",(h||0)+"",e[o],n,r,0,0,o),a.op=o,a.b=h,this._props.push(o)},render:function(t,e){for(var i=e._pt;i;)de?i.set(i.t,i.p,i.b,i):i.r(t,i.d),i=i._next}},{name:"endArray",headless:1,init:function(t,e){for(var i=e.length;i--;)this.add(t,i,t[i]||0,e[i],0,0,0,0,0,1)}},Au("roundProps",qf),Au("modifiers"),Au("snap",iw))||rh;Qt.version=xe.version=Re.version="3.13.0";q1=1;Yg()&&fs();At.Power0;At.Power1;At.Power2;At.Power3;At.Power4;At.Linear;At.Quad;At.Cubic;At.Quart;At.Quint;At.Strong;At.Elastic;At.Back;At.SteppedEase;At.Bounce;At.Sine;At.Expo;At.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Ky,Ln,rs,ap,_r,Jy,hp,$P=function(){return typeof window<"u"},Tn={},mr=180/Math.PI,ss=Math.PI/180,qr=Math.atan2,Qy=1e8,lp=/([A-Z])/g,XP=/(left|right|width|margin|padding|x)/i,YP=/[\s,\(]\S/,Ui={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Hf=function(t,e){return e.set(e.t,e.p,Math.round((e.s+e.c*t)*1e4)/1e4+e.u,e)},ZP=function(t,e){return e.set(e.t,e.p,t===1?e.e:Math.round((e.s+e.c*t)*1e4)/1e4+e.u,e)},KP=function(t,e){return e.set(e.t,e.p,t?Math.round((e.s+e.c*t)*1e4)/1e4+e.u:e.b,e)},JP=function(t,e){var i=e.s+e.c*t;e.set(e.t,e.p,~~(i+(i<0?-.5:.5))+e.u,e)},Tw=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},Sw=function(t,e){return e.set(e.t,e.p,t!==1?e.b:e.e,e)},QP=function(t,e,i){return t.style[e]=i},tI=function(t,e,i){return t.style.setProperty(e,i)},eI=function(t,e,i){return t._gsap[e]=i},iI=function(t,e,i){return t._gsap.scaleX=t._gsap.scaleY=i},nI=function(t,e,i,n,r){var o=t._gsap;o.scaleX=o.scaleY=i,o.renderTransform(r,o)},rI=function(t,e,i,n,r){var o=t._gsap;o[e]=i,o.renderTransform(r,o)},Ht="transform",ze=Ht+"Origin",sI=function s(t,e){var i=this,n=this.target,r=n.style,o=n._gsap;if(t in Tn&&r){if(this.tfm=this.tfm||{},t!=="transform")t=Ui[t]||t,~t.indexOf(",")?t.split(",").forEach(function(a){return i.tfm[a]=cn(n,a)}):this.tfm[t]=o.x?o[t]:cn(n,t),t===ze&&(this.tfm.zOrigin=o.zOrigin);else return Ui.transform.split(",").forEach(function(a){return s.call(i,a,e)});if(this.props.indexOf(Ht)>=0)return;o.svg&&(this.svgo=n.getAttribute("data-svg-origin"),this.props.push(ze,e,"")),t=Ht}(r||e)&&this.props.push(t,e,r[t])},Aw=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},oI=function(){var t=this.props,e=this.target,i=e.style,n=e._gsap,r,o;for(r=0;r<t.length;r+=3)t[r+1]?t[r+1]===2?e[t[r]](t[r+2]):e[t[r]]=t[r+2]:t[r+2]?i[t[r]]=t[r+2]:i.removeProperty(t[r].substr(0,2)==="--"?t[r]:t[r].replace(lp,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)n[o]=this.tfm[o];n.svg&&(n.renderTransform(),e.setAttribute("data-svg-origin",this.svgo||"")),r=hp(),(!r||!r.isStart)&&!i[Ht]&&(Aw(i),n.zOrigin&&i[ze]&&(i[ze]+=" "+n.zOrigin+"px",n.zOrigin=0,n.renderTransform()),n.uncache=1)}},Ew=function(t,e){var i={target:t,props:[],revert:oI,save:sI};return t._gsap||Re.core.getCache(t),e&&t.style&&t.nodeType&&e.split(",").forEach(function(n){return i.save(n)}),i},Cw,Wf=function(t,e){var i=Ln.createElementNS?Ln.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Ln.createElement(t);return i&&i.style?i:Ln.createElement(t)},ai=function s(t,e,i){var n=getComputedStyle(t);return n[e]||n.getPropertyValue(e.replace(lp,"-$1").toLowerCase())||n.getPropertyValue(e)||!i&&s(t,gs(e)||e,1)||""},t0="O,Moz,ms,Ms,Webkit".split(","),gs=function(t,e,i){var n=e||_r,r=n.style,o=5;if(t in r&&!i)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);o--&&!(t0[o]+t in r););return o<0?null:(o===3?"ms":o>=0?t0[o]:"")+t},Vf=function(){$P()&&window.document&&(Ky=window,Ln=Ky.document,rs=Ln.documentElement,_r=Wf("div")||{style:{}},Wf("div"),Ht=gs(Ht),ze=Ht+"Origin",_r.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Cw=!!gs("perspective"),hp=Re.core.reverting,ap=1)},e0=function(t){var e=t.ownerSVGElement,i=Wf("svg",e&&e.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=t.cloneNode(!0),r;n.style.display="block",i.appendChild(n),rs.appendChild(i);try{r=n.getBBox()}catch{}return i.removeChild(n),rs.removeChild(i),r},i0=function(t,e){for(var i=e.length;i--;)if(t.hasAttribute(e[i]))return t.getAttribute(e[i])},Pw=function(t){var e,i;try{e=t.getBBox()}catch{e=e0(t),i=1}return e&&(e.width||e.height)||i||(e=e0(t)),e&&!e.width&&!e.x&&!e.y?{x:+i0(t,["x","cx","x1"])||0,y:+i0(t,["y","cy","y1"])||0,width:0,height:0}:e},Iw=function(t){return!!(t.getCTM&&(!t.parentNode||t.ownerSVGElement)&&Pw(t))},Ir=function(t,e){if(e){var i=t.style,n;e in Tn&&e!==ze&&(e=Ht),i.removeProperty?(n=e.substr(0,2),(n==="ms"||e.substr(0,6)==="webkit")&&(e="-"+e),i.removeProperty(n==="--"?e:e.replace(lp,"-$1").toLowerCase())):i.removeAttribute(e)}},Nn=function(t,e,i,n,r,o){var a=new Me(t._pt,e,i,0,1,o?Sw:Tw);return t._pt=a,a.b=n,a.e=r,t._props.push(i),a},n0={deg:1,rad:1,turn:1},aI={grid:1,flex:1},Kn=function s(t,e,i,n){var r=parseFloat(i)||0,o=(i+"").trim().substr((r+"").length)||"px",a=_r.style,h=XP.test(e),l=t.tagName.toLowerCase()==="svg",u=(l?"client":"offset")+(h?"Width":"Height"),d=100,f=n==="px",c=n==="%",g,p,m,y;if(n===o||!r||n0[n]||n0[o])return r;if(o!=="px"&&!f&&(r=s(t,e,i,"px")),y=t.getCTM&&Iw(t),(c||o==="%")&&(Tn[e]||~e.indexOf("adius")))return g=y?t.getBBox()[h?"width":"height"]:t[u],Yt(c?r/g*d:r/100*g);if(a[h?"width":"height"]=d+(f?o:n),p=n!=="rem"&&~e.indexOf("adius")||n==="em"&&t.appendChild&&!l?t:t.parentNode,y&&(p=(t.ownerSVGElement||{}).parentNode),(!p||p===Ln||!p.appendChild)&&(p=Ln.body),m=p._gsap,m&&c&&m.width&&h&&m.time===Ue.time&&!m.uncache)return Yt(r/m.width*d);if(c&&(e==="height"||e==="width")){var x=t.style[e];t.style[e]=d+n,g=t[u],x?t.style[e]=x:Ir(t,e)}else(c||o==="%")&&!aI[ai(p,"display")]&&(a.position=ai(t,"position")),p===t&&(a.position="static"),p.appendChild(_r),g=_r[u],p.removeChild(_r),a.position="absolute";return h&&c&&(m=Tr(p),m.time=Ue.time,m.width=p[u]),Yt(f?g*r/d:g&&r?d/g*r:0)},cn=function(t,e,i,n){var r;return ap||Vf(),e in Ui&&e!=="transform"&&(e=Ui[e],~e.indexOf(",")&&(e=e.split(",")[0])),Tn[e]&&e!=="transform"?(r=To(t,n),r=e!=="transformOrigin"?r[e]:r.svg?r.origin:oh(ai(t,ze))+" "+r.zOrigin+"px"):(r=t.style[e],(!r||r==="auto"||n||~(r+"").indexOf("calc("))&&(r=sh[e]&&sh[e](t,e,i)||ai(t,e)||W1(t,e)||(e==="opacity"?1:0))),i&&!~(r+"").trim().indexOf(" ")?Kn(t,e,r,i)+i:r},hI=function(t,e,i,n){if(!i||i==="none"){var r=gs(e,t,1),o=r&&ai(t,r,1);o&&o!==i?(e=r,i=o):e==="borderColor"&&(i=ai(t,"borderTopColor"))}var a=new Me(this._pt,t.style,e,0,1,vw),h=0,l=0,u,d,f,c,g,p,m,y,x,v,w,_;if(a.b=i,a.e=n,i+="",n+="",n.substring(0,6)==="var(--"&&(n=ai(t,n.substring(4,n.indexOf(")")))),n==="auto"&&(p=t.style[e],t.style[e]=n,n=ai(t,e)||n,p?t.style[e]=p:Ir(t,e)),u=[i,n],uw(u),i=u[0],n=u[1],f=i.match(Yr)||[],_=n.match(Yr)||[],_.length){for(;d=Yr.exec(n);)m=d[0],x=n.substring(h,d.index),g?g=(g+1)%5:(x.substr(-5)==="rgba("||x.substr(-5)==="hsla(")&&(g=1),m!==(p=f[l++]||"")&&(c=parseFloat(p)||0,w=p.substr((c+"").length),m.charAt(1)==="="&&(m=ns(c,m)+w),y=parseFloat(m),v=m.substr((y+"").length),h=Yr.lastIndex-v.length,v||(v=v||$e.units[e]||w,h===n.length&&(n+=v,a.e+=v)),w!==v&&(c=Kn(t,e,p,v)||0),a._pt={_next:a._pt,p:x||l===1?x:",",s:c,c:y-c,m:g&&g<4||e==="zIndex"?Math.round:0});a.c=h<n.length?n.substring(h,n.length):""}else a.r=e==="display"&&n==="none"?Sw:Tw;return L1.test(n)&&(a.e=0),this._pt=a,a},r0={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},lI=function(t){var e=t.split(" "),i=e[0],n=e[1]||"50%";return(i==="top"||i==="bottom"||n==="left"||n==="right")&&(t=i,i=n,n=t),e[0]=r0[i]||i,e[1]=r0[n]||n,e.join(" ")},uI=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var i=e.t,n=i.style,r=e.u,o=i._gsap,a,h,l;if(r==="all"||r===!0)n.cssText="",h=1;else for(r=r.split(","),l=r.length;--l>-1;)a=r[l],Tn[a]&&(h=1,a=a==="transformOrigin"?ze:Ht),Ir(i,a);h&&(Ir(i,Ht),o&&(o.svg&&i.removeAttribute("transform"),n.scale=n.rotate=n.translate="none",To(i,1),o.uncache=1,Aw(n)))}},sh={clearProps:function(t,e,i,n,r){if(r.data!=="isFromStart"){var o=t._pt=new Me(t._pt,e,i,0,0,uI);return o.u=n,o.pr=-10,o.tween=r,t._props.push(i),1}}},wo=[1,0,0,1,0,0],Mw={},zw=function(t){return t==="matrix(1, 0, 0, 1, 0, 0)"||t==="none"||!t},s0=function(t){var e=ai(t,Ht);return zw(e)?wo:e.substr(7).match(B1).map(Yt)},up=function(t,e){var i=t._gsap||Tr(t),n=t.style,r=s0(t),o,a,h,l;return i.svg&&t.getAttribute("transform")?(h=t.transform.baseVal.consolidate().matrix,r=[h.a,h.b,h.c,h.d,h.e,h.f],r.join(",")==="1,0,0,1,0,0"?wo:r):(r===wo&&!t.offsetParent&&t!==rs&&!i.svg&&(h=n.display,n.display="block",o=t.parentNode,(!o||!t.offsetParent&&!t.getBoundingClientRect().width)&&(l=1,a=t.nextElementSibling,rs.appendChild(t)),r=s0(t),h?n.display=h:Ir(t,"display"),l&&(a?o.insertBefore(t,a):o?o.appendChild(t):rs.removeChild(t))),e&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r)},$f=function(t,e,i,n,r,o){var a=t._gsap,h=r||up(t,!0),l=a.xOrigin||0,u=a.yOrigin||0,d=a.xOffset||0,f=a.yOffset||0,c=h[0],g=h[1],p=h[2],m=h[3],y=h[4],x=h[5],v=e.split(" "),w=parseFloat(v[0])||0,_=parseFloat(v[1])||0,T,b,S,A;i?h!==wo&&(b=c*m-g*p)&&(S=w*(m/b)+_*(-p/b)+(p*x-m*y)/b,A=w*(-g/b)+_*(c/b)-(c*x-g*y)/b,w=S,_=A):(T=Pw(t),w=T.x+(~v[0].indexOf("%")?w/100*T.width:w),_=T.y+(~(v[1]||v[0]).indexOf("%")?_/100*T.height:_)),n||n!==!1&&a.smooth?(y=w-l,x=_-u,a.xOffset=d+(y*c+x*p)-y,a.yOffset=f+(y*g+x*m)-x):a.xOffset=a.yOffset=0,a.xOrigin=w,a.yOrigin=_,a.smooth=!!n,a.origin=e,a.originIsAbsolute=!!i,t.style[ze]="0px 0px",o&&(Nn(o,a,"xOrigin",l,w),Nn(o,a,"yOrigin",u,_),Nn(o,a,"xOffset",d,a.xOffset),Nn(o,a,"yOffset",f,a.yOffset)),t.setAttribute("data-svg-origin",w+" "+_)},To=function(t,e){var i=t._gsap||new gw(t);if("x"in i&&!e&&!i.uncache)return i;var n=t.style,r=i.scaleX<0,o="px",a="deg",h=getComputedStyle(t),l=ai(t,ze)||"0",u,d,f,c,g,p,m,y,x,v,w,_,T,b,S,A,P,M,C,R,D,F,E,z,I,O,k,j,B,L,U,H;return u=d=f=p=m=y=x=v=w=0,c=g=1,i.svg=!!(t.getCTM&&Iw(t)),h.translate&&((h.translate!=="none"||h.scale!=="none"||h.rotate!=="none")&&(n[Ht]=(h.translate!=="none"?"translate3d("+(h.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(h.rotate!=="none"?"rotate("+h.rotate+") ":"")+(h.scale!=="none"?"scale("+h.scale.split(" ").join(",")+") ":"")+(h[Ht]!=="none"?h[Ht]:"")),n.scale=n.rotate=n.translate="none"),b=up(t,i.svg),i.svg&&(i.uncache?(I=t.getBBox(),l=i.xOrigin-I.x+"px "+(i.yOrigin-I.y)+"px",z=""):z=!e&&t.getAttribute("data-svg-origin"),$f(t,z||l,!!z||i.originIsAbsolute,i.smooth!==!1,b)),_=i.xOrigin||0,T=i.yOrigin||0,b!==wo&&(M=b[0],C=b[1],R=b[2],D=b[3],u=F=b[4],d=E=b[5],b.length===6?(c=Math.sqrt(M*M+C*C),g=Math.sqrt(D*D+R*R),p=M||C?qr(C,M)*mr:0,x=R||D?qr(R,D)*mr+p:0,x&&(g*=Math.abs(Math.cos(x*ss))),i.svg&&(u-=_-(_*M+T*R),d-=T-(_*C+T*D))):(H=b[6],L=b[7],k=b[8],j=b[9],B=b[10],U=b[11],u=b[12],d=b[13],f=b[14],S=qr(H,B),m=S*mr,S&&(A=Math.cos(-S),P=Math.sin(-S),z=F*A+k*P,I=E*A+j*P,O=H*A+B*P,k=F*-P+k*A,j=E*-P+j*A,B=H*-P+B*A,U=L*-P+U*A,F=z,E=I,H=O),S=qr(-R,B),y=S*mr,S&&(A=Math.cos(-S),P=Math.sin(-S),z=M*A-k*P,I=C*A-j*P,O=R*A-B*P,U=D*P+U*A,M=z,C=I,R=O),S=qr(C,M),p=S*mr,S&&(A=Math.cos(S),P=Math.sin(S),z=M*A+C*P,I=F*A+E*P,C=C*A-M*P,E=E*A-F*P,M=z,F=I),m&&Math.abs(m)+Math.abs(p)>359.9&&(m=p=0,y=180-y),c=Yt(Math.sqrt(M*M+C*C+R*R)),g=Yt(Math.sqrt(E*E+H*H)),S=qr(F,E),x=Math.abs(S)>2e-4?S*mr:0,w=U?1/(U<0?-U:U):0),i.svg&&(z=t.getAttribute("transform"),i.forceCSS=t.setAttribute("transform","")||!zw(ai(t,Ht)),z&&t.setAttribute("transform",z))),Math.abs(x)>90&&Math.abs(x)<270&&(r?(c*=-1,x+=p<=0?180:-180,p+=p<=0?180:-180):(g*=-1,x+=x<=0?180:-180)),e=e||i.uncache,i.x=u-((i.xPercent=u&&(!e&&i.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-u)?-50:0)))?t.offsetWidth*i.xPercent/100:0)+o,i.y=d-((i.yPercent=d&&(!e&&i.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-d)?-50:0)))?t.offsetHeight*i.yPercent/100:0)+o,i.z=f+o,i.scaleX=Yt(c),i.scaleY=Yt(g),i.rotation=Yt(p)+a,i.rotationX=Yt(m)+a,i.rotationY=Yt(y)+a,i.skewX=x+a,i.skewY=v+a,i.transformPerspective=w+o,(i.zOrigin=parseFloat(l.split(" ")[2])||!e&&i.zOrigin||0)&&(n[ze]=oh(l)),i.xOffset=i.yOffset=0,i.force3D=$e.force3D,i.renderTransform=i.svg?dI:Cw?Rw:cI,i.uncache=0,i},oh=function(t){return(t=t.split(" "))[0]+" "+t[1]},Eu=function(t,e,i){var n=ge(e);return Yt(parseFloat(e)+parseFloat(Kn(t,"x",i+"px",n)))+n},cI=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,Rw(t,e)},lr="0deg",Rs="0px",ur=") ",Rw=function(t,e){var i=e||this,n=i.xPercent,r=i.yPercent,o=i.x,a=i.y,h=i.z,l=i.rotation,u=i.rotationY,d=i.rotationX,f=i.skewX,c=i.skewY,g=i.scaleX,p=i.scaleY,m=i.transformPerspective,y=i.force3D,x=i.target,v=i.zOrigin,w="",_=y==="auto"&&t&&t!==1||y===!0;if(v&&(d!==lr||u!==lr)){var T=parseFloat(u)*ss,b=Math.sin(T),S=Math.cos(T),A;T=parseFloat(d)*ss,A=Math.cos(T),o=Eu(x,o,b*A*-v),a=Eu(x,a,-Math.sin(T)*-v),h=Eu(x,h,S*A*-v+v)}m!==Rs&&(w+="perspective("+m+ur),(n||r)&&(w+="translate("+n+"%, "+r+"%) "),(_||o!==Rs||a!==Rs||h!==Rs)&&(w+=h!==Rs||_?"translate3d("+o+", "+a+", "+h+") ":"translate("+o+", "+a+ur),l!==lr&&(w+="rotate("+l+ur),u!==lr&&(w+="rotateY("+u+ur),d!==lr&&(w+="rotateX("+d+ur),(f!==lr||c!==lr)&&(w+="skew("+f+", "+c+ur),(g!==1||p!==1)&&(w+="scale("+g+", "+p+ur),x.style[Ht]=w||"translate(0, 0)"},dI=function(t,e){var i=e||this,n=i.xPercent,r=i.yPercent,o=i.x,a=i.y,h=i.rotation,l=i.skewX,u=i.skewY,d=i.scaleX,f=i.scaleY,c=i.target,g=i.xOrigin,p=i.yOrigin,m=i.xOffset,y=i.yOffset,x=i.forceCSS,v=parseFloat(o),w=parseFloat(a),_,T,b,S,A;h=parseFloat(h),l=parseFloat(l),u=parseFloat(u),u&&(u=parseFloat(u),l+=u,h+=u),h||l?(h*=ss,l*=ss,_=Math.cos(h)*d,T=Math.sin(h)*d,b=Math.sin(h-l)*-f,S=Math.cos(h-l)*f,l&&(u*=ss,A=Math.tan(l-u),A=Math.sqrt(1+A*A),b*=A,S*=A,u&&(A=Math.tan(u),A=Math.sqrt(1+A*A),_*=A,T*=A)),_=Yt(_),T=Yt(T),b=Yt(b),S=Yt(S)):(_=d,S=f,T=b=0),(v&&!~(o+"").indexOf("px")||w&&!~(a+"").indexOf("px"))&&(v=Kn(c,"x",o,"px"),w=Kn(c,"y",a,"px")),(g||p||m||y)&&(v=Yt(v+g-(g*_+p*b)+m),w=Yt(w+p-(g*T+p*S)+y)),(n||r)&&(A=c.getBBox(),v=Yt(v+n/100*A.width),w=Yt(w+r/100*A.height)),A="matrix("+_+","+T+","+b+","+S+","+v+","+w+")",c.setAttribute("transform",A),x&&(c.style[Ht]=A)},fI=function(t,e,i,n,r){var o=360,a=ue(r),h=parseFloat(r)*(a&&~r.indexOf("rad")?mr:1),l=h-n,u=n+l+"deg",d,f;return a&&(d=r.split("_")[1],d==="short"&&(l%=o,l!==l%(o/2)&&(l+=l<0?o:-o)),d==="cw"&&l<0?l=(l+o*Qy)%o-~~(l/o)*o:d==="ccw"&&l>0&&(l=(l-o*Qy)%o-~~(l/o)*o)),t._pt=f=new Me(t._pt,e,i,n,l,ZP),f.e=u,f.u="deg",t._props.push(i),f},o0=function(t,e){for(var i in e)t[i]=e[i];return t},gI=function(t,e,i){var n=o0({},i._gsap),r="perspective,force3D,transformOrigin,svgOrigin",o=i.style,a,h,l,u,d,f,c,g;n.svg?(l=i.getAttribute("transform"),i.setAttribute("transform",""),o[Ht]=e,a=To(i,1),Ir(i,Ht),i.setAttribute("transform",l)):(l=getComputedStyle(i)[Ht],o[Ht]=e,a=To(i,1),o[Ht]=l);for(h in Tn)l=n[h],u=a[h],l!==u&&r.indexOf(h)<0&&(c=ge(l),g=ge(u),d=c!==g?Kn(i,h,l,g):parseFloat(l),f=parseFloat(u),t._pt=new Me(t._pt,a,h,d,f-d,Hf),t._pt.u=g||0,t._props.push(h));o0(a,n)};Ie("padding,margin,Width,Radius",function(s,t){var e="Top",i="Right",n="Bottom",r="Left",o=(t<3?[e,i,n,r]:[e+r,e+i,n+i,n+r]).map(function(a){return t<2?s+a:"border"+a+s});sh[t>1?"border"+s:s]=function(a,h,l,u,d){var f,c;if(arguments.length<4)return f=o.map(function(g){return cn(a,g,l)}),c=f.join(" "),c.split(f[0]).length===5?f[0]:c;f=(u+"").split(" "),c={},o.forEach(function(g,p){return c[g]=f[p]=f[p]||f[(p-1)/2|0]}),a.init(h,c,d)}});var Dw={name:"css",register:Vf,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,i,n,r){var o=this._props,a=t.style,h=i.vars.startAt,l,u,d,f,c,g,p,m,y,x,v,w,_,T,b,S;ap||Vf(),this.styles=this.styles||Ew(t),S=this.styles.props,this.tween=i;for(p in e)if(p!=="autoRound"&&(u=e[p],!(qe[p]&&pw(p,e,i,n,t,r)))){if(c=typeof u,g=sh[p],c==="function"&&(u=u.call(i,n,t,r),c=typeof u),c==="string"&&~u.indexOf("random(")&&(u=xo(u)),g)g(this,t,p,u,i)&&(b=1);else if(p.substr(0,2)==="--")l=(getComputedStyle(t).getPropertyValue(p)+"").trim(),u+="",Vn.lastIndex=0,Vn.test(l)||(m=ge(l),y=ge(u)),y?m!==y&&(l=Kn(t,p,l,y)+y):m&&(u+=m),this.add(a,"setProperty",l,u,n,r,0,0,p),o.push(p),S.push(p,0,a[p]);else if(c!=="undefined"){if(h&&p in h?(l=typeof h[p]=="function"?h[p].call(i,n,t,r):h[p],ue(l)&&~l.indexOf("random(")&&(l=xo(l)),ge(l+"")||l==="auto"||(l+=$e.units[p]||ge(cn(t,p))||""),(l+"").charAt(1)==="="&&(l=cn(t,p))):l=cn(t,p),f=parseFloat(l),x=c==="string"&&u.charAt(1)==="="&&u.substr(0,2),x&&(u=u.substr(2)),d=parseFloat(u),p in Ui&&(p==="autoAlpha"&&(f===1&&cn(t,"visibility")==="hidden"&&d&&(f=0),S.push("visibility",0,a.visibility),Nn(this,a,"visibility",f?"inherit":"hidden",d?"inherit":"hidden",!d)),p!=="scale"&&p!=="transform"&&(p=Ui[p],~p.indexOf(",")&&(p=p.split(",")[0]))),v=p in Tn,v){if(this.styles.save(p),c==="string"&&u.substring(0,6)==="var(--"&&(u=ai(t,u.substring(4,u.indexOf(")"))),d=parseFloat(u)),w||(_=t._gsap,_.renderTransform&&!e.parseTransform||To(t,e.parseTransform),T=e.smoothOrigin!==!1&&_.smooth,w=this._pt=new Me(this._pt,a,Ht,0,1,_.renderTransform,_,0,-1),w.dep=1),p==="scale")this._pt=new Me(this._pt,_,"scaleY",_.scaleY,(x?ns(_.scaleY,x+d):d)-_.scaleY||0,Hf),this._pt.u=0,o.push("scaleY",p),p+="X";else if(p==="transformOrigin"){S.push(ze,0,a[ze]),u=lI(u),_.svg?$f(t,u,0,T,0,this):(y=parseFloat(u.split(" ")[2])||0,y!==_.zOrigin&&Nn(this,_,"zOrigin",_.zOrigin,y),Nn(this,a,p,oh(l),oh(u)));continue}else if(p==="svgOrigin"){$f(t,u,1,T,0,this);continue}else if(p in Mw){fI(this,_,p,f,x?ns(f,x+u):u);continue}else if(p==="smoothOrigin"){Nn(this,_,"smooth",_.smooth,u);continue}else if(p==="force3D"){_[p]=u;continue}else if(p==="transform"){gI(this,u,t);continue}}else p in a||(p=gs(p)||p);if(v||(d||d===0)&&(f||f===0)&&!YP.test(u)&&p in a)m=(l+"").substr((f+"").length),d||(d=0),y=ge(u)||(p in $e.units?$e.units[p]:m),m!==y&&(f=Kn(t,p,l,y)),this._pt=new Me(this._pt,v?_:a,p,f,(x?ns(f,x+d):d)-f,!v&&(y==="px"||p==="zIndex")&&e.autoRound!==!1?JP:Hf),this._pt.u=y||0,m!==y&&y!=="%"&&(this._pt.b=l,this._pt.r=KP);else if(p in a)hI.call(this,t,p,l,x?x+u:u);else if(p in t)this.add(t,p,l||t[p],x?x+u:u,n,r);else if(p!=="parseTransform"){Kg(p,u);continue}v||(p in a?S.push(p,0,a[p]):typeof t[p]=="function"?S.push(p,2,t[p]()):S.push(p,1,l||t[p])),o.push(p)}}b&&bw(this)},render:function(t,e){if(e.tween._time||!hp())for(var i=e._pt;i;)i.r(t,i.d),i=i._next;else e.styles.revert()},get:cn,aliases:Ui,getSetter:function(t,e,i){var n=Ui[e];return n&&n.indexOf(",")<0&&(e=n),e in Tn&&e!==ze&&(t._gsap.x||cn(t,"x"))?i&&Jy===i?e==="scale"?iI:eI:(Jy=i||{})&&(e==="scale"?nI:rI):t.style&&!Xg(t.style[e])?QP:~e.indexOf("-")?tI:sp(t,e)},core:{_removeProperty:Ir,_getMatrix:up}};Re.utils.checkPrefix=gs;Re.core.getStyleSaver=Ew;(function(s,t,e,i){var n=Ie(s+","+t+","+e,function(r){Tn[r]=1});Ie(t,function(r){$e.units[r]="deg",Mw[r]=1}),Ui[n[13]]=s+","+t,Ie(i,function(r){var o=r.split(":");Ui[o[1]]=n[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Ie("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(s){$e.units[s]="px"});Re.registerPlugin(Dw);var X=Re.registerPlugin(Dw)||Re;X.core.Tween;var Ma={exports:{}},pI=Ma.exports,a0;function mI(){return a0||(a0=1,function(s,t){(function(e,i){s.exports=i()})(pI,function(){var e=1e3,i=6e4,n=36e5,r="millisecond",o="second",a="minute",h="hour",l="day",u="week",d="month",f="quarter",c="year",g="date",p="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(D){var F=["th","st","nd","rd"],E=D%100;return"["+D+(F[(E-20)%10]||F[E]||F[0])+"]"}},v=function(D,F,E){var z=String(D);return!z||z.length>=F?D:""+Array(F+1-z.length).join(E)+D},w={s:v,z:function(D){var F=-D.utcOffset(),E=Math.abs(F),z=Math.floor(E/60),I=E%60;return(F<=0?"+":"-")+v(z,2,"0")+":"+v(I,2,"0")},m:function D(F,E){if(F.date()<E.date())return-D(E,F);var z=12*(E.year()-F.year())+(E.month()-F.month()),I=F.clone().add(z,d),O=E-I<0,k=F.clone().add(z+(O?-1:1),d);return+(-(z+(E-I)/(O?I-k:k-I))||0)},a:function(D){return D<0?Math.ceil(D)||0:Math.floor(D)},p:function(D){return{M:d,y:c,w:u,d:l,D:g,h,m:a,s:o,ms:r,Q:f}[D]||String(D||"").toLowerCase().replace(/s$/,"")},u:function(D){return D===void 0}},_="en",T={};T[_]=x;var b="$isDayjsObject",S=function(D){return D instanceof C||!(!D||!D[b])},A=function D(F,E,z){var I;if(!F)return _;if(typeof F=="string"){var O=F.toLowerCase();T[O]&&(I=O),E&&(T[O]=E,I=O);var k=F.split("-");if(!I&&k.length>1)return D(k[0])}else{var j=F.name;T[j]=F,I=j}return!z&&I&&(_=I),I||!z&&_},P=function(D,F){if(S(D))return D.clone();var E=typeof F=="object"?F:{};return E.date=D,E.args=arguments,new C(E)},M=w;M.l=A,M.i=S,M.w=function(D,F){return P(D,{locale:F.$L,utc:F.$u,x:F.$x,$offset:F.$offset})};var C=function(){function D(E){this.$L=A(E.locale,null,!0),this.parse(E),this.$x=this.$x||E.x||{},this[b]=!0}var F=D.prototype;return F.parse=function(E){this.$d=function(z){var I=z.date,O=z.utc;if(I===null)return new Date(NaN);if(M.u(I))return new Date;if(I instanceof Date)return new Date(I);if(typeof I=="string"&&!/Z$/i.test(I)){var k=I.match(m);if(k){var j=k[2]-1||0,B=(k[7]||"0").substring(0,3);return O?new Date(Date.UTC(k[1],j,k[3]||1,k[4]||0,k[5]||0,k[6]||0,B)):new Date(k[1],j,k[3]||1,k[4]||0,k[5]||0,k[6]||0,B)}}return new Date(I)}(E),this.init()},F.init=function(){var E=this.$d;this.$y=E.getFullYear(),this.$M=E.getMonth(),this.$D=E.getDate(),this.$W=E.getDay(),this.$H=E.getHours(),this.$m=E.getMinutes(),this.$s=E.getSeconds(),this.$ms=E.getMilliseconds()},F.$utils=function(){return M},F.isValid=function(){return this.$d.toString()!==p},F.isSame=function(E,z){var I=P(E);return this.startOf(z)<=I&&I<=this.endOf(z)},F.isAfter=function(E,z){return P(E)<this.startOf(z)},F.isBefore=function(E,z){return this.endOf(z)<P(E)},F.$g=function(E,z,I){return M.u(E)?this[z]:this.set(I,E)},F.unix=function(){return Math.floor(this.valueOf()/1e3)},F.valueOf=function(){return this.$d.getTime()},F.startOf=function(E,z){var I=this,O=!!M.u(z)||z,k=M.p(E),j=function(it,W){var Q=M.w(I.$u?Date.UTC(I.$y,W,it):new Date(I.$y,W,it),I);return O?Q:Q.endOf(l)},B=function(it,W){return M.w(I.toDate()[it].apply(I.toDate("s"),(O?[0,0,0,0]:[23,59,59,999]).slice(W)),I)},L=this.$W,U=this.$M,H=this.$D,V="set"+(this.$u?"UTC":"");switch(k){case c:return O?j(1,0):j(31,11);case d:return O?j(1,U):j(0,U+1);case u:var Z=this.$locale().weekStart||0,J=(L<Z?L+7:L)-Z;return j(O?H-J:H+(6-J),U);case l:case g:return B(V+"Hours",0);case h:return B(V+"Minutes",1);case a:return B(V+"Seconds",2);case o:return B(V+"Milliseconds",3);default:return this.clone()}},F.endOf=function(E){return this.startOf(E,!1)},F.$set=function(E,z){var I,O=M.p(E),k="set"+(this.$u?"UTC":""),j=(I={},I[l]=k+"Date",I[g]=k+"Date",I[d]=k+"Month",I[c]=k+"FullYear",I[h]=k+"Hours",I[a]=k+"Minutes",I[o]=k+"Seconds",I[r]=k+"Milliseconds",I)[O],B=O===l?this.$D+(z-this.$W):z;if(O===d||O===c){var L=this.clone().set(g,1);L.$d[j](B),L.init(),this.$d=L.set(g,Math.min(this.$D,L.daysInMonth())).$d}else j&&this.$d[j](B);return this.init(),this},F.set=function(E,z){return this.clone().$set(E,z)},F.get=function(E){return this[M.p(E)]()},F.add=function(E,z){var I,O=this;E=Number(E);var k=M.p(z),j=function(U){var H=P(O);return M.w(H.date(H.date()+Math.round(U*E)),O)};if(k===d)return this.set(d,this.$M+E);if(k===c)return this.set(c,this.$y+E);if(k===l)return j(1);if(k===u)return j(7);var B=(I={},I[a]=i,I[h]=n,I[o]=e,I)[k]||1,L=this.$d.getTime()+E*B;return M.w(L,this)},F.subtract=function(E,z){return this.add(-1*E,z)},F.format=function(E){var z=this,I=this.$locale();if(!this.isValid())return I.invalidDate||p;var O=E||"YYYY-MM-DDTHH:mm:ssZ",k=M.z(this),j=this.$H,B=this.$m,L=this.$M,U=I.weekdays,H=I.months,V=I.meridiem,Z=function(W,Q,tt,dt){return W&&(W[Q]||W(z,O))||tt[Q].slice(0,dt)},J=function(W){return M.s(j%12||12,W,"0")},it=V||function(W,Q,tt){var dt=W<12?"AM":"PM";return tt?dt.toLowerCase():dt};return O.replace(y,function(W,Q){return Q||function(tt){switch(tt){case"YY":return String(z.$y).slice(-2);case"YYYY":return M.s(z.$y,4,"0");case"M":return L+1;case"MM":return M.s(L+1,2,"0");case"MMM":return Z(I.monthsShort,L,H,3);case"MMMM":return Z(H,L);case"D":return z.$D;case"DD":return M.s(z.$D,2,"0");case"d":return String(z.$W);case"dd":return Z(I.weekdaysMin,z.$W,U,2);case"ddd":return Z(I.weekdaysShort,z.$W,U,3);case"dddd":return U[z.$W];case"H":return String(j);case"HH":return M.s(j,2,"0");case"h":return J(1);case"hh":return J(2);case"a":return it(j,B,!0);case"A":return it(j,B,!1);case"m":return String(B);case"mm":return M.s(B,2,"0");case"s":return String(z.$s);case"ss":return M.s(z.$s,2,"0");case"SSS":return M.s(z.$ms,3,"0");case"Z":return k}return null}(W)||k.replace(":","")})},F.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},F.diff=function(E,z,I){var O,k=this,j=M.p(z),B=P(E),L=(B.utcOffset()-this.utcOffset())*i,U=this-B,H=function(){return M.m(k,B)};switch(j){case c:O=H()/12;break;case d:O=H();break;case f:O=H()/3;break;case u:O=(U-L)/6048e5;break;case l:O=(U-L)/864e5;break;case h:O=U/n;break;case a:O=U/i;break;case o:O=U/e;break;default:O=U}return I?O:M.a(O)},F.daysInMonth=function(){return this.endOf(d).$D},F.$locale=function(){return T[this.$L]},F.locale=function(E,z){if(!E)return this.$L;var I=this.clone(),O=A(E,z,!0);return O&&(I.$L=O),I},F.clone=function(){return M.w(this.$d,this)},F.toDate=function(){return new Date(this.valueOf())},F.toJSON=function(){return this.isValid()?this.toISOString():null},F.toISOString=function(){return this.$d.toISOString()},F.toString=function(){return this.$d.toUTCString()},D}(),R=C.prototype;return P.prototype=R,[["$ms",r],["$s",o],["$m",a],["$H",h],["$W",l],["$M",d],["$y",c],["$D",g]].forEach(function(D){R[D[1]]=function(F){return this.$g(F,D[0],D[1])}}),P.extend=function(D,F){return D.$i||(D(F,C,P),D.$i=!0),P},P.locale=A,P.isDayjs=S,P.unix=function(D){return P(1e3*D)},P.en=T[_],P.Ls=T,P.p={},P})}(Ma)),Ma.exports}var yI=mI();const Pi=_s(yI);class Ih{constructor(t="hv"){this._listeners=[],this._listenerMap=new Map,this._handleResize=()=>{const e=window.innerWidth,i=window.innerHeight;let n;(e>i?"h":"v")==="h"?n=Math.min(e/1920,i/1080):n=Math.min(e/1080,i/1920),this._listeners.forEach(({cb:o})=>o(e,i,n))},this._mode=t,!(t==="h"||t==="v")&&(window.addEventListener("resize",()=>{requestAnimationFrame(this._handleResize)}),window.addEventListener("orientationchange",()=>{requestAnimationFrame(this._handleResize)}))}on(t,e=!0){const i=window.innerWidth,n=window.innerHeight,r=i>n?"h":"v";if(this._mode==="h")return e&&requestAnimationFrame(()=>{t(1920,1080,Math.min(i/1920,n/1080))}),()=>{};if(this._mode==="v")return e&&requestAnimationFrame(()=>{t(1080,1920,Math.min(i/1080,n/1920))}),()=>{};let o;r==="h"?o=Math.min(i/1920,n/1080):o=Math.min(i/1080,n/1920);const a={cb:t,immediate:e};return this._listeners.push(a),e&&requestAnimationFrame(()=>{t(window.innerWidth,window.innerHeight,o)}),()=>{this._listeners=this._listeners.filter(h=>h!==a)}}onById(t,e,i=!0){this.offById(t);const n=this.on(e,i);this._listenerMap.set(t,e),this._listenerMap.set(`${t}_remove`,n)}offById(...t){const e=t.flat();for(const i of e){const n=this._listenerMap.get(`${i}_remove`);typeof n=="function"&&n(),this._listenerMap.delete(i),this._listenerMap.delete(`${i}_remove`)}}}var _I=function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(u){try{l(i.next(u))}catch(d){o(d)}}function h(u){try{l(i.throw(u))}catch(d){o(d)}}function l(u){u.done?r(u.value):n(u.value).then(a,h)}l((i=i.apply(s,t||[])).next())})};class An extends ft{constructor(){super()}destroy(){const t=Object.create(null,{destroy:{get:()=>super.destroy}});return _I(this,void 0,void 0,function*(){var e;yield(e=this._onBeforeDestroy)===null||e===void 0?void 0:e.call(this),requestAnimationFrame(()=>{var i;t.destroy.call(this,{children:!0}),(i=this._onDestroyed)===null||i===void 0||i.call(this)})})}}class Cr extends Xt{constructor(){super(),this.alpha=Cr.bgAlpha}updateSize(){const t=Cr.stage.getLocalBounds();this.clear(),this.beginFill(0,1),this.drawRect(t.x,t.y,t.width,t.height),this.endFill()}}Cr.bgAlpha=.5;const xI=(s,t)=>{let e=0;return(...i)=>{const n=Date.now();n-e>=t&&(e=n,s(...i))}},Lt=(s,t,e,i={})=>{const{once:n=!1,throttle:r=!1,throttleTime:o=1e3,preventDragClick:a=!1}=i;s.cursor="pointer",s.eventMode="static";let h=0,l=0,u=!1;a&&s.on("pointerdown",c=>{u=!1,h=c.globalX,l=c.globalY;const g=10,p=y=>{const x=y.globalX-h,v=y.globalY-l;x*x+v*v>g*g&&(u=!0)},m=()=>{s.off("pointermove",p),s.off("pointerup",m)};s.on("pointermove",p),s.on("pointerup",m)});const d=c=>{u&&["pointertap","pointerup"].includes(t)||c.button!==2&&e(c)},f=r?xI(d,o):d;return n?s.once(t,f):s.on(t,f),()=>{s.off(t,f)}};class Ji{static add(t,e){return this._callbacks.has(t)&&Tt.shared.remove(this._callbacks.get(t).fn),this._callbacks.set(t,{fn:e,active:!0}),Tt.shared.add(e),()=>{Ji.remove(t)}}static remove(t){const e=this._callbacks.get(t);e&&(Tt.shared.remove(e.fn),this._callbacks.delete(t))}static stop(t){const e=this._callbacks.get(t);e&&e.active&&(Tt.shared.remove(e.fn),e.active=!1)}static start(t){const e=this._callbacks.get(t);e&&!e.active&&(Tt.shared.add(e.fn),e.active=!0)}static clearAll(){this._callbacks.forEach(t=>{Tt.shared.remove(t.fn)}),this._callbacks.clear()}}Ji._callbacks=new Map;const cp=(s,t=0,e=t)=>{const{x:i,y:n,width:r,height:o}=s.getLocalBounds();s.pivot.x=i+r*t,s.pivot.y=n+o*e};var vI=function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(u){try{l(i.next(u))}catch(d){o(d)}}function h(u){try{l(i.throw(u))}catch(d){o(d)}}function l(u){u.done?r(u.value):n(u.value).then(a,h)}l((i=i.apply(s,t||[])).next())})};let Mh=class ye extends An{constructor(t){super(),this._vScale=1,Cr.stage=ye.stage,Cr.bgAlpha=ye.bgAlpha;const{onClickMask:e,vScale:i=1,needBg:n=!0}=t||{};this._vScale=i,this._maskUI=new Cr,this.addChild(this._maskUI),this._maskUI.alpha=0,this._maskUI.eventMode="static",this._maskUI.visible=n,e&&Lt(this._maskUI,"pointertap",()=>{var h;e==null||e(),(h=this._offResize)===null||h===void 0||h.call(this)},{once:!0}),this._maskUI.cursor="default",this._dialogContainer=new ft,this.addChild(this._dialogContainer),this._dialogContainer.eventMode="static";const o=new Ih(ye.adaptation).on(this._redraw.bind(this),!1),a=Ji.add("LibPixiDialog",()=>{this._maskUI.updateSize()});this._offResize=()=>{o(),a()}}setDialogContent(t){this._dialogContainer.addChild(t),this._dialogContainer.alpha=0,requestAnimationFrame(()=>{ye.adaptation==="h"?this._redraw(1920,1080):ye.adaptation==="v"?this._redraw(1080,1920):this._redraw(window.innerWidth,window.innerHeight),X.to(this._maskUI,{duration:ye.durationIn,alpha:ye.bgAlpha}),X.to(this._dialogContainer,{duration:ye.durationIn,alpha:1})})}updatePosition(t,e){cp(this._dialogContainer,.5,.5);const i=1920/2,n=1080/2;t>e?this._dialogContainer.position.set(i,n):this._dialogContainer.position.set(n,i)}close(){return vI(this,void 0,void 0,function*(){var t;this._maskUI.eventMode="none",(t=this._offResize)===null||t===void 0||t.call(this),X.to(this._dialogContainer.scale,{duration:ye.durationOut,ease:"back.in",x:0,y:0}),X.to(this._dialogContainer,{duration:ye.durationOut,delay:ye.durationOut/2,alpha:0}),yield X.to(this._maskUI,{duration:ye.durationOut,delay:ye.durationOut/2,alpha:0})})}_redraw(t,e){if(this._maskUI.updateSize(),this._lastIsH===t>e)return;this._lastIsH=t>e;let i=0;t>e?i=1:i=this._vScale,this.updatePosition(t,e),this._dialogContainer.scale.set(0),X.to(this._dialogContainer.scale,{duration:ye.durationIn,ease:"back.out",x:i,y:i})}};Mh.bgAlpha=.5;Mh.durationIn=.5;Mh.durationOut=.5;Mh.adaptation="hv";var h0=function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(u){try{l(i.next(u))}catch(d){o(d)}}function h(u){try{l(i.throw(u))}catch(d){o(d)}}function l(u){u.done?r(u.value):n(u.value).then(a,h)}l((i=i.apply(s,t||[])).next())})};class bI{constructor(t){this._views={},this._closeListeners=new Map,this._openContainer=t}open(t,e,...i){if(this._views[e])return this._views[e];const n=new t(...i);return this._openContainer.addChild(n),this._views[e]=n,n}onClose(t,e){this._closeListeners.has(t)||this._closeListeners.set(t,new Set),this._closeListeners.get(t).add(e)}close(t){return h0(this,void 0,void 0,function*(){var e;const i=this._views[t];if(i){yield(e=i.destroy)===null||e===void 0?void 0:e.call(i),delete this._views[t];const n=this._closeListeners.get(t);if(!n)return;for(const r of n)r();this._closeListeners.delete(t)}})}closeAll(){return h0(this,void 0,void 0,function*(){const t=Object.keys(this._views);for(const e of t)yield this.close(e)})}}class we extends Xt{constructor(t,e,i){super(),this.beginFill(i||0),this.drawRect(0,0,t,e),this.endFill(),i||(this.alpha=0)}}const Ae=class Ae extends An{constructor(e){super();G(this,"_maskUI");G(this,"_dialogContainer");G(this,"_offResize");const{onClickMask:i}=e||{};this._maskUI=new we(1920,1080,"#000"),this.addChild(this._maskUI),this._maskUI.alpha=0,this._maskUI.eventMode="static",i&&Lt(this._maskUI,"pointertap",()=>{var n;i==null||i(),(n=this._offResize)==null||n.call(this)},{once:!0}),this._dialogContainer=new ft,this.addChild(this._dialogContainer),this._dialogContainer.eventMode="static"}setDialogContent(e){this._dialogContainer.addChild(e);const i=this._dialogContainer.width/2,n=this._dialogContainer.height/2;this._dialogContainer.pivot.set(i,n),this._dialogContainer.scale.set(0),this._dialogContainer.alpha=0,X.to(this._maskUI,{duration:Ae.durationIn,alpha:Ae.bgAlpha}),X.to(this._dialogContainer,{duration:Ae.durationIn,alpha:1});const r=new Ih("hv");this._offResize=r.on((o,a)=>{const h=o/2,l=a/2,u=Math.min(o/1920,a/1080);this._dialogContainer.position.set(h,l),X.killTweensOf(this._dialogContainer.scale),X.to(this._dialogContainer.scale,{duration:Ae.durationIn,ease:"back.out",x:u,y:u})})}async close(){var e;(e=this._offResize)==null||e.call(this),X.to(this._dialogContainer.scale,{duration:Ae.durationOut,ease:"back.in",x:0,y:0}),X.to(this._dialogContainer,{duration:Ae.durationOut,delay:Ae.durationOut/2,alpha:0}),await X.to(this._maskUI,{duration:Ae.durationOut,delay:Ae.durationOut/2,alpha:0})}};G(Ae,"bgAlpha",.5),G(Ae,"durationIn",.5),G(Ae,"durationOut",.5);let Xf=Ae;class on extends Xt{constructor(t){super();const{start:e,end:i,radius:n,color:r,strokeColor:o,thickness:a,alpha:h=1,anticlockwise:l=!1}=t;this.beginFill(r,h),o&&this.lineStyle(a,o),this.moveTo(0,0),this.arc(0,0,n,e,i,l),this.closePath(),this.endFill()}}class kw extends Xt{constructor(t,e,i){super(),this.beginFill(i),this.drawRoundedRect(0,0,t,e,t/2),this.endFill()}}class Qi extends Xt{constructor(t,e){super(),this.beginFill(e),this.drawCircle(0,0,t),this.endFill()}}class wI extends Xt{constructor(t){super(),this.radius=0,this.enableTint=!0,this.bgColor="#fff",this.borderWidth=0,this.borderColor="black",this.bgAlpha=1;const{width:e,height:i,bgColor:n="#fff",alpha:r=1,radius:o=0,borderWidth:a=0,borderColor:h="black",enableTint:l=!0}=t;this.bgAlpha=r,this.radius=o,this.enableTint=l,this.bgColor=n,this.borderWidth=a,this.borderColor=h,this.renderBg(e,i)}updateColor(t){X.to(this,{tint:t,duration:.25})}renderBg(t,e){this.clear(),this.enableTint?(this.beginFill("#fff",this.bgAlpha),this.tint=this.bgColor):this.beginFill(this.bgColor,this.bgAlpha),this.borderWidth&&this.lineStyle(this.borderWidth,this.borderColor,1),this.radius!==0?typeof this.radius=="number"?this.drawRoundedRect(0,0,t,e,this.radius):(this.moveTo(0+this.radius[0],0),this.lineTo(0+t-this.radius[1],0),this.radius[1]>0?this.arcTo(0+t,0,0+t,0+this.radius[1],this.radius[1]):this.lineTo(0+t,0),this.lineTo(0+t,0+e-this.radius[2]),this.radius[2]>0?this.arcTo(0+t,0+e,0+t-this.radius[2],0+e,this.radius[2]):this.lineTo(0+t,0+e),this.lineTo(0+this.radius[3],0+e),this.radius[3]>0?this.arcTo(0,0+e,0,0+e-this.radius[3],this.radius[3]):this.lineTo(0,0+e),this.lineTo(0,0+this.radius[0]),this.radius[0]>0?this.arcTo(0,0,0+this.radius[0],0,this.radius[0]):this.lineTo(0,0),this.closePath()):this.drawRect(0,0,t,e),this.endFill()}}class zh extends ft{constructor(t,e,i,n){if(super(),n){const r=new Xt;r.beginFill(16777215),r.drawRect(0,0,t,e),r.endFill(),this.addChild(r),this.mask=r}i?(this._bgColorFill=new wI({width:t,height:e,bgColor:i}),this.addChild(this._bgColorFill)):(this._fill=new Ve,this._fill.width=t,this._fill.height=e,this.addChild(this._fill))}setSize(t,e){this._fill&&(this._fill.width=t,this._fill.height=e),this._bgColorFill&&this._bgColorFill.renderBg(t,e)}}class Rh extends ft{constructor(t){super(),this._elementList=[],this._params=t||{},this._elementList=this._params.elementList||[]}push(t){this.addChild(t),this._elementList.push(t)}layout(){const{colNum:t=this._elementList.length,colGap:e=325,rowGap:i=75,anchorX:n=0,anchorY:r=0}=this._params;this._elementList.forEach((o,a)=>{const h=a%t,l=Math.floor(a/t);o.x=h*e,o.y=l*i}),cp(this,n,r)}getList(){return this._elementList}destroyList(){this._elementList.forEach(t=>{t.destroy()}),this._elementList=[]}}const Mn=(s,t)=>{let e;if(s==="brightness")e=new jn,e.brightness(t,!1);else if(s==="blur")e=new Og;else if(s==="desaturate")e=new jn,e.desaturate();else if(s==="contrast")e=new jn,e.contrast(t,!1);else if(s==="saturate")e=new jn,e.saturate(t,!1);else throw new Error("");return e.resolution=window.devicePixelRatio||1,e},l0=s=>{const t=document.createElement("textarea");t.value=s,t.style.position="fixed",t.style.opacity="0",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},TI=s=>{navigator.clipboard?navigator.clipboard.writeText(s).catch(()=>l0(s)):l0(s)};class dn extends ft{constructor(){super(),this._positionValue="",this._isLocalte=!1,this._showInput=!1,this._allowMove=!1,this._downPos={x:0,y:0},window.addEventListener("keydown",t=>{if(t.ctrlKey&&t.key.toLowerCase()==="q"&&t.shiftKey){if(t.preventDefault(),this._isLocalte)return;this._showInput=!this._showInput}t.key==="Escape"&&(this._showInput=!1)}),this._createInput(),this._createResultList(),this._createStatusBar(),dn.stage.on("pointerdown",t=>{if(!this._currentMoveContainer)return;this._allowMove=!0;const{x:e,y:i}=dn.stage.toLocal(t.global);this._downPos={x:e,y:i}}),dn.stage.on("pointermove",t=>{if(!this._allowMove||!this._currentMoveContainer)return;const{x:e,y:i}=dn.stage.toLocal(t.global),n=e-this._downPos.x,r=i-this._downPos.y;this._currentMoveContainer.x+=n,this._currentMoveContainer.y+=r,this._downPos={x:e,y:i};const o=Math.round(this._currentMoveContainer.x),a=Math.round(this._currentMoveContainer.y);this._positionEl.textContent=`X: ${o}, Y: ${a}`,this._positionValue=`xxx.position.set(${o}, ${a})`}),dn.stage.on("pointerup",()=>{this._allowMove=!1},this),Tt.shared.add(()=>{this._showInput?this._isLocalte?(this._inputEl.style.display="none",this._resultEl.style.display="none",this._statusBarEl.style.display="flex"):(this._inputEl.style.display="block",this._resultEl.style.display="flex",this._statusBarEl.style.display="none",this._inputEl.focus()):(this._inputEl.style.display="none",this._resultEl.style.display="none")})}_createInput(){this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.style.cssText=`
      background-color: rgba(0,0,0,0.75);
      border: 2px solid rgba(255,255,255,0.5);
      color: #fff;
      display: none;
      font-size: 25px;
      height: 50px;
      left: 50%;
      outline: none;
      position: fixed;
      text-align: center;
      top: 25%;
      transform: translate(-50%, -50%);
      width: 50vw;
    `,document.body.appendChild(this._inputEl),this._inputEl.addEventListener("input",()=>{const t=this._findByName(dn.stage,this._inputEl.value);this._resultEl.innerHTML="";const e=i=>{const n=this._createResultEl(i.node.constructor.name,i.node.name,i.depth);this._resultEl.appendChild(n),X.killTweensOf(i.node),n.addEventListener("mouseenter",()=>{X.to(i.node,{alpha:0,duration:.25,yoyo:!0,ease:"none",repeat:-1})}),n.addEventListener("mouseleave",()=>{X.killTweensOf(i.node),i.node.alpha=1}),n.addEventListener("click",()=>{X.killTweensOf(i.node),this._currentMoveContainer=i.node,i.node.alpha=1,i.node.filters=[Mn("desaturate",0)],this._isLocalte=!0}),i.children.forEach(e)};t.forEach(e)})}_createResultList(){this._resultEl=document.createElement("div"),this._resultEl.style.cssText=`
      background-color: rgba(0,0,0,0.75);
      border: 2px solid rgba(255,255,255,0.5);
      left: 50%;
      transform: translateX(-50%);
      height: 300px;
      overflow-y: auto;
      position: fixed;
      display: none;
      gap: 10px;
      flex-direction: column;
      top: calc(25% + 50px);
      width: 50vw;
    `,document.body.appendChild(this._resultEl)}_createResultEl(t,e,i){const n=document.createElement("div");n.style.cssText=`
      display: flex;
      justify-content: space-between;
      padding: 5px 10px;
      align-items: center;
      width: 100%;
      font-size: 25px;
      background-color: rgba(255,255,255,0.1);
      color: #fff;
      padding-left: ${i*20}px;
    `;const r=document.createElement("div");r.textContent=t,n.appendChild(r);const o=document.createElement("div");return o.textContent=e,n.appendChild(o),n}_createStatusBar(){this._statusBarEl=document.createElement("div"),this._statusBarEl.style.cssText=`
      align-items: center;
      background-color: rgba(0,0,0,0.75);
      border: 2px solid rgba(0, 255, 13, 0.5);
      color: #fff;
      display: none;
      font-size: 25px;
      justify-content: center;
      position: fixed;
      top: 25%;
      height: 50px;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 50vw;
    `,this._positionEl=document.createElement("div"),this._statusBarEl.appendChild(this._positionEl),document.body.appendChild(this._statusBarEl),this._statusBarEl.addEventListener("click",()=>{this._isLocalte=!1,TI(this._positionValue),this._currentMoveContainer&&(this._currentMoveContainer.filters=[],this._currentMoveContainer=void 0)})}_findByName(t,e){if(!e)return[];const i=r=>{var o;return((o=r.name)===null||o===void 0?void 0:o.toLowerCase().includes(e.toLowerCase()))||r.constructor.name.toLowerCase().includes(e.toLowerCase())},n=(r,o)=>{const a=r.children.filter(h=>h instanceof ft).flatMap(h=>n(h,o+1));return i(r)||a.length>0?[{node:r,depth:o,children:a,expanded:!0}]:[]};return n(t,0)}}/*!
 *  decimal.js v10.6.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var Kr=9e15,nr=1e9,Yf="0123456789abcdef",ah="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",hh="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Zf={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Kr,maxE:Kr,crypto:!1},Fw,_n,yt=!0,Dh="[DecimalError] ",Jn=Dh+"Invalid argument: ",jw=Dh+"Precision limit exceeded",Ow=Dh+"crypto unavailable",Bw="[object Decimal]",me=Math.floor,ee=Math.pow,SI=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,AI=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,EI=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Lw=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ai=1e7,pt=7,CI=9007199254740991,PI=ah.length-1,Kf=hh.length-1,$={toStringTag:Bw};$.absoluteValue=$.abs=function(){var s=new this.constructor(this);return s.s<0&&(s.s=1),ut(s)};$.ceil=function(){return ut(new this.constructor(this),this.e+1,2)};$.clampedTo=$.clamp=function(s,t){var e,i=this,n=i.constructor;if(s=new n(s),t=new n(t),!s.s||!t.s)return new n(NaN);if(s.gt(t))throw Error(Jn+t);return e=i.cmp(s),e<0?s:i.cmp(t)>0?t:new n(i)};$.comparedTo=$.cmp=function(s){var t,e,i,n,r=this,o=r.d,a=(s=new r.constructor(s)).d,h=r.s,l=s.s;if(!o||!a)return!h||!l?NaN:h!==l?h:o===a?0:!o^h<0?1:-1;if(!o[0]||!a[0])return o[0]?h:a[0]?-l:0;if(h!==l)return h;if(r.e!==s.e)return r.e>s.e^h<0?1:-1;for(i=o.length,n=a.length,t=0,e=i<n?i:n;t<e;++t)if(o[t]!==a[t])return o[t]>a[t]^h<0?1:-1;return i===n?0:i>n^h<0?1:-1};$.cosine=$.cos=function(){var s,t,e=this,i=e.constructor;return e.d?e.d[0]?(s=i.precision,t=i.rounding,i.precision=s+Math.max(e.e,e.sd())+pt,i.rounding=1,e=II(i,Hw(i,e)),i.precision=s,i.rounding=t,ut(_n==2||_n==3?e.neg():e,s,t,!0)):new i(1):new i(NaN)};$.cubeRoot=$.cbrt=function(){var s,t,e,i,n,r,o,a,h,l,u=this,d=u.constructor;if(!u.isFinite()||u.isZero())return new d(u);for(yt=!1,r=u.s*ee(u.s*u,1/3),!r||Math.abs(r)==1/0?(e=ce(u.d),s=u.e,(r=(s-e.length+1)%3)&&(e+=r==1||r==-2?"0":"00"),r=ee(e,1/3),s=me((s+1)/3)-(s%3==(s<0?-1:2)),r==1/0?e="5e"+s:(e=r.toExponential(),e=e.slice(0,e.indexOf("e")+1)+s),i=new d(e),i.s=u.s):i=new d(r.toString()),o=(s=d.precision)+3;;)if(a=i,h=a.times(a).times(a),l=h.plus(u),i=Rt(l.plus(u).times(a),l.plus(h),o+2,1),ce(a.d).slice(0,o)===(e=ce(i.d)).slice(0,o))if(e=e.slice(o-3,o+1),e=="9999"||!n&&e=="4999"){if(!n&&(ut(a,s+1,0),a.times(a).times(a).eq(u))){i=a;break}o+=4,n=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(ut(i,s+1,1),t=!i.times(i).times(i).eq(u));break}return yt=!0,ut(i,s,d.rounding,t)};$.decimalPlaces=$.dp=function(){var s,t=this.d,e=NaN;if(t){if(s=t.length-1,e=(s-me(this.e/pt))*pt,s=t[s],s)for(;s%10==0;s/=10)e--;e<0&&(e=0)}return e};$.dividedBy=$.div=function(s){return Rt(this,new this.constructor(s))};$.dividedToIntegerBy=$.divToInt=function(s){var t=this,e=t.constructor;return ut(Rt(t,new e(s),0,1,1),e.precision,e.rounding)};$.equals=$.eq=function(s){return this.cmp(s)===0};$.floor=function(){return ut(new this.constructor(this),this.e+1,3)};$.greaterThan=$.gt=function(s){return this.cmp(s)>0};$.greaterThanOrEqualTo=$.gte=function(s){var t=this.cmp(s);return t==1||t===0};$.hyperbolicCosine=$.cosh=function(){var s,t,e,i,n,r=this,o=r.constructor,a=new o(1);if(!r.isFinite())return new o(r.s?1/0:NaN);if(r.isZero())return a;e=o.precision,i=o.rounding,o.precision=e+Math.max(r.e,r.sd())+4,o.rounding=1,n=r.d.length,n<32?(s=Math.ceil(n/3),t=(1/Fh(4,s)).toString()):(s=16,t="2.3283064365386962890625e-10"),r=ps(o,1,r.times(t),new o(1),!0);for(var h,l=s,u=new o(8);l--;)h=r.times(r),r=a.minus(h.times(u.minus(h.times(u))));return ut(r,o.precision=e,o.rounding=i,!0)};$.hyperbolicSine=$.sinh=function(){var s,t,e,i,n=this,r=n.constructor;if(!n.isFinite()||n.isZero())return new r(n);if(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+4,r.rounding=1,i=n.d.length,i<3)n=ps(r,2,n,n,!0);else{s=1.4*Math.sqrt(i),s=s>16?16:s|0,n=n.times(1/Fh(5,s)),n=ps(r,2,n,n,!0);for(var o,a=new r(5),h=new r(16),l=new r(20);s--;)o=n.times(n),n=n.times(a.plus(o.times(h.times(o).plus(l))))}return r.precision=t,r.rounding=e,ut(n,t,e,!0)};$.hyperbolicTangent=$.tanh=function(){var s,t,e=this,i=e.constructor;return e.isFinite()?e.isZero()?new i(e):(s=i.precision,t=i.rounding,i.precision=s+7,i.rounding=1,Rt(e.sinh(),e.cosh(),i.precision=s,i.rounding=t)):new i(e.s)};$.inverseCosine=$.acos=function(){var s=this,t=s.constructor,e=s.abs().cmp(1),i=t.precision,n=t.rounding;return e!==-1?e===0?s.isNeg()?Gi(t,i,n):new t(0):new t(NaN):s.isZero()?Gi(t,i+4,n).times(.5):(t.precision=i+6,t.rounding=1,s=new t(1).minus(s).div(s.plus(1)).sqrt().atan(),t.precision=i,t.rounding=n,s.times(2))};$.inverseHyperbolicCosine=$.acosh=function(){var s,t,e=this,i=e.constructor;return e.lte(1)?new i(e.eq(1)?0:NaN):e.isFinite()?(s=i.precision,t=i.rounding,i.precision=s+Math.max(Math.abs(e.e),e.sd())+4,i.rounding=1,yt=!1,e=e.times(e).minus(1).sqrt().plus(e),yt=!0,i.precision=s,i.rounding=t,e.ln()):new i(e)};$.inverseHyperbolicSine=$.asinh=function(){var s,t,e=this,i=e.constructor;return!e.isFinite()||e.isZero()?new i(e):(s=i.precision,t=i.rounding,i.precision=s+2*Math.max(Math.abs(e.e),e.sd())+6,i.rounding=1,yt=!1,e=e.times(e).plus(1).sqrt().plus(e),yt=!0,i.precision=s,i.rounding=t,e.ln())};$.inverseHyperbolicTangent=$.atanh=function(){var s,t,e,i,n=this,r=n.constructor;return n.isFinite()?n.e>=0?new r(n.abs().eq(1)?n.s/0:n.isZero()?n:NaN):(s=r.precision,t=r.rounding,i=n.sd(),Math.max(i,s)<2*-n.e-1?ut(new r(n),s,t,!0):(r.precision=e=i-n.e,n=Rt(n.plus(1),new r(1).minus(n),e+s,1),r.precision=s+4,r.rounding=1,n=n.ln(),r.precision=s,r.rounding=t,n.times(.5))):new r(NaN)};$.inverseSine=$.asin=function(){var s,t,e,i,n=this,r=n.constructor;return n.isZero()?new r(n):(t=n.abs().cmp(1),e=r.precision,i=r.rounding,t!==-1?t===0?(s=Gi(r,e+4,i).times(.5),s.s=n.s,s):new r(NaN):(r.precision=e+6,r.rounding=1,n=n.div(new r(1).minus(n.times(n)).sqrt().plus(1)).atan(),r.precision=e,r.rounding=i,n.times(2)))};$.inverseTangent=$.atan=function(){var s,t,e,i,n,r,o,a,h,l=this,u=l.constructor,d=u.precision,f=u.rounding;if(l.isFinite()){if(l.isZero())return new u(l);if(l.abs().eq(1)&&d+4<=Kf)return o=Gi(u,d+4,f).times(.25),o.s=l.s,o}else{if(!l.s)return new u(NaN);if(d+4<=Kf)return o=Gi(u,d+4,f).times(.5),o.s=l.s,o}for(u.precision=a=d+10,u.rounding=1,e=Math.min(28,a/pt+2|0),s=e;s;--s)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(yt=!1,t=Math.ceil(a/pt),i=1,h=l.times(l),o=new u(l),n=l;s!==-1;)if(n=n.times(h),r=o.minus(n.div(i+=2)),n=n.times(h),o=r.plus(n.div(i+=2)),o.d[t]!==void 0)for(s=t;o.d[s]===r.d[s]&&s--;);return e&&(o=o.times(2<<e-1)),yt=!0,ut(o,u.precision=d,u.rounding=f,!0)};$.isFinite=function(){return!!this.d};$.isInteger=$.isInt=function(){return!!this.d&&me(this.e/pt)>this.d.length-2};$.isNaN=function(){return!this.s};$.isNegative=$.isNeg=function(){return this.s<0};$.isPositive=$.isPos=function(){return this.s>0};$.isZero=function(){return!!this.d&&this.d[0]===0};$.lessThan=$.lt=function(s){return this.cmp(s)<0};$.lessThanOrEqualTo=$.lte=function(s){return this.cmp(s)<1};$.logarithm=$.log=function(s){var t,e,i,n,r,o,a,h,l=this,u=l.constructor,d=u.precision,f=u.rounding,c=5;if(s==null)s=new u(10),t=!0;else{if(s=new u(s),e=s.d,s.s<0||!e||!e[0]||s.eq(1))return new u(NaN);t=s.eq(10)}if(e=l.d,l.s<0||!e||!e[0]||l.eq(1))return new u(e&&!e[0]?-1/0:l.s!=1?NaN:e?0:1/0);if(t)if(e.length>1)r=!0;else{for(n=e[0];n%10===0;)n/=10;r=n!==1}if(yt=!1,a=d+c,o=qn(l,a),i=t?lh(u,a+10):qn(s,a),h=Rt(o,i,a,1),So(h.d,n=d,f))do if(a+=10,o=qn(l,a),i=t?lh(u,a+10):qn(s,a),h=Rt(o,i,a,1),!r){+ce(h.d).slice(n+1,n+15)+1==1e14&&(h=ut(h,d+1,0));break}while(So(h.d,n+=10,f));return yt=!0,ut(h,d,f)};$.minus=$.sub=function(s){var t,e,i,n,r,o,a,h,l,u,d,f,c=this,g=c.constructor;if(s=new g(s),!c.d||!s.d)return!c.s||!s.s?s=new g(NaN):c.d?s.s=-s.s:s=new g(s.d||c.s!==s.s?c:NaN),s;if(c.s!=s.s)return s.s=-s.s,c.plus(s);if(l=c.d,f=s.d,a=g.precision,h=g.rounding,!l[0]||!f[0]){if(f[0])s.s=-s.s;else if(l[0])s=new g(c);else return new g(h===3?-0:0);return yt?ut(s,a,h):s}if(e=me(s.e/pt),u=me(c.e/pt),l=l.slice(),r=u-e,r){for(d=r<0,d?(t=l,r=-r,o=f.length):(t=f,e=u,o=l.length),i=Math.max(Math.ceil(a/pt),o)+2,r>i&&(r=i,t.length=1),t.reverse(),i=r;i--;)t.push(0);t.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}r=0}for(d&&(t=l,l=f,f=t,s.s=-s.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>r;){if(l[--i]<f[i]){for(n=i;n&&l[--n]===0;)l[n]=Ai-1;--l[n],l[i]+=Ai}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--e;return l[0]?(s.d=l,s.e=kh(l,e),yt?ut(s,a,h):s):new g(h===3?-0:0)};$.modulo=$.mod=function(s){var t,e=this,i=e.constructor;return s=new i(s),!e.d||!s.s||s.d&&!s.d[0]?new i(NaN):!s.d||e.d&&!e.d[0]?ut(new i(e),i.precision,i.rounding):(yt=!1,i.modulo==9?(t=Rt(e,s.abs(),0,3,1),t.s*=s.s):t=Rt(e,s,0,i.modulo,1),t=t.times(s),yt=!0,e.minus(t))};$.naturalExponential=$.exp=function(){return Jf(this)};$.naturalLogarithm=$.ln=function(){return qn(this)};$.negated=$.neg=function(){var s=new this.constructor(this);return s.s=-s.s,ut(s)};$.plus=$.add=function(s){var t,e,i,n,r,o,a,h,l,u,d=this,f=d.constructor;if(s=new f(s),!d.d||!s.d)return!d.s||!s.s?s=new f(NaN):d.d||(s=new f(s.d||d.s===s.s?d:NaN)),s;if(d.s!=s.s)return s.s=-s.s,d.minus(s);if(l=d.d,u=s.d,a=f.precision,h=f.rounding,!l[0]||!u[0])return u[0]||(s=new f(d)),yt?ut(s,a,h):s;if(r=me(d.e/pt),i=me(s.e/pt),l=l.slice(),n=r-i,n){for(n<0?(e=l,n=-n,o=u.length):(e=u,i=r,o=l.length),r=Math.ceil(a/pt),o=r>o?r+1:o+1,n>o&&(n=o,e.length=1),e.reverse();n--;)e.push(0);e.reverse()}for(o=l.length,n=u.length,o-n<0&&(n=o,e=u,u=l,l=e),t=0;n;)t=(l[--n]=l[n]+u[n]+t)/Ai|0,l[n]%=Ai;for(t&&(l.unshift(t),++i),o=l.length;l[--o]==0;)l.pop();return s.d=l,s.e=kh(l,i),yt?ut(s,a,h):s};$.precision=$.sd=function(s){var t,e=this;if(s!==void 0&&s!==!!s&&s!==1&&s!==0)throw Error(Jn+s);return e.d?(t=Nw(e.d),s&&e.e+1>t&&(t=e.e+1)):t=NaN,t};$.round=function(){var s=this,t=s.constructor;return ut(new t(s),s.e+1,t.rounding)};$.sine=$.sin=function(){var s,t,e=this,i=e.constructor;return e.isFinite()?e.isZero()?new i(e):(s=i.precision,t=i.rounding,i.precision=s+Math.max(e.e,e.sd())+pt,i.rounding=1,e=zI(i,Hw(i,e)),i.precision=s,i.rounding=t,ut(_n>2?e.neg():e,s,t,!0)):new i(NaN)};$.squareRoot=$.sqrt=function(){var s,t,e,i,n,r,o=this,a=o.d,h=o.e,l=o.s,u=o.constructor;if(l!==1||!a||!a[0])return new u(!l||l<0&&(!a||a[0])?NaN:a?o:1/0);for(yt=!1,l=Math.sqrt(+o),l==0||l==1/0?(t=ce(a),(t.length+h)%2==0&&(t+="0"),l=Math.sqrt(t),h=me((h+1)/2)-(h<0||h%2),l==1/0?t="5e"+h:(t=l.toExponential(),t=t.slice(0,t.indexOf("e")+1)+h),i=new u(t)):i=new u(l.toString()),e=(h=u.precision)+3;;)if(r=i,i=r.plus(Rt(o,r,e+2,1)).times(.5),ce(r.d).slice(0,e)===(t=ce(i.d)).slice(0,e))if(t=t.slice(e-3,e+1),t=="9999"||!n&&t=="4999"){if(!n&&(ut(r,h+1,0),r.times(r).eq(o))){i=r;break}e+=4,n=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(ut(i,h+1,1),s=!i.times(i).eq(o));break}return yt=!0,ut(i,h,u.rounding,s)};$.tangent=$.tan=function(){var s,t,e=this,i=e.constructor;return e.isFinite()?e.isZero()?new i(e):(s=i.precision,t=i.rounding,i.precision=s+10,i.rounding=1,e=e.sin(),e.s=1,e=Rt(e,new i(1).minus(e.times(e)).sqrt(),s+10,0),i.precision=s,i.rounding=t,ut(_n==2||_n==4?e.neg():e,s,t,!0)):new i(NaN)};$.times=$.mul=function(s){var t,e,i,n,r,o,a,h,l,u=this,d=u.constructor,f=u.d,c=(s=new d(s)).d;if(s.s*=u.s,!f||!f[0]||!c||!c[0])return new d(!s.s||f&&!f[0]&&!c||c&&!c[0]&&!f?NaN:!f||!c?s.s/0:s.s*0);for(e=me(u.e/pt)+me(s.e/pt),h=f.length,l=c.length,h<l&&(r=f,f=c,c=r,o=h,h=l,l=o),r=[],o=h+l,i=o;i--;)r.push(0);for(i=l;--i>=0;){for(t=0,n=h+i;n>i;)a=r[n]+c[i]*f[n-i-1]+t,r[n--]=a%Ai|0,t=a/Ai|0;r[n]=(r[n]+t)%Ai|0}for(;!r[--o];)r.pop();return t?++e:r.shift(),s.d=r,s.e=kh(r,e),yt?ut(s,d.precision,d.rounding):s};$.toBinary=function(s,t){return dp(this,2,s,t)};$.toDecimalPlaces=$.toDP=function(s,t){var e=this,i=e.constructor;return e=new i(e),s===void 0?e:(De(s,0,nr),t===void 0?t=i.rounding:De(t,0,8),ut(e,s+e.e+1,t))};$.toExponential=function(s,t){var e,i=this,n=i.constructor;return s===void 0?e=tn(i,!0):(De(s,0,nr),t===void 0?t=n.rounding:De(t,0,8),i=ut(new n(i),s+1,t),e=tn(i,!0,s+1)),i.isNeg()&&!i.isZero()?"-"+e:e};$.toFixed=function(s,t){var e,i,n=this,r=n.constructor;return s===void 0?e=tn(n):(De(s,0,nr),t===void 0?t=r.rounding:De(t,0,8),i=ut(new r(n),s+n.e+1,t),e=tn(i,!1,s+i.e+1)),n.isNeg()&&!n.isZero()?"-"+e:e};$.toFraction=function(s){var t,e,i,n,r,o,a,h,l,u,d,f,c=this,g=c.d,p=c.constructor;if(!g)return new p(c);if(l=e=new p(1),i=h=new p(0),t=new p(i),r=t.e=Nw(g)-c.e-1,o=r%pt,t.d[0]=ee(10,o<0?pt+o:o),s==null)s=r>0?t:l;else{if(a=new p(s),!a.isInt()||a.lt(l))throw Error(Jn+a);s=a.gt(t)?r>0?t:l:a}for(yt=!1,a=new p(ce(g)),u=p.precision,p.precision=r=g.length*pt*2;d=Rt(a,t,0,1,1),n=e.plus(d.times(i)),n.cmp(s)!=1;)e=i,i=n,n=l,l=h.plus(d.times(n)),h=n,n=t,t=a.minus(d.times(n)),a=n;return n=Rt(s.minus(e),i,0,1,1),h=h.plus(n.times(l)),e=e.plus(n.times(i)),h.s=l.s=c.s,f=Rt(l,i,r,1).minus(c).abs().cmp(Rt(h,e,r,1).minus(c).abs())<1?[l,i]:[h,e],p.precision=u,yt=!0,f};$.toHexadecimal=$.toHex=function(s,t){return dp(this,16,s,t)};$.toNearest=function(s,t){var e=this,i=e.constructor;if(e=new i(e),s==null){if(!e.d)return e;s=new i(1),t=i.rounding}else{if(s=new i(s),t===void 0?t=i.rounding:De(t,0,8),!e.d)return s.s?e:s;if(!s.d)return s.s&&(s.s=e.s),s}return s.d[0]?(yt=!1,e=Rt(e,s,0,t,1).times(s),yt=!0,ut(e)):(s.s=e.s,e=s),e};$.toNumber=function(){return+this};$.toOctal=function(s,t){return dp(this,8,s,t)};$.toPower=$.pow=function(s){var t,e,i,n,r,o,a=this,h=a.constructor,l=+(s=new h(s));if(!a.d||!s.d||!a.d[0]||!s.d[0])return new h(ee(+a,l));if(a=new h(a),a.eq(1))return a;if(i=h.precision,r=h.rounding,s.eq(1))return ut(a,i,r);if(t=me(s.e/pt),t>=s.d.length-1&&(e=l<0?-l:l)<=CI)return n=qw(h,a,e,i),s.s<0?new h(1).div(n):ut(n,i,r);if(o=a.s,o<0){if(t<s.d.length-1)return new h(NaN);if((s.d[t]&1)==0&&(o=1),a.e==0&&a.d[0]==1&&a.d.length==1)return a.s=o,a}return e=ee(+a,l),t=e==0||!isFinite(e)?me(l*(Math.log("0."+ce(a.d))/Math.LN10+a.e+1)):new h(e+"").e,t>h.maxE+1||t<h.minE-1?new h(t>0?o/0:0):(yt=!1,h.rounding=a.s=1,e=Math.min(12,(t+"").length),n=Jf(s.times(qn(a,i+e)),i),n.d&&(n=ut(n,i+5,1),So(n.d,i,r)&&(t=i+10,n=ut(Jf(s.times(qn(a,t+e)),t),t+5,1),+ce(n.d).slice(i+1,i+15)+1==1e14&&(n=ut(n,i+1,0)))),n.s=o,yt=!0,h.rounding=r,ut(n,i,r))};$.toPrecision=function(s,t){var e,i=this,n=i.constructor;return s===void 0?e=tn(i,i.e<=n.toExpNeg||i.e>=n.toExpPos):(De(s,1,nr),t===void 0?t=n.rounding:De(t,0,8),i=ut(new n(i),s,t),e=tn(i,s<=i.e||i.e<=n.toExpNeg,s)),i.isNeg()&&!i.isZero()?"-"+e:e};$.toSignificantDigits=$.toSD=function(s,t){var e=this,i=e.constructor;return s===void 0?(s=i.precision,t=i.rounding):(De(s,1,nr),t===void 0?t=i.rounding:De(t,0,8)),ut(new i(e),s,t)};$.toString=function(){var s=this,t=s.constructor,e=tn(s,s.e<=t.toExpNeg||s.e>=t.toExpPos);return s.isNeg()&&!s.isZero()?"-"+e:e};$.truncated=$.trunc=function(){return ut(new this.constructor(this),this.e+1,1)};$.valueOf=$.toJSON=function(){var s=this,t=s.constructor,e=tn(s,s.e<=t.toExpNeg||s.e>=t.toExpPos);return s.isNeg()?"-"+e:e};function ce(s){var t,e,i,n=s.length-1,r="",o=s[0];if(n>0){for(r+=o,t=1;t<n;t++)i=s[t]+"",e=pt-i.length,e&&(r+=Dn(e)),r+=i;o=s[t],i=o+"",e=pt-i.length,e&&(r+=Dn(e))}else if(o===0)return"0";for(;o%10===0;)o/=10;return r+o}function De(s,t,e){if(s!==~~s||s<t||s>e)throw Error(Jn+s)}function So(s,t,e,i){var n,r,o,a;for(r=s[0];r>=10;r/=10)--t;return--t<0?(t+=pt,n=0):(n=Math.ceil((t+1)/pt),t%=pt),r=ee(10,pt-t),a=s[n]%r|0,i==null?t<3?(t==0?a=a/100|0:t==1&&(a=a/10|0),o=e<4&&a==99999||e>3&&a==49999||a==5e4||a==0):o=(e<4&&a+1==r||e>3&&a+1==r/2)&&(s[n+1]/r/100|0)==ee(10,t-2)-1||(a==r/2||a==0)&&(s[n+1]/r/100|0)==0:t<4?(t==0?a=a/1e3|0:t==1?a=a/100|0:t==2&&(a=a/10|0),o=(i||e<4)&&a==9999||!i&&e>3&&a==4999):o=((i||e<4)&&a+1==r||!i&&e>3&&a+1==r/2)&&(s[n+1]/r/1e3|0)==ee(10,t-3)-1,o}function za(s,t,e){for(var i,n=[0],r,o=0,a=s.length;o<a;){for(r=n.length;r--;)n[r]*=t;for(n[0]+=Yf.indexOf(s.charAt(o++)),i=0;i<n.length;i++)n[i]>e-1&&(n[i+1]===void 0&&(n[i+1]=0),n[i+1]+=n[i]/e|0,n[i]%=e)}return n.reverse()}function II(s,t){var e,i,n;if(t.isZero())return t;i=t.d.length,i<32?(e=Math.ceil(i/3),n=(1/Fh(4,e)).toString()):(e=16,n="2.3283064365386962890625e-10"),s.precision+=e,t=ps(s,1,t.times(n),new s(1));for(var r=e;r--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return s.precision-=e,t}var Rt=function(){function s(i,n,r){var o,a=0,h=i.length;for(i=i.slice();h--;)o=i[h]*n+a,i[h]=o%r|0,a=o/r|0;return a&&i.unshift(a),i}function t(i,n,r,o){var a,h;if(r!=o)h=r>o?1:-1;else for(a=h=0;a<r;a++)if(i[a]!=n[a]){h=i[a]>n[a]?1:-1;break}return h}function e(i,n,r,o){for(var a=0;r--;)i[r]-=a,a=i[r]<n[r]?1:0,i[r]=a*o+i[r]-n[r];for(;!i[0]&&i.length>1;)i.shift()}return function(i,n,r,o,a,h){var l,u,d,f,c,g,p,m,y,x,v,w,_,T,b,S,A,P,M,C,R=i.constructor,D=i.s==n.s?1:-1,F=i.d,E=n.d;if(!F||!F[0]||!E||!E[0])return new R(!i.s||!n.s||(F?E&&F[0]==E[0]:!E)?NaN:F&&F[0]==0||!E?D*0:D/0);for(h?(c=1,u=i.e-n.e):(h=Ai,c=pt,u=me(i.e/c)-me(n.e/c)),M=E.length,A=F.length,y=new R(D),x=y.d=[],d=0;E[d]==(F[d]||0);d++);if(E[d]>(F[d]||0)&&u--,r==null?(T=r=R.precision,o=R.rounding):a?T=r+(i.e-n.e)+1:T=r,T<0)x.push(1),g=!0;else{if(T=T/c+2|0,d=0,M==1){for(f=0,E=E[0],T++;(d<A||f)&&T--;d++)b=f*h+(F[d]||0),x[d]=b/E|0,f=b%E|0;g=f||d<A}else{for(f=h/(E[0]+1)|0,f>1&&(E=s(E,f,h),F=s(F,f,h),M=E.length,A=F.length),S=M,v=F.slice(0,M),w=v.length;w<M;)v[w++]=0;C=E.slice(),C.unshift(0),P=E[0],E[1]>=h/2&&++P;do f=0,l=t(E,v,M,w),l<0?(_=v[0],M!=w&&(_=_*h+(v[1]||0)),f=_/P|0,f>1?(f>=h&&(f=h-1),p=s(E,f,h),m=p.length,w=v.length,l=t(p,v,m,w),l==1&&(f--,e(p,M<m?C:E,m,h))):(f==0&&(l=f=1),p=E.slice()),m=p.length,m<w&&p.unshift(0),e(v,p,w,h),l==-1&&(w=v.length,l=t(E,v,M,w),l<1&&(f++,e(v,M<w?C:E,w,h))),w=v.length):l===0&&(f++,v=[0]),x[d++]=f,l&&v[0]?v[w++]=F[S]||0:(v=[F[S]],w=1);while((S++<A||v[0]!==void 0)&&T--);g=v[0]!==void 0}x[0]||x.shift()}if(c==1)y.e=u,Fw=g;else{for(d=1,f=x[0];f>=10;f/=10)d++;y.e=d+u*c-1,ut(y,a?r+y.e+1:r,o,g)}return y}}();function ut(s,t,e,i){var n,r,o,a,h,l,u,d,f,c=s.constructor;t:if(t!=null){if(d=s.d,!d)return s;for(n=1,a=d[0];a>=10;a/=10)n++;if(r=t-n,r<0)r+=pt,o=t,u=d[f=0],h=u/ee(10,n-o-1)%10|0;else if(f=Math.ceil((r+1)/pt),a=d.length,f>=a)if(i){for(;a++<=f;)d.push(0);u=h=0,n=1,r%=pt,o=r-pt+1}else break t;else{for(u=a=d[f],n=1;a>=10;a/=10)n++;r%=pt,o=r-pt+n,h=o<0?0:u/ee(10,n-o-1)%10|0}if(i=i||t<0||d[f+1]!==void 0||(o<0?u:u%ee(10,n-o-1)),l=e<4?(h||i)&&(e==0||e==(s.s<0?3:2)):h>5||h==5&&(e==4||i||e==6&&(r>0?o>0?u/ee(10,n-o):0:d[f-1])%10&1||e==(s.s<0?8:7)),t<1||!d[0])return d.length=0,l?(t-=s.e+1,d[0]=ee(10,(pt-t%pt)%pt),s.e=-t||0):d[0]=s.e=0,s;if(r==0?(d.length=f,a=1,f--):(d.length=f+1,a=ee(10,pt-r),d[f]=o>0?(u/ee(10,n-o)%ee(10,o)|0)*a:0),l)for(;;)if(f==0){for(r=1,o=d[0];o>=10;o/=10)r++;for(o=d[0]+=a,a=1;o>=10;o/=10)a++;r!=a&&(s.e++,d[0]==Ai&&(d[0]=1));break}else{if(d[f]+=a,d[f]!=Ai)break;d[f--]=0,a=1}for(r=d.length;d[--r]===0;)d.pop()}return yt&&(s.e>c.maxE?(s.d=null,s.e=NaN):s.e<c.minE&&(s.e=0,s.d=[0])),s}function tn(s,t,e){if(!s.isFinite())return Gw(s);var i,n=s.e,r=ce(s.d),o=r.length;return t?(e&&(i=e-o)>0?r=r.charAt(0)+"."+r.slice(1)+Dn(i):o>1&&(r=r.charAt(0)+"."+r.slice(1)),r=r+(s.e<0?"e":"e+")+s.e):n<0?(r="0."+Dn(-n-1)+r,e&&(i=e-o)>0&&(r+=Dn(i))):n>=o?(r+=Dn(n+1-o),e&&(i=e-n-1)>0&&(r=r+"."+Dn(i))):((i=n+1)<o&&(r=r.slice(0,i)+"."+r.slice(i)),e&&(i=e-o)>0&&(n+1===o&&(r+="."),r+=Dn(i))),r}function kh(s,t){var e=s[0];for(t*=pt;e>=10;e/=10)t++;return t}function lh(s,t,e){if(t>PI)throw yt=!0,e&&(s.precision=e),Error(jw);return ut(new s(ah),t,1,!0)}function Gi(s,t,e){if(t>Kf)throw Error(jw);return ut(new s(hh),t,e,!0)}function Nw(s){var t=s.length-1,e=t*pt+1;if(t=s[t],t){for(;t%10==0;t/=10)e--;for(t=s[0];t>=10;t/=10)e++}return e}function Dn(s){for(var t="";s--;)t+="0";return t}function qw(s,t,e,i){var n,r=new s(1),o=Math.ceil(i/pt+4);for(yt=!1;;){if(e%2&&(r=r.times(t),c0(r.d,o)&&(n=!0)),e=me(e/2),e===0){e=r.d.length-1,n&&r.d[e]===0&&++r.d[e];break}t=t.times(t),c0(t.d,o)}return yt=!0,r}function u0(s){return s.d[s.d.length-1]&1}function Uw(s,t,e){for(var i,n,r=new s(t[0]),o=0;++o<t.length;){if(n=new s(t[o]),!n.s){r=n;break}i=r.cmp(n),(i===e||i===0&&r.s===e)&&(r=n)}return r}function Jf(s,t){var e,i,n,r,o,a,h,l=0,u=0,d=0,f=s.constructor,c=f.rounding,g=f.precision;if(!s.d||!s.d[0]||s.e>17)return new f(s.d?s.d[0]?s.s<0?0:1/0:1:s.s?s.s<0?0:s:NaN);for(t==null?(yt=!1,h=g):h=t,a=new f(.03125);s.e>-2;)s=s.times(a),d+=5;for(i=Math.log(ee(2,d))/Math.LN10*2+5|0,h+=i,e=r=o=new f(1),f.precision=h;;){if(r=ut(r.times(s),h,1),e=e.times(++u),a=o.plus(Rt(r,e,h,1)),ce(a.d).slice(0,h)===ce(o.d).slice(0,h)){for(n=d;n--;)o=ut(o.times(o),h,1);if(t==null)if(l<3&&So(o.d,h-i,c,l))f.precision=h+=10,e=r=a=new f(1),u=0,l++;else return ut(o,f.precision=g,c,yt=!0);else return f.precision=g,o}o=a}}function qn(s,t){var e,i,n,r,o,a,h,l,u,d,f,c=1,g=10,p=s,m=p.d,y=p.constructor,x=y.rounding,v=y.precision;if(p.s<0||!m||!m[0]||!p.e&&m[0]==1&&m.length==1)return new y(m&&!m[0]?-1/0:p.s!=1?NaN:m?0:p);if(t==null?(yt=!1,u=v):u=t,y.precision=u+=g,e=ce(m),i=e.charAt(0),Math.abs(r=p.e)<15e14){for(;i<7&&i!=1||i==1&&e.charAt(1)>3;)p=p.times(s),e=ce(p.d),i=e.charAt(0),c++;r=p.e,i>1?(p=new y("0."+e),r++):p=new y(i+"."+e.slice(1))}else return l=lh(y,u+2,v).times(r+""),p=qn(new y(i+"."+e.slice(1)),u-g).plus(l),y.precision=v,t==null?ut(p,v,x,yt=!0):p;for(d=p,h=o=p=Rt(p.minus(1),p.plus(1),u,1),f=ut(p.times(p),u,1),n=3;;){if(o=ut(o.times(f),u,1),l=h.plus(Rt(o,new y(n),u,1)),ce(l.d).slice(0,u)===ce(h.d).slice(0,u))if(h=h.times(2),r!==0&&(h=h.plus(lh(y,u+2,v).times(r+""))),h=Rt(h,new y(c),u,1),t==null)if(So(h.d,u-g,x,a))y.precision=u+=g,l=o=p=Rt(d.minus(1),d.plus(1),u,1),f=ut(p.times(p),u,1),n=a=1;else return ut(h,y.precision=v,x,yt=!0);else return y.precision=v,h;h=l,n+=2}}function Gw(s){return String(s.s*s.s/0)}function Ra(s,t){var e,i,n;for((e=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(e<0&&(e=i),e+=+t.slice(i+1),t=t.substring(0,i)):e<0&&(e=t.length),i=0;t.charCodeAt(i)===48;i++);for(n=t.length;t.charCodeAt(n-1)===48;--n);if(t=t.slice(i,n),t){if(n-=i,s.e=e=e-i-1,s.d=[],i=(e+1)%pt,e<0&&(i+=pt),i<n){for(i&&s.d.push(+t.slice(0,i)),n-=pt;i<n;)s.d.push(+t.slice(i,i+=pt));t=t.slice(i),i=pt-t.length}else i-=n;for(;i--;)t+="0";s.d.push(+t),yt&&(s.e>s.constructor.maxE?(s.d=null,s.e=NaN):s.e<s.constructor.minE&&(s.e=0,s.d=[0]))}else s.e=0,s.d=[0];return s}function MI(s,t){var e,i,n,r,o,a,h,l,u;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),Lw.test(t))return Ra(s,t)}else if(t==="Infinity"||t==="NaN")return+t||(s.s=NaN),s.e=NaN,s.d=null,s;if(AI.test(t))e=16,t=t.toLowerCase();else if(SI.test(t))e=2;else if(EI.test(t))e=8;else throw Error(Jn+t);for(r=t.search(/p/i),r>0?(h=+t.slice(r+1),t=t.substring(2,r)):t=t.slice(2),r=t.indexOf("."),o=r>=0,i=s.constructor,o&&(t=t.replace(".",""),a=t.length,r=a-r,n=qw(i,new i(e),r,r*2)),l=za(t,e,Ai),u=l.length-1,r=u;l[r]===0;--r)l.pop();return r<0?new i(s.s*0):(s.e=kh(l,u),s.d=l,yt=!1,o&&(s=Rt(s,n,a*4)),h&&(s=s.times(Math.abs(h)<54?ee(2,h):Ei.pow(2,h))),yt=!0,s)}function zI(s,t){var e,i=t.d.length;if(i<3)return t.isZero()?t:ps(s,2,t,t);e=1.4*Math.sqrt(i),e=e>16?16:e|0,t=t.times(1/Fh(5,e)),t=ps(s,2,t,t);for(var n,r=new s(5),o=new s(16),a=new s(20);e--;)n=t.times(t),t=t.times(r.plus(n.times(o.times(n).minus(a))));return t}function ps(s,t,e,i,n){var r,o,a,h,l=s.precision,u=Math.ceil(l/pt);for(yt=!1,h=e.times(e),a=new s(i);;){if(o=Rt(a.times(h),new s(t++*t++),l,1),a=n?i.plus(o):i.minus(o),i=Rt(o.times(h),new s(t++*t++),l,1),o=a.plus(i),o.d[u]!==void 0){for(r=u;o.d[r]===a.d[r]&&r--;);if(r==-1)break}r=a,a=i,i=o,o=r}return yt=!0,o.d.length=u+1,o}function Fh(s,t){for(var e=s;--t;)e*=s;return e}function Hw(s,t){var e,i=t.s<0,n=Gi(s,s.precision,1),r=n.times(.5);if(t=t.abs(),t.lte(r))return _n=i?4:1,t;if(e=t.divToInt(n),e.isZero())_n=i?3:2;else{if(t=t.minus(e.times(n)),t.lte(r))return _n=u0(e)?i?2:3:i?4:1,t;_n=u0(e)?i?1:4:i?3:2}return t.minus(n).abs()}function dp(s,t,e,i){var n,r,o,a,h,l,u,d,f,c=s.constructor,g=e!==void 0;if(g?(De(e,1,nr),i===void 0?i=c.rounding:De(i,0,8)):(e=c.precision,i=c.rounding),!s.isFinite())u=Gw(s);else{for(u=tn(s),o=u.indexOf("."),g?(n=2,t==16?e=e*4-3:t==8&&(e=e*3-2)):n=t,o>=0&&(u=u.replace(".",""),f=new c(1),f.e=u.length-o,f.d=za(tn(f),10,n),f.e=f.d.length),d=za(u,10,n),r=h=d.length;d[--h]==0;)d.pop();if(!d[0])u=g?"0p+0":"0";else{if(o<0?r--:(s=new c(s),s.d=d,s.e=r,s=Rt(s,f,e,i,0,n),d=s.d,r=s.e,l=Fw),o=d[e],a=n/2,l=l||d[e+1]!==void 0,l=i<4?(o!==void 0||l)&&(i===0||i===(s.s<0?3:2)):o>a||o===a&&(i===4||l||i===6&&d[e-1]&1||i===(s.s<0?8:7)),d.length=e,l)for(;++d[--e]>n-1;)d[e]=0,e||(++r,d.unshift(1));for(h=d.length;!d[h-1];--h);for(o=0,u="";o<h;o++)u+=Yf.charAt(d[o]);if(g){if(h>1)if(t==16||t==8){for(o=t==16?4:3,--h;h%o;h++)u+="0";for(d=za(u,n,t),h=d.length;!d[h-1];--h);for(o=1,u="1.";o<h;o++)u+=Yf.charAt(d[o])}else u=u.charAt(0)+"."+u.slice(1);u=u+(r<0?"p":"p+")+r}else if(r<0){for(;++r;)u="0"+u;u="0."+u}else if(++r>h)for(r-=h;r--;)u+="0";else r<h&&(u=u.slice(0,r)+"."+u.slice(r))}u=(t==16?"0x":t==2?"0b":t==8?"0o":"")+u}return s.s<0?"-"+u:u}function c0(s,t){if(s.length>t)return s.length=t,!0}function RI(s){return new this(s).abs()}function DI(s){return new this(s).acos()}function kI(s){return new this(s).acosh()}function FI(s,t){return new this(s).plus(t)}function jI(s){return new this(s).asin()}function OI(s){return new this(s).asinh()}function BI(s){return new this(s).atan()}function LI(s){return new this(s).atanh()}function NI(s,t){s=new this(s),t=new this(t);var e,i=this.precision,n=this.rounding,r=i+4;return!s.s||!t.s?e=new this(NaN):!s.d&&!t.d?(e=Gi(this,r,1).times(t.s>0?.25:.75),e.s=s.s):!t.d||s.isZero()?(e=t.s<0?Gi(this,i,n):new this(0),e.s=s.s):!s.d||t.isZero()?(e=Gi(this,r,1).times(.5),e.s=s.s):t.s<0?(this.precision=r,this.rounding=1,e=this.atan(Rt(s,t,r,1)),t=Gi(this,r,1),this.precision=i,this.rounding=n,e=s.s<0?e.minus(t):e.plus(t)):e=this.atan(Rt(s,t,r,1)),e}function qI(s){return new this(s).cbrt()}function UI(s){return ut(s=new this(s),s.e+1,2)}function GI(s,t,e){return new this(s).clamp(t,e)}function HI(s){if(!s||typeof s!="object")throw Error(Dh+"Object expected");var t,e,i,n=s.defaults===!0,r=["precision",1,nr,"rounding",0,8,"toExpNeg",-Kr,0,"toExpPos",0,Kr,"maxE",0,Kr,"minE",-Kr,0,"modulo",0,9];for(t=0;t<r.length;t+=3)if(e=r[t],n&&(this[e]=Zf[e]),(i=s[e])!==void 0)if(me(i)===i&&i>=r[t+1]&&i<=r[t+2])this[e]=i;else throw Error(Jn+e+": "+i);if(e="crypto",n&&(this[e]=Zf[e]),(i=s[e])!==void 0)if(i===!0||i===!1||i===0||i===1)if(i)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[e]=!0;else throw Error(Ow);else this[e]=!1;else throw Error(Jn+e+": "+i);return this}function WI(s){return new this(s).cos()}function VI(s){return new this(s).cosh()}function Ww(s){var t,e,i;function n(r){var o,a,h,l=this;if(!(l instanceof n))return new n(r);if(l.constructor=n,d0(r)){l.s=r.s,yt?!r.d||r.e>n.maxE?(l.e=NaN,l.d=null):r.e<n.minE?(l.e=0,l.d=[0]):(l.e=r.e,l.d=r.d.slice()):(l.e=r.e,l.d=r.d?r.d.slice():r.d);return}if(h=typeof r,h==="number"){if(r===0){l.s=1/r<0?-1:1,l.e=0,l.d=[0];return}if(r<0?(r=-r,l.s=-1):l.s=1,r===~~r&&r<1e7){for(o=0,a=r;a>=10;a/=10)o++;yt?o>n.maxE?(l.e=NaN,l.d=null):o<n.minE?(l.e=0,l.d=[0]):(l.e=o,l.d=[r]):(l.e=o,l.d=[r]);return}if(r*0!==0){r||(l.s=NaN),l.e=NaN,l.d=null;return}return Ra(l,r.toString())}if(h==="string")return(a=r.charCodeAt(0))===45?(r=r.slice(1),l.s=-1):(a===43&&(r=r.slice(1)),l.s=1),Lw.test(r)?Ra(l,r):MI(l,r);if(h==="bigint")return r<0?(r=-r,l.s=-1):l.s=1,Ra(l,r.toString());throw Error(Jn+r)}if(n.prototype=$,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.EUCLID=9,n.config=n.set=HI,n.clone=Ww,n.isDecimal=d0,n.abs=RI,n.acos=DI,n.acosh=kI,n.add=FI,n.asin=jI,n.asinh=OI,n.atan=BI,n.atanh=LI,n.atan2=NI,n.cbrt=qI,n.ceil=UI,n.clamp=GI,n.cos=WI,n.cosh=VI,n.div=$I,n.exp=XI,n.floor=YI,n.hypot=ZI,n.ln=KI,n.log=JI,n.log10=tM,n.log2=QI,n.max=eM,n.min=iM,n.mod=nM,n.mul=rM,n.pow=sM,n.random=oM,n.round=aM,n.sign=hM,n.sin=lM,n.sinh=uM,n.sqrt=cM,n.sub=dM,n.sum=fM,n.tan=gM,n.tanh=pM,n.trunc=mM,s===void 0&&(s={}),s&&s.defaults!==!0)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<i.length;)s.hasOwnProperty(e=i[t++])||(s[e]=this[e]);return n.config(s),n}function $I(s,t){return new this(s).div(t)}function XI(s){return new this(s).exp()}function YI(s){return ut(s=new this(s),s.e+1,3)}function ZI(){var s,t,e=new this(0);for(yt=!1,s=0;s<arguments.length;)if(t=new this(arguments[s++]),t.d)e.d&&(e=e.plus(t.times(t)));else{if(t.s)return yt=!0,new this(1/0);e=t}return yt=!0,e.sqrt()}function d0(s){return s instanceof Ei||s&&s.toStringTag===Bw||!1}function KI(s){return new this(s).ln()}function JI(s,t){return new this(s).log(t)}function QI(s){return new this(s).log(2)}function tM(s){return new this(s).log(10)}function eM(){return Uw(this,arguments,-1)}function iM(){return Uw(this,arguments,1)}function nM(s,t){return new this(s).mod(t)}function rM(s,t){return new this(s).mul(t)}function sM(s,t){return new this(s).pow(t)}function oM(s){var t,e,i,n,r=0,o=new this(1),a=[];if(s===void 0?s=this.precision:De(s,1,nr),i=Math.ceil(s/pt),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(i));r<i;)n=t[r],n>=429e7?t[r]=crypto.getRandomValues(new Uint32Array(1))[0]:a[r++]=n%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(i*=4);r<i;)n=t[r]+(t[r+1]<<8)+(t[r+2]<<16)+((t[r+3]&127)<<24),n>=214e7?crypto.randomBytes(4).copy(t,r):(a.push(n%1e7),r+=4);r=i/4}else throw Error(Ow);else for(;r<i;)a[r++]=Math.random()*1e7|0;for(i=a[--r],s%=pt,i&&s&&(n=ee(10,pt-s),a[r]=(i/n|0)*n);a[r]===0;r--)a.pop();if(r<0)e=0,a=[0];else{for(e=-1;a[0]===0;e-=pt)a.shift();for(i=1,n=a[0];n>=10;n/=10)i++;i<pt&&(e-=pt-i)}return o.e=e,o.d=a,o}function aM(s){return ut(s=new this(s),s.e+1,this.rounding)}function hM(s){return s=new this(s),s.d?s.d[0]?s.s:0*s.s:s.s||NaN}function lM(s){return new this(s).sin()}function uM(s){return new this(s).sinh()}function cM(s){return new this(s).sqrt()}function dM(s,t){return new this(s).sub(t)}function fM(){var s=0,t=arguments,e=new this(t[s]);for(yt=!1;e.s&&++s<t.length;)e=e.plus(t[s]);return yt=!0,ut(e,this.precision,this.rounding)}function gM(s){return new this(s).tan()}function pM(s){return new this(s).tanh()}function mM(s){return ut(s=new this(s),s.e+1,1)}$[Symbol.for("nodejs.util.inspect.custom")]=$.toString;$[Symbol.toStringTag]="Decimal";var Ei=$.constructor=Ww(Zf);ah=new Ei(ah);hh=new Ei(hh);const Da=(s,t,e)=>{const i=t/s.width*s.scale.x,r=Math.min(i,i);s.scale.set(r>1?1:r)};class It extends Th{constructor(t){const{text:e,fontSize:i=36,fontColor:n=16777215,stroke:r,strokeThickness:o,fontFamily:a="Arial",fontWeight:h="normal",wordWrapWidth:l,lineHeight:u=1,align:d="left",indent:f=0,shadow:c,gradientDirection:g,breakWord:p=!0}=t,m=new Zi({fontSize:i,wordWrap:!!l,wordWrapWidth:l,fontWeight:h,lineHeight:u*i,breakWords:p,fill:n,align:d,fontFamily:It.fontFamily||a,stroke:r||"transparent",strokeThickness:o||0,lineJoin:"round",fillGradientType:g==="h"?Pr.LINEAR_HORIZONTAL:Pr.LINEAR_VERTICAL});c&&(m.dropShadow=!0,m.dropShadowColor=c[0],m.dropShadowAngle=c[1]*(Math.PI/180),m.dropShadowBlur=c[2],m.dropShadowDistance=c[3]),super(e,m),this.position.x=f*i}}class jh extends zh{constructor(t){const{width:e,height:i,bgColor:n,value:r=""}=t;super(e,i,n),this._value="",this._onBlurHandler=()=>{const{type:a="text",integer:h=!1}=this._params;let l=this._input.value.trim();return["text","password"].includes(a)?l:Number(l)<=0?"":(h&&(l=parseInt(l).toString()),l=new Ei(Number(l)).toFixed(2,Ei.ROUND_DOWN),l)},this.cursor="text",this._params=t,this._value=r,this._createInput(),this._createReadOnlyInput(),Lt(this,"pointertap",this.focus.bind(this));const o=new Tt;o.add(()=>{if(this.destroyed){o.stop();return}this._updateInputPosition()}),o.start()}setValue(t){const{onFormatValue:e,type:i="text",onValue:n,width:r}=this._params;this._value=t;const o=e==null?void 0:e(t),a=i==="password"?o||"".repeat(t.length):o||t;this._readonlyInput.text=a,this._input.style.display="none",Da(this._readonlyInput,r);const h=t==="",l=i==="number",u=Number(t);if(l){const d=!isNaN(u)&&u!==0;this._readonlyInput.visible=d,this._placeholder.visible=!d,n==null||n(u)}else this._readonlyInput.visible=!h,this._placeholder.visible=h,n==null||n(t)}setPlaceholder(t){this._placeholder.text=t,Da(this._placeholder,this._params.width)}focus(){const{type:t}=this._params;this._input.style.display="block",this._input.focus(),this._readonlyInput.visible=!1,this._placeholder.visible=!1,t==="number"?this._input.value=this._value&&Number(this._value).toString():this._input.value=this._value}toggleType(t){this._input.type=t,this._params.type=t,this.setValue(this._value)}clear(){this._input.value="",this._blur()}_createInput(){const{color:t="#fff",maxLength:e=999999,align:i="left",type:n="text",fontFamily:r="",bold:o=!1}=this._params;this._input=document.createElement("input"),this._input.type=n,this._input.maxLength=e,this._input.style.cssText=`
      position: absolute;
      border: none;
      outline: none;
      display: none;
      background-color: transparent;
      color: ${t};
      text-align: ${i};
      font-family: ${r};
      font-weight: ${o?"bold":"normal"}
      `,document.querySelector("#game").appendChild(this._input),this._input.addEventListener("input",function(){this.value.length>e&&n==="number"&&(this.value=this.value.slice(0,e))}),this._input.addEventListener("paste",function(a){var h,l;const u=(l=(h=a.clipboardData)===null||h===void 0?void 0:h.getData("text"))!==null&&l!==void 0?l:"";u.length>e&&(a.preventDefault(),this.value=u.slice(0,e))}),this._input.addEventListener("blur",this._blur.bind(this))}_createReadOnlyInput(){const{color:t="#fff",value:e="",width:i,height:n,fontSizeRatio:r=.5,align:o="left",placeholder:a="",placeholderColor:h,fontFamily:l="",bold:u=!1}=this._params;this._placeholder=new It({text:a,fontColor:h,fontSize:n*r,fontFamily:l,fontWeight:u?"bold":"normal"}),this.addChild(this._placeholder),this._placeholder.visible=!e,this._placeholder.anchor.set(o==="left"?0:.5,.5),this._placeholder.position.set(o==="left"?0:i/2,n/2),Da(this._placeholder,this._params.width),this._readonlyInput=new It({text:e,fontColor:t,fontSize:n*r,fontFamily:l,fontWeight:u?"bold":"normal"}),this.addChild(this._readonlyInput),this._readonlyInput.visible=!!e,this._readonlyInput.anchor.set(o==="left"?0:.5,.5),this._readonlyInput.position.set(o==="left"?0:i/2,n/2)}_updateInputPosition(){const{width:t,height:e,x:i,y:n}=this.getBounds(),{fontSizeRatio:r=.5}=this._params;if(this._input.style.width=`${t}px`,this._input.style.height=`${e}px`,this._input.style.fontSize=`${e*r}px`,jh.stage.rotation===0)this._input.style.left=`${i}px`,this._input.style.top=`${n}px`,this._input.style.width=`${t}px`,this._input.style.height=`${e}px`,this._input.style.fontSize=`${e*r}px`,this._input.style.transform="rotate(0deg)";else{const o=i+t/2,a=n+e/2;this._input.style.left=`${o-e/2}px`,this._input.style.top=`${a-t/2}px`,this._input.style.width=`${e}px`,this._input.style.height=`${t}px`,this._input.style.fontSize=`${t*r}px`,this._input.style.transform="rotate(90deg)"}}_blur(){const t=this._onBlurHandler();this.setValue(t)}}class Vw extends Xt{constructor(t,e,i){super(),this.beginFill(i),this.drawEllipse(0,0,t,e),this.endFill()}}class ms extends ft{constructor(t){super(),this.COLLECT_TIME=5*1e3,this._nowTime=0,this._lastTime=0,this._drawCount=0,this._maxDrawCount=0,this._tempMaxDrawCount=0,this._lastCollectTime=0,this._containerWidth=590,this._containerHeight=50,this.pivot.x=this._containerWidth/2,this._bg=new we(this._containerWidth,this._containerHeight,"#0000007e"),this.addChild(this._bg);const e=new ft;this.addChild(e),e.x=25,e.y=this._containerHeight/2,this._fpsText=new Cu("FPS"),e.addChild(this._fpsText),this._drawCallText=new Cu("Draw Call"),e.addChild(this._drawCallText),this._drawCallText.x=125,this._maxDrawCallText=new Cu("Max Draw Call"),e.addChild(this._maxDrawCallText),this._maxDrawCallText.x=320,this._renderer=t.renderer,this._drawElements=this._renderer.gl.drawElements,this.init(),ms.ADAPT_MODE==="h"?this.x=1920/2:ms.ADAPT_MODE==="v"?this.x=1080/2:new Ih().on((n,r)=>{n>r?this.x=1920/2:this.x=1080/2})}init(){this._renderer.gl.drawElements=(...t)=>{this._drawElements.call(this._renderer.gl,...t),this._drawCount++},Tt.shared.add(()=>{const t=Tt.system.FPS;this._nowTime=performance.now(),this._nowTime-this._lastTime>=100&&(this._setTextInfo("fps",Number(Math.floor(t).toFixed(0))),this._lastTime=this._nowTime),this._nowTime-this._lastCollectTime<this.COLLECT_TIME?this._tempMaxDrawCount<this._drawCount&&(this._tempMaxDrawCount=this._drawCount):(this._maxDrawCount=this._tempMaxDrawCount,this._tempMaxDrawCount=0,this._lastCollectTime=this._nowTime),this._setTextInfo("drawCall",this._drawCount),this._setTextInfo("maxDrawCall",this._maxDrawCount),this._drawCount=0},Yi.UTILITY)}_setTextInfo(t,e){const n={fps:this._fpsText,drawCall:this._drawCallText,maxDrawCall:this._maxDrawCallText}[t];n.updateValue(e),t==="fps"?n.updateColor(this.getFpsColor(e)):n.updateColor(this.getDrawCallColor(e))}getFpsColor(t){let e="#00ff04";return t<30&&(e="#ffd20a"),t<20&&(e="#ff000d"),e}getDrawCallColor(t){let e="#00ff04";return t>=75&&(e="#ffd20a"),t>=100&&(e="#ff000d"),e}}ms.ADAPT_MODE="hv";class Cu extends ft{constructor(t,e=26){super();const i=new It({text:t,fontSize:e,fontWeight:"bold"});this.addChild(i),i.anchor.y=.5,this._valueText=new It({text:"0",fontSize:e,fontWeight:"bold"}),this.addChild(this._valueText),this._valueText.anchor.y=.5,this._valueText.x=i.width+10}updateColor(t){this._valueText.style.fill=t}updateValue(t){this._valueText.text=t}}class Ao extends zh{constructor(t){const{width:e,height:i,scrollbar:n=!1,scrollContent:r,scrollbarRgiht:o=0,scrollbarWidth:a=10,scrollbarColor:h="#ffffff",onScroll:l,bgColor:u,maskTexture:d,maskX:f=0,maskY:c=0}=t;super(e,i,u),this._startY=0,this._velocity=0,this._startTime=0,this._startContentY=0,this._scrollSpeed=200,this._isDragging=!1,this._scrollbarDragging=!1,this._scrollbarDragOffset=0,this._topMargin=0,this._scrollbarRgiht=o,this._scrollbarWidth=a,this._scrollContent=r,this._scrollbarColor=h,this._onScroll=l,this._showScrollbar=n,this._content=new ft,this.addChild(this._content),this._content.addChild(this._scrollContent),d?(this._maskGraphics=new Ve(d),this.addChild(this._maskGraphics),this._maskGraphics.width=e,this._maskGraphics.height=i,this._maskGraphics.position.set(f,c),this.mask=this._maskGraphics):(this._maskGraphics=new we(e,i,"#000"),this.addChild(this._maskGraphics),this.mask=this._maskGraphics),this._scrollbar=new we(a,i,this._scrollbarColor),this._scrollbar.x=e-(o||a),this.addChild(this._scrollbar),this._scrollbar.visible=this._showScrollbar,this._scrollbar.alpha=0,this._updateScrollbarSize(),Lt(this._scrollbar,"pointerdown",this._onScrollbarDragStart.bind(this)),Lt(this._scrollbar,"pointerenter",()=>{X.killTweensOf(this._scrollbar),this._scrollbar.alpha=1,this._updateScrollbarSize()}),Lt(this._scrollbar,"pointerleave",()=>{X.to(this._scrollbar,{duration:.5,alpha:0,delay:1})}),Lt(this,"pointerdown",g=>{this._onDragStart(g),this._updateScrollbarSize()}),Lt(Ao.stage,"pointermove",g=>{this._onScrollbarDragMove(g),this._onDragMove(g)}),Ao.stage.cursor="default",Lt(this,"pointerup",g=>{this._onScrollbarDragEnd(g),this._onDragEnd()}),Lt(this,"wheel",g=>{this._onWheelScroll(g),this._updateScrollbarSize()}),Lt(this,"pointerupoutside",()=>{this._onDragEnd()}),this.cursor="default"}addMargin(t,e=t){if(this._topMargin=t,t){const i=new Ve;this._content.addChild(i),i.height=t,this._scrollContent.y+=t}e&&(this._bottomMarginBox=new Ve,this._content.addChild(this._bottomMarginBox),this._bottomMarginBox.height=e,this._bottomMarginBox.y=t+this._scrollContent.height)}setDimensions(t,e){this._maskGraphics.width=t,this._maskGraphics.height=e,this.setSize(t,e),this._scrollbar.x=t-(this._scrollbarRgiht||this._scrollbarWidth),this._updateBottomMargin()}scrollToTop(t=!1){X.killTweensOf(this._content),t?X.to(this._content,{y:0,duration:.25}):this._content.y=0}addContent(t){this._scrollContent.addChild(t)}_updateBottomMargin(){this._bottomMarginBox&&(this._bottomMarginBox.x=this._topMargin+this._scrollContent.width)}_onDragStart(t){if(this._content.height<=this._maskGraphics.height)return;const{y:e}=t.getLocalPosition(this);this._startY=e-this._content.y,this._isDragging=!0,this._velocity=0,this._startTime=Date.now(),this._startContentY=this._content.y,X.killTweensOf(this._content)}_onDragMove(t){if(this._isDragging){const{y:e}=t.getLocalPosition(this),i=e-this._startY;this._content.y=i,this._updateScrollbar()}}_onDragEnd(){this._isDragging=!1,this._scrollbarDragging=!1;const e=Date.now()-this._startTime;e<250?(this._velocity=(this._content.y-this._startContentY)/e,this._applyInertia()):this._velocity=0,this._limitScrollRange(),X.to(this._scrollbar,{duration:.5,alpha:0,delay:.25})}_onWheelScroll(t){if(this._content.height<=this._maskGraphics.height)return;let e=this._content.y-t.deltaY*(this._scrollSpeed/100);e>0?e=0:Math.abs(e)>=this._content.height-this._maskGraphics.height&&(e=-(this._content.height-this._maskGraphics.height)),X.to(this._content,{duration:.25,ease:"power1.out",y:e,onUpdate:()=>{this._updateScrollbar()},onComplete:()=>{this._hideScrollbar()}})}_applyInertia(){X.to(this._content,{y:this._content.y+this._velocity*250,duration:.5,ease:"power1.out",onUpdate:()=>{this._limitScrollRange(),this._updateScrollbar()},onComplete:()=>{this._hideScrollbar()}})}_limitScrollRange(){if(this._content.y>0)X.to(this._content,{duration:.2,y:0,ease:"power1.out",onUpdate:()=>{this._updateScrollbar()},onComplete:()=>{this._hideScrollbar()}});else if(Math.abs(this._content.y)>=this._content.height-this._maskGraphics.height)if(this._content.height>this._maskGraphics.height){const t=-(this._content.height-this._maskGraphics.height);X.to(this._content,{duration:.2,y:t,ease:"power1.out",onUpdate:()=>{this._updateScrollbar()},onComplete:()=>{this._hideScrollbar()}})}else X.to(this._content,{duration:.25,y:0,onUpdate:()=>{this._updateScrollbar()},onComplete:()=>{this._hideScrollbar()}})}_updateScrollbar(){var t;this._scrollbar.alpha=1,X.killTweensOf(this._scrollbar);const e=this._maskGraphics.height,i=this._content.height,n=e/i,r=e*n,o=i-e,h=Math.min(Math.max(-this._content.y,0),o)/o*(e-r);this._scrollbar.y=h,(t=this._onScroll)===null||t===void 0||t.call(this,this._content.y)}_updateScrollbarSize(){if(!this._showScrollbar)return;const t=this._maskGraphics.height,e=this._content.height;e<=t?this._scrollbar.visible=!1:this._scrollbar.visible=!0;const i=t/e,n=t*i;this._scrollbar.clear(),this._scrollbar.beginFill(this._scrollbarColor),this._scrollbar.drawRect(0,0,10,n),this._scrollbar.endFill()}_onScrollbarDragStart(t){t.stopPropagation(),this._scrollbarDragging=!0,this._scrollbarDragOffset=t.getLocalPosition(this._scrollbar).y,X.killTweensOf(this._content)}_onScrollbarDragMove(t){if(t.stopPropagation(),!this._scrollbarDragging)return;const e=t.getLocalPosition(this).y,i=this._maskGraphics.height,n=this._content.height,r=i/n,o=i*r,a=i-o,l=Math.min(Math.max(e-this._scrollbarDragOffset,0),a)/a*(n-i);this._content.y=-l,this._updateScrollbar()}_onScrollbarDragEnd(t){t.stopPropagation(),this._scrollbarDragging=!1}_hideScrollbar(){X.to(this._scrollbar,{duration:.5,alpha:0,delay:.25})}}class Wi extends Xt{constructor(t,e){super(),this.beginFill(e),this.moveTo(0,0),this.lineTo(t[0][0],t[0][1]),this.lineTo(t[1][0],t[1][1]),this.endFill()}}class Ts extends Xt{constructor(t,e,i,n){super(),this.beginFill(n),this.drawRoundedRect(0,0,t,e,i),this.endFill()}}var Pu,f0;function yM(){if(f0)return Pu;f0=1;function s(){this.__data__=[],this.size=0}return Pu=s,Pu}var Iu,g0;function $w(){if(g0)return Iu;g0=1;function s(t,e){return t===e||t!==t&&e!==e}return Iu=s,Iu}var Mu,p0;function Oh(){if(p0)return Mu;p0=1;var s=$w();function t(e,i){for(var n=e.length;n--;)if(s(e[n][0],i))return n;return-1}return Mu=t,Mu}var zu,m0;function _M(){if(m0)return zu;m0=1;var s=Oh(),t=Array.prototype,e=t.splice;function i(n){var r=this.__data__,o=s(r,n);if(o<0)return!1;var a=r.length-1;return o==a?r.pop():e.call(r,o,1),--this.size,!0}return zu=i,zu}var Ru,y0;function xM(){if(y0)return Ru;y0=1;var s=Oh();function t(e){var i=this.__data__,n=s(i,e);return n<0?void 0:i[n][1]}return Ru=t,Ru}var Du,_0;function vM(){if(_0)return Du;_0=1;var s=Oh();function t(e){return s(this.__data__,e)>-1}return Du=t,Du}var ku,x0;function bM(){if(x0)return ku;x0=1;var s=Oh();function t(e,i){var n=this.__data__,r=s(n,e);return r<0?(++this.size,n.push([e,i])):n[r][1]=i,this}return ku=t,ku}var Fu,v0;function Bh(){if(v0)return Fu;v0=1;var s=yM(),t=_M(),e=xM(),i=vM(),n=bM();function r(o){var a=-1,h=o==null?0:o.length;for(this.clear();++a<h;){var l=o[a];this.set(l[0],l[1])}}return r.prototype.clear=s,r.prototype.delete=t,r.prototype.get=e,r.prototype.has=i,r.prototype.set=n,Fu=r,Fu}var ju,b0;function wM(){if(b0)return ju;b0=1;var s=Bh();function t(){this.__data__=new s,this.size=0}return ju=t,ju}var Ou,w0;function TM(){if(w0)return Ou;w0=1;function s(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}return Ou=s,Ou}var Bu,T0;function SM(){if(T0)return Bu;T0=1;function s(t){return this.__data__.get(t)}return Bu=s,Bu}var Lu,S0;function AM(){if(S0)return Lu;S0=1;function s(t){return this.__data__.has(t)}return Lu=s,Lu}var Nu,A0;function Xw(){if(A0)return Nu;A0=1;var s=typeof Ni=="object"&&Ni&&Ni.Object===Object&&Ni;return Nu=s,Nu}var qu,E0;function en(){if(E0)return qu;E0=1;var s=Xw(),t=typeof self=="object"&&self&&self.Object===Object&&self,e=s||t||Function("return this")();return qu=e,qu}var Uu,C0;function fp(){if(C0)return Uu;C0=1;var s=en(),t=s.Symbol;return Uu=t,Uu}var Gu,P0;function EM(){if(P0)return Gu;P0=1;var s=fp(),t=Object.prototype,e=t.hasOwnProperty,i=t.toString,n=s?s.toStringTag:void 0;function r(o){var a=e.call(o,n),h=o[n];try{o[n]=void 0;var l=!0}catch{}var u=i.call(o);return l&&(a?o[n]=h:delete o[n]),u}return Gu=r,Gu}var Hu,I0;function CM(){if(I0)return Hu;I0=1;var s=Object.prototype,t=s.toString;function e(i){return t.call(i)}return Hu=e,Hu}var Wu,M0;function Lh(){if(M0)return Wu;M0=1;var s=fp(),t=EM(),e=CM(),i="[object Null]",n="[object Undefined]",r=s?s.toStringTag:void 0;function o(a){return a==null?a===void 0?n:i:r&&r in Object(a)?t(a):e(a)}return Wu=o,Wu}var Vu,z0;function Bo(){if(z0)return Vu;z0=1;function s(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}return Vu=s,Vu}var $u,R0;function Yw(){if(R0)return $u;R0=1;var s=Lh(),t=Bo(),e="[object AsyncFunction]",i="[object Function]",n="[object GeneratorFunction]",r="[object Proxy]";function o(a){if(!t(a))return!1;var h=s(a);return h==i||h==n||h==e||h==r}return $u=o,$u}var Xu,D0;function PM(){if(D0)return Xu;D0=1;var s=en(),t=s["__core-js_shared__"];return Xu=t,Xu}var Yu,k0;function IM(){if(k0)return Yu;k0=1;var s=PM(),t=function(){var i=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function e(i){return!!t&&t in i}return Yu=e,Yu}var Zu,F0;function Zw(){if(F0)return Zu;F0=1;var s=Function.prototype,t=s.toString;function e(i){if(i!=null){try{return t.call(i)}catch{}try{return i+""}catch{}}return""}return Zu=e,Zu}var Ku,j0;function MM(){if(j0)return Ku;j0=1;var s=Yw(),t=IM(),e=Bo(),i=Zw(),n=/[\\^$.*+?()[\]{}|]/g,r=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,h=o.toString,l=a.hasOwnProperty,u=RegExp("^"+h.call(l).replace(n,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(f){if(!e(f)||t(f))return!1;var c=s(f)?u:r;return c.test(i(f))}return Ku=d,Ku}var Ju,O0;function zM(){if(O0)return Ju;O0=1;function s(t,e){return t==null?void 0:t[e]}return Ju=s,Ju}var Qu,B0;function Dr(){if(B0)return Qu;B0=1;var s=MM(),t=zM();function e(i,n){var r=t(i,n);return s(r)?r:void 0}return Qu=e,Qu}var tc,L0;function gp(){if(L0)return tc;L0=1;var s=Dr(),t=en(),e=s(t,"Map");return tc=e,tc}var ec,N0;function Nh(){if(N0)return ec;N0=1;var s=Dr(),t=s(Object,"create");return ec=t,ec}var ic,q0;function RM(){if(q0)return ic;q0=1;var s=Nh();function t(){this.__data__=s?s(null):{},this.size=0}return ic=t,ic}var nc,U0;function DM(){if(U0)return nc;U0=1;function s(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}return nc=s,nc}var rc,G0;function kM(){if(G0)return rc;G0=1;var s=Nh(),t="__lodash_hash_undefined__",e=Object.prototype,i=e.hasOwnProperty;function n(r){var o=this.__data__;if(s){var a=o[r];return a===t?void 0:a}return i.call(o,r)?o[r]:void 0}return rc=n,rc}var sc,H0;function FM(){if(H0)return sc;H0=1;var s=Nh(),t=Object.prototype,e=t.hasOwnProperty;function i(n){var r=this.__data__;return s?r[n]!==void 0:e.call(r,n)}return sc=i,sc}var oc,W0;function jM(){if(W0)return oc;W0=1;var s=Nh(),t="__lodash_hash_undefined__";function e(i,n){var r=this.__data__;return this.size+=this.has(i)?0:1,r[i]=s&&n===void 0?t:n,this}return oc=e,oc}var ac,V0;function OM(){if(V0)return ac;V0=1;var s=RM(),t=DM(),e=kM(),i=FM(),n=jM();function r(o){var a=-1,h=o==null?0:o.length;for(this.clear();++a<h;){var l=o[a];this.set(l[0],l[1])}}return r.prototype.clear=s,r.prototype.delete=t,r.prototype.get=e,r.prototype.has=i,r.prototype.set=n,ac=r,ac}var hc,$0;function BM(){if($0)return hc;$0=1;var s=OM(),t=Bh(),e=gp();function i(){this.size=0,this.__data__={hash:new s,map:new(e||t),string:new s}}return hc=i,hc}var lc,X0;function LM(){if(X0)return lc;X0=1;function s(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}return lc=s,lc}var uc,Y0;function qh(){if(Y0)return uc;Y0=1;var s=LM();function t(e,i){var n=e.__data__;return s(i)?n[typeof i=="string"?"string":"hash"]:n.map}return uc=t,uc}var cc,Z0;function NM(){if(Z0)return cc;Z0=1;var s=qh();function t(e){var i=s(this,e).delete(e);return this.size-=i?1:0,i}return cc=t,cc}var dc,K0;function qM(){if(K0)return dc;K0=1;var s=qh();function t(e){return s(this,e).get(e)}return dc=t,dc}var fc,J0;function UM(){if(J0)return fc;J0=1;var s=qh();function t(e){return s(this,e).has(e)}return fc=t,fc}var gc,Q0;function GM(){if(Q0)return gc;Q0=1;var s=qh();function t(e,i){var n=s(this,e),r=n.size;return n.set(e,i),this.size+=n.size==r?0:1,this}return gc=t,gc}var pc,t_;function HM(){if(t_)return pc;t_=1;var s=BM(),t=NM(),e=qM(),i=UM(),n=GM();function r(o){var a=-1,h=o==null?0:o.length;for(this.clear();++a<h;){var l=o[a];this.set(l[0],l[1])}}return r.prototype.clear=s,r.prototype.delete=t,r.prototype.get=e,r.prototype.has=i,r.prototype.set=n,pc=r,pc}var mc,e_;function WM(){if(e_)return mc;e_=1;var s=Bh(),t=gp(),e=HM(),i=200;function n(r,o){var a=this.__data__;if(a instanceof s){var h=a.__data__;if(!t||h.length<i-1)return h.push([r,o]),this.size=++a.size,this;a=this.__data__=new e(h)}return a.set(r,o),this.size=a.size,this}return mc=n,mc}var yc,i_;function VM(){if(i_)return yc;i_=1;var s=Bh(),t=wM(),e=TM(),i=SM(),n=AM(),r=WM();function o(a){var h=this.__data__=new s(a);this.size=h.size}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=i,o.prototype.has=n,o.prototype.set=r,yc=o,yc}var _c,n_;function $M(){if(n_)return _c;n_=1;function s(t,e){for(var i=-1,n=t==null?0:t.length;++i<n&&e(t[i],i,t)!==!1;);return t}return _c=s,_c}var xc,r_;function XM(){if(r_)return xc;r_=1;var s=Dr(),t=function(){try{var e=s(Object,"defineProperty");return e({},"",{}),e}catch{}}();return xc=t,xc}var vc,s_;function Kw(){if(s_)return vc;s_=1;var s=XM();function t(e,i,n){i=="__proto__"&&s?s(e,i,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[i]=n}return vc=t,vc}var bc,o_;function Jw(){if(o_)return bc;o_=1;var s=Kw(),t=$w(),e=Object.prototype,i=e.hasOwnProperty;function n(r,o,a){var h=r[o];(!(i.call(r,o)&&t(h,a))||a===void 0&&!(o in r))&&s(r,o,a)}return bc=n,bc}var wc,a_;function Uh(){if(a_)return wc;a_=1;var s=Jw(),t=Kw();function e(i,n,r,o){var a=!r;r||(r={});for(var h=-1,l=n.length;++h<l;){var u=n[h],d=o?o(r[u],i[u],u,r,i):void 0;d===void 0&&(d=i[u]),a?t(r,u,d):s(r,u,d)}return r}return wc=e,wc}var Tc,h_;function YM(){if(h_)return Tc;h_=1;function s(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}return Tc=s,Tc}var Sc,l_;function Lo(){if(l_)return Sc;l_=1;function s(t){return t!=null&&typeof t=="object"}return Sc=s,Sc}var Ac,u_;function ZM(){if(u_)return Ac;u_=1;var s=Lh(),t=Lo(),e="[object Arguments]";function i(n){return t(n)&&s(n)==e}return Ac=i,Ac}var Ec,c_;function KM(){if(c_)return Ec;c_=1;var s=ZM(),t=Lo(),e=Object.prototype,i=e.hasOwnProperty,n=e.propertyIsEnumerable,r=s(function(){return arguments}())?s:function(o){return t(o)&&i.call(o,"callee")&&!n.call(o,"callee")};return Ec=r,Ec}var Cc,d_;function pp(){if(d_)return Cc;d_=1;var s=Array.isArray;return Cc=s,Cc}var Ws={exports:{}},Pc,f_;function JM(){if(f_)return Pc;f_=1;function s(){return!1}return Pc=s,Pc}Ws.exports;var g_;function Qw(){return g_||(g_=1,function(s,t){var e=en(),i=JM(),n=t&&!t.nodeType&&t,r=n&&!0&&s&&!s.nodeType&&s,o=r&&r.exports===n,a=o?e.Buffer:void 0,h=a?a.isBuffer:void 0,l=h||i;s.exports=l}(Ws,Ws.exports)),Ws.exports}var Ic,p_;function QM(){if(p_)return Ic;p_=1;var s=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function e(i,n){var r=typeof i;return n=n??s,!!n&&(r=="number"||r!="symbol"&&t.test(i))&&i>-1&&i%1==0&&i<n}return Ic=e,Ic}var Mc,m_;function tT(){if(m_)return Mc;m_=1;var s=9007199254740991;function t(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=s}return Mc=t,Mc}var zc,y_;function tz(){if(y_)return zc;y_=1;var s=Lh(),t=tT(),e=Lo(),i="[object Arguments]",n="[object Array]",r="[object Boolean]",o="[object Date]",a="[object Error]",h="[object Function]",l="[object Map]",u="[object Number]",d="[object Object]",f="[object RegExp]",c="[object Set]",g="[object String]",p="[object WeakMap]",m="[object ArrayBuffer]",y="[object DataView]",x="[object Float32Array]",v="[object Float64Array]",w="[object Int8Array]",_="[object Int16Array]",T="[object Int32Array]",b="[object Uint8Array]",S="[object Uint8ClampedArray]",A="[object Uint16Array]",P="[object Uint32Array]",M={};M[x]=M[v]=M[w]=M[_]=M[T]=M[b]=M[S]=M[A]=M[P]=!0,M[i]=M[n]=M[m]=M[r]=M[y]=M[o]=M[a]=M[h]=M[l]=M[u]=M[d]=M[f]=M[c]=M[g]=M[p]=!1;function C(R){return e(R)&&t(R.length)&&!!M[s(R)]}return zc=C,zc}var Rc,__;function mp(){if(__)return Rc;__=1;function s(t){return function(e){return t(e)}}return Rc=s,Rc}var Vs={exports:{}};Vs.exports;var x_;function yp(){return x_||(x_=1,function(s,t){var e=Xw(),i=t&&!t.nodeType&&t,n=i&&!0&&s&&!s.nodeType&&s,r=n&&n.exports===i,o=r&&e.process,a=function(){try{var h=n&&n.require&&n.require("util").types;return h||o&&o.binding&&o.binding("util")}catch{}}();s.exports=a}(Vs,Vs.exports)),Vs.exports}var Dc,v_;function ez(){if(v_)return Dc;v_=1;var s=tz(),t=mp(),e=yp(),i=e&&e.isTypedArray,n=i?t(i):s;return Dc=n,Dc}var kc,b_;function eT(){if(b_)return kc;b_=1;var s=YM(),t=KM(),e=pp(),i=Qw(),n=QM(),r=ez(),o=Object.prototype,a=o.hasOwnProperty;function h(l,u){var d=e(l),f=!d&&t(l),c=!d&&!f&&i(l),g=!d&&!f&&!c&&r(l),p=d||f||c||g,m=p?s(l.length,String):[],y=m.length;for(var x in l)(u||a.call(l,x))&&!(p&&(x=="length"||c&&(x=="offset"||x=="parent")||g&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||n(x,y)))&&m.push(x);return m}return kc=h,kc}var Fc,w_;function _p(){if(w_)return Fc;w_=1;var s=Object.prototype;function t(e){var i=e&&e.constructor,n=typeof i=="function"&&i.prototype||s;return e===n}return Fc=t,Fc}var jc,T_;function iT(){if(T_)return jc;T_=1;function s(t,e){return function(i){return t(e(i))}}return jc=s,jc}var Oc,S_;function iz(){if(S_)return Oc;S_=1;var s=iT(),t=s(Object.keys,Object);return Oc=t,Oc}var Bc,A_;function nz(){if(A_)return Bc;A_=1;var s=_p(),t=iz(),e=Object.prototype,i=e.hasOwnProperty;function n(r){if(!s(r))return t(r);var o=[];for(var a in Object(r))i.call(r,a)&&a!="constructor"&&o.push(a);return o}return Bc=n,Bc}var Lc,E_;function nT(){if(E_)return Lc;E_=1;var s=Yw(),t=tT();function e(i){return i!=null&&t(i.length)&&!s(i)}return Lc=e,Lc}var Nc,C_;function xp(){if(C_)return Nc;C_=1;var s=eT(),t=nz(),e=nT();function i(n){return e(n)?s(n):t(n)}return Nc=i,Nc}var qc,P_;function rz(){if(P_)return qc;P_=1;var s=Uh(),t=xp();function e(i,n){return i&&s(n,t(n),i)}return qc=e,qc}var Uc,I_;function sz(){if(I_)return Uc;I_=1;function s(t){var e=[];if(t!=null)for(var i in Object(t))e.push(i);return e}return Uc=s,Uc}var Gc,M_;function oz(){if(M_)return Gc;M_=1;var s=Bo(),t=_p(),e=sz(),i=Object.prototype,n=i.hasOwnProperty;function r(o){if(!s(o))return e(o);var a=t(o),h=[];for(var l in o)l=="constructor"&&(a||!n.call(o,l))||h.push(l);return h}return Gc=r,Gc}var Hc,z_;function vp(){if(z_)return Hc;z_=1;var s=eT(),t=oz(),e=nT();function i(n){return e(n)?s(n,!0):t(n)}return Hc=i,Hc}var Wc,R_;function az(){if(R_)return Wc;R_=1;var s=Uh(),t=vp();function e(i,n){return i&&s(n,t(n),i)}return Wc=e,Wc}var $s={exports:{}};$s.exports;var D_;function hz(){return D_||(D_=1,function(s,t){var e=en(),i=t&&!t.nodeType&&t,n=i&&!0&&s&&!s.nodeType&&s,r=n&&n.exports===i,o=r?e.Buffer:void 0,a=o?o.allocUnsafe:void 0;function h(l,u){if(u)return l.slice();var d=l.length,f=a?a(d):new l.constructor(d);return l.copy(f),f}s.exports=h}($s,$s.exports)),$s.exports}var Vc,k_;function lz(){if(k_)return Vc;k_=1;function s(t,e){var i=-1,n=t.length;for(e||(e=Array(n));++i<n;)e[i]=t[i];return e}return Vc=s,Vc}var $c,F_;function uz(){if(F_)return $c;F_=1;function s(t,e){for(var i=-1,n=t==null?0:t.length,r=0,o=[];++i<n;){var a=t[i];e(a,i,t)&&(o[r++]=a)}return o}return $c=s,$c}var Xc,j_;function rT(){if(j_)return Xc;j_=1;function s(){return[]}return Xc=s,Xc}var Yc,O_;function bp(){if(O_)return Yc;O_=1;var s=uz(),t=rT(),e=Object.prototype,i=e.propertyIsEnumerable,n=Object.getOwnPropertySymbols,r=n?function(o){return o==null?[]:(o=Object(o),s(n(o),function(a){return i.call(o,a)}))}:t;return Yc=r,Yc}var Zc,B_;function cz(){if(B_)return Zc;B_=1;var s=Uh(),t=bp();function e(i,n){return s(i,t(i),n)}return Zc=e,Zc}var Kc,L_;function sT(){if(L_)return Kc;L_=1;function s(t,e){for(var i=-1,n=e.length,r=t.length;++i<n;)t[r+i]=e[i];return t}return Kc=s,Kc}var Jc,N_;function oT(){if(N_)return Jc;N_=1;var s=iT(),t=s(Object.getPrototypeOf,Object);return Jc=t,Jc}var Qc,q_;function aT(){if(q_)return Qc;q_=1;var s=sT(),t=oT(),e=bp(),i=rT(),n=Object.getOwnPropertySymbols,r=n?function(o){for(var a=[];o;)s(a,e(o)),o=t(o);return a}:i;return Qc=r,Qc}var td,U_;function dz(){if(U_)return td;U_=1;var s=Uh(),t=aT();function e(i,n){return s(i,t(i),n)}return td=e,td}var ed,G_;function hT(){if(G_)return ed;G_=1;var s=sT(),t=pp();function e(i,n,r){var o=n(i);return t(i)?o:s(o,r(i))}return ed=e,ed}var id,H_;function fz(){if(H_)return id;H_=1;var s=hT(),t=bp(),e=xp();function i(n){return s(n,e,t)}return id=i,id}var nd,W_;function gz(){if(W_)return nd;W_=1;var s=hT(),t=aT(),e=vp();function i(n){return s(n,e,t)}return nd=i,nd}var rd,V_;function pz(){if(V_)return rd;V_=1;var s=Dr(),t=en(),e=s(t,"DataView");return rd=e,rd}var sd,$_;function mz(){if($_)return sd;$_=1;var s=Dr(),t=en(),e=s(t,"Promise");return sd=e,sd}var od,X_;function yz(){if(X_)return od;X_=1;var s=Dr(),t=en(),e=s(t,"Set");return od=e,od}var ad,Y_;function _z(){if(Y_)return ad;Y_=1;var s=Dr(),t=en(),e=s(t,"WeakMap");return ad=e,ad}var hd,Z_;function wp(){if(Z_)return hd;Z_=1;var s=pz(),t=gp(),e=mz(),i=yz(),n=_z(),r=Lh(),o=Zw(),a="[object Map]",h="[object Object]",l="[object Promise]",u="[object Set]",d="[object WeakMap]",f="[object DataView]",c=o(s),g=o(t),p=o(e),m=o(i),y=o(n),x=r;return(s&&x(new s(new ArrayBuffer(1)))!=f||t&&x(new t)!=a||e&&x(e.resolve())!=l||i&&x(new i)!=u||n&&x(new n)!=d)&&(x=function(v){var w=r(v),_=w==h?v.constructor:void 0,T=_?o(_):"";if(T)switch(T){case c:return f;case g:return a;case p:return l;case m:return u;case y:return d}return w}),hd=x,hd}var ld,K_;function xz(){if(K_)return ld;K_=1;var s=Object.prototype,t=s.hasOwnProperty;function e(i){var n=i.length,r=new i.constructor(n);return n&&typeof i[0]=="string"&&t.call(i,"index")&&(r.index=i.index,r.input=i.input),r}return ld=e,ld}var ud,J_;function vz(){if(J_)return ud;J_=1;var s=en(),t=s.Uint8Array;return ud=t,ud}var cd,Q_;function Tp(){if(Q_)return cd;Q_=1;var s=vz();function t(e){var i=new e.constructor(e.byteLength);return new s(i).set(new s(e)),i}return cd=t,cd}var dd,tx;function bz(){if(tx)return dd;tx=1;var s=Tp();function t(e,i){var n=i?s(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}return dd=t,dd}var fd,ex;function wz(){if(ex)return fd;ex=1;var s=/\w*$/;function t(e){var i=new e.constructor(e.source,s.exec(e));return i.lastIndex=e.lastIndex,i}return fd=t,fd}var gd,ix;function Tz(){if(ix)return gd;ix=1;var s=fp(),t=s?s.prototype:void 0,e=t?t.valueOf:void 0;function i(n){return e?Object(e.call(n)):{}}return gd=i,gd}var pd,nx;function Sz(){if(nx)return pd;nx=1;var s=Tp();function t(e,i){var n=i?s(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}return pd=t,pd}var md,rx;function Az(){if(rx)return md;rx=1;var s=Tp(),t=bz(),e=wz(),i=Tz(),n=Sz(),r="[object Boolean]",o="[object Date]",a="[object Map]",h="[object Number]",l="[object RegExp]",u="[object Set]",d="[object String]",f="[object Symbol]",c="[object ArrayBuffer]",g="[object DataView]",p="[object Float32Array]",m="[object Float64Array]",y="[object Int8Array]",x="[object Int16Array]",v="[object Int32Array]",w="[object Uint8Array]",_="[object Uint8ClampedArray]",T="[object Uint16Array]",b="[object Uint32Array]";function S(A,P,M){var C=A.constructor;switch(P){case c:return s(A);case r:case o:return new C(+A);case g:return t(A,M);case p:case m:case y:case x:case v:case w:case _:case T:case b:return n(A,M);case a:return new C;case h:case d:return new C(A);case l:return e(A);case u:return new C;case f:return i(A)}}return md=S,md}var yd,sx;function Ez(){if(sx)return yd;sx=1;var s=Bo(),t=Object.create,e=function(){function i(){}return function(n){if(!s(n))return{};if(t)return t(n);i.prototype=n;var r=new i;return i.prototype=void 0,r}}();return yd=e,yd}var _d,ox;function Cz(){if(ox)return _d;ox=1;var s=Ez(),t=oT(),e=_p();function i(n){return typeof n.constructor=="function"&&!e(n)?s(t(n)):{}}return _d=i,_d}var xd,ax;function Pz(){if(ax)return xd;ax=1;var s=wp(),t=Lo(),e="[object Map]";function i(n){return t(n)&&s(n)==e}return xd=i,xd}var vd,hx;function Iz(){if(hx)return vd;hx=1;var s=Pz(),t=mp(),e=yp(),i=e&&e.isMap,n=i?t(i):s;return vd=n,vd}var bd,lx;function Mz(){if(lx)return bd;lx=1;var s=wp(),t=Lo(),e="[object Set]";function i(n){return t(n)&&s(n)==e}return bd=i,bd}var wd,ux;function zz(){if(ux)return wd;ux=1;var s=Mz(),t=mp(),e=yp(),i=e&&e.isSet,n=i?t(i):s;return wd=n,wd}var Td,cx;function Rz(){if(cx)return Td;cx=1;var s=VM(),t=$M(),e=Jw(),i=rz(),n=az(),r=hz(),o=lz(),a=cz(),h=dz(),l=fz(),u=gz(),d=wp(),f=xz(),c=Az(),g=Cz(),p=pp(),m=Qw(),y=Iz(),x=Bo(),v=zz(),w=xp(),_=vp(),T=1,b=2,S=4,A="[object Arguments]",P="[object Array]",M="[object Boolean]",C="[object Date]",R="[object Error]",D="[object Function]",F="[object GeneratorFunction]",E="[object Map]",z="[object Number]",I="[object Object]",O="[object RegExp]",k="[object Set]",j="[object String]",B="[object Symbol]",L="[object WeakMap]",U="[object ArrayBuffer]",H="[object DataView]",V="[object Float32Array]",Z="[object Float64Array]",J="[object Int8Array]",it="[object Int16Array]",W="[object Int32Array]",Q="[object Uint8Array]",tt="[object Uint8ClampedArray]",dt="[object Uint16Array]",bt="[object Uint32Array]",K={};K[A]=K[P]=K[U]=K[H]=K[M]=K[C]=K[V]=K[Z]=K[J]=K[it]=K[W]=K[E]=K[z]=K[I]=K[O]=K[k]=K[j]=K[B]=K[Q]=K[tt]=K[dt]=K[bt]=!0,K[R]=K[D]=K[L]=!1;function ot(ct,Pt,Ut,ke,Kt,se){var Ot,Te=Pt&T,nn=Pt&b,En=Pt&S;if(Ut&&(Ot=Kt?Ut(ct,ke,Kt,se):Ut(ct)),Ot!==void 0)return Ot;if(!x(ct))return ct;var rr=p(ct);if(rr){if(Ot=f(ct),!Te)return o(ct,Ot)}else{var Mi=d(ct),Fe=Mi==D||Mi==F;if(m(ct))return r(ct,Te);if(Mi==I||Mi==A||Fe&&!Kt){if(Ot=nn||Fe?{}:g(ct),!Te)return nn?h(ct,n(Ot,ct)):a(ct,i(Ot,ct))}else{if(!K[Mi])return Kt?ct:{};Ot=c(ct,Mi,Te)}}se||(se=new s);var ui=se.get(ct);if(ui)return ui;se.set(ct,Ot),v(ct)?ct.forEach(function(zi){Ot.add(ot(zi,Pt,Ut,zi,ct,se))}):y(ct)&&ct.forEach(function(zi,ci){Ot.set(ci,ot(zi,Pt,Ut,ci,ct,se))});var Go=En?nn?u:l:nn?_:w,Ho=rr?void 0:Go(ct);return t(Ho||ct,function(zi,ci){Ho&&(ci=zi,zi=ct[ci]),e(Ot,ci,ot(zi,Pt,Ut,ci,ct,se))}),Ot}return Td=ot,Td}var Sd,dx;function Dz(){if(dx)return Sd;dx=1;var s=Rz(),t=1,e=4;function i(n){return s(n,t|e)}return Sd=i,Sd}var kz=Dz();const Fz=_s(kz),jz=()=>{const s=new Map;return{on:(r,o)=>{s.has(r)||s.set(r,[]),s.get(r).push(o)},emit:(r,...o)=>{var a;(a=s.get(r))===null||a===void 0||a.forEach(h=>h(...o))},off:(r,o)=>{if(!o)s.delete(r);else{const a=s.get(r);a&&s.set(r,a.filter(h=>h!==o))}},clear:()=>s.clear()}},ys=(s,t,e,i=2)=>{const r={"+":(o,a)=>o.add(a),"-":(o,a)=>o.sub(a),"*":(o,a)=>o.mul(a),"/":(o,a)=>{if(a.eq(0))throw new Error("0");return o.div(a)}}[e](new Ei(s),new Ei(t));return Number(r.toFixed(i,Ei.ROUND_DOWN))},kt=(s,t,e=0)=>parseFloat((Math.random()*(t-s)+s).toFixed(e)),Oz=(s=1,t)=>{let e,i=s,n=Date.now(),r=!1;return new Promise(o=>{const a=()=>{document.hidden?(r=!0,clearTimeout(e),i-=Date.now()-n):r&&(r=!1,n=Date.now(),h(o))},h=l=>{e=setTimeout(()=>{l(),document.removeEventListener("visibilitychange",a)},i)};document.addEventListener("visibilitychange",a),h(o)})};class No{constructor(t){this.listeners=new Map,this.listenerIds=new Map,this.index=0,this.data=Object.assign({},t)}getData(){return this.data}getValue(t){return this.data[t]}setValue(t,e,i=!0){var n;const r=this.data[t];return r===e||(this.data[t]=e,i&&((n=this.listeners.get(t))===null||n===void 0||n.forEach(o=>o(e,r)))),e}onValue(t,e,i=!0){const n=this.index++;return this.listeners.has(t)||this.listeners.set(t,new Map),this.listeners.get(t).set(n,e),i&&e(this.data[t],this.data[t]),()=>{this.listeners.get(t).delete(n)}}onValueById(t,e,i,n=!0){this.offValueById(t);const r=this.onValue(e,i,n),o=this.index-1;this.listenerIds.set(t,o),this.listenerIds.set(`${t}_remove`,r)}offValueById(...t){const e=t.flat();for(const i of e){const n=this.listenerIds.get(`${i}_remove`);typeof n=="function"&&n(),this.listenerIds.delete(i),this.listenerIds.delete(`${i}_remove`)}}updateFake(t){var e;const i=this.data[t];return(e=this.listeners.get(t))===null||e===void 0||e.forEach(n=>n(i,i)),i}setNumberValue(t,e,i=1,n=!0){let r;return e==="add"?(r=ys(this.data[t],i,"+"),this.setValue(t,r,n)):(r=ys(this.data[t],i,"-"),this.setValue(t,r,n)),r}setBooleanValue(t,e=!0){const i=!this.data[t];return this.setValue(t,i,e),i}clear(){this.listeners.clear(),this.listenerIds.clear()}}const Bz=s=>Math.random()*100<s,Lz=/^[\uD800-\uDBFF]$/,Nz=/^[\uDC00-\uDFFF]$/,qz=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;var fx;(function(s){s[s.Unknown=1e-13]="Unknown",s[s.Rule=1e-12]="Rule",s[s.DICT=2e-8]="DICT",s[s.Surname=1]="Surname",s[s.Custom=1]="Custom"})(fx||(fx={}));const Ze={Normal:1,Surname:10,Custom:100};function xi(s){var t;return s.length-(((t=s.match(qz))===null||t===void 0?void 0:t.length)||0)}function Mr(s){const t=[];let e=0;for(;e<s.length;){const i=s[e];Lz.test(i)&&Nz.test(s[e+1])?(t.push(s.substring(e,e+2)),e+=2):(t.push(i),e+=1)}return t}class lT{constructor(){this.NumberDICT=[],this.StringDICT=new Map}get(t){if(t.length>1)return this.StringDICT.get(t);{const e=t.charCodeAt(0);return this.NumberDICT[e]}}set(t,e){if(t.length>1)this.StringDICT.set(t,e);else{const i=t.charCodeAt(0);this.NumberDICT[i]=e}}clear(){this.NumberDICT=[],this.StringDICT.clear()}}const gx={"bng png png":[""],lng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"dng zhng":[""],"ko qio y":[""],q:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],shng:["","","","","",""],xi:["","","","","","","","","","","","",""],hn:["","","","","",""],"wn m":[""],zhng:["","","","","","","","","","","","","","","","","","","",""],sn:["","","","","","","","",""],"shng shng shang":[""],"q j":["","",""],"b fu":[""],"y y y":[""],min:["","","","","","","","","","","","","","","","","","","",""],gi:["","","","","","","","","","","","","","",""],chu:["","","","","","","","",""],zhun:["","","","","","","","","","","","","","","","",""],"qi j":[""],p:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],sh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],qi:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],bng:["","","","","","","","","","","","","","","","","","","","",""],y:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],cng:["","","","","","","","","","","","","","","","","","","",""],dng:["","","","","","","","","","","","","","","","","","","","","","","",""],s:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],chng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],di:["","","",""],ling:["","","","","","","","","","","","",""],yu:["","","","","","","","","","","","","","","",""],yn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],bng:["","","","","","","","","","","","",""],"sng sng":[""],gn:["","","","","","","","","","","","","","","",""],ji:["","","","","","","","","","","","","","","",""],"g g":["","",""],y:["","","","","","","","","","","","","","",""],pn:["","","","","","","","","","","","","","","","",""],"zhng zhng":[""],j:["","","","","","","","","","","","","","","","",""],ji:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],fng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"gun kung":[""],chun:["","","","","",""],chn:["","","","","","","","","","","","","","","","","","","","","","","","","",""],ln:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zhu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zh:["","","","","","","","","","","","","","","","","","","","",""],b:["","","","","","","","","","","","","","","","","","",""],wn:["","","","","","","","","","","","","","","","","",""],dn:["","","","","","","","","","","","","","","","","","","","","","","",""],"wi wi":[""],"jng dn":[""],"l l":[""],j:["","","","","","","","","","","","","","","","","","",""],pi:["","","",""],f:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"y j":[""],y:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],ni:["","","","","","","","","",""],w:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],ji:["","","","","","","","","","","","","","",""],"tu zh":["","",""],"me m ma yo":[""],zh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"w w":[""],zh:["","","","","","","","","","","","",""],h:["","","","","","","","","","","","","","","","","","","","","","","","",""],f:["","","","","","","","","","","","","","","","","",""],"l yu yo lo":["",""],yn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],png:["","","","","","","","",""],png:["","","","","",""],qio:["","","","","","","","","","","","","","","","","","","","","","","",""],h:["","","","","","",""],gui:[""],"chng shng":["","",""],y:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ho y":[""],"ni mi":[""],q:["","","","","","","","","","","","","","","","","","","",""],y:["","","","","","",""],x:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],xing:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],sh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],du:["","","","","","",""],sh:["","","","","","","","","","","","","",""],j:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],nng:["","","","",""],ji:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],sh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],mo:["","","","","","","","","","",""],mi:["","","","","",""],lun:["","",""],r:["","","","","",""],xu:["","","","","","","","","","","","","","",""],yn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],f:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],sh:["","","","","","","","","","","","","","","","","","","","","","",""],n:["",""],qin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],su:["","","","","","","","","","","","","","","",""],y:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zh:["","","","","","","",""],"qin gn":[""],"zh lun":[""],gu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ln ln":[""],ju:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"le lio":[""],"g m":[""],"y y":["",""],zhng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],r:["","","","","","","","","","",""],ch:["","","","","","","","","","","","","","","","","","","","",""],ku:["","","","","","","","","","",""],yn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],h:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],q:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],jng:["","","","","","","","","","","","","","","","","","","","","","",""],s:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],su:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],gn:["","","","",""],y:["","","","","","","","","","","","","","","","","","","","","","",""],"xi su":[""],"q zhi":["",""],"y y":["","","","",""],"j q":["",""],tu:["","","",""],"wng w":[""],"kng hng gng":[""],d:["",""],jio:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],hi:["","","","","","","","",""],"hng png":[""],m:["","","","","","","","","","","","","","","","","","",""],ye:[""],xing:["","","","","","","","","","","","","","","",""],jng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],tng:["","","","","","","","","","","","","","","","","","",""],ling:["","","","","","","","","","",""],"qn qng":["",""],b:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],yu:["","","","","","","","","","","","","","","","","","","","","","",""],xi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"dn dn":["",""],lin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],du:["","","","","","","","","","","","",""],"wi mn":["",""],rn:["","","","","","","","","","",""],j:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],wng:["","","","",""],"shn sh":[""],l:["","","","","","","","","","","","","","",""],dng:["","","","","","","","",""],z:["","","","","","",""],"jn jn":["","",""],"p p":[""],"chu qi":[""],zhng:["","","",""],jn:["","","","","","","","","","","","","","","","","","","","","",""],bng:["","","","","","","",""],rng:["","","","",""],f:["","",""],"jn sn":[""],ln:["","","","","","","","","","","","","","","","","","","","","","",""],cng:["","","","","","","","","","","","","","",""],"zi z z":[""],t:["","","","","","","","","","",""],f:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],xin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"tu ch du":[""],hng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],tng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],rn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],qin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"gn hn":[""],"y g":[""],di:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"lng lng lng":[""],cho:["","",""],"chng zhng":["","","",""],s:[""],chng:["","","","","","","","","","","","","","","","","","","",""],y:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],m:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"men mn":[""],fn:["","","",""],"cho mio":[""],"yng ng":[""],zhng:["","","","","","","","","","","","","",""],"p p":[""],w:["","","","","","","","","","","","","","","","","",""],jin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ji ji jie":[""],"yo f":[""],"rn rn":[""],"fn bn":[""],d:["","","","","","","","","","","","","","","","",""],fng:["","","","","","","","","","","","","",""],zhng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],pi:["","","","","","","","","","","","","","",""],dio:["","","","","","","","","","","","","","","","","","",""],dn:["","","","","","","","","","","","",""],wn:["","","","","","","","","","","",""],xn:[""],kng:["","","","","","",""],i:["","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"j q":["",""],"xi x":[""],"jn yn":[""],dn:["","","","","","","","","","","","",""],f:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],tng:["","","","","","","","","","","",""],yu:["","","","","","","","","","","","","","","","","","",""],hu:["","","","","","",""],"hu kui":["","","",""],y:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],cu:["","","","","","","","","","","","","","","","","","","","","","","","",""],sn:["","","","","",""],wi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"chun zhun":["",""],"ch j":["","",""],"j ch":[""],y:["","","","","","","","","","","","","","","","","",""],qin:["","","","","","","","","","","","","","","","","","","","","",""],shng:["","","","","","","","","","","","","","","",""],chng:["","","","","","","","","","","","","","","","",""],"chen cng":[""],xn:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],xn:["","","","","","","","","",""],ch:["","","","","","","","","","","","","","","","","",""],"xin xun":[""],"n n":[""],"b bi":[""],"g g":[""],n:["","","","","","","","","","","",""],"n n":[""],bn:["","","","","","","","","","","","",""],x:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zhu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],shn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],q:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"s c":[""],bng:["","","","","",""],"s sh":[""],"ji qi g":[""],"y ch":[""],"din tin":["",""],"hn gn":[""],mi:["","","","","","","","","","","","","","","",""],dn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b:["","","","","","","","","","","","","","","","","","","","","","",""],b:["","","","","","","","","","","","","","","","","","","",""],"zho sho":[""],c:["","","","",""],wi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zu:["","",""],yng:["","","","","","","","","","","","","","","","","","",""],"t t":["",""],zhn:["","","","","","","","","","","","","","","","","","","",""],"h h h":[""],b:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],tu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],sh:["","","",""],"y di":["","","",""],"f f b b":[""],"zu zu":[""],gu:["","","","","","","","","","","","","","",""],nng:["","","","","","",""],q:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"yng yng":[""],w:["","","",""],k:["","","","",""],bo:["","","","","","","","","","","","","","",""],"hui hu":[""],"g h":[""],lo:["","","","","","","","","","","","","","",""],xing:["","","","","","","",""],g:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],yng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],bi:["","","","","","","","",""],f:["","","","","",""],mng:["","","","",""],"r ni":[""],hn:["","","","",""],hu:["",""],gu:["","","","","","","","","","","","","","","","","","","","","","","",""],qun:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],tio:["","","","",""],jio:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],c:["","","","","","","","","","","","",""],xng:["","","","","","","","","","","","","","","","","","","",""],tu:["","","","","","","","","","","","","","","","","",""],kn:["","","","","","","","","",""],zh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],gi:["","","","","","","","","","","","","","",""],li:["","","","","","","","","","","","","","","","","","","","","","","","",""],ku:["","","",""],gng:["","","","","","","","","","","","","","","","","","","","","","","","","",""],l:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],yn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],m:["","","","","","","","","","","","","","",""],zh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],n:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],l:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],mu:["","","","","","","","","","",""],r:["","","","","","","","","","","","","","","","","","","","",""],"dng tng tng":[""],ch:["","","","","","",""],ch:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"gng gng":["",""],zhu:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],r:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"jin cn":[""],xi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],l:["","","","","","","","","","","","","","","","","","","","","","","","","",""],ta:[""],"jio yo":["","",""],zhn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"c z zhi":["",""],kui:["","","","","","","","","","","","","","","","","","","","","","",""],chi:["","","","","","",""],nng:["","","","","","","","","","","","","","","","","","","","","","",""],jn:["","","","","","","","","","","","","","","","","",""],"hu hu":["",""],jing:["","","","","","","","","","","","","","","","","","","",""],"chng tng":[""],"zhn zhn":["",""],zu:["","","","","","","","","","","","","","",""],qn:["","","","","","","","","","","","",""],j:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"sh du":[""],tng:["","","","","","","","","","","",""],shn:["","","","","","","","","","","","","","","","","",""],"tu tu":[""],nn:["","","","","","","","","","","","",""],xio:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"bin pin":["","",""],tu:["","","",""],x:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],c:["","","","","","","","","","","","","","","","","","","",""],:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],qi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x:["","",""],"gung kung":[""],k:["","","","","","","","","","","","",""],w:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],jn:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],ling:["","","","","","","","","","","",""],z:["","","","","","","","","","",""],"qio xio":[""],yng:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],hn:["","","","","","","","","","","",""],jng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],sn:["",""],pi:[""],s:[""],x:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],l:["","","","","","","","","","","","","","","","","","","","","","","","",""],bo:["","","","","","","","","","","","","","","","","","","","",""],"y sh y":[""],"s q":[""],"xn shn":[""],xi:["","","","","","","","","","","","","","","","","","","","","","",""],d:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],chu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"li ling":[""],jin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],hu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"j j":["","","",""],xio:["","","","","","","","","","","","","","","","","","",""],pi:["","","","","","","",""],bio:["","",""],"ch t":[""],fi:["","","","","","","","","","","","","","","","","","","","","","","",""],fng:["","","","","","","","","","",""],n:["","","","","","",""],bi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],xn:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"h ch":[""],ji:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],yo:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"cu z":[""],"ling li":[""],wn:["","","","","","","","","","","","","","","","","","","","","","","",""],zng:["","","","","","","","","","","","","","",""],gun:["","","","","","","","","","","","","",""],tin:["","","","","","","","","","","","","","",""],mn:["","","","","","","","","","","",""],"do do":[""],"tn tn":["",""],"ju ju":[""],chu:["","","","","","","","","","","","","","","",""],xng:["","","","","","","","","","","","","",""],png:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"tng chng":[""],hu:["","","","","","","","","","","","","","",""],t:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],gn:["","","","","","","","","","","","","","",""],"ling jng":["",""],su:["","","","","","","","","","","","",""],"chng chng":[""],ji:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"kng kng":[""],jun:["","","","","","","","","","","","","","","","","","","",""],zng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],n:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],zhu:["","","","","","","","","","","",""],"w wi":[""],lu:["","","","","","","","","",""],sng:["","","","","","","","","","","","","","","","","",""],lng:["","","","",""],z:["","","","","","","","","","","","","",""],bn:["","","","","","",""],ci:["","","","","","","","","","",""],zhi:["","","","",""],y:["","","","","","","","",""],sh:["","","","","","","","","",""],qng:["","","","","","","","","","","","","","","","","","",""],yng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"chng chn":["",""],run:["","","","","","","","","","",""],"zhng tng":[""],chn:["","","","","",""],"ji ji":[""],"j ji":[""],"bng bng":[""],ru:["","","","","","","","","","","","","",""],t:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],wi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],pin:["","","","","","","",""],yn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"tng dng":[""],:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],xi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],ch:["","",""],shng:["","",""],ch:["","","","","","","","","","","","",""],hung:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],yo:["","","","","","","","","","","","","","","","","",""],"chu qio":[""],yu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zh:["","","","","","","","","","","","",""],c:["","","","","","",""],b:["","","","","","","","",""],xn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ci s":[""],dun:["","","","",""],u:["","","","","","","","",""],tu:["","",""],"zn z z":[""],"l lu":["",""],fn:["","","","","","","","","","","","","","","",""],"ku gu":[""],su:["","","","","","","",""],"zh s t":[""],s:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],xi:["","","","","","",""],"yun yun":["",""],rng:["","","","",""],n:["",""],yn:["","","","","","","","","","","","","","","","","","","","","","","","","",""],"gu jing":[""],m:["","","","","","","","","","",""],bng:["","","","","","","","","","","",""],din:["","","","","","","","","","","","","","","","","",""],tng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],ho:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"x x":[""],shn:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"qin jin":[""],"qu ju":["",""],"cng chen":[""],rng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"t tn":[""],su:["","","","","","","","","","","","","","","",""],di:["",""],zi:["","","","","","","",""],g:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],bn:["","","","","","","","","","","","","","","","","","","","","",""],ch:["","","","","","","","","","","","","","","",""],nu:["","","","",""],"cn cn":[""],li:["","","","","","","","","","","","","","","","","","","","","","","",""],cu:["","","","","","","","","","",""],yng:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"zo co":[""],sng:["","","","","","","","","","",""],o:["","","","","","","","","","","","","","",""],"q cu":[""],chung:["","","",""],sh:["",""],hn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zhng:["","","","","","","","","","","","","","","","","","","","","",""],"yn yn":["","",""],"pio bio":["",""],lin:["","","","","","","","","","","","","","","","","","","","","","","","",""],mn:["","","","","","","","","","","","","","","","","",""],"tn tn":[""],yng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],dng:["","","","","","","","","","","","","","","","","",""],zhun:["","","","","","","","","","","","","",""],xing:["","","","","","","","","","","","","","","","","",""],shn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"tu tu":[""],zn:["","","",""],p:["","","","","","","","","","","","","","","","","","",""],lo:["","","","","","","","","","","","","","","","","","","","",""],chng:["","","","","","","",""],gung:["","","","","","","","","","","","","","","","","",""],lio:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],dng:["","","","","","","","","","",""],"chn zhn zhun":[""],b:["","","","","","","","","","","","","","","","","","","","","","","",""],hu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],chun:["","","","",""],"ti jin":[""],sng:["",""],xin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"y j":[""]," w":[""],"tng zhung":[""],ln:["","","","","","","","","","","","",""],g:["","","","","","","","","","","","","","","","","","",""],jing:["","","","","","","","","","","","","","","","","","","","",""],mn:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],jn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ji jie":[""],qio:["","","","","","","","","","","","","",""],p:["","","","","","","","","","","",""],si:["","","",""],"chn tn shn":[""],"dng dng":["","",""],xun:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"dn dn":["","",""],cn:["","","","","","","",""],"bn bn":[""],"n n":[""],ti:["","","","","","","","","","","","","","","",""],ln:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"n y i y":[""],mng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],nng:["","","","","","","","","","","","","","","",""],qing:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],li:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],kung:["","",""],bo:["","","","","","","","","","","","","","","","","","","",""],bio:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zn:["","","","","","",""],ho:["","","","","","","","","","","","","","","","","",""],qng:["","","","","","","","","",""],chn:["","","","","","","","","","","","","",""],tng:["","","","","","","","","","","","","","","","","","","",""],"lng lng lng":[""],"chn chn":[""],"rng xing":["",""],"hu xi":[""],lu:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],li:["","","","","","","","","","","","","","","","","","","","","","",""],"nng nng":[""],"w w":[""],yn:["","","","","","","","","","","","","","","","","",""],zn:["","","","","","","",""],yun:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],xing:["","","","","","","","","","","","","","","",""],chng:["","","","","","","","","","","","","","","","",""],zho:["","","","","","","","","","","","","","","","","","","","","","",""],"du ru yu":["","",""],k:["","","","","","","","","","","","","","","","","","","","","",""],t:["","","","",""],dng:["","","","","","","",""],du:["","","","","",""],hung:["","","","","","","","","","","",""],r:["","","","","","","","","","","",""],ni:["","","",""],"y sh":[""],"li l":[""],han:["",""],tin:["","","","","","","",""],"xng xng":[""],din:["","","","","","","","","","","",""],"z c":[""],jin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],shu:["","","","","","","","","","","","","","",""],j:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],jing:["","","","","","","","","",""],mo:["","","","","","","","","","","","","","","","","","","","","","","","",""],rn:["","","","","","","","",""],"ni n":[""],gng:["","","","","","","","","","","","","","","","","","","","","",""],c:["","","","","","","","","","","","","","","","","","","","",""],gu:["","","","",""],"mo m":[""],gu:["","","","","","","","","","","","","","","","","","","","","",""],x:["","","","","","","","","","","",""],m:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"yu yn":[""],xi:["","",""],jn:["","","","","","","","","","","","","","","","","","","","","","",""],m:["","","","","","","","","","","","","","","","","","","","","","","","","",""],"gun gun":["","","","",""],mng:["","","","","","","","","","","","",""],zhng:["","","","","","","","",""],zu:["","","","","","","","","","","","","","","","",""],yun:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],mng:["","","","","","","","","","","","","","","","","","","","",""],ku:["","","","","","","","","","","","","",""],ti:["","","","","","","","","","","","","","",""],"fng png":["",""],"chng chng":[""],kung:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],lng:[""],pn:["","","","","","","","","","","","","","","","","",""],f:["","","","",""],xin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],qi:["","","","","","","","",""],"jng chng":["","",""],su:["","","","","","","","","","","","","","","","","","","","",""],mi:["","","","","","","","","","","","","","","",""],t:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zhn:["","","","",""],"ling ling":["","",""],dio:["","","","","","","","","","","","","","","","","","","","",""],cu:["","","","",""],i:["","","","","","","",""],du:["","","","","","","","",""],d:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"j j":[""],fn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ch ch":["",""],zh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],png:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],ki:["","","","","","","","","","","","","","","","","","",""],gn:["","","","","","","","","","","","","","","","","","","","",""],"kn qin":[""],t:["","","","","","","","","","","","","","",""],"o w":[""],ch:["","","","","","","","","",""],dng:["","","","","","","","","","","","","","","","","","","","","","",""],hn:["","","","","","","","","","","","","","","","","","","","","",""],zo:["",""],do:["","","","","","","","",""],chung:["","","","","","","","",""],"fn fn":[""],"qi qi":[""],kn:["","","","","","",""],cn:["",""],ch:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"hu hu":[""],l:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],yu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],li:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],z:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"chung chung":["",""],q:["","","","","","","",""],"bi bi":["",""],"po bo":[""],"chn chn":["","",""],gu:["","","","","","","","","","","","",""],gng:["","","","","","","","","","","","","","",""],do:["","","","","","","","","","","","","","","","","","",""],chung:["","","","",""],k:["","","","","","","","","","","",""],du:["","","","","","","","","","","","","","","",""],"shu shu":[""],"qun xun":[""],"ch sh":["",""],"c c":[""],gu:["","","","","","","","","","","","","","","","","","","","","","","","",""],lu:["","","","","","","","","","","","","","","","","","","","","","",""],cu:["","","","","","","","","","","","","","",""],"xio xu":[""],"ki k":["",""],"l l":[""],t:["","","","","","","","",""],pu:[""],wn:["","","","","","","","","","","",""],"bo b":["",""],du:["","","","","","","","","","",""],qng:["","","","","","","","","","","","","","",""],"yn shn":[""],"d zhu":[""],yn:["","","","","","","","","","","","","","","","","","","","","","","","",""],hu:["","","","","","","","",""],shng:["","","","","","","","","","","","","",""],"dun zh":[""],w:["","","","","","","","","","","","","","","","","","","","","","","","","",""],g:["","","","","","","","","","","","","","","","",""],"d zh":[""],chun:["","","","","","","","",""],"tun zhun":["","",""],"l ji":[""],png:["","","","","","","","","","",""],pio:["","","","","","","","","","",""],ku:["","","","","","","",""],"jio cho":["","","",""],qio:["","","","","","","","","","","","","","","","","","","","","","","",""],"hu hu":[""],"zh zh":[""],"p p":["",""],tng:["","","","","","","",""],chn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zun:["","","","",""],m:["","","","","","","","","","","","","","","","","","","","",""],zh:["","","","","","","","","","","","","","","","","","","","","","",""],qun:["","","","",""],"jn jng":["","",""],kng:["","","","","","","","","","",""],"xi li":[""],"zh ch":[""],n:["","","",""],sho:["","","","","","","","",""],mio:["","","","","","","","","","",""],ku:["",""],w:["","","","","","","","","","","","","","","","",""],kung:["","","","","","","","","","","",""],h:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],go:["","","","","","","","","","","","",""],"b bi":[""],lng:["","","","","","","","","","","","","","","","","","","","","","",""],xn:["","","","","","","","","","","","","","","","","","","","",""],"jun jun":["",""],"l li":[""],ki:["","","",""],"wng yng":[""],qn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],jing:["","","","","","","","","","","","","","","","","","",""],fn:["","","","","","","","","","","","","","",""],jun:["","","","","","","","","","",""],"tng dng":["","","",""],l:["","","","","","","","","","","","","","","",""],ch:["","","","","","","","","","","","","","",""],sho:["","",""],"gu gu":[""],cng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"to yo":["",""],po:["","","","","","","","","","",""],d:["","","","","","","","","","","","","","","","","","","","","","","","",""],"hu hu":[""],"bi bi":[""],no:["","","","","","","","","","","",""],"ch shi":[""],fng:["","","","","","","","","","",""],z:["","","","","","","","",""],qi:["","","","","","","","","","","","","","","","","","",""],"zng cng":[""],fi:["","","","","","","","","",""],"ku gu":["",""],sun:[""],p:["","","","","","","","","","",""],"q u":["",""],"k qi":[""],"yn yn":["",""],bin:["","","","","","","","","","",""],n:["","","","","","","","","","","","","","","","",""],nin:["","","","","","",""],s:["","","","","","","","","","",""],z:["","","","","","","",""],shng:["","","","","","","","","","","","","","","","","","","","","","","","",""],wn:["","","","","","","","","","","","",""],"hu hu hu":["",""],bi:["","","","","","","","","",""],"z c":[""],"dn shn chn":["",""],"nn n":[""],"shui l":[""],"b bo p":[""],"kung gun":[""],bin:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],b:["","","","","","",""],"zhn zhn":["",""],"k qi":[""],l:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],l:["","","","","","","","","","","","","","","","","","","","","","","","","",""],gu:["","","","","","","",""],"ng yng":[""],yn:["","","","","","","","","","","","","","","","",""],qu:["","","","","","","","","","","","","","","","","","","",""],lun:[""],"jun jun":["",""],"chng n hn":[""],"wi yn":[""],tng:["","","","","","","","","","","","","","","",""],"zh zhi":[""],"hn n":["",""],y:["","","","","",""],sh:["","","","","","","","","","","","","","","","","","","","","",""],d:["","","","","","","","","","","","","","","","","",""],"zh zhi":[""],png:["","","","","","","","","","",""],"zh sh":[""],mng:["","","","","","","","","","","","","","","","","","","","","","",""],zu:["","","",""],"sh xi":["",""],o:["","","","","","","","","","","","","","","","","","","","","","","",""],"ln qin":[""],"s mu":[""],"gng hng":[""],"ln mio":[""],"qi ru":[""],d:["","","",""],"xin xun":["",""],"cn shn cn sn":["","","",""],"i y":[""],"ch ch ch ch":[""],shung:["","","","","","","","","","","","","",""],shu:["",""],gui:[""],b:["","","","","","","","","","","","","",""],"f f":[""],"zhu y l ju":[""],q:["","","","","","",""],"ji xi":["",""],"wi y":["","",""],di:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],ru:["","","","","","","","","","",""],"j gu":[""],lng:["","","",""],"do do to":[""],"zh zh":[""],jio:["","","","","","","","","","","","","","","","","","","","","","","","",""],"zho sho":[""],"k k":[""],"ti ti":["",""],p:["","","","","","",""],"y xi":[""],"ho ho":[""],tn:["","","","","","","",""],"hng hng":[""],mi:["","","",""],"x y y":[""],ch:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"xun sng":[""],yo:["","","","","","","","","","","","","","",""],z:["","","","","","","","","","","","","","","","","",""],"h g":["",""],"cn du":[""],"tng tng":[""],"t t":["",""],"zh zh":["",""],"xi h":[""]," y":[""],"ma m m":[""],ln:["","","","","","","","","","","","","","","","",""],tn:["","","",""],"b p":[""],qn:["","","","","","","","","","",""],"ji g":[""],"fu p":[""],"ba b":[""],dn:["","","","","","","","","","","","",""],fn:["","","","","","","","","","","","","","","","","","","","",""]," hu":[""],"kng hng":["",""],shn:[""],"zh z":[""],"yn shn":[""],w:["","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"cho cho":[""],"n n":[""],"xu chu ju":[""],chu:["","",""],"du r":[""],hu:["",""],"hng hu u":[""],"w y":[""],"ya y":[""]," e":[""],di:["","",""],"mn q":[""],hng:["","","","","","","","","","","","","","",""],n:["","","","","","","","","","","","","","","",""],"tn tin":[""],"f ":["",""],"di ti":[""],"u u u":[""],"bi bei":[""],"yun yn yn":["",""],gu:["","","","","","","","","","","","","","","","","","",""],"hu q":[""],"qing qing":["",""],sh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],jun:["","","","","",""],pn:["",""],"wn mn":[""],"ne n":[""]," m mu":[""],rn:["","","","","","","","","","","","",""],"ti ch":[""],"q zh":[""],"z c":[""],"gu g gu":[""],"c z":[""],"hu x gu":[""],"h     a":[""],no:["","","","","","","","","","","","","","",""],"xi g":[""],pi:["","","","","",""],"ho xio":[""],mng:["",""],"d dn":[""],"zu j":[""],"xin gn":[""],pu:["","",""],"yng yng":[""],"z z zh":[""],"h h hu hu h":[""],hi:[""],d:["","","","","","","","","",""],"k k":[""],g:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"k g":[""],zuo:[""],lng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"xin xin":[""],q:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"x di":[""],"li li li lie":[""],z:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],m:[""],"j x qi":[""],"g lu k lo":[""],"sh xn":[""],"zn z z zan":[""],"hi k":[""],hu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"hui sh":[""],to:["","","","","","","","","","","","","","","","","","","","","","",""],xin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]," n":[""],"xun xun":["",""],"wi h w gu gu":[""],"yn y yn":[""],i:["","","","","","",""],pn:["",""],shn:["","","","","","","","","","","","","","","","","","","","","",""],"hng hng hng":[""],"w wa":[""],"h h h":[""],zi:["","","","","","","","",""],"d di":[""],pi:["","","","","","",""],"gn hn":[""],"y y":["",""],"yu hu":["",""],nin:["","","","","","","","","",""],"hu hu":["",""],"j ji zhi":["",""],mu:[""],"y yo":["",""],lng:["","",""],"  ":[""],"l l li":[""],"n na ni n ni":[""],h:["","","","","","","","","","","","","","","","","","","","","","",""],"b p b":[""],zh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ling lng":[""],"li l":[""],hn:["","","","","","","","","",""],"hng hng":[""],gng:["","","","","","","","","","","","","",""],"chu yu":[""],"g ji":[""],"bei bi":[""],"hn hn":[""],chn:["","","","","","","","","","","","","","","","","","","",""],"i i":[""],"ji qin":[""],"yn dn xin":[""],ch:["","","","",""],"w g ":[""],zo:["","","","","","","","","","","","","","","","","","",""],d:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"gng hng gng":["",""],du:[""],"lo lo":["","",""],hun:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],lng:["","","","",""],"w wi":[""],fng:["","","",""],"yn jn":[""],"h xi":[""],wi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],shu:[""],chng:["","","","","","","","","",""],"r w":[""],qing:["","","",""],y:[""],y:["","","","","","","","","","",""],li:["","","","","","","","","","","","","","","","","",""],tu:["","","","","","","","","",""],"zhu zho tio":[""],kn:["","","","","","","","","",""],"zhu zho":["",""],"hng hng":["",""],"ln ln":[""],"a    ":[""],qing:["","","","","","","","","","","","","","","","","","","",""],"tn zhn xing du":[""],wn:["","","","","","",""],"cu qi":[""],"di sh ji t":[""],"yu w":[""],"z c":[""],"b t":[""],"chu chui":[""],"y y ":[""],fi:["","","","","","","","","","","","","","","","","","","","","","",""],p:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],sh:[""],"l la":[""],"yng qng":[""],p:["","","","",""],"zh sh":[""],s:["","","","","","","","","","","","","","","","","","","","","","","","","",""],ni:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"lu lu luo":["",""],"tn chn tu":[""],bo:["",""],dng:["","","","","","","","","","","","","","","","","",""],lng:[""],"n n":[""],k:["",""],"yng y":[""],"l l l":[""],ji:["","","","","","","","","","","","","","","","","","","","","","","",""],hu:["","","","","","","","","","","","","","",""],"di zh":[""],wi:["","",""],"nu r":[""],"x hu gu":[""],zn:[""],"w ":[""],h:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"hun yun xun h":[""],x:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"h h y":[""],ku:["","","","","","","","","","","","","","","","","","",""],"zhng chung":[""],"wi wi":["","",""],"du zh":[""],"sng sng":[""],"qio jio":[""],"pn bn":[""],"cn sn q":[""],"zh ch":[""],mio:[""],"pn pn":[""],ku:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"lou lu":[""],"zo qio":[""],"h xio xio h":[""]," sh":[""],xi:["","","","","","","","","","","","","","","","","","","","",""],"qing qing":["","","","",""],"i y":["",""],"m m ma":[""],"k k":[""],"d t":["",""],sng:["","","","","","",""],chn:["","","","","","","","",""],"w g":[""],"png bng":[""],"xin qin qin":[""],lo:["","","","","","","","","",""],wng:["","","","","","","",""],w:["","","","","",""],"hi hi":[""],h:["","","","",""],zi:[""],si:[""],"g g g":[""],g:["",""],n:["","","","",""],di:[""],"i i i":[""],tng:["","","",""],"zu su":[""],"zh zh zh zhe":[""],m:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],su:["",""],tn:["","","","","","","","","","","","","",""],"jio do":[""],"ki g":[""],"shn cn":[""],co:["","","","","","","","","","","",""],pio:["","","",""],"lu lou":[""],g:["",""],"g ji":[""],"jio xio":[""],"x sh":["",""],p:["","","","","",""],"d di":[""],"ma m":[""],"l lei":[""],"g g g":[""],si:["","","","","",""],"zu chui":[""],"cho zho":["","",""],zu:["","","",""],"qio qio":["","",""],"ch x shu":[""],"tn chn":[""],"dn tn":["","","","",""],"hi m":[""],:["","","","",""],"fn bo":[""],chung:["","",""],"c z h":[""],"tn ku":[""],"cng chng":[""],dng:["","","","","","","","","",""],p:["","","","","","","",""],ju:["","","",""],l:["","","","",""],zhn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],:[""],"zhu zhu":[""],"jio qio ch":[""],yun:["","","","","","","","","","","","",""],"i i i":[""],"yng yng":["",""],"ju xu":[""],"pn pn fn":[""],g:["","","","",""],"xn hn hn":[""],dng:["","","","","","","","","",""],ln:["","","","","","","","","","",""],t:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"hu hu ":[""],ho:["","","",""],"h xi":[""],"xi p":[""],"zhu chu":["","",""],m:[""],"ch c":[""],"b po bo":[""],"me mi m":[""],"xi hi":[""],"o xio":[""],m:["",""],pn:["","","","","","","","","","","","",""],m:["",""],"rng rng":[""],l:["",""],"jio ju jio":[""],chu:["","","","","","","","","","","","","","","",""],"hun hun":[""],"z c":[""],chi:["","","","",""],"nng nng":[""],"z zn cn":[""],s:["","","","","","","","","",""],zng:["","","","","","",""],"z ni yn":[""],nng:[""],"lu lu luo":[""],"wi gu":[""],hu:["","","","","","","","","","","","","","","",""],nn:["","",""],"jin nn":[""],nn:[""],tun:["","","","","","","","","","",""],"tn dn":["",""],gu:["","","","","","","","","","","","","","","","","",""],kn:["","",""],"wi tng":[""],qn:["","",""],r:["","","","","",""],ti:["","",""],p:["","","","","","","","","","","","","","","","",""],"qun jun jun":["",""],"chu chun":[""],tun:["","",""],l:["","","","","","","","",""],"hun yun":[""],lun:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],t:["","","",""],"x wi":[""],"d de":["",""],"qin s":[""],zhn:["","","","","","","","","","","","","","","","","","","","","","",""],"chng chng":["","",""],"q yn":[""],ji:["","","","","","","","","","","","","","","","","","","","",""],"zh zh":[""],bn:["","","","","","","","","","","","",""],qn:["","","","","","","","","","",""],"mi fn":[""],"rng kng":[""],"fng fng":[""],"fn bn":[""],tn:["","","","","","","","","","","",""],"hui pi p pi":[""],"d ln":[""],tn:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b:["","","","","","","","","","","",""],fn:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zhu:["","","","","","","","","","","","","","","","","",""],p:["","","","","","","","","","",""],"pn bn":[""],kn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],din:["","","","","","","","","","","","","","","","","","","","","","",""],"m m":[""],"k k":["",""],xu:["","","","","","","","",""],"d ch":["",""],l:["","","",""],lng:["","","","","","","","","",""],mn:["","","","","","","","","","","","","","","","","","","","","","","",""],"dng tng":["","",""],c:["","","","","","","","","","","","","","","","","","","","","","","","","",""],du:["","","","","","","",""],"du du":[""],"du du":["",""],ch:["","","","","","","","","","","",""],shng:["","","","","","","","",""],shu:["","","","","",""],da:["","",""],hng:["","","","","","","","","","","","","","",""],"n n":[""],xng:["","","","","","","","","","","","","","","","","",""],"yun hun":[""],bng:["","","","","","","","","","","",""],"pu f":[""],cn:["","",""],"bng fng":[""],"d fng":[""],"xi ji":[""],"mi mn":[""],lng:["","","","","",""],"shn yn":[""],"qn jn":[""],"p b":[""],hu:["","","","","","","","","",""],"su s":[""],"p p":[""],"qng zhng":["",""],"wn wn":[""],ln:["","",""],"zhng chng":[""],kng:["","","","","",""],"ci ci":["","",""],"ch tu":[""],bng:["","","",""],"kn xin":[""],"y sh":["",""],pi:["","","","","","","","","",""],"so so":[""],"jn qn jn":[""],"png bng":[""],"qin zn jin":[""],n:["","","","","","","","","","","","","",""],"du hu":["",""],hun:["","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"bo b p":[""],"mo mu w":[""],run:["","",""],"i  y":[""],gng:["",""],mi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],d:["","","","","","","",""],fng:["","","",""],hng:[""],chn:["","","","","","","","","","","","","","","","","",""],jing:["","","","","","","","","","","","","",""],hung:["","","","","",""],dun:["","","","","","","","","","","","","","","","","",""],t:["","","","","","",""],wng:["","","","","","",""],"si si s":[""],zng:["","","","","","",""],tin:["","","","","","","","","","","","","","","","","","",""],zhng:["","","","","","","","","","","",""],"tin zhn":[""],wn:["","","","","","","","","","","","","","","","","",""],li:["","","","","","","","","",""],hi:["","","","",""],lng:["","","","","","",""],bng:["","","","","","","","","",""],chn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"u qi":[""],"qin jin":[""],"zhun tun":[""],shung:["","","","","",""],sh:["","","","","","",""],lu:["","","","","",""],ch:["","","","","","","","","","","","","","","","","","","","","","","",""],sh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"d zh":["",""],kn:["","","","","","",""],chn:["","","","","","","","",""],"zh zhu":[""],qing:["","","","",""],zng:["","","","","","","","","","",""],qing:["","","","","","","","","","","",""],"kui tu":[""],"tun dng":[""],"qio qu":[""],"zn dn":[""],"qio o":[""],"y t":[""],"xu b ju":[""],ln:["","","","","","","","","","","","","","","","","","","","","",""],hui:["","",""],rng:["","","",""],"ln xin":[""],do:["","","","","","","","","","","","","","","","","","",""],ru:["","","","","","","",""],san:[""],zhung:["","","","","","",""],"k qio":["",""],kn:["","","","","","","","","","","","","",""],mng:["","","","","",""],cn:["",""],"zh zhng":[""],"g yng":[""],"jing xing":["",""],"png fng fng":[""],zhi:["","","","","","","",""],"xun xing":[""],wi:["",""],"wn yun wn yun":[""],"mo wn":[""],mng:["","","","","",""],"d di":[""],"f f":["","","",""],gui:["","",""],yng:["","","","","","","","","","","",""],"hng bn":[""],go:["","","","","","","","","","","","","",""],"to bn":[""],"tu tou":[""],"yn to":[""],"ku ku":["",""],"ji ji g xi":[""],hu:["","","","","","","","","","","","","","","","","","","","","",""],"ji ji g xi":[""],n:["","",""],"d t":[""],"yn yn":["",""],po:["","","","","","","",""],ni:["","","","","","","",""],"qun jun":["","",""],zu:["",""],"q qi xi":[""],ki:["","","","","",""],"bn bn":["",""],to:[""],"zng zhung":[""],bn:["","","","","",""],"xn zhu":[""],sh:["","","","","","","","","",""],"h p ti":[""],"o y":["","",""],yn:["","","","","","","","",""],"du ch":[""],"n r":[""],n:["","","","",""],"dng dng tin":[""],"t ji":[""],nun:[""],"ho ho":[""],fn:["","","","","","","","","","","","","","","","","","","","",""],shu:["","","","","","","","","","",""],"fi pi":[""],wng:["","","","",""],zhung:["","","","","","","","","","","","","",""],m:["",""],"f yu":[""],"hi ji":[""],d:["","","","","","","","","","","","","","",""],mio:["","","","","",""],"fu pi p":[""],"yu ju":[""],ni:[""],"n nn":[""],tu:["","","","","","","","",""],"wn yun":[""],fng:["","","","","",""],n:[""],zhu:["",""],zho:["","","","","","","","","",""],"ni n":[""],tu:["","","","",""],"xin xun x":[""],"zh y":["",""],:["","","",""],mi:["","","","","","","","","","","","","","","","","",""],"q q":[""],"x x":["",""],"shn shn":["","","","",""],mn:["","","","","","","","","","","",""],ji:["","","","",""],"wi wi":[""],pn:["","","","","",""],"hu hu":[""],"jio xio":[""],"gu d":[""],"lo m":[""],"nin nin":[""],zhn:["","","","","","","","","","","","","","","","","","","","","","","","",""],hng:["","","","","","","","","","","",""],"jn xn":[""],"ku h":[""]," y":[""],"xin shn":[""],w:[""],"ro ro":["",""],"sho sho":[""],xi:["","","","","",""],"w mi m":[""],"chu li":[""],ning:["","",""],"n nu":["",""],"pu b":[""],"ni su":[""],tu:["","","","","",""],mn:["","","","","","","","",""],"w w y":[""],"x i":[""],"zhu shu":[""],"dng dng":[""],"i i ":[""]," ":[""],min:["","","","","","","","","","","","","","","",""],"pu pi b":[""],bio:["","","","","","",""],"f fn":[""],w:["","",""],"n n":["",""],"qun jun":["",""],hn:["","","","","","","","","","","","","",""],"qin jn":[""],"wn w":[""],"li li":["","",""],"zhu chu":[""],"chu no":[""],"n n":[""],"hn kn":[""],"dng yng":[""],nn:[""],"ru chu":[""],ji:["","","","","","","","","","","",""],"tu y":["",""],"y y":[""],"wi wi":[""],"d t":["","",""],ru:["","","","","","","","","","","","","","","","","","","","","",""],"run nn":[""],mio:["","","","","","",""],"y pi":[""],"min min":[""],"t sh":["",""],"du tu":["",""],o:["","","","","","",""],"ch zu":[""],yng:["","","","","",""],"qn shn":[""],ji:["","","","","","",""],so:[""],"zhn zhn":[""],"ji su":[""],"mng mng":[""],nio:["","","","","","","","",""],to:["","","","","","","","","","","","","","","","","","","","","","",""],bio:[""],"pio pio":["",""],xun:["","","","","","","","","","","",""],"mn mn":[""],kng:["","","","","","","","","","","","","",""],"hn nn":[""],nn:["",""],zh:["",""],"m m":[""],pi:[""],zhn:["","","","","","","","","","","",""],"xin yn jn":[""],lin:["","","","","","","","","","","","","",""],"qing hun xun":[""],dng:["","","","","",""],cn:["","","","","","",""],tio:["","","","","",""],b:["","",""],li:["","","","","","","","","","","","","",""],"qin xin":["",""],"xi hu":[""],"hun qun":[""],"l l":["",""],"zh chu":[""],kng:["",""],"m z":[""],"sn xn":["",""],"bi b":["",""],"yu ni":[""],zhun:["","",""],hi:["",""],no:[""],"chn cn":[""],b:["","","",""],ni:["",""],"nng nng":["","","","","",""],zhi:[""],"t ji":[""],sng:["","","","","","","","","",""],ru:["","",""],zhn:["","","","","",""],"m f":[""],"dng tn":[""],"wn yun":[""],chng:["",""],qn:["","","","","","",""],zi:["",""],"bo sh":[""],"ji jia jie":[""],"hung hung":[""],kun:["","","","","","",""],"s xi xi":[""],"ji zn":[""],"bng bng":[""],"jn qn":[""],"lu j":[""],"xi xi":[""],"qn qn":[""],cn:["",""],du:["","","","","","","","","","","","","","","","",""],"l lu":[""],"sh y y":[""],"jing jing qing":[""],"jing jing":["","","",""],zn:["","","","","","","","","","",""],"sh zh":["",""],xio:["","","","","","","","","","",""],"ji j":["","",""],"sho sho":[""],r:["","","","","","","","","","","","","","","","","","",""],"wng yu":[""],wng:["","","","",""],lio:["","","","","","","","","",""],"mng mng lng png":[""],g:["",""],"ku ku":[""],tu:["","","","","","","","","","","",""],yn:["","","","","","","","","","","","","","","","","","","","",""],"ch ch":[""],ko:["",""],"jn jn":[""],"wi y":[""],"nio su":[""],cng:["","","",""],dio:[""],"png bng bng":[""],lu:["","","","","","","",""],"sh zh":["",""],"xi t":[""],"ch co":[""],"tn zhn":[""],"n j":[""],"hng lng":[""],"q ki":["",""],ng:["","",""],"gng gng":["",""],k:["","","","",""],gu:["","","","","","","","",""],tio:["","","","","","","","","","","","","","","","","","","",""],"q j":[""],lng:["","","",""],p:["","","","","","","","","","",""],"b k":[""],lu:["","","","","","","","","","","","","",""],"f ni":[""],n:[""],"zh sh":["",""],qi:["","","",""],"qio jio":["",""],"xi y":[""],b:["","","","","","","","","",""],chng:["","","","","","","",""],"z cu":["",""],"lng lng":[""],"dng dng":[""],xio:["","","","",""],"p b":["",""],"zhn chn":["","",""],"wi wi":[""],"yng dng":[""],"sh di":[""],yo:["","","","","","","","","","","","","","","","","","","","","",""],"kn zhn":[""],"hn dng":[""],"qin kn":[""],"w mo":[""],"k ji":["",""],"wi wi":[""],k:["","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"dng tng":[""],"rng yng":["",""],"i ki":[""],"ko qio":[""],cu:["","","","","","","","",""],"qin qn":[""],"d di":[""],cn:[""],dng:["","","","","","","",""],"o o":[""],"p pi":[""],"jio qio":["",""],"ju gu":["",""],"zhn shn":["",""],"xi ji":[""],"gu x jun":[""],r:[""],"l li":["","","",""],"x gu jun":[""],"yng hng":[""],yng:["","","","","","","","","","","","","","","",""],cho:["","","","",""],cun:["","",""],chun:["","","","",""],"jng xng":[""],cho:["","","","","","","","","","","",""],qio:["","",""],gng:["","","","","","","","",""],"ch ch chi c":[""],"xing hng":[""],shui:["","",""],p:["","","",""],"tng n":[""],"m w":[""],"ti ti ti":[""],zhu:["","","","","","","",""],"jun jun":[""],shu:["","","","","","",""],"chu do":["",""],"jin jin sn":[""],"sh qi":[""],"q j":["",""],"shn qio shn":[""],"zhung chung":[""],"chn chn":[""],mi:["","","","","","","","","","","","","","",""],"gn gn":[""],"bng bng":["",""],"j j":[""],"gung n":[""],gung:["","","",""],me:[""],"dn tn":[""],"bi tng":[""],"yng yng":[""],"d de":[""],"d du":[""],"mng mng png":[""],"bng png":[""],chng:["","","","","",""],"j cu":[""],qng:["","","","","","","","","",""],"gu wi hu":[""],"jn qn":[""],ku:["","","","","","","","","","","","","","","","",""],"qing s":["",""],"yn yn":["","","","","","",""],"p pi":["",""],"nng lng":[""],"d t tu":[""],"ju zhng":[""],"m m":["","",""],cho:["","","","","","","",""],yi:[""],sho:["","","","","","","","","","","",""],"xun yun":[""],"qing qing jing":["",""],"tn dn":["",""],bi:[""],"qing jing qing":[""],"j xu":[""],tun:["",""],yu:["","","",""],"shn xin":[""],wn:["","","","","","","","","","","","","","","","","","","","","","","","","",""],"png bng":[""],"pio pio":[""],"zhu b":[""],"tu y":[""],"png fng":[""],wng:["","","","","","","","","","","","","","","","","","",""],c:["",""],"di di":[""],hui:["","","","","","","","","","",""],"w wng ji":[""],"chng zhng":[""],"d di de":[""],"cng zng":[""],"sh t":[""],"t ch":["","",""],d:["","","","","","","",""],"zh zhng":["",""],bi:["","","","","",""],"chng zhng":[""],"jio jio":["","",""],"lng lng":[""],"q j":["","","",""],"dng tng":[""],gi:["",""],rn:["","","","","","","","",""],chn:["","","","","","",""],t:["","","","","",""],"t ti tu":[""],"gn hn":["",""],"y q":[""],"ti sh":[""],"x li":[""],"yng yng":["","",""],"mn wn mn":["",""],"sng zhng":[""],"y sh":["",""],"q sh":["",""],"tn zhn dn":[""],"qin qn":["",""],hn:["","","","","","",""],ni:["","","","","","","","","",""],"kung wng":[""],"kng hng":[""],"ki x":["",""],u:["",""],"bo bo":[""],"mn mn":[""],"zu zh":[""],zn:[""],yng:["","","","","","","",""],"ku j":[""],"no ni":[""],"zhng zhng":["","","",""],"ti zhn":[""],"h g":[""],"c j z":[""],"s si":[""],"yu chu":[""],"t di":[""],"yu yo":[""],xun:["","","","","","","","","","","","","","","","","","","","","",""],"x xu":[""],"b p":[""],"x sh":[""],"nn nn":[""],"tio yo":[""],"x q x":[""],"xio jio":[""],"h ku":[""],n:["","","",""],hn:[""],"dng tng":[""],"qun zhun":[""]," w  w":["",""],tng:["","","","",""],"yun jun":[""],"qio qio":[""],"ji k":[""],"ho jio":[""],hu:["","","","","","",""],"mn mn":["",""],"y y":["",""],qun:["","","",""],"ku l":[""],"y nin":[""],"mn mn":[""],gun:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"kng kng":[""],"ln ln":[""],gu:["","","","","","","","","","","","",""],"yun wn":["",""],"ln ln":[""],"y x":["",""],"chu chu":[""],"hn mn":[""],"chng tng":[""],"su ru":[""],cn:["","","","","",""],cn:["","","","","","","","",""],"dn d":["",""],r:[""],"y tu":[""],"ki q":[""],"dng tng shng yng":[""],"chn xn dn":[""],"k qi":[""],nu:["","","","","","","","","","","","","","","","",""],gn:["","","","","","","","","","","","","","","","",""],"cng sng":[""],"si s s":[""],"gng gng hng":["",""],"shu s":["",""],"yo yo":[""],hung:["","","","","","","",""],zhng:["","","","",""],co:["","","",""],"x xi":[""],"co so":[""],"x ch":[""],"qi qin":[""],"co cng":[""],"o o":[""],"lin lin":["","","",""],"jn qn jn":[""],"d ch":[""],"zh zh":[""],"lu l":["",""],cng:["",""],"zh zh":["","","",""],chng:["","","","","","","","","","","","","","","","","","","","","","","","","",""],bi:["","","","","",""],"chng dng zhng":[""],"x x":[""],"du dn tn":[""],"xio jio":[""],"xin xin":[""],"lio lio":["","","",""],shng:["","","","","",""],"no no nng":[""],"jng jng":[""],"j jio":[""],"xun hun":[""],"co so so":[""],mn:["","","","",""],"mng mng mng":[""],"i y n":[""],"mng mng":["","",""],"q j j":[""],m:[""],"ln xin":[""],"yu yu":[""],"li li":["",""],rng:["","","",""],hun:["","","","","","","","","","",""],nn:["","","","","","",""],"m m":[""],"gng zhung":["",""],"zhung gng":[""],"x qu":[""],"x h":["","",""],"ji g":[""],zi:["","","","","","",""],dng:["",""],"h x":[""],chu:["","",""],"bin pin":[""],"shng jing":[""],"shn shn":[""],ci:["","","","","",""],"zh z zh":[""],"l l ci":[""],"b p":[""],"d d":[""],rng:[""],"fn f":[""],"dio d yu l":[""],"kng gng":[""],"y w":[""],"y w k":[""],"tu ch y":[""],"g ji x g":[""],dn:["",""],"so so":["",""],ro:["","",""],"x ch q":[""],"bn pn":[""],"b o":[""],"x zh":[""],"zh sn kn":[""],zho:["","",""],"kung wng zi":[""],"h g":["","",""],"b b":[""],"dn shn":[""],"n n ru n":[""],zhu:["","","","",""],pu:["",""],"zh sh zh":[""],"pu pu f":["",""],po:["","","",""],"o o ni":[""],"ln ln":["",""],"qing qing chng":[""],"zh zhi":[""],"b p":["",""],"yo to":[""],"h h qi":[""],"n n":[""],"p pi":[""],"m m m":[""],chu:["","","","",""],"ji y":[""],"f b":["","",""],zh:["","","","",""],"dn dn dn":[""],"chi c":[""],nin:["",""],"l l l l":[""],"bn pn":[""],pi:[""],ln:[""],gui:["","",""],"tu t zh":[""],"o o ni":[""],"j gu":[""],"pn pn fn":[""],"bi bi":[""],bi:["","","","","","","",""],qi:[""],"nng nng nng":[""],"z zhi":["",""],hn:["","",""],"ku gu":[""],"ji ji":[""],nn:[""],shun:["","","",""],"cn zn":[""],"z zn":["",""],ko:["","","","",""],"y ch hi":[""],"c s chu":[""],"zhui zhui y":[""],"sh sh":[""],bi:["",""],"ku gung":[""],nng:["","",""],"jio jio":["","",""],"ku k":[""],"n r":[""],"tio tio":[""],"di sh":[""],li:["",""],"y y":["",""],"w zhu":[""],"xi ji":["",""],"dng dng":["",""],"zhng zhng":["","",""],"i i":[""],"tu shu":["",""],"t t":[""],"su sh":[""],"s sh su":[""],"kng qin":["",""],"bng png":[""],"ru ru":[""],"jio k":[""],"w w":[""],tng:["","","","","","","",""],"hu ch":[""],"t sh ch":[""],"l lu":[""],"sho sho":["",""],ni:["",""],"sh sng su":[""],"y y":[""],"ju zhu":[""],"b p zh":[""],zn:["",""],lo:["","",""],sn:["","","","","","","",""],"wn wn wn y":[""],png:["","",""],sh:[""],"f f b":[""],do:[""],"lu lu w":[""],"jun qun":[""],"chn tin":[""],"nin ni":[""],"ru wi r":[""],zu:["","","","","","",""],"w xi":[""],"qng qin":[""],"pu pu":[""],qi:["",""],"pi pi":[""],"qin wn":[""],"y y":[""],"ni n y":[""],"hu x":[""],"yn shn yn":[""],"zhng dng":[""],kng:["",""],tu:["","",""],"zu zhu chu":[""],tin:["",""],kn:["","",""],p:["","","","","",""],"gu gui":[""],"dn shn":["",""],"chn xin cn shn":[""],so:["","","","","","","","","","",""],png:["","","","",""],"zhng kng":[""],"ji yu":[""],"jin jin":["",""],"p ch":[""],"si zng ci":[""],"t d d":[""],"zng sng":[""],"hung yng":[""],"zn zun":[""],"x j":[""],"k qi":[""],"chui chui chui tun zhu":[""],"d t":[""],"l l":[""],l:["","","","","","","","","","","","","","","","",""],"ji q":[""],"chng dng":[""],"di sh y":[""],"jin qin jin":[""],y:["","","","","","",""],chn:["","","","","","","","",""],"g g":["",""],"lu lu":["",""],"chu zu":[""],chui:[""],sn:["","","","","","","","","",""],"rng nng nng":[""],"png bng":[""],cu:["","","","","",""],"k ":[""],"n nu nu":[""],"l xi xin":[""],qi:["",""],"xin xin":[""],"ji zh":[""],"pn bn p":[""],bn:["","","","","","","","","","","","","","",""],"zh ni":[""],"w w w":[""],hu:["","","","","","","","","","","",""],"qing qing chng":[""],"tin shn":[""],"n nu":[""],n:[""],"sh ni":["",""],bn:["","","","","","","","","","","",""],"sh s shi":[""],"chn sn":[""],"ji li lio jio no":[""],"fng png":[""],shui:[""],"d t zh":[""],"q j ch":[""],"su sng":[""],"lin lin":[""],"gi x":[""],"h ch":[""],tng:["","","",""],"ni zh":[""],"m m":[""],"jing qing":[""],"o qio":[""],"ni ch":[""],"mn mn":[""],"chn cn":[""],"s m s":[""],"bio bio":[""],"ju ju":[""],pi:["","","",""],"pi pi":[""],"zn zn zn qin":[""],"s s":[""],hng:["","","","",""],"hng gung":[""],nin:["","","","","","","","","","","",""],"chng zhng":[""],"hu wi":[""],co:["","",""],"xio su":[""],"lio lio":[""],"cu zu":[""],"wi tu":[""],cun:["","","","","","",""],"qio yo j":[""],"zhu w":[""],"li li":[""],nng:["","","",""],"qng jng":[""],kui:["","",""],"p b":[""],"b bi":[""],"j j":[""],mng:[""],"su su":[""],xng:["","",""],c:[""],"nng nng nng":[""],"zh ji":[""],"l li":["",""],"su su":[""],"l lu yu":[""],"t zhi zh":[""],pn:["","","",""],li:["","","","","","","","","","","","","","",""],"c s":[""],"jn pi":[""],"l lu":["",""],"l li":["",""],"l lu":[""],"zn cun":[""],"xin jin":[""],"m m m":[""],"zn cun zn zun":[""],zun:[""],"l shi":[""],"l lu":[""],"gu gu":[""],"j q y":[""],fng:[""],"w mu":[""],"ch shu":[""],"g gu ":[""],"du du":["",""],"du qu":["",""],"sn sn":[""],"dn du":["",""],"q y j":[""],"xio xu":[""],"sh sh shu":["",""],"i zh":["",""],"xing xun":[""],"zhu zh":[""],"y d":[""],"l ti":[""],"fi fi":[""],"y zhng":[""],"du du":[""],"w gun":[""],"tu tio":[""],du:["","","","","","","","","","","","","","","","","","","","",""],"yn zh":[""],"chn ji":[""],"w y y":[""],"yu li":[""],"png bng":[""],"mo mo":[""],"p b":[""],"xun xun":[""],"w m":[""],zo:["","","","","","","","",""],g:[""],"gn hn":[""],"ti yng":[""],"x x":[""],"tn zhn":[""],"w w":[""],"p pi":[""],zng:["","","","","","","",""],i:["","","","","","","","",""],"hung hung":[""],xun:["","","","",""],"x ku":[""],hng:[""],shi:["",""],"yn yn":["",""],"shng chng":["","",""],"jng yng":[""],shn:["","","","","","","",""],"q d":[""],"n n yn":[""],"wng wng":[""],zn:["","","","","","","","","","","","","","","","",""],"yn yn":[""],"mn mn":[""],"d sh":[""],sh:["","","","","","","","","","","","","","","","","",""],"jin ln":[""],nun:["","",""],"bo p":[""],"x x":[""],"p bo":["",""],"q q":[""],"q q":[""],"gng gng":[""],"h h":["",""],"zng cng":["",""],"cng zng":["",""],"cn qin jin":[""],"qi h":[""],"b p":["","","",""],"yu yu":[""],"bn fn":["",""],"f f":["",""],"fi k":["",""],"q x chn":[""],"jun zu":[""],"hung mng wng":[""],"q j":[""],"tng chung":["",""],zh:["","","","","","","","",""],"zh sh sh":[""],"sh sh zh":[""],"zh sh":[""],"p p p pio":[""],"do tio m":[""],"gu qi":[""],xi:["","","",""],"chng chng":[""],z:["","","","","","","",""],"y w":[""],"gn gn":[""],"ch ch":[""],"shn sh":[""],cn:["","","","","",""],"rn r":["",""],"sho bio":[""],"d du":["",""],"g gi":[""],"y zh l du":[""],"gng gng":[""],"tio tio":["",""],"m m":[""],"s zh x":[""],"yun wn":["",""],"bi fi":[""],"sh du":[""],"ni chu":[""],"w yu":["",""],mo:["","","","","","","","","","","","","","","","","",""],"p m":[""],ng:["","",""],"fng bng":[""],"h d":[""],xn:["","","",""],"yo yo":[""]," ":[""],"zh q":[""],"cng zng":["",""],"xin zhn":[""],"ti s":[""],"gu j gu":[""],"bo f":[""],"y xi":["",""],"tu du":["","","",""],"y du l":[""],"n ch":[""],"pn bn":["",""],"yng yng yng yng":[""],"f f f":[""],"bi b b":[""],mu:[""],"sho sho":[""],zh:["","","","","","","","","",""],"yu yu":["",""],"gu j":[""],"zh zu":[""],"di zh":["",""],"zh z z":[""],"ch zh":["",""],"o o":["",""],"b f pi b bi":[""],"du zu w":[""],"b bi":[""],"zh ch":[""],"bi pi":[""],"sh fi":[""],"shn zh shi c":[""],"l yu":["",""],"q qi":["",""],"q x":["",""],"gu ku":[""],"bng bn":[""],"xio jio":[""],"jin zn":["",""],"yu y":[""],"h h":[""],gn:["",""],"zh y":[""],"g g":[""],"hng hng":[""],"gung gung":[""],"y t":["",""],sng:["","",""],"j ji":[""],"y mu":[""],"ro no":["",""],"gu hu":["",""],"chn zhn":[""],"tng yng":[""],"b po":[""],"bn fn":[""],"fng fng":["",""],"s yn":[""],"tng tng":[""],"xun jun xi":[""],"t ch":[""],"o yu":[""],kun:["","","",""],"sho so":[""],"qn chn cn":[""],"l s q":[""],"chn yn":[""],"bn bng":["","",""],"to chu do":[""],"cng sng":[""],"gn hn":[""],"d zh":[""],"pi bi pi":[""],"bng pu bi bi":[""],"d di t":[""],sn:["","","",""],"rn shn":[""],"lng lng lng":[""],"f s":[""],"zu su":[""],zu:["","","","","","","","","","","","","","","","",""],"zho zhu":[""],"chn shn":[""],"ji qi":[""],"y y":[""],"chu zhu dio":[""],"qing kng":[""],"zhu chu":[""],"bi p":[""],mn:[""],"qun jun qun":[""],"du chun":[""],"wi hu":[""],"ji ji":[""],"hn jin":[""],"shn zhn":[""],"yn y":[""],"zh ch":[""],"gu ku":[""],"j zh":[""],"k h":[""],"yu yu":[""],"sng cng":[""],"yun xun":[""],"yng yng yng":[""],pin:["","","","","","","","","",""],"di y":[""],"dn shn":[""],"cu zu":[""],"d d sh":[""],"ki ji":[""],"ru ru":[""],"l yu":[""],"wn yn":["",""],l:["","","","","","","","",""],shn:["","","","",""],"b pi":[""],"zhn nin zhn":[""],"f f b":[""],"jin jn":[""],"bng bng":[""],"sh xi":["",""],nu:["","","",""],"qin lin xin":[""],gng:["","","","",""],go:["","","","","","","","","","","","","","","",""],"din zhn zhn":[""],"kn jin":[""],"x di":[""],"j gu":[""],"rng yng":[""],"tun shun qun":[""],"q s":[""],"cu zh":[""],"yu cho":[""],"mn wn":[""],"l ch":[""],"li li":["","",""],"cho jio cho":[""],"chng tng":[""],"ji lio":[""],"m m":[""],"nio m":[""],"hng hng":["",""],xu:["","","","","","",""],"f fi":[""],rn:["","","","","","",""],"zhn jin":[""],shn:["","","","","","","",""],"tu dn":[""],"tng chng":[""],"s qi":[""],"tn din":[""],"fn fn fi":[""],"rn yn":[""],"c chu":[""],"sh qio":[""],"png b":[""],"zhi sh t":[""],"bio bio":[""],"qin lin":[""],"n m":[""],"jin kn":[""],"nu run r":[""],"j j":["",""],"hung gu g":[""],"l ch":[""],"mi mi":[""],u:["","","","","","","","","","","","","","",""],"zh zhu":[""],"ju j":[""],"hui gu":[""],"chn zhn":[""],"wi zu":[""],cng:["",""],"y y":[""],"ch q x":[""],"ki i":[""],"y yn":[""],"x ki":[""],"shu su":[""],"i i i i i    ":[""],"q y":[""],"chu x":[""],"ch chui":[""],"kn qin":[""],"kn k":[""],"chun chun":[""],"yn yn":[""],"jn qn":[""],pn:[""],"x chu":[""],"x sh":[""],"lin hn":[""],"zh ch":[""],"s sh":[""],s:[""],"wn m":[""],pio:["","","","",""],"qng jng":[""],"fu b":[""],"zh shi":[""],"y yn yn":[""],"hn mi":[""],chu:["","",""],"ku hu":["","",""],cun:["","","","","","",""],"yn yn yn":[""],"qng kng shng":[""],"yo xio xio":[""],"g g":["",""],"gun wn":[""],"d di":[""],"xn xn":[""],m:["",""],"du nu":[""],"si su":[""],lu:[""],so:["","","",""],"sh zh":[""],"d d":[""],"mng mng":[""],"yng r":[""],shu:["","","",""],"zhng chng zhng":[""],tn:[""],"fn fn":[""],"gu ji":[""],"bn p p":[""],"zhu qu":[""],"d ti":[""],pn:["","",""],"hn hn":["",""],tu:[""],"tng shng":["",""],"zh j":[""],"gn hn cn":[""],"wn mn":[""],"fng png":[""],"h hung":[""],"ni yu":[""],hng:[""],"shn chn":[""],"dn zhun":[""],"n ni":[""],"mi m":["",""],"t d":[""],"m w":[""],"hng png":[""],"sh sh":[""],"zhu z":[""],"u u":["",""],"j j":[""],"tu du":[""],"m l":[""],"y ch":[""],"xi y":[""],"b p":[""],"m b":["",""],"ch sh":[""],"yu yu o":[""],"png png":["",""],"po po":[""],"n n":["",""],"yu s":[""],"ju xu":["",""],"lng shung":["",""],"lu p":["",""],"z sh":["",""],"s x":[""],"s q z":[""],"x xin":[""],"ko ko":[""],"n yn ":[""],"li li":[""],"qi ji":[""],"qin jin":[""],"j j":["","","",""],"h x":["",""],"jn xn":["",""],"yng chng yng":[""],"lin l":[""],"fng hng":["",""],"jing jing":[""],"su ni":[""],"yng chng":[""],"tn yn":[""],"w gu":["",""],hng:["",""],"zhng zhng":["",""],"shu to":[""],shun:["",""],"kng nng":[""],"w wn yun":[""],"tu tu":[""],w:["","","","","","","","",""],"qi j":[""],"gu gun":[""],"ln ln":["","",""],"tng chng":[""],"no chu zhu":[""],"png png":[""],fi:["","","",""],"p pi":[""],"nin shn":[""],"bio h":[""],"chn zhn":[""],"hn hn":[""],qin:["","","","","","","","","",""],"wn mn":[""],"r ru lu":[""],"d du":["","",""],"jin jin":["","","",""],"min shng":["",""],"nun nun":[""],"qi w":[""],"tng tng":[""],"d t d":[""],"gng jing":[""],"hng qng":[""],tun:["",""],"hu mn x":[""],"x x":[""],pn:["","","",""],"mn hn":[""],"tun nun":[""],"qi jio":["",""],"yn yn":[""],"bn pn":[""],"zhung hn":[""],"yn gu":[""],"lin lin nin xin xin":[""],"d t":["",""],"li li":["","",""],ln:[""],m:["","","","","","","","","","","","",""],"zhn qn":[""],"n nio":[""],"ch x":["",""],"wng wng":[""],"ho xu":[""],"q x xi":[""],"xng yng":[""],"z ho":[""],"pio pio pio":[""],"cng sng":[""],"fng png":[""],"lu t":[""],"png bn":[""],"chng shung":[""],"hu ku hu":[""],"lio li":[""],"cu cu":[""],"cng zng":[""],"cng zng":[""],"p pi":[""],"dng xing":[""],"hung gung":[""],"lio lo lo":[""],"cng zng":[""],"zh zh":[""],"tn shn":[""],"t zh":[""],"sn s":[""],hi:["","","",""],"chng dng":["",""],"cn cn":[""],"png png":[""],"hng gng":["",""],"wn mn":[""],"kui hu":[""],"gu w":[""],"pn fn":[""],"j sh":[""],"hu hu":[""],"dng tng":[""],"m n":[""],"b p":[""],"cu zu":[""],"h hu":[""],"i ki k":[""],"wi du":["",""],"zn cun":["",""],"yng yng":[""],"wng wng":[""],"m mi":["",""],su:["","",""],"hui wi":[""],"zn jin":[""],"yng yng yng":[""],"rng rng":[""],shung:[""],"zhu jio z":[""],s:["","",""],"lun lun":[""],"dng tng":[""],"xn qun qun":[""],"hu bio":[""],"zh y":[""],"fn bn":[""],"jing gu":[""],"png fng":[""],qu:["","","",""],bin:["","","","","","","","","","","","","","","","",""],"zho zho":[""],"zhu ch":[""],"po po bo":[""],"po fu":[""],"shn qin shn":[""],"zh zh":[""],"jio yo":[""],qun:["","","","","","",""],"yng yng":[""],"lo lu":[""],"hu hu":[""],r:["",""],"f po":[""],"xi ch":["",""],"yn shn":[""],"hn xn":[""],ko:["","","","","","","","",""],"jun y":[""],"jn q":[""],"to do":[""],"cho j":[""],"w i":[""],"zng cng":[""],"x y":[""],"xn xn":[""],"cho zhu":[""],"xing yng":["",""],ku:["","","","",""],"hu yn xn":[""],"jio qio":[""],"qin shn shn":[""],"x y":[""],"sh sh":[""],"y zh":[""],"yng yng":[""],"n yn":[""],"yn yn":[""],"h xio":[""],xing:["","",""],"xn xn":["",""],gng:["","",""],li:[""],"cng zng":[""],"l o":[""],"sh shu":[""],"fng png":[""],"cu su":[""],tng:["","",""],"yn y":[""],"o o":[""],"hn rn":[""],"u u":[""],"hung hung":[""],"chn dn chn":[""],"jio zhu qio ju":[""],"yn yn":[""],"ti li":[""],o:[""],"yn xn":[""],"ju jio":["","","","",""],"ln ln":[""],"zhu zho":[""],"zho zhu":[""],"f f":[""],di:["","",""],zng:["","","","","","","","",""],"pin pin":[""],"bin min":[""],bng:["","",""],"yu yng":[""],"chng chng":["",""],ni:["",""],"ji l":[""],"m mu":[""],mng:[""],"g qi":[""],"yu chu":[""],"t zh":[""],bn:["","",""],"jin qin":["",""],m:["","","","",""],"mo l":[""],"b qun":[""],"zhu bo":[""],"n hn":[""],"kng gng":[""],"pi fi":[""],"fn hun":[""],kung:["","","","","","","",""],"y qun ch":[""],"xng shng":[""],"tu y":[""],k:["",""],"hun hun":[""],"h m":[""],"t sh":[""],"mng du":[""],"x sh":[""],sun:["","",""],"bi p":[""],"jin yn":["",""],"y y":[""],"y wi":[""],ci:[""],"mo mo":["",""],"chun chun":[""],"tun tun":["",""],"y ji qi":[""],"h xi g hi":[""],"bin pin":["",""],"b p":[""],"ho go":[""],"fn fn":[""],"yo xio":[""],"shu x":[""],"g li xi":[""],"nu r":[""],"no no yu":[""],rng:["","","","","","","",""],"no yu":[""],"l shui":[""],"wng wng":[""],"yng chng":[""],"mn wn":[""],"bn fn":[""],"mn yn":[""],"qing cng":["","",""],"n gn":[""],"xun xin":[""],"c c":["",""],"y ti":[""],"z j":[""],f:["","","","",""],"yn kn":[""],"hu hn":[""],"xun qing":[""],"f f":[""],"bng pn":[""],"cu s":[""],"y wi":[""],"tin tin":[""],"zhu zu":[""],"bng pi":[""],gun:["","","","","","","","","","",""],"hn hu":[""],"xi ji":[""],"chng dng yng":[""],"tin zhn":[""],"bn pin":["",""],"t sh":[""],cu:["","",""],"zo su":[""],"ju qing":[""],"l f":[""],"j z":[""],su:["","","","","","",""],"m x":[""],"qing wi wi":[""],"hun y y":[""],"b po":[""],"zh h":[""],pio:["",""],"w w":[""],"xing hng":[""],wng:["","","","",""],"shn shn":[""],ru:["","",""],yng:["","","","","",""],shui:[""],bng:["",""],"yu zh":[""],"din tin shng":[""],"tng dng":["",""],"zi z":[""],"b q":[""],"d f":[""],"c j":[""],"zi z tin":[""],"zh chu sh":[""],"fn pn":["",""],"sh y":[""],"dng dng dng":[""],"jing qing":[""],"p y sh":[""],"ji qi":[""],"y n":[""],n:["","","",""],"g y":[""],"n yo":["",""],"l li":["",""],"y xi":[""],xu:["","","","","","",""],"dn da":[""],"f bin":[""],"fi fi":["",""],"shn din":[""],"tng chng":[""],"tng tng":[""],"wi yu y":[""],"tn sh":[""],"p p":["",""],"bng png":[""],"m ln":[""],"tin din":[""],"n y ":[""],"k ":[""],"zh ch":[""],"ji xi xi":[""],"li hu":[""],"chi cu":[""],"din chn":[""],"da d":[""],"bi bi":[""],qu:[""],"dn dn":[""],"gu wi":[""],"nng nng":[""],"bi bi":[""],"b b":[""],bi:[""],"j b":[""],"de d d d":[""],"p b":[""],"go ho":[""],"go yo":[""],"l lu b":[""],"zh c":[""],"zho zhn dn":[""],"jin jin":["","","","",""],"gi g h":[""],"mng wng":[""],yun:["","",""],"tin xin":[""],"xing xing":[""],dn:["","",""],"x pn":[""],"shng xng":[""],"yn hn":[""],"min min":[""],"kn kn":[""],"yng yng yng":[""],"yo o o":[""],"j x ku":[""],"y ch":[""],"di t":[""],"bng fng":[""],"png pn":[""],"m m":["",""],"xun shn xn":[""],tio:["","","","",""],"zhe zhu zho zho":[""],"qio sho xio":[""],"cu zhui":[""],gn:["",""],"su zu":[""],"p b":["","",""],"y z go":[""],"xng xng":[""],"gu wi ku":[""],"ku j":[""],"qing hun":[""],"mn mn":["",""],"dio du":[""],"lou lu l":[""],"shn rn":[""],"lio lio":["",""],"jin xin":[""],"w m":[""],"gu ku":[""],"nng chng":[""],"hu yu":[""],"mng mng":[""],"kung gu":[""],"gun qun":[""],"mn mn":[""],"jn gun qn":[""],"jn qn gun":[""],"y x ju":[""],"jio jio":["",""],dun:[""],"sh dn":[""],"gng qing kng":[""],"hu x":[""],"pn bn fn":[""],"yn yn":["",""],"lu k":[""],"f fi":["",""],"zh zh":[""],"l l l":[""],"kung gung":[""],"g lu":[""],"shu sh":["",""],"wi wi i":[""],"qu k k":[""],"mng bng":[""],"lu lng":[""],"yng tng":[""],n:["",""],"kng kng":[""],"yn yn":[""],"zhu chu du":[""],"kng kng":[""],"zng cng":[""],"jin zhn":[""],"l li":["",""],"qu x":[""],"ln ln ln":[""],"no gng":[""],"ji y":[""],"wi wi":[""],"t d":[""],"ch ch":[""],"qio qu":[""],"s xi":[""],"li li":["","","",""],"s t":[""],"bng png":[""],"hu k g":[""],"wi ku":[""],"xi qi y":[""],"lin qin":[""],"wi i gi":[""],"l l":[""],"o qio":[""],"png png":["",""],"yn yn":[""],"li li":[""],"m m":[""],"q zh":[""],"lo lu":[""],"pn b":[""],"j sh":[""],"h qio qio":[""],"k hu":[""],"qu h":[""]," q":[""],c:["",""],"xin xn":[""],"li li li":[""],"yn yn":[""],"q zh":["",""],"bng fng":[""],"b m":[""],sun:["","","","",""],"pio pio":[""],"j zhi":[""],"shu li":[""],"jn jn":[""],"chn shn":[""],"yng shng":[""],"zh zh t":[""],"shn chn":[""],"y y u":[""],"z z":[""],"ch n":[""],"zhng zhng chng":[""],"ho mo":[""],"k k":[""],z:["",""],chng:["",""],"hu ku":["",""],"chng chn chng":["",""],"sh zh":["",""],"f p":[""],"xn z":[""],"t sh":[""],"zhn zhn":[""],"j q":["","",""],"lng lng":[""],"zu z s":[""],"x qi":["",""],"zhng zhng":[""],"zng zng":[""],"xin jin lin":[""],"z ji":[""],"j q":[""],rng:[""],"shn cn cn":[""],"mn mi":[""],"j j":[""],"xio ro":[""],"zhu b":[""],"tng zhng zhng":[""],zu:[""],"bio po":["",""],"zhu ju":[""],"cun zn":[""],"kng kng kng":[""],"y y":[""],zhi:["",""],bo:["",""],"k zh":[""],"jio lio li":[""],"w gu":[""],"tio yo":[""],"xn yn":[""],"y y":[""],"tin din yn":[""],"cho k":[""],"kun cun":["",""],"ch q":[""],"q ku":[""],"jng zhn":[""],"kn kn":[""],"zh d":[""],"l jn":[""],"zhu ru":[""],"hng hng":[""],"cn jn hn":[""],"d xi n":[""],"z zu":[""],"lng lng":["","","","",""],"zh zh":["",""],"d d":["",""],shi:["","","",""],"yn jn":[""],"lng lng":["","",""],"zh zh":[""],o:[""],"pu b f p":[""],"pi bi":[""],g:["","","",""],"ti ch":[""],"gui di":[""],"zho do":[""],"jng qng":[""],"ln ln":[""],"jn qn":[""],"sh y":["",""],"yu yo chu":[""],"xio shu qio":[""],"gng gn lng":[""],"png png":[""],"zhu hu":[""],"jin jin":[""],"d zh":[""],"zn cn cn":[""],"zhun sun zun":[""],"pio bio":[""],"gu gu":[""],"c j":[""],"m mi":[""],"shi s":[""],"sn zhun":[""],"gn gn":[""],"b b":[""],"b b":[""],shi:[""],"zhn jin":[""],"zhun zun":[""],"fn pn bin":[""],"su sh":[""],zun:["","","","","",""],n:["","",""],"sh cho":[""],"kng jng":[""],fn:["",""],c:["","","","",""],"nin zhn":[""],"c s":[""],"zhu y":[""],"shn sn":[""],"bin bin":["",""],min:["","","","","","",""],"h h h":[""],"g gu":[""],"m mi":[""],"sn shn":["",""],zo:["","","",""],"m s":[""],"ji ji":[""],"x j":["",""],"zhng zhng":[""],"ch ch":["",""],"yu yo":["",""],"hng gng":["",""],"h g":["",""],"wn wn":["",""],fu:[""],"j ji ji":[""],"p p b":["",""],"jn jn":[""],"zh z":["",""],h:[""],"f f":[""],"chu chu":[""],"li li li":[""],"b b":[""],"tin zhn":[""],"jing jing":[""],"ji ji":["","",""],"gu ku":[""],"bi m":[""],"gng hun":[""],"ji xi":[""],"qun shun":[""],"gi i":[""],"lu lo":["",""],"bng bng png":[""],"gi j":["",""],"tng tng dng":[""],"tio dio do":[""],"li li li":[""],"gi hi":[""],"ch zh":[""],"wn min mn wn":[""],"hun hun wn":[""],"qn xin":[""],"t t":[""],"yn xin":[""],"zng zng zng":[""],"chn ln":[""],"zhn zhn":[""],"qin qng zhng":[""],"qng q":[""],"ln gun":["",""],"chu cho":["",""],"tin tn chn":[""],"l l":["",""],"run run":[""],"j q":[""],"zhng chng":["",""],"mio mo":[""],"xi y":[""],hun:["","",""],"gng gng":["",""],"tu x sh":[""],"zng zng":["",""],"yn gn":[""],"gu w":[""],"yn yn wn":["",""],"bng bng":[""],"g h":["",""],"c cu su":[""],"cu shui":[""],"rng rng rng":[""],"zi zng":[""],ci:["","",""],"fng fng":[""],"su s":["",""],"yn yn":["",""],"zng zng":["",""],"zhun jun":[""],"m m":["",""],"pio pio":["",""],"fn p":[""],"bng bng":[""],"mu mi mio lio":[""],"yo yu zhu":[""],"zng zng":["",""],"j ju":[""],"chu chu":[""],"zn zn":[""],ro:["","",""],"chn chn":[""],"hu hu":["","",""],"qio so zo":[""],"jio zhu":["",""],"dn tn chn":[""],nng:[""],"p f":[""],"yo l":[""],"rng xing":[""],"l s x l":[""],"xin qin":[""],"jng jng":[""],"t t":[""],"bng bng bng":[""],"zng zng":[""],"j q":[""],"wn yn yn":[""],"fng fng":[""],"shui cu su":[""],"mi mu lio mio m":[""],"qio so":[""],fu:["","","","",""],"b ba p":["",""],"gu gui":[""],"yng xing":["",""],"mi go":[""],"y x":[""],"qing qin":[""],"qing kng":[""],"qin xin yn":[""],nu:[""],"hng gng":[""],"p b p":[""],"q y":[""],k:[""],"qio qio":[""],"zhi d":[""],"do zhu":[""],"hu q":[""],shu:[""],"run nu":[""],"r ni":[""],"zhun dun":[""],"p b":[""],"ch s":[""],"q ch":[""],"ln ln":[""],"j ji":[""],"tng tng":[""],png:["",""],"zh z":[""],"y y":[""],"yn yng":[""],"w tu zhu":[""],"r n":[""],"ti zh":[""],"d zh":[""],qi:[""],"n jin":[""],"li l":[""],co:["","","",""],"b d":[""],"xio xio":[""],"d d":[""],chi:["","",""],"hn qn hn":[""],"png pn pn":["",""],"zhn chn":[""],ng:["",""],"y y":[""],"p b b":[""],"fi b":[""],"bi bi":[""],"fi z":[""],"png png":["",""],"f f zhu":[""],"shng shng":[""],ku:["","",""],"gi hi":[""],"g g g":[""],"nng ni":[""],"gu ku":[""],"mi m":[""],"zng zng":[""],"jio ju":["",""],cu:[""],"de te":[""],"zu jun":[""],ni:["","","","","",""],"p f":[""],nio:[""],shu:[""],gu:["","",""],"l x":[""],"yn ":[""],"go go":[""],"l bio":[""],chui:[""],"zhun chun chn zhun":[""],chui:["",""],"fn pn":[""],"w h":[""],"shn dn":[""],tn:["","","","","","","","","","","",""],"b bei":[""],"l g":[""],"so so":[""],no:["","","",""],"n lun":[""],"qin xin":[""],"gung jing":[""],"gung jing":[""],"chu xi":[""],"min bin":[""],"di zh":[""],"zh jn":[""],"sh sh":[""],p:["",""],"bn b pn":[""],ku:[""],"gn gn":[""],"s shi":[""],"f b":[""],"jio qi":[""],"chi ch":[""],"sho qu":[""],"h xi":[""],"z z":[""],"hu h":[""],"tn chn":[""],"ji gi":[""],"x zh":[""],"yun yn":[""],"xn xn":[""],"ln hu":[""],"w h":[""],"gu gu":[""],"mo mo":[""],"fi f":[""],"chn yn":[""],qi:[""],"s s":[""],"tio sho":[""],"l j":[""],"k h":[""],"j q":[""],"ru r":[""],"zh nng":[""],"p b":[""],xi:[""],"zh zu":[""],"j ch":[""],ni:[""],"shng ru":[""],"qi ji":[""],"z c":[""],"qin x":[""],chi:[""],"f pi":[""],ro:["","","","",""],"yng xng":[""],"qin xn":["",""],"yn yn":[""],"h h":[""],"sh su":[""],"png fng":[""],"shn xn":[""],"wn gun gun":[""],"yu s":[""],"sho xio":["",""],"lng ling":[""],"pio f":[""],"wn wn min":[""],"sh sh":["",""],"t t":[""],"xin lin":["",""],"wn y":[""],"zu ch":[""],"l l":[""],"jn jn":[""],"ni rn":[""],"z z zi":[""],"t t":[""],"ji sh":[""],"qio zho":[""],"ti zh ch":[""],"fi fi":["",""],"qn qn jn":[""],"z j":["",""],"ln m":[""],"tin tin":[""],ti:["","",""],"lu l lo lu":[""],"zh zhu zhe":[""],"shn rn":[""],"g g":[""],"jn su":[""],"ku kui":[""],"r n":[""],"mng mng mng":[""],"yun hun":[""],"x sh":[""],"x x":[""],"m mng":[""],"su su":[""],"gi g h hi":[""],"yo zhu":[""],"dio tio d":[""],"x qi f":[""],"z j":[""],"lio l":[""],xu:[""],"hn hn":[""],"mn wn mn":[""],"p b":[""],"fn fn b":[""],"hng hng":[""],"y o":["",""],"x xio":[""],"bo b b":[""],"c z":[""],"wn lun":[""],"ko ho":[""],"yun wi":[""],"zhu chu":[""],"w mi":[""],"xio ho":[""],"y x x":[""],"ji j":[""],"dio zhu":[""],"cng zng":[""],l:[""],"ch zh":[""],"pn png":[""],"gn hn":[""],"hng jing":[""],"hu hu":[""],"xi h":[""],"m m m":[""],"fng bng":[""],"bng bng":[""],"ju qu":[""],"qn qin":[""],"gng zhng":[""],"f f":[""],"di d":[""],"gu q x":[""],"b p":[""],"sh y":[""],ti:["","","","","","",""],"g lu":[""],"mng bng":[""],"y x":[""],"h g":[""],"qi n":[""]," y":[""],"zh zh":[""],"l zh":[""],su:["",""],"yu qi":[""],"xi h":[""],"x q":[""],"b p":[""],"ni nng":[""],"h xi":[""],"gu hu":[""],"m m m":[""],"sh zh":[""],"zh di":[""],"jin chn":[""],"ma m m":[""],"mng mng":[""],"bi bi":[""],"bn fi":[""],"lo lio":[""],"yn xn":[""],"l l":[""],"xu xi":[""],"xng hng hng hng":[""],"shui cu":[""],"tu tu":[""],"lng lng":[""],"bo po po":[""],"j ji":[""],"h k":[""],"y y":["",""],"n ju":[""],"bi p":[""],"ch nu":[""],"ch q du nu":[""],"ji qi ji":[""],"b m":[""],"gu gu":[""],"li li":[""],"chng chng":[""],"ji g":[""],"do chu":[""],"shang chng":[""],"yun gn":[""],"yn n":[""],"t x":[""],"f f":[""],"ch zh":[""],"tu tn":[""],li:[""],"yo yo":[""],"qn tn":[""],"jin xin":["",""],pin:["","","","",""],"pi mi":[""],"yng yng":[""],"q q":["","",""],"jin bin":[""],"lu lun":[""],"z zu":[""],"hu xi":[""],"ji ji xi":["",""],"xu h":[""],"l l":[""],to:["",""],zhn:[""],"z z":[""],"y di":["",""],xing:["",""],"dio tio":[""],"y ch ch":[""],"lng lng":[""],"i i i i x":["",""],shu:[""],"y y":["","",""],"shu shu yu":["",""],"shu shi":["",""],"q ju":[""],"ch li":[""],"n n":[""],"dio tio":[""],"p bi":[""],"j j":[""],"z zu zh cu":[""],"ch j":[""],"ho xi":[""],"ln ln":["",""],"sh d":[""],"hu gu":[""],"x shi i":[""],"nn nn":["",""],mi:["",""],zn:["",""],"sh zh":["",""],"jun xun":[""],"y tu":[""],zhn:[""],"x h":[""],"xing yng":[""],"tio dio zhu":[""],"chn shn":[""],"m mi":[""],"mn mn":[""],"g y":[""],"hu hu hu":[""],"zh zhi":[""],"hun hun":[""],"kn kn":[""],"m h":[""],"m h ho":[""],"j lu":[""],"z zhi":["",""],"di t":[""],"b bn":[""],"ji g ji":[""],"xing mn":[""],cng:[""],"zhun zun":["",""],"wn zhun":[""],"gn gng zhung":[""],"yun yn":[""],"bn b":[""],"ji g":[""],zu:["","",""],"di t":[""],"j qi":[""],"q c":["",""],"j ji":[""],"gu hu":[""],"qu q j":[""],"tng tng":[""],"chu zhu":[""],"q c":[""],"yu t":[""],"b bo":[""],"ku w":[""],"gu ju":[""],"fng fng png":[""],"po b":[""],"q q":[""],"jin chn":[""],"po po":[""],"din di ti":[""],"j j qi":[""],b:[""],"lu l":[""],"di du du ch":[""],zhui:[""],"bng pin":[""],"tio to":[""],"sh chu":[""],"ling ling":[""],"t t":[""],ch:["","",""],"d zh":[""],"dng dng":["","",""],cng:[""],"dn cn":[""],"ju ju":[""],lio:[""],"xi s":[""],t:["","",""],"y zh g":["",""],"xn xin":[""],"fn gu":[""],"zhun zhun":[""],"zhu zhu":["",""],b:["","",""],"zhun zhun zhui":[""],"zi zi":[""],"nin zhn":[""],"bin bian":[""],"do bin":[""],"y y":["","",""],"gu guo gu":[""],"wng kung":[""],"hi hun":[""],"zh zhi":[""],"yun yun":[""],"zh l":[""],"zh wng":[""],"zhu du":[""],"sh ku":[""],tu:[""],"tng tng":[""],gung:[""],"di di":[""],"su su":[""],"t d":[""],"y wi":[""],"sh d zh":[""],c:[""],"hun hi":[""],"l ch":[""],"kng hng":[""],"n ni n":[""],"xi y y y x":[""],"gi hi":[""],"hun xn":[""],"ch x":[""],ho:[""],"l zh":[""],"xio o":[""],"du d":[""],lio:["","",""],"zn cun cu":["",""],"dng dng":[""],"c zu":[""],"f p":[""],"shi sh":[""],ning:["",""],"qi chu":[""],"p f":["",""],"chn chn":[""],"yn lin xin":[""],"ning ning":[""],"l li":[""],"l x x":[""],"lio lio":[""],"dng dng":["",""],"qio jio":[""],"y hu":[""],"hu w":[""],"r rn jin":["",""],"d di":[""],"p zho":[""],"y y":[""],"b p":["",""],"t tu":["",""],bi:[""],"bng png":[""],"h k":["",""],chng:["",""],"xing jing":[""],"y s":[""],"x hu":[""],"rn rn":[""],"shn shu":[""],"ch l":[""],"xin x":["",""],"hu xing":[""],"dio tio yo":[""],"xin ku tin gu":["","",""],"zh ni":[""],"zhng yng":[""],"tu t du":[""],"mi mng":[""],"wn jin":["",""],"tng dng":["",""],"jun jin cun":[""],"s tu":[""],"jun xun jun":[""],"w hu w":[""],"zhu chu":[""],"xng xng jng":[""],"j j":["",""],"zu ni":[""],"yun yun wn wn":[""],"gng gng":["",""],zhu:["","","","",""],:["",""],"cu ch":[""],"su s":[""],"yo z":[""],"y t g":[""],"qing chng":[""],"g l":["","",""],"b p b":[""],"go ho":[""],"z chu":[""],"xi xi":[""],"shu su":[""],"d d":["",""],"qio sn cn":[""],"l o":[""],"tng tng":[""],"jin zn":[""],"hu su ru":[""],"qing qing":["",""],"sn xin s":[""],"jin jin":["",""],"dng chng":["",""],"zun zun":[""],"s x":[""],"yo yu":[""],"tu du":[""],"zun zun":[""],"qin yn":[""],"p p":[""],"yo dio tio":[""],"tng tng":[""],"p p":[""],"tn xin":[""],"li li":[""],"ho go":[""],"tng tng":[""],"tn chn xn":[""],"hu shn":[""],"hn b":["",""],"kng kng":["",""],"xin jin jin jin":[""],"xi xi":[""],"xi k":[""],"bin gun":[""],"h g":["",""],"hng xing":[""],"s x":[""],"tng tng":[""]," yn":["",""],"hng jun xing":[""],"bn pn":[""],"d sh":["",""],"qu qu":[""],"tng tng chng":[""],"kn hn":["",""],"x s t":[""],"mn mn":[""],"qu qu":[""],"yn din":[""]," ":[""],"bi p p":[""],"yn yn":[""],"y yo sh":[""],"lng lng":[""],"du zhu":[""],"su du":[""],"gi q i":[""],"hu du":["",""],"wi ku":[""],"l di":[""],"zhu cu wi":[""],"h h":["",""],"jn jun":["",""],"nn nn nu":[""],"qu qio qio":[""],"gun hun":[""],"gu x":[""],"s x":[""],n:[""],"w mng":[""],tng:[""],"l lu":[""],mi:[""],"jng ling":[""],"g j":[""],b:[""],"yng yng":[""],"g t s":[""],"bin yng":[""],"qio sho":[""],"jun xun":[""],"shng zhng":[""],"p bng b bi":[""],la:[""],"xi di":[""],ng:[""],"mu m":[""],"b bng":[""],"mi w":[""],ru:[""],"sh xi":[""],"yn wn":[""],"dn d":["",""],du:[""],lu:[""],"bn pn":[""],yng:["","",""],mn:["",""],"jng gng":[""],"ji xi ji":[""],"k k":[""],"pn bn":[""],"chn zhn":[""],"fng fng":["",""],"bio di":[""],"b f":[""],"so su":[""],"li lio":[""],"sh s y":[""],"yng jun":[""],"zh tu":[""],"y s":[""],"zu z zh":[""],ti:["",""],"xing nng":[""],"tng xng":[""],"g le":[""],"ch zha":[""],"nng nng":[""],"yn w":[""],"zh sh":[""],"xn jn":[""],"kui ju":[""],zng:["",""],"ti di":[""],"xn xun":[""],"ling lng":[""],pin:["","","",""],"di ti":[""],"so so":[""],"g g":[""],"bi m":[""],"xio qio":[""],"bng png":[""],"b ju":[""],"b p":[""],"mo mng":[""],"ku yu":[""],"b b":["",""],"j c":[""],"b b":[""],"zh zh":["",""],"chu di":[""],"lu g":[""],"gu xi w ku":[""],"xin xin":["",""],"p b":[""],"y s":[""],"b b":[""],"gu xi":[""],"si x":[""],"nio dio":[""],"dio zho":[""],"gn hn yn":[""],"f gu":[""],"jin qin zhn":[""],"h ji":[""],"pin bin":[""],"chun zh":[""],"cng qing":[""],"sn xn":[""],"bio po":[""],"zh c":[""],"jn qn":["",""],chi:[""],"m me":[""],"m me ma":[""],"m m":[""],"dn shn":[""],"zhn yn":[""],"dn zhn":[""],"min mn mng":[""],hu:[""],nng:[""],"q j z zhi":[""],"yn kn yn":[""],"yn kn":[""],"gng w":[""],"gu jn qi":["",""],"ku w":[""],lu:[""],"u q":[""],"lu l":[""],"g g g":[""],"w gu":[""],"zh d":[""],"gng hng":[""],"yo xio":[""]},Qn=new lT;Object.keys(gx).forEach(s=>{const t=gx[s];for(let e of t)Qn.set(e,s)});const Uz=["zh","ch","sh","z","c","s","b","p","m","f","d","t","n","l","g","k","h","j","q","x","r","y","w",""],Gz=["j","q","x"],Hz=["un","un","un","un","uan","u","u","u","u","ue","n","n","n","n","un","","","","","u"],Wz={un:"n",un:"n",un:"n",un:"n",uan:"an",u:"",u:"",u:"",u:"",ue:"e",n:"n",n:"n",n:"n",n:"n",un:"n",:"",:"",:"",:"",u:""},Vz=["ia","ian","iang","iao","ie","iu","iong","ua","uai","uan","uang","ue","ui","uo","an","e","van","ve"],px={:"y",:"r",:"sn",:"s",:"w",:"li",:"q",:"b",:"ji",:"sh",:"bi",:"qin",:"wn",:"y",:"dn",:"ling",:"shung",:"du",:"j",:"sh y",:"lng y",:"d y",:"y sh",:"y sh y"},mx={:"chng",:"hng",:"du",:"gng"};function $z(){const s={:"lng y","":"lng y",:"sh y",:"y sh",:"d y",:"y sh y"};for(let t in px)for(let e in mx){const i=`${t}${e}`,n=`${px[t]} ${mx[e]}`;s[i]=n}return s}const yx=$z(),Xz=Object.keys(yx).map(s=>({zh:s,pinyin:yx[s],probability:1e-12,length:xi(s),priority:Ze.Normal,dict:Symbol("rule")})),uT={:{b:[4]},:{y:[4],y:[1,2,3]}},Yz={:["","","","","","",""],:["","","","","","",""]},Zz=Object.keys(uT);function Kz(s,t,e){if(Zz.indexOf(s)===-1)return Xs(s);if(t===e&&t&&Xs(t)!==t)return Gh(Xs(s));if(e&&!Yz[s].includes(e)){const i=Xs(e);if(i!==e){const n=Hh(i),r=uT[s];for(let o in r)if(r[o].indexOf(Number(n))!==-1)return o}}}function Jz(s,t){if(s===""&&(!t||!Qn.get(t)))return"lio"}function Qz(s,t){if(s==="")return!t||!Qn.get(t)?"tng":Qn.get(t).split(" ")[0]}function _x(s,t,e){return Qz(s,t)||Jz(s,t)||Kz(s,t,e)||Xs(s)}const Qf={:"nn gng",:"d w",:"m q",:"s m",:"shng gun",:"u yng",:"xi hu",:"zh g",:"wn rn",:"dng fng",:"h lin",:"hung f",:"y ch",:"gng yng",:"tn ti",:"gng y",:"zng zhng",:"p yng",:"chn y",:"ti sh",:"shn t",:"gng sn",:"zhng sn",:"xun yun",:"lng h",:"zhng l",:"y wn",:"zhng sn",:"m rng",:"xin y",:"l qi",:"s t",:"s kng",:"q gun",:"s ku",:"zhng d",:"z j",:"zhun sn",:"dun m",:"w m",:"gng x",:"q dio",:"yu zhng",:"rng s",:"gng ling",:"tu b",:"ji g",:"zi f",:"g ling",:"dun gn",:"bi l",:"dng gu",:"nn mn",:"h yn",:"yng sh",:"ling qi",:"zu qi",:"dng mn",:"x mn",:"gu lng",:"gun qi",:"zho",:"qin",:"sn",:"l",:"zhu",:"w",:"zhng",:"wng",:"fng",:"chn",:"ch",:"wi",:"jing",:"shn",:"hn",:"yng",:"zh",:"qn",:"yu",:"x",:"h",:"l",:"sh",:"zhng",:"kng",:"co",:"yn",:"hu",:"jn",:"wi",:"to",:"jing",:"q",:"xi",:"zu",:"y",:"bi",:"shu",:"du",:"zhng",:"yn",:"s",:"pn",:"g",:"x",:"fn",:"png",:"lng",:"l",:"wi",:"chng",:"m",:"mio",:"fng",:"hu",:"fng",:"y",:"rn",:"yun",:"li",:"fng",:"bo",:"sh",:"tng",:"fi",:"lin",:"cn",:"xu",:"li",:"h",:"n",:"tng",:"tng",:"yn",:"lu",:"b",:"ho",:"w",:"n",:"chng",:"yu",:"y",:"sh",:"f",:"p",:"bin",:"q",:"kng",:"w",:"y",:"yun",:"b",:"g",:"mng",:"png",:"hung",:"h",:"m",:"xio",:"yn",:"yo",:"sho",:"zhn",:"wng",:"q",:"mo",:"y",:"d",:"m",:"bi",:"mng",:"zng",:"j",:"f",:"chng",:"di",:"tn",:"sng",:"mo",:"png",:"xing",:"j",:"sh",:"q",:"xing",:"zh",:"dng",:"ling",:"d",:"run",:"ln",:"mn",:"x",:"j",:"m",:"qing",:"ji",:"l",:"lu",:"wi",:"jing",:"tng",:"yn",:"gu",:"mi",:"shng",:"ln",:"dio",:"zhng",:"x",:"qi",:"lu",:"go",:"xi",:"ci",:"tin",:"fn",:"h",:"lng",:"hu",:"y",:"wn",:"zh",:"k",:"zn",:"gun",:"l",:"m",:"jng",:"fng",:"qi",:"mio",:"gn",:"xi",:"yng",:"zng",:"dng",:"xun",:"bn",:"dng",:"y",:"shn",:"hng",:"hng",:"bo",:"zh",:"zu",:"sh",:"cu",:"j",:"ni",:"gng",:"chng",:"j",:"xng",:"hu",:"pi",:"l",:"rng",:"wng",:"xn",:"yng",:"y",:"hu",:"zhn",:"q",:"ji",:"fng",:"ru",:"y",:"ch",:"jn",:"j",:"bng",:"m",:"sng",:"jng",:"dun",:"f",:"w",:"w",:"jio",:"b",:"gng",:"m",:"wi",:"shn",:"g",:"ch",:"hu",:"m",:"png",:"qun",:"x",:"bn",:"yng",:"qi",:"zhng",:"y",:"gng",:"nng",:"qi",:"lun",:"bo",:"gn",:"tu",:"l",:"rng",:"z",:"w",:"f",:"li",:"jng",:"zhn",:"sh",:"lng",:"y",:"xng",:"s",:"sho",:"go",:"l",:"j",:"b",:"yn",:"s",:"bi",:"hui",:"p",:"ti",:"cng",:"",:"su",:"xin",:"j",:"li",:"zhu",:"ln",:"t",:"mng",:"ch",:"qio",:"yn",:"y",:"x",:"ni",:"cng",:"shung",:"wn",:"shn",:"dng",:"zhi",:"tn",:"gng",:"lo",:"png",:"j",:"shn",:"f",:"d",:"rn",:"zi",:"l",:"yng",:"x",:"q",:"sng",:"gu",:"p",:"ni",:"shu",:"tng",:"bin",:"h",:"yn",:"j",:"ji",:"p",:"shng",:"nng",:"wn",:"bi",:"zhung",:"yn",:"chi",:"q",:"yn",:"chng",:"m",:"lin",:"r",:"x",:"hun",:"i",:"y",:"rng",:"xing",:"g",:"y",:"shn",:"g",:"lio",:"y",:"zhng",:"j",:"j",:"hng",:"b",:"d",:"gng",:"mn",:"hng",:"kung",:"gu",:"wn",:"ku",:"gung",:"l",:"qu",:"dng",:"u",:"sh",:"w",:"l",:"wi",:"yu",:"ku",:"lng",:"sh",:"gng",:"sh",:"ni",:"cho",:"gu",:"o",:"rng",:"lng",:"z",:"xn",:"kn",:"n",:"jin",:"ro",:"kng",:"zng",:"m",:"sh",:"ni",:"yng",:"j",:"x",:"fng",:"cho",:"gun",:"kui",:"xing",:"zh",:"hu",:"jng",:"hng",:"yu",:"zh",:"qun",:"l",:"g",:"y",:"hun",:"gng",:"mu",:"h",:"yn",:"f",:"xio",:"u",:"qn",:"pio",:"p",:"yn",:"gu",:"yo",:"gu",:"zun",:"chn",:"sh",:"sho",:"qi",:"s",:"nng",:"l",:"chui",:"xng"},tR=Object.keys(Qf).map(s=>({zh:s,pinyin:Qf[s],probability:1+xi(s),length:xi(s),priority:Ze.Surname,dict:Symbol("surname")})),xx={:"zh ge",:"chng wi",:"rn wi",:"zu wi",:"b fen",:"yo qi",:"yng gi",:"zng zhng",:"t gng",:"ju de",:"rn wu",:"n ge",:"chng wi",:"wi zh",:"lio ji",:"ch l",:"hung shang",:"zh yo",:"d ling",:"l ling",:"j h",:"gn b",:"m d",:"xng wi",:"zh jin",:"rn shi",:"sh zhng",:"sh fu",:"dio ch",:"chng xn",:"fn wi",:"zh shi",:"do dn",:"zh ling",:"hng kun",:"hng li",:"hng hu",:"hng y",:"g hng",:"zi hng",:"hng jia",:"ni hng",:"wi hng",:"tng hng",:"bn hng",:"hng w",:"yng hng",:"yn hng",:"shng hng",:"zh hng",:"zng hng",:"hng qng",:"dng hng",:"hng gu",:"hng dang",:"hng hu",:"ti hng",:"r hng",:"zhng hng",:"nng hng",:"gng hng",:"jin hng",:"g hng",:"hng ho",:"hng go",:"hng shu",:"hng wi",:"hng m",:"hng chng",:"hng j",:"hun hng",:"hng hu",:"hng bi",:"hng do",:"do heng",:"cn y",:"chng fn",:"jn gun",:"shng zhng",:"sh ling",:"yng dng",:"yun zhng",:"qing dio",:"zh nng",:"yn yu",:"y wi",:"ch y",:"b zhng",:"mng g",:"zh yu",:"sh dng",:"zh ho",:"chng zhng",:"go xng",:"b lio",:"chn ling",:"png zi",:"xin de",:"zh sh",:"sh de",:"shui lng",:"gi wi",:"b jn",:"chng fn",:"d ying",:"sho nin",:"xng q",:"ti jian",:"xi xi",:"xio zhng",:"gng xn",:"h tong",:"h do",:"chng qng",:"chng jin",:"sh de",:"shn ch",:"li j",:"j y",:"j wi",:"gun jn",:"fng f",:"tu fa",:"tu xing",:"ji zhng",:"z x",:"yo shi",:"jing lng",:"hn ling",:"gng wi",:"j li",:"d ch",:"xin zhng",:"sho n",:"l shang",:"zh p",:"nng ling",:"ch ling",:"gng yng",:"tio zhn",:"x zng",:"j de",:"zng ling",:"dng zhn",:"jing sh",:"ch bi",:"jio wi",:"zhng lo",:"di fu",:"ch y",:"dng de",:"jn ling",:"m yng",:"d qu",:"wi shu",:"pin yi",:"gng mng",:"sh tou",:"zhu zhng",:"wi zh",:"pio liang",:"po dn",:"zng z",:"ju s",:"dng zu",:"jn kui",:"rn wi",:"chng f",:"h tng",:"ch j",:"d xiong",:"d jing",:"shu jio",:"y jio",:"tun zhng",:"du zhng",:"q zhng",:"nn d",:"y tou",:"hu zhng",:"d di",:"wng ye",:"zhng ling",:"y wi",:"ji huo",:"hu shn",:"y zi",:"li ling",:"zhng d",:"min qing",:"kui j",:"gu fn",:"j nn",:"dio dng",:"yn jng",:"sho jing",:"zhng d",:"xio de",:"bin gng",:"d gng",:"rn de",:"png gu",:"nin tou",:"zhng zh",:"sn zng",:"b xu",:"chng xing",:"sho ling",:"xn si",:"du d",:"gn xin",:"h y",:"ch f",:"zhng gun",:"b ln",:"qn qi",:"shn fn",:"g bo",:"zhu shu",:"zh dn",:"k sou",:"y zi",:"wi zhng",:"gng j",:"sh zhng",:"bin ling",:"yng yu",:"xi zi",:"yu q",:"jin ji",:"d xi",:"d bn",:"z dn",:"dn yo",:"r ling",:"xu ru",:"g gn",:"rng ling",:"m hu",:"zhun dng",:"chng hu",:"k zhng",:"ch zh",:"zhu zhng",:"zho j",:"qing p",:"tng zhng",:"shu xing",:"l ma",:"zhn zhng",:"zh gun",:"chng chng",:"min de",:"zhu sh",:"d ji",:"zhn xing",:"xing mo",:"ch fn",:"wi qu",:"wi q",:"b bo",:"bi zi",:"qun zi",:"jin shi",:"lng zho",:"y hu",:"d du",:"d sh",:"chng d",:"shu d",:"d d",:"wng d",:"dng d",:"d h",:"d chng",:"jin d",:"qin d",:"g d",:"dng d",:"zhng d",:"l n",:"zi xing",:"jio ling",:"du chn",:"zng zhng",:"xing gong",:"kng bi",:"d liang",:"shu fn",:"sh tou",:"m shu",:"xng li",:"pn ch",:"sn wn",:"ch jng",:"sn zi",:"qun tou",:"d f",:"z zhng",:"g tou",:"nng k",:"gng hun",:"b ru",:"hun yun",:"chng xi",:"chng li",:"zh g",:"i ho",:"mn tou",:"jn zhng",:"shu zhng",:"chng zhng",:"s zhng",:"zhng z",:"qing jng",:"qi dng",:"tu er",:"zhn zhng",:"zh teng",:"xing ch",:"tng shui",:"zhng jing",:"mng zhng",:"mng jing",:"m tou",:"dng tan",:"d qio",:"gn hu",:"sho ye",:"shu ling",:"b j",:"wi ba",:"li de",:"ho q",:"yo shi",:"dng zu",:"chn zhu",:"y ba",:"ch zi",:"shng jing",:" xn",:"dn zi",:"yng ji",:"zh ju",:"yn zhun",:"xing zhng",:"g sh",:"zhng yu",:"yng zhng",:"dng chng",:"n xu",:"yn hu",:"chng yng",:"hu wi",:"t b",:"zun jn",:"yu du",:"ling xing",:"bi zi",:"sh de",:"sh m",:"j zhng",:"pi zhng",:"ji q",:"fn ling",:"sh c",:"d fng",:"yo he",:"ch ch",:"ling z",:"l tou",:"dio yn",:"c hou",:"chng shn",:"zhn tou",:"pn mng",:"sh zhng",:"gu hun",:"p ling",:"x m",:"din zho",:"shn wi",:"xio jing",:"zhu yn",:"ch s",:"yn w",:"g yu",:"sh gn",:"b l",:"d fng",:"wi tou",:"bn zhng",:"xng xi",:"nng yun",:"qn chi",:"wi sh",:"gu dng",:"xu jin",:"jin di",:"mn yun",:"ji shi",:"j ling",:"yn m",:"cn zhng",:"lin zhng",:"z j",:"w jing",:"wn ch",:"zh bn",:"gng qi",:"j ling",:"do zhng",:"xi lu",:"wng ba",:"qi g",:"jin g",:"y hung",:"chng ji",:"lng h",:"wi hi",:"j zi",:"chng hun",:"g da",:"yn shn",:"d s",:"du gun",:"zh shi",:"din h",:"kn shu",:"f b",:"y mn",:"jn zo",:"qi dun",:"zh tou",:"wi shng",:"ch sheng",:"qi ch",:"zhu l",:"zhu xing",:"j ch",:"tu bn",:"gn zi",:"hn hu",:"sho f",:"xng zh",:"n mn",:"gn li",:"jun q",:"shn zi",:"gng gi",:"lng lu",:"l ba",:"zi h",:"tu dng",:"wi nn",:"zhu l",:"yn zi",:"gn m",:"bi f",:"zng di",:"ji j",:"bo gung",:"q dio",:"xing j",:"jio hu",:"ju zh",:" y",:"zi zhng",:"zhng bi",:"ch chi",:"du ku",:"pi ki",:"tng zhng",:"z fn",:"w ch",:"ji dng",:"zhun j",:"g zi",:"p sh",:"gn sh",:"gn jn",:"dng ling",:"yn zi",:"hu er",:"qi zhng",:"chng fn",:"ch ",:"lu min",:"zun yn",:"di chng",:"shng dng",:"xio ling",:"zu fang",:"zho xing",:"i y",:"dio j",:"kn zhng",:"y zhng",:"fng zheng",:"b xi",:"kng x",:"gng di",:"pin ch",:"shng dio",:"sh ling",:"tn zi",:"w ling",:"kng d",:"dio d",:"sn sh",:"chung shng",:"hi shn",:"mn zi",:"chng di",:"lu ch",:"dn dio",:"lo jing",:"rn shn",:"jin dun",:"chng xin",:"ji z",:"dio yng",:"lu bo",:"f zhu",:"yng shng",:"zh jing",:"zu guo",:"j ju",:"wi zhng",:"gu ling",:"yu q",:"f h",:"qing dn",:"qio rn",:"ch fng",:"qio shng",:"q zi",:"qng dio",:"tio xn",:"di wi",:"lio ji",:"d zhng",:"ji b",:"ln de",:"zng ling",:"y zhu",:"b jing",:"yo si",:"ch j",:"gng gn",:"ch m",:"xin yu",:"jin x",:"zhng dn",:"chng yn",:"chng sh",:"yng chou",:"zh dng",:"w nng",:"bo z",:"qin tou",:"jun yn",:"fi di",:"dn do",:"gn zi",:"mn jing",:"hu tou",:"h ci",:"nun huo",:"li j",:"dio qin",:"ju jing",:"bo zng",:"sng sh",:"yu mo",:"qin f",:"gng t",:"zhung zi",:"bi bo",:"ti zi",:"sng sn",:"h h",:"k w",:"z zhun",:"gng din",:"fn xng",:"tn shui",:"s d",:"bn fn",:"lu de",:"b b",:"xing jin",:"dn b",:"hn dn",:"zhn gun",:"f h",:"nng ni",:"xi hu",:"wi lio",:"yn zho",:"chu dio",:"sh zi",:"x jun",:"bio d",:"bi niu",:"s liang",:"h ci",:"ln y",:"gi zi",:"fn wi",:"lng tng",:"yu w",:"y ling",:"mo f",:"chi qin",:"bi f",:"zhun s",:"shng yu",:"ji gng",:"gng shu",:"zh gn",:"chng ch",:"zhng xing",:"gng chi",:"li dn",:"shng de",:"tio zi",:"chng wi",:"z s",:"jng fng",:"ji g",:"din b",:"din zhng",:"zhng chung",:"lo lao",:"m hu",:"gng jia",:"j l",:"k mn",:"d ling",:"ch cu",:"sh ji",:"cn c",:"d zi",:"zh zhng",:"xing chn",:"hng yn",:"sh mng",:"x ho",:"li zhun",:"jng d",:"h ma",:"qng ji",:"dng zi",:"chn m",:"go l",:"xi ji",:"w wi",:"b jie",:"lio d",:"bin xing",:"h dn",:"qng jia",:"chng zi",:"h wn",:"hun j",:"jio hun",:"jing lng",:"chn y",:"kng qu",:"l ln",:"dn ling",:"zh zhu",:"d dio",:"b s",:"qng b",:"d dng",:"zhn b",:"so zhou",:"qi c",:"nin zhng",:"wi zhun",:"tu zi",:"ci feng",:"l yu",:"xu p",:"sn lun",:"dng ling",:"do teng",:"q sh",:"zn ji",:"chng f",:"zho w",:"dn k",:"xng w",:"rng rang",:"lin li",:"yng d",:"z zhng",:"gu zi",:"li g",:"xun yn",:"tio pi",:"q gn",:"chi y",:"kn k",:"sho r",:"yu tun",:"yng fn",:"tu hun",:"g dio",:"y dio",:"yn dio",:"yu f",:"g p",:"d din",:"chi sh",:"yn chn",:"shu xu",:"go yao",:"tn m",:"dio rn",:"sn j",:"shng tu",:"fng m",:"fng ji",:"g liang",:"sh dng",:"zhng dn",:"wng wi",:"zhng zh",:"q hng",:"m lio",:"xing sheng",:"jio zhng",:"qun xing",:"sh ling",:"chn mn",:"j y",:"ji f",:"si wi",:"jing xio",:"sh ho",:"m lu",:"p do",:"pin zi",:"qi xio",:"dn wn",:"x b",:"ku d",:"jin xi",:"qio shu",:"s dio",:"ch ju",:"bio shui",:"ch zi",:"zho xing",:"chn zh",:"du peng",:"p zi",:"d zi",:"f zi",:"gn jng",:"do sh",:"jing gun",:"ch tou",:"gu xing",:"n ji",:"lo dao",:"xin ling",:"bng x",:"chng fng",:"q yu",:"qng dn",:"b gng",:"fi zi",:"ch sh",:"cn ling",:"qng shui",:"pio mio",:"zhng jing",:"ci gn",:"sh sh",:"jun zi",:"yu shu",:"xing zi",:"png gung",:"qi w",:"kn gun",:"fng tou",:"jng gn",:"go ch",:"kng h",:"bin dn",:"j yng",:"g zi",:"gng x",:"fn ch",:"fi dn",:"wi b",:"f xng",:"j xng",:"cun dng",:"jin hu",:"qin b",:"yu zhng",:"shn ch",:"dio zi",:"xing wi",:"zhun z",:"jng l",:"k ch",:"lio sh",:"zhun you",:"dng p",:"zhu zi",:"dn zi",:"ho zhn",:"yn mi",:"zh x",:"gn lin",:"n jing",:"ji ling",:"hu chun",:"j ling",:"tio b",:"sho xio",:"zhu lu",:"zng w",:"k b",:"yo xi",:"yng chu",:"hun shu",:"m j",:"zh zhu",:"h lng",:"bo zhng",:"x zhe",:"zhng ji",:"gng zhun",:"jio kn",:"chng t",:"so xng",:"p gi",:"zhng sh",:"ch ji",:"y gn",:"zhng zh",:"yng yn",:"qi r",:"zhn jing",:"nin sho",:"sh shn",:"zh ni",:"ch sh",:"zhng fng",:"dng ling",:"fng ling",:"qing dio",:"lo sho",:"m r",:"gu g",:"jing shui",:"ch zi",:"w nang",:"zhng jn",:"k hn",:"bng zhu",:"gng xio",:"qi pin",:"chi sh",:"zh hui",:"yng zho",:"ch n",:"qi cu",:"r tou",:"y ji",:"z zhng",:"do gun",:"ju s",:"dng ling",:"p jia",:"yun fn",:"kng xin",:"ho s",:"n h",:"lng tng",:"bin si",:"h cng",:"chng h",:"lng sn",:"hng lng",:"hu zi",:"ni mng",:"sh lu",:"n ch",:"mu l",:"zh lan",:"zhng bio",:"dio dng",:"gu lu",:"chng zi",:"ji qio",:"chng wn",:"po zh",:"fn hun",:"z zhun",:"go dio",:"yn hng",:"g zhu",:"qing qi",:"bn xing",:"jio hng",:"co shui",:"q mn",:"zhu s",:"nng kn",:"xng tou",:"j n",:"ji jio",:"f j",:"mng jing",:"yu mo",:"tu li",:"n rng",:"zun tn",:"ji cng",:"lu p",:"hng do",:"yn ling",:"ji mn",:"kng er",:"g mo",:"ho k",:"zun kng",:"h nng",:"xng yng",:"fn mn",:"cng c",:"fn ch",:"chng zi",:"xio dio",:"sho yng",:"shu xing",:"rn fng",:"g bei",:"jing mn",:"m bn",:"pi j",:"wi w",:"gn tou",:"hu sun",:"li zhui",:"hng xio",:"yn xun",:"gn dio",:"fng zh",:"nn ch",:"zhu y",:"mn hng",:"j sh",:"dun f",:"shng hun",:"hun qng",:"kn h",:"zh shui",:"zu yu",:"zi k",:"zhun hng",:"yn m",:"kng g",:"p din",:"ling jing",:"hu l",:"sn mn",:"tu f",:"sng hun",:"mi m",:"li j",:"b w",:"dio l",:"sh ti",:"j zhng",:"shun s",:"pi ju",:"qi ku",:"chung ku",:"h qian",:"sh dn",:"p png",:"h d",:"ln sn",:"sh gn",:"tin kng",:"dio zun",:"yu sh",:"ling bin",:"yu xing",:"tng s",:"zhng dio",:"ji do",:"gn k",:"zh k",:"yu gng",:"hu gu",:"zho hu",:"gng zhng",:"j f",:"kng zi",:"n zh",:"zhng zho",:"shu zi",:"sng zng",:"ji di",:"n fn",:"zhng y",:"zhng sn",:"jio dng",:"jun q",:"zi yn",:"tu dn",:"zu cn",:"fn ling",:"dio hun",:"lio rn",:"li zu",:"din dng",:"hn ji",:"zhng xing",:"j shu",:"x f",:"zh gn",:"sh xing",:"hng qing",:"k hu",:"si zi",:"dn gn",:"hun xing",:"zho tou",:"s gun",:"d shui",:" ha",:"g sh",:"m b",:"ho w",:"xi ch",:"xio zhng",:"l jin",:"zhn tou",:"jio du",:"sh w",:"pn y",:"f ye",:"m fi",:"yn fn",:"h jing",:"b he",:"d ch",:"kng wi",:"p l",:"w l",:"dio hu",:"li tou",:"xin sn",:"jio jun",:"mo shi",:"gn jn",:"xin yu",:"xing gu",:"dn shn",:"zh xng",:"p ki",:"c zhng",:"f qi",:"ji j",:"sh ch",:"shng f",:"chng b",:"fng h",:"yn ling",:"sho wi",:"chng y",:"cng jng",:"hu bo",:"wi h",:"wi xing",:"h ho",:"zho m",:"tio dn",:"wn l",:"hun s",:"qing hng",:"zho sh",:"xing shn",:"tio mng",:"m feng",:"fn ni",:"gng y",:"run huo",:"jn xng",:"ho zi",:"zho y",:"bi jing",:"ci zhng",:"ji z",:"mi kng",:"ji fng",:"sh duo",:"chn huo",:"b ji",:"din ling",:"h zi",:"dio sh",:"ch shn",:"d shu",:"dn gng",:"hng mn",:"nng gn",:"jio din",:"ji zi",:"gn xio",:"hng chun",:"jio zh",:"y s",:"m zh",:"yu zh",:"go gn",:"jng zhun",:"zng sn",:"ho du",:"gun qi",:"to bn",:"m ceng",:"mu q",:"zhn l",:"m zha",:"cu he",:"li qie",:"shui d",:"ti zi",:"fn de",:"nin zhu",:"ci y",:"sn zhung",:" nu",:"xng wi",:"xng tou",:"q ling",:"dio yn",:"ch zh",:"yu yn",:"chng s",:"dng h",:"ln dio",:"xing zhng",:"mn yu",:"po zhang",:"sng f",:"xio jing",:"ling xng",:"fng b",:"ci kui",:"d gn",:"l sh",:"jio chng",:"si bi",:"sh xing",:"r m",:"xin ling",:"y s",:"lu lin",:"ling kuai",:"yo gn",:"li da",:"g g",:"gng gn",:"ji gng",:"tio du",:"kn mn",:"yu g",:"t pin",:"tio dng",:"zhn jing",:"qi jng",:"m fng",:"wi y",:"jio huo",:"m su",:"zu nng",:"mio tou",:"d zhn",:"d zng",:"ch shng",:"gu da",:"sh yn",:"sh ch",:"ti gn",:"jing xing",:"fn zi",:"sh ch",:"l yn",:"qing gn",:"fng rn",:"chu mn",:"din jing",:"hu tu",:"jng sh",:"xing lng",:"zhng lio",:"bn f",:"ji ba",:"k gn",:"kn ji",:"zhng dn",:"zhng kn",:"xi mn",:"dng gun",:"sh ling",:"gng dio",:"jin zu",:"dn pin",:"ch ch",:"pio bi",:"gng zi",:"tio ch",:"ho dng",:"zhun l",:"bng q",:"ji bn",:"i yu",:"gn do",:"k ch",:"p chi",:"zhng sh",:"tin hu",:"gng ch",:"jio yn",:"ch si",:"m pn",:"wi m",:"bn sng",:"chng h",:"d dio",:"fi fn",:"zun yng",:"ji zi",:"cho zi",:"gng sh",:"lng dang",:"p sn",:"f hun",:"zhun ln",:"hng ci",:"po tng",:"po s",:"tin y",:"h hu",:"q qio",:"tng ling",:"fng hun",:"w jio",:"mn gn",:"lng tou",:"yn ti",:"yu fng",:"xu zhng",:"gu zi",:"b dio",:"y bi",:"x chn",:"dio yu",:"mn gn",:"zng z",:"t gn",:"bin dio",:"f m",:"m zi",:"yu l",:"chn xn",:"m gn",:"chng yn",:"z xng",:"t dio",:"kn xing",:"y tou",:"xi qi",:"si shng",:"p zhng",:"tng wn",:"b xng",:"xi sh",:"tu q",:"xin dn",:"yu m",:"hn ling",:"y yu",:"ho k",:"zh xing",:"zh jun",:"z sh",:"x chung",:"fng dn",:"jin jing",:"l shu",:"xu f",:"kng dng",:"du xing",:"xin jin",:"hu jing",:"zi b",:"tio zao",:"qio p",:"b d",:"ji f",:"lio dun",:"tng dio",:"sh m",:"sh ch",:"b s",:"tio zi",:"tu m",:"w hu",:"m sh",:"dio zhun",:"j m",:"hun zhi",:"dio yn",:"fn hu",:"j u",:"dun h",:"mn li",:"lng j",:"fn ling",:"hun l",:"zhun dio",:"xng xing",:"shu xing",:"pi yu",:"gi tou",:"lin gn",:"b j",:"do b",:"ling c",:"mng ju",:"b dio",:"jio bn",:"zhng b",:"jun yng",:"sho wi",:"y zhun",:"yu p",:"qin li",:"d li",:"h ch",:"yn ",:"gn q",:"hi ling",:"jng dng",:"zhu chung",:"yu xing",:"sh j",:"gng gun",:"ln ch",:"zhng b",:"hu p",:"ji qio",:"kng ch",:"k xi",:"p chn",:"chng shng",:"yu l",:"i ho",:"zng l",:"gng jng",:"xu png",:"nng yn",:"chng du",:"dng chi",:"zhng zhun",:"bng ch",:"chung min",:"dn ju",:"b l",:"hung dang",:"so zi",:"ji sh",:"mn tu",:"mi f",:"d shu",:"zho ling",:"chung jing",:"j n",:"pn tou",:"ch sh",:"sn su",:"yng s",:"hn zhn",:"qin qing",:"w jin",:"ln zhun",:"ho jio",:"p pi",:"xing f",:"zh gng",:"dng ",:"bng ji",:"li ji",:"gng s",:"dn ji",:"zun xn",:"hung yn",:"m zho",:"bio ling",:"bi mn",:"ci du",:"ch sh",:"gun chi",:"to hun",:"chng mn",:"li fn",:"l lng",:"s xing",:"y xng",:"ju l",:"dn kng",:"zh ch",:"ji j",:"ch xng",:"hn jing",:"ho xu",:"ho ho",:"yn f",:"so b",:"f xing",:"gu gn",:"gng q",:"kng y",:"kn z",:"j b",:"jing hu",:"g zh",:"dio lng",:"f ti",:"ln bng",:"dio pi",:"zhun pn",:"gng go",:"chi gun",:"yu mn",:"jio zhng",:"chng chng",:"ji xng",:"yu tn",:"hu n",:"ch h",:"bng b",:"d kng",:"zhun qun",:"hng bo",:"hng ti",:"yn hng",:"zi hu",:"zhng j",:"gun zhng",:"xing min",:"kn tou",:"pn tou",:"y xng",:"jn yu",:"li c",:"g d",:"yn zho",:"bo sng",:"m sa",:"i du",:"pin zhu",:"chu ju",:"dio sng",:"qing jing",:"chng zu",:"f bin",:"zho m",:"zho f",:"shng fng",:"tin s",:"xing hng",:"q shu",:"bi ti",:"chng ling",:"f ci",:"ji f",:"fn jun",:"xio ling",:"jio zhu",:"l zi",:"dio diao",:"sn bng",:"go tio",:"b s",:"ji xn",:"shn dng",:"to ro",:"n chng",:"nin zi",:"m fng",:"s b",:"chng yun",:"xng qn",:"t l",:"gun ling",:"qing b",:"qing zhng",:"yn ch",:"sh do",:"di li",:"t bn",:"xin w",:"s jing",:"jn li",:"chn ji",:"f sh",:"g shn",:"tin fn",:"p ho",:"s tng",:"bi zh",:"hu shng",:"ju du",:"tng chi",:"su ch",:"sng l",:"m m",:"xu shu",:"s b",:"su co",:"qin wi",:"dio tu",:"lng jun",:"wi dio",:"z ti",:"jun f",:"chui du",:"yng xing",:"sn gung",:"g lu",:"b mng",:"lng tu",:"yn yn",:"li zhou",:"pin er",:"qin shu",:"sn t",:"ni xng",:"qing li",:"ji sng",:"fn jin",:"sho zhung",:"li kng",:"go ji",:"k xu",:"b m",:"p gu",:"m xu",:"zh sng",:"ch zi",:"hng dng",:" zi",:"ch lu",:"g zhng",:"gu ch",:"hun hn",:"l ji",:"sh zh",:"shn ling",:"tng ho",:"m ling",:"gng shng",:"f sng",:"shui zh",:"z m",:"sn ji",:"d qing",:"jio w",:"b qng",:"yn po",:"nio nu",:"co du",:"chng jn",:"n nn",:"qi zhng",:"tio dng",:"hun yun",:"j jing",:"gng g",:"m yo",:"bi xng",:"qi min",:"sn h",:"li jn",:"bi di",:"chng gn",:"nin fng",:"b zi",:"bn shu",:"yn shn",:"r jing",:"chng gung",:"jin f",:"zhng shng",:"xio zhun",:"y zhu",:"ru gun",:"hu jun",:"hng hu",:"ji k",:"gung yn",:"p m",:"du dio",:"ji ch",:"kng ",:"png dio",:"p chung",:"sng zhng",:"zu l",:"sho f",:"shu shu",:"bn tou",:"jn j",:"shui xng",:"l zi",:"bng z",:"tio su",:"pio x",:"ji qing",:"k chun",:"mi xie",:"cu ch",:"mn ji",:"sh dio",:"chng sn",:"jng chung",:"x chng",:"dio mn",:"hu tu",:"hu la",:"to shi",:"c shui",:"xing shui",:"kun zh",:"y qng",:"yn b",:"wn g",:"d d",:"dio q",:"jio chi",:"lu z",:"xing c",:"x dao",:"lu f",:"y xing",:"jn m",:"ju d",:"xi zi",:"chn jun",:"zh zheng",:"x yng",:"b lu",:"du zi",:" sho",:"f j",:"hng sho",:"jing hu",:"k sng",:"sho x",:"yn chun",:"jio yng",:"wi ch",:"jio zho",:"p zhn",:"yn sui",:"ji jn",:"su po",:"sng lun",:"xing xing",:"hu f",:"d chng",:"yn ling",:"zhng qi",:"hu qun",:"hu tng",:"png zhun",:"l qin",:"j du",:"sn j",:"g shi",:"s yn",:"p x",:"yn zh",:"lng zhn",:"sh zh",:"sho nn",:"gun yu",:"ho to",:"n xing",:"yng s",:"wn shng",:"gn r",:"g tng",:"b j",:"p ji",:"jio zhn",:"yn dng",:"q ling",:"xun dio",:"bn xing",:"gn ci",:"j gn",:"g qi",:"gu yu",:"qi k",:"b g",:"m fng",:"y y",:"ji mo",:"b j",:"chn ji",:"sh xng",:"chng ch",:"zhun y",:"zhu liang",:"b c",:"zng qng",:"d sh",:"dio rn",:"ji yun",:"jng gn",:"j ling",:"lng tou",:"shui zhn",:"pn xing",:"su yu",:"h m",:"xing t",:"xng hu",:"zo tu",:"chng hn",:"zun dng",:"cn du",:"dng shn",:"dio wn",:"gn t",:"g b",:"gng xun",:"ji shng",:"lu xin",:"qi qi",:"sn jin",:"sho qi",:"tng f",:"t ling",:"tng ku",:"j di",:"xing sh",:"yng jun",:"zhun j",:"b ti",:"cng zh",:"fi b",:"g ji",:"g l",:"gu wn",:"gui xing",:"ln ti",:"n gng",:"bo chung",:"qio ch",:"sh ji",:"tn xng",:"xing jng",:"z rn",:"zh yn",:"zhu zhng",:"zhun tou",:"p shu",:"chn huo",:"chng p",:"d ling",:"gn ji",:"gng ch",:"ji li",:"q shu",:"sh shn",:"tio hu",:" mn",:"bi lu",:"bi sn",:"ci ch",:"chung tng",:"f xing",:"gng dng",:"ho xng",:"hun yng",:"hun zu",:"ji dio",:"jun yn",:"li dn",:"xing tou",:"xu ji",:"jio yu",:"y ling",:"bi zhun",:"b ji",:"chn ji",:"f q",:"hu hu",:"kun chuo",:"lio w",:"qi hu",:"shn du",:"yng x",:"zhun ti",:"z zh",:"ci ling",:"zng x",:"chng xng",:"chu mu",:"cu zh",:"tio jng",:"dio zh",:"fng zhu",:"g du",:"h er",:"hng ling",:"hun ji",:"hn p",:"k chi",:"min h",:"sh ch",:"xng sh",:"sh jn",:"xn chi",:"y qi",:"cun mi",:"zh go",:"zun gn",:"p hu",:"bn hu",:"chng dio",:"d li",:"du lu",:"fi zhun",:"gn zhng",:"ho shng",:"hu pin",:"jio hn",:"lu gn",:"m m",:"n ho",:"pn sh",:"w nng",:"y sho",:"yu chi",:"zhn gu",:"zhn xng",:"chng shn",:"z ling",:"dio fng",:"f lng",:"fn dio",:"fng zi",:"gng f",:"g zi",:"gung gn",:"ji gn",:"j sng",:"j g",:"kn y",:"kng zhun",:"ling l",:"po lu",:"pi hun",:"p shn",:"sn j",:"sn jin",:"shn xu",:"sh gn",:"tio j",:"tu kng",:"xu b",:"jio h",:"yn gn",:"zhi ci",:"chng ji",:"zh dio",:"z jn",:"b j",:"bin nio",:"c dio",:"do gu",:"lo zhn",:"p q",:"shu bi",:"wi m",:"x b",:"xing m",:"y ti",:"zhun jn",:"bng h",:"bn xing",:"go tu",:"jin mio",:"yu ch",:"mi xing",:"bng q",:"qin dn",:"qi bin",:"qng dio",:"qn mng",:"sn bn",:"xng ch",:"sh ji",:"qin shng",:"chng yng",:"gng zhng",:"zhng d",:"zhng ci",:"zi zhng",:"ji zhng",:"kn zhng",:"zhng zh",:"zhng gu",:"zhng du",:"zhng sh",:"shu zho",:"lng zi",:"chng q",:"chng zhng",:"chng tn",:"chng z",:"chng shn",:"chng yu",:"chng lun",:"y ye",:"ni nai",:"lo ye",:"b ba",:"m ma",:"shn shen",:"ji jiu",:"g gu",:"sh shu",:"y fu",:"ji mu",:"g fu",:"ji fu",:"p po",:"gng gong",:"ji zi",:"ji jie",:"g ge",:"mi mei",:"mi fu",:"y zi",:"bo bao",:"w wa",:"hi zi",:"r zi",:"yng zi",:"sh zi",:"shn zi",:"ji zi",:"so zi",:"b zi",:"tng zi",:"zh zi",:"min zi",:"b zi",:"bi zi",:"mo zi",:"pi zi",:"zh zi",:"bin zi",:"g zi",:"fng zi",:"wn zi",:"tn zi",:"pi zi",:"h zi",:"gu zi",:"i zi",:"y zi",:"xio zi",:"yng zi",:"w zi",:"du zi",:"din zi",:"bn zi",:"zhng zi",:"r zi",:"t zi",:"pin zi",:"yun zi",:"hu zi",:"sng zi",:"zh zi",:"sh zi",:"qin zi",:"sh zi",:"png zi",:"bo zi",:"kui zi",:"ln zi",:"shng zi",:"zu ba",:"r duo",:"qi zi",:"bng b",:"kng tng",:"p pa",:"m gu",:"h lu",:"h li",:"j zi",:"h zi",:"zhu zi",:"zh zi",:"sh fu",:"y fu",:"w zi",:"bi zi",:"c wei",:"mi zi",:"du wu",:"zh lio",:"y er",:"hn tun",:"dng long",:"zhung jia",:"cng ming",:"jng zi",:"yn zi",:"pn zi",:"lio qu",:"l qi",:"x zi",:"ln zi",:"zho xi",:"zho x",:"zho q",:"ch bng",:"shng zhng",:"zng p",:"p ti",:"bin de",:"zhng fu",:"du fu",:"b gn",:"zng yng",:"xng rn",:"d zhe",:"d y",:"wn y",:"zh y",:"d zh",:"tng y",:"wi y",:"zhun y",:"dn y",:"r y",:"q y",:"h y",:"zh y",:"zhu y",:"ch y",:"yn y",:"gu y",:"ji y",:"wn y",:"lio lio",:"gng lio",:"s lio",:"y yu",:"y ho",:"y j",:"y dng",:"y g",:"yu y",:"y y",:"r y",:"sn y",:"s y",:"w y",:"li y",:"q y",:"b y",:"ji y","":"y lng",:"y lng",:"y r",:"y sn",:"y s",:"y w",:"y li",:"y q",:"y b",:"y ji",:"y yu",:"y bng",:"y lu",:"wi l",:"wi zhn",:"cng hi",:"nn wi",:"z nn",:"hun nn",:"m nn",:"d nn",:"dio nn",:"xn nn",:"lu nn",:"l nn",:"zi nn",:"nn mn",:"k nn",:"wi nn",:"f nn",:"to nn",:"b nn",:"y nn",:"z nn",:" nn",:"xn nn",:"kng nn",:"x huan",:"zho zho",:"b xng",:"y y",:"wn q",:"ni q",:"q zh",:"wi q",:"ji q",:"q jng",:"q ji",:"wi q",:"q xin",:"q f",:"ji q",:"q zh",:"q gng",:"q y",:"g lo"},eR=Object.keys(xx).map(s=>({zh:s,pinyin:xx[s],probability:2e-8,length:2,priority:Ze.Normal,dict:Symbol("dict2")})),vx={:"wi shn me",:"sh j shang",:"jin ch zhng",:"gn shn me",:"zh hu er",:"jn k nng",:"dng sh zhng",:"lio b q",:"cn mu zhng",:"cho xin z",:"hi ni wi",:"jn b zh",:"b l t",:"b zi hu",:"lu shn j",:"yu din er",:"pi j po",:"b d lio",:"m wi sng",:"yn sh ling",:"f p qi",:"sh d f",:"y l jing",:"y gn er",:"du de q",:"n hu er",:"z g er",:"w l ling",:"zn me zho",:"mng hung hung",:"ji ji r",:"xn l hu",:"f xng ling",:"xng chng chng",:"fn z ling",:"gu z jin",:"lo d nn",:"dng ni wi",:"zh me zho",:"sho ni nai",:"n d l",:"gng nin q",:"gng zu ling",:"bi d l",:"shn li hng",:"ho ho er",:"jio xing yu",:"ho y si",:"t y hn",:"mi y si",:"l f sh",:"t sh gn",:"chng q ling",:"ko de zh",:"ch xng do",:"rn xng do",:"zhng lng jing",:"zho mng dn",:"yn m dn",:"m ni h",:"lun hng hng",:"hu gng s",:"zi zhng ling",:"qio de q",:"j zhun t",:" png gng",:"jun xn ci",:"x bn zi",:"gu de q",:"hu gng sh",:"wi sheng n",:"tun tun zhun",:"d bo jio",:"rn sho dn",:"lo sh zi",:"yo gn yu",:"ji zh to",:"no hng hng",:"sn lin gun",:"zhng tu x",:"r rn zhun",:"ji g yn",:"zh shi min",:"h shi zhng",:"xn ho dn",:"gn din ch",:"qing gn zi",:"k sng bng",:"b yn i",:"w gng jn",:"mi de q",:"li h ma",:"j liang g",:"z m dn",:"ki xio chi",:"n qing rn",:"yng xing zhun",:"ju sh yu",:"shu xio hua",:"png tu hu",:"b li gng",:"y gung dn",:"sho ln qun",:"yng tn dio",:"sho xin du",:"lng zhng m",:"du zhe gn",:"mng mng ling",:"run g tou",:"p gi jun",:"hu x n",:"bi hi gu",:"hng tng tng",:"w hu c",:"d du suo",:"h ku b",:"m wi zo",:"y mo zi",:"d shu sh",:"lng wng y",:"q tu shang",:"h tu chng",:"b gn zi",:"zhn pin yi",:"d zh y",:"du dn tu",:"lu y shu",:"yn s h",:"bo de zh",:"bo t qun",:"o de h",:"s w zhng",:"jn b q",:"sh ch hi",:"lin hu lo",:"jin sh min",:"hu ch q",:"din wi ch",:"i g er",:"n zhn er",:"fi hu ling",:"d sh fu",:"zh dn tng",:"d h lu",:"n q mn",:"wi jin d",:"d shn er",:"tn de li",:"jio y zi",:"kng bo dn",:"w li du",:"dn zhu din",:"g tu er",:"kn de q",:"h tu zhng",:"d xng xing",:"jn de q",:"f xing zng",:"k lin xing",:"ch de xi",:"hn bo bo",:"no rng rng",:"sh li bo",:"h de li",:"gn xng yu",:"mn h lu",:"gu gu jio",:"x yng shn",:"ln yn do",:"l ji chng",:"jun p gi",:"gu de yng",:"fi jing jn",:"tio d ling",:"h ba gu",:"gu ji ji",:"cu li dn",:"y ji xu",:"qio zh gng",:"li ch zhng",:"hu d n",:"fn de zho",:"t g da",:"sh fng jng",:"qng ling j",:"xi d d",:"sh z er",:"d m dn",:"k jio pin",:"kn d shn",:"dng din er",:"ch de xio",:"lu h x",:"go l shn",:"zhng shng xing",:"yn xi yn",:"jn de zh",:"ch de ki",:"zu s chu",:"yng shng chng",:"sh de zho",:"sh jn er",:"qin b li",:"k d sng",:"hu de li",:"yn h h",:"sh ke lng",:"lio ju zi",:"zng hng hu",:"mn gun ch",:"qi b zi",:"hng deng deng",:"gn de j",:"dng jin er",:"lu m jio",:"j ni jn",:"fn de shng",:"dng ch b",:"bo h din",:"lng zho hui",:"h do ci",:"dng gun c",:"dn dan min",:"ch de zh",:"zhu jin er",:"zh zho er",:"zh gn tou",:"yn zho er",:"yn jun er",:"xun chun dn",:"xn p er",:"xin qi jio",:"s sh m",:"shu de li",:"shu pio er",:"shu b gn",:"sh de shng",:"sh b zho",:"sh b qng",:"sh jin er",:"shng s b",:"shn fng j",:"s y zheng",:"r j b",:"r de kui",:"qng jia gng",:"j hn sh",:"pi zh b",:"n jn er",:"n w wa",:"ni qi yun",:"n hu er",:"mn tu er",:"mi p er",:"mo jn er",:"li jin bng",:"lio wng ti",:"lo li sho",:"kn ju er",:"ko qn b",:"jun b do",:"jn j ling",:"hu b li",:"hn gu er",:"g nng nng",:"gu jn er",:"gng qi xin",:"g de zh",:"gn lng tu",:"gn de shng",:"gn jio m",:"g zh er",:"g bng cu",:"du de zh",:"du mn zi",:"dng gu gu",:"d li er",:"d zhu zi",:"d bn zi",:"cn jn er",:"c jn er",:"chui shu er",:"chng jn er",:"ch de li",:"b gng sh",:"bn tou er",:"bi f zhng",:"w wa qn",:"s jn er",:"g du er",:"gng lo b",:"d jing yn",:"y dn shu",:"p j ti",:"ti li p",:"k t lng",:"ki h hng",:"l y j",:"hu sh lio",:"y gng gng",:"y chng shn",:"fng y gng",:"xu y gng",:"gu y m",:"xng q y",:"l bi y",:"y j d",:"y yu y",:"y z m",:"y sh y",:"y c fng",:"y yng zh",:"y z ju",:"y nin j",:"y b zu",:"q qu r",:"nn wi shu",:"nn wi qng",:"xng y hng",:"bi bi de",:"gn n hng",:"gn y hng",:"q bi zhn"},iR=Object.keys(vx).map(s=>({zh:s,pinyin:vx[s],probability:2e-8,length:3,priority:Ze.Normal,dict:Symbol("dict3")})),bx={:"chng j s hn",:"s tng b d",:"y m y yng",:"qng zng go yun",:" m tu f",:"ji fng s xing",:"su zu su wi",:"m m hu h",:"h qing sh dn",:"xng go ci li",:"w nng wi l",:"b l si r",:"wi su y wi",:"k sh m r",:"mi wn mi lio",:"b wi rn zh",:"ji ji b b",:"qin p hu j",:"p tin gi d",:"zh ji lio dng",:"gng b yng qi",:"y sh d f",:"b wi w qun",:"b k shu shi",:"h zu fi wi",:"fn ho b ch",:"m m hu h",:"b z wi q",:"qio w shng x",:"lio r zh zhng",:"shn w tng ju",:"go go xng xng",:"i shng tn q",:"hn zng y x",:"ch xn j l",:"q b chng shng",:"bn y sn gng",:"sh hn lu p",:"r sh b xi",:"zhun li zhun q",:"sh y wn j",:"xing y wi mng",:"lin lin b sh",:"q zh k sh",:"shn ch gu m",:"ji ji sh sh",:"yu d fng sh",:"j l g l",:"dio bng qin jing",:"zi g zi w",:"zhun wi wi n",:"t t shi sh",:"sng j b r",:"zhung m zu yng",:"jin y yng wi",:"xing ch w j",:"tn wi gun zh",:"mn mn b l",:"x n i l",:"xin wi rn zh",:"zhng y w zho",:"wi fi zu di",:"hn h q c",:"p y bn mng",:"min wi q nn",:"y y b sh",:"dng tu shng si",:"b zhu bin j",:"d m d yng",:"xn hun zu l",:"y zu lio zh",:"z l hng jin",:"hn hn hu h",:"qi r q fn",:"p t wi xio",:"shn gng bn y",:"qin ch wn bi",:"sh b shng sh",:"j wi j yu",:"tin xun d zhun",:"yng zn ch yu",:"b li xin wi",:"cho chao no no",:"yn tu zhun xing",:"t shng t zhng",:"nng s b q",:"b xng rn sh",:"jn l r wi",:"jng mng qing gn",:"lo lao do do",:"j ji zh zh",:"gng b k m",:"qi r b sh",:"pi yu ji nn",:"x li h t",:"g yu su chng",:"d d qu qu",:"hng tng d xio",:"tng r b wn",:"do gng hu zhng",:"ni fn m xin",:"hu xin wi y",:"bi f bi zhng",:"chng jin tin r",:"fn bi wi shng",:"y lio bi lio",:"d da li li",:"xn j hu lio",:"c xn d yi",:"j p g da",:"y wi png d",:"r j yu li",:"sh shn ch d",:"tu q su ho",:"jin b rng f",:"rn mn wi hun",:"qing zhu b sh",:"wi sh y wn",:"r sh ji zhn",:"xn l yu sh",:"y y hun y",:"shn b shu sh",:"mng sh wi k",:"g z wi zhn",:"yun shng zi do",:"ji k ji nn",:"ho ho xin sheng",:"gui m gui yng",:"po tu l min",:"yu shu ho xin",:"w su b wi",:"dio h l shn",:"b b wi yng",:"ho d x gng",:"zhng sh zh d",:"chng shng b s",:"wi wi zhung gun",:"b k shng sh",:"gu sh shn chi",:"ji shn z ho",:"gn zu gn wi",:"mo s dn ki",:"zu m hun jing",:"wi sh gu zo",:"wi rn sh bio",:"yn ch yng cu",:"yu qing hu dio",:"chng do f zh",:"m ma li li",:"x x do do",:"r l b bng",:"sn bng zh jing",:"gui wn m jio",:"xing m xing yng",:"gng gu y qi",:"ki hu ji gu",:"z z x x",:"chun zng gng l",:"h bi bng zi",:"chng nin li yu",:"zhng er b jng",:"b sh ti ju",:"chng zhn q g",:"q x yn yn",:"jn zhu b sh",:"f fu ti ti",:"qing c du l",:"p li p l",:"rn ci j j",:"f rn shn xng",:"b z wi png",:"wi f b rn",:"lin pin li d",:"h tin qing d",:"lu lu d fng",:"z chu z li",:"l shn ho sh",:"y gng wi shu",:"m m cng cng",:"xu ti r n",:"zh zhu wi n",:"y tu wi jn",:"q q ch ch",:"qing ln dn y",:"lng rn f zh",:"zhun bi wi shng",:"zhun wn m jio",:"zi ji nn to",:"zhng dng fng wi",:"b z wi gui",:"nn xing nn d",:"y y y y",:"dn jn ling ju",:" y fng chng",:"x li hu l",:"fn lo hun tng",:"ho go w yun",:"l s shi shu",:"ch qing rn y",:"d chu d li",:"chng ji l y",:"z yun z y",:"f zhi li li",:"g wi jn yng",:"r t wi n",:"xi b wi l",:"y hng r shng",:"mi tu cng ying",:"tin ch d yun",:"fng jun cn yn",:"du zi du nn",:"r xi wi gn",:"hng ji l shu",:"lng bi wi jin",:"ch bin b jng",:"y chng y h",:"y nin zh ch",:"jn chn tu qio",:"d d d d",:"shu gu li li",:"ho zhng y xi",:"hng de f z",:"chun wi mi tn",:"f shng d g",:"s hi wi ji",:"lio ru zh zhng",:"d yu k wi",:"ch tu l min",:"g gu nng nng",:"chung mng j jng",:"ti rn ch zh",:"n f chng gun",:"yu j b li",:"g tou ji zi",:"y b yn tin",:"y dng din er",:"sh li yn zhun",:"chn c ln dio",:"hu zhng wi lng",:"hu sho hu lio",:"gn cu l su",:"dio er lng dng",:"gung zhng b shu",:"zhng gu d gu",:"zhng du d du",:"nn sh nn fn",:"sh xu wi mng",:"fn f yu wi",:"yn cu yng ch",:"dng du x cng",:"yn xn hu lio",:"zun ni jio jin",:"qio zhung d bn",:"gi xin gng zhng",:"h nn bng zi",:"ho ch ln zu",:"h l b wi",:"d ch fng tu",:"gng chng l d",:"pio pio liang liang",:"zh zhng zh y",:"d m h y",:"l sh chng yn",:"shui xin chu fn",:"ji chng l dun",:"kun d wi hui",:"zu bng yu b",:"y xio lio zh",:"tin xi wi gng",:"hun w h shn",:"h z wi q",:"ho z wi zh",:"fng z chu yu",:"d y png tu",:"chun wi ji hu",:"ch l p wi",:"chng co ji y",:"xio ji zi q",:"sho b gng sh",:"nn fn nn sh",:"tin zhun ji w",:"sh fi fn mng",:"sh w q shu",:"pin tng pin xn",:"ling r wi ch",:"xing lng f h",:"gng hu b li",:"zhng zhng xi hui",:"y shn x gu",:"y y zhng d",:"sng hn lu p",:"sn zu d shn",:"j j y tng",:"ho sh zh t",:"gn jng l su",:"ch jing r xing",:"nio nio nu nu",:"h li wi ba",:"ho y w lo",:"d r w dng",:"d m hu yn",:"bn shng dng dng",:"yo w h li",:"xi bng xi jing",:"shu dio g tu",:"sh din wng z",:"rn sh b xng",:"q go h gu",:"l jio b gi",:"h wi yn gu",:"h wi bio l",:"hu c b b",:"gu gun zhn jing",:"g ge d d",:"d f pin pin",:"zu wi shng c",:"yun jia du tu",:"yu x k chng",:"y ln bn zho",:"pin yn zh y",:"ki hu ji sh",:"jng nin li yu",:"hn h q c",:"gu lin xin ch",:"chng nin li yu",:"b xn s qng",:"b dng rn z",:"bng d yo yun",:"zh f wi hn",:"zh me din er",:"y xng su rn",:"xi hu zhn tou",:"w d fng sh",:"wng wn wn qi",:"sh j wi rn",:"qing nin li yu",:"pi nn ji fn",:"ch zh ti rn",:"zh l wi m",:"wi r li lun",:"tin bng tin jing",:"sh jn qi yun",:"nn qing bi dio",:"k zhng zu l",:"hu j b f",:"xi wi xing tu",:"zhng yu yu x",:"b ling wi chng",:"bi bi qi qi",:"bi jn zh jing",:"q hng b sh",:"xu z sh l",:"xin d wi kui",:"t j ho hn",:"sh b jin qn",:"shn chi gu sh",:"qio qio d d",:"png p zh x",:"mi tu m wi",:"lio lio k sh",:"hng h r jing",:"h f tng yn",:"g bn qin chng",:"dn w x f",:"d rn xin sheng",:"y mn gng sh",:"sh bi l zhun",:"sh fi d sh",:"sh b ch c",:"si wng sh m",:"r b x shn",:"qi shn t hu",:"pin yn zh z",:"po m mi xi",:"nng zh b wn",:"lng lng sn sn",:"ling t ci y",:"lin zhng sn yun",:"l bng yu hui",:"b wi y shn",:"zhun bi wi x",:"y yn hun yn",:"wi wi d gun",:"wi wi b k",:"tng yn h f",:"png b wi jin",:"m c wi shn",:"ji qing di bng",:"f shng j ji",:"dn rn ch zh",:"dn sh h jing",:"chung j tng shn",:"co zhng yng fi",:"zu sh b ji",:"y j du rn",:"su hng ji sh",:"wn y zi do",:"wn b du t",:"ti bn dng dng",:"shn t f f",:"qu ch sho chun",:"m w zn zhng",:"j rn tin xing",:"hu ji sh nn",:"gng jn ti g",:"di z bo j",:"di sn l s",:"b m s tng",:"xu jin no di",:"wi fi zu ",:"rn ci nn d",:"qng fi d y",:"qi zhng yo hi",:"hu j hu lio",:"hu d wi lo",:"ho ji tn bi",:"chng g dng k",:"zi chn zi f",:"y nn chng xing",:"y m g da",:"y ln wi h",:"yng wi zhng yng",:"yn wi xn shng",:"yn b yu zhng",:"t qing b xin",:"png tu d y",:"m b xi j",:"ling ci l yng",:"jio xu xing zhng",:"hu b dng ch",:"h yo h li",:"b z wi xn",:"b j xng j",:"png ru w rn",:"zu z nn to",:"z w chu x",:"zhun hu wi f",:"yng gun sn jn",:"y d r ch",:"xi m sh l",:"wn r b zhun",:"tin do ho hun",:"shn dn l b",:"s du chng bng",:"pin zh zh z",:"nng qu w ln",:"m m w wn",:"ling l r wi",:"l l k sh",:"ku bi zi do",:"jn z ho qi",:"ho wi rn sh",:"ho shng j ji",:"g yu su ho",:"du d ling l",:"zh tin wi sh",:"y xng chun fi",:"xn kun t pn",:"wi d b z",:"tin xi wi ji",:"sh wi wi t",:"sn zi b nn",:"m hu r gun",:"l li l l",:"jin fng ji zun",:"ji cng b li",:"j gng ho y",:"j nin li yu",:"hu d wi lo",:"gng mng gi xng",:"fng wi gu ni",:"du nn xng bng",:"b p b l",:"zu d z hu",:"zu b chng x",:"zu b ku tng",:"zu ji y shang",:"zu zh yu w",:"zu y yu yu",:"zun tu m fng",:"zun tin d dng",:"zun p ch y",:"zun hu d bng",:"zun dng m fng",:"zun bng qi hu",:"z wi f yn",:"zhu f nn sh",:"zhu rn xin bin",:"zhu dio wi p",:"zhu ch nng zhng",:"chu xn yn q",:"chu xn q xu",:"chu ni xing sh",:"chu ni sh xu",:"chu ni f zhng",:"chu mi t gu",:"chu mi gu qi",:"zhung f chng gun",:"zhung yn bo xing",:"zhun chu wi x",:"zhun chn wi x",:"zhui xing lu ji",:"zhui p f l",:"zhui b tu m",:"zh chng wn dun",:"zh jin wi l",:"zh yu q kng",:"zh yu kng x",:"zh tin wi n",:"zh yun yu r",:"zh mo l l",:"zh c b sh",:"zh w b hun",:"zh ling cn du",:"zh ling x chn",:"zh r gun x",:"zh fn zo gi",:"zhu du y s",:"zhu zhng wi hun",:"chng mng j yn",:"zhng zhu tng yn",:"zhng mo cun qi",:"zhng ho zhng w",:"zhi zh su t",:"zh ch w tu",:"zh dng b y",:"zh zo wi bi",:"zh yn wi gng",:"zh sh wi xng",:"zh shn shu m",:"zh g wi w",:"zh gn xing ch",:"zh d y bn",:"zh w q c",:"zhng shn shui xi",:"zhng gun l xi",:"zhng gun n l",:"zhng gng shui w",:"zhng dn gn kn",:"zhn tu xu ti",:"zhn sng jng bi",:"zh y s l",:"sh jin wi sh",:"zh r z zh",:"zho d s wi",:"zhng j xio r",:"zhn n wng hu",:"zhn fng wng q",:"zhn jing qin q",:"zng m tu zh",:"zng shn sh rn",:"zo yo zhng shng",:"zo zhn w yo",:"zo gu sh c",:"cun sn j w",:"cun mei c ",:"cun lng h zhng",:"cun fng j d",:"zi xio zi yn",:"zi ji wn z",:"yn shn b x",:"yn sh xi jun",:"yu zhng sh gu",:"yu lu shn hng",:"y n qi ji",:"y j wi fng",:"y nn chng xing",:"y y li li",:"y zh w dng",:"y xio xun tin",:"y sh chn f",:"y sh xio xi",:"y qing zun x",:"y du qn mu",:"y chun p d",:"y yng k g",:"y zh y xing",:"y q y qi",:"y ji wi gu",:"yu ji w hun",:"yu ji w y",:"yu gu nn tu",:"yu b yu fng",:"yu gn dng jn",:"yu yn t y",:"yng zhng jio jio",:"yng sh yn shu",:"yng yng fi jn",:"yng xn yn zho",:"yng yn yn w",:"yng tin shn sh",:"yn li shu ru",:"yn zhn shn t",:"yn d shng li",:"yn shng qi m",:"yn ch dn sh",:"yn yun wi sh",:"yn sh wi w",:"y mi y w",:"y s li lu",:"y l wng qi",:"y y wi zh",:"y yn wi hu",:"y sh jin qn",:"y shu j shu",:"y sh wi y",:"y shu wi gng",:"y shng ling dn",:"y shn wi jin",:"y qun wi y",:"y l li xng",:"y hu wi f",:"y hi wi bi",:"y gu wi tin",:"y g wi jin",:"y gng xio ju",:"y f wi jio",:"y d w x",:"y sh wng li",:"y qn zi hui",:"y d ji jin",:"y tu l dng",:"y z sh shu",:"y qng chng fi",:"y shang zh hu",:"y dn sh b",:"y hun y bo",:"y gng ho lng",:"y dio w qing",:"yo ch n sh",:"yo m xio chu",:"yng jng x ru",:"ng shu shn mi",:"yng yng s s",:"yng go mi ji",:"yng fng ji y",:"yn zho sh jn",:"yn zho ho m",:"yn sh wng zhn",:"yn jn qin jn",:"yn jn m xi",:"yn ji yu g",:"yn g zho w",:"yn di zh sh",:"yn ch wi cho",:"shn zo fi shng",:"yn g wi xun",:"yn ch ho ",:"y ling wi jin",:"chn hng du sh",:"q sh hng xi",:"dng hng ch s",:"xi ch bn hng",:"r n chng hng",:"d hng d sh",:"xn hng sh m",:"xn ch xing h",:"xu zhi li li",:"xun y g sh",:"xun sh wi y",:"xun dn chng sh",:"xun hun s cn",:"xun gu x y",:"xun qun lu xi",:"xun h gun hu",:"x q yng z",:"xi rn d d",:"xi ln yng zho",:"xing j h zh",:"xing s d j",:"xng wn zi shng",:"xng wn yn w",:"xng gun qn yun",:"xng go ci li",:"xn shu xing yng",:"xn ku xing yng",:"xi sh nng qun",:"xi jin li z",:"jio dun ling chng",:"xio yn b p",:"xio yn dn y",:"xio mng sh bo",:"xu zh ju gn",:"xu ti w shng",:"xu zh wi mn",:"xu m wi l",:"xing wng fng hui",:"xiang pei yu zhu",:"xing sh yu p",:"xing sh r dng",:"xing qi xing cu",:"xing n pi f",:"xing mn yu xing",:"xin zhng ch j",:"xin w zhu bin",:"x yn b ch",:"sh q  jio",:"x mo bin f",:"x su b f",:"w ln yn zho",:"w x wi gu",:"w f hn y",:"w dun zhun hng",:"w sh li y",:"w s xing xun",:"w hu q gu",:"w hu l zh",:"w g d f",:"w z yu ch",:"w xi zh ch",:"w shng w xi",:"w nng wi y",:"w ku bo s",:"w kng b zun",:"w jin k chng",:"w jin dng xi",:"w  b wi",:"w dng wi d",:"w ling wi do",:"w qun tu zho",:"wn w chi sh",:"wi wi tu tu",:"wi r wi su",:"wi b b xi",:"wi shn zu l",:"wi shn zh ku",:"wi rn b f",:"wi qi wi j",:"wi mn f m",:"wi hu f cu",:"wi ho chng qin",:"wi gu wi y",:"wng fng xing yng",:"wng chn pio shng",:"wng zh hun tng",:"wng gng dn gun",:"wng gu d f",:"wn gun ji s",:"wn sh dng ru",:"wn ji b bo",:"wn su ki sh",:"w m shng f",:"tn yn yn l",:"tu yun dun qin",:"tu gn ji sh",:"tun fn ju j",:"tun tu j min",:"t s yn mi",:"t tu zhng no",:"t ku yn mi",:"t b w f",:"tu zhun r q",:"tu m bi n",:"tu hn no mn",:"tu kui j lin",:"tu ch tu m",:"tng z chung y",:"tng w xing zh",:"tng w xing x",:"tng gun zi bo",:"tng wn dio w",:"tng li zhng zh",:"ti sh ki hu",:"tio gun b fn",:"tio y lio chn",:"tio yo tio li",:"tio chn lio zu",:"tin b wi y",:"tin b wi gui",:"tin xi wi lng",:"tin ti l m",:"tin nin b su",:"tn nng q qi",:"tn yn wi zhng",:"tn yn wi zhng",:"sh kng j m",:"su w yng j",:"su yn ci gn",:"sng jn l xu",:"sng yn zh ji",:"s tng b dng",:"s m cun t",:"s b ni li",:"s su zh zh",:"s n f yun",:"shu wng xi d",:"shu g qi jn",:"shn fng r h",:"shn fng chu hu",:"shu zhng zhu yn",:"shung gn du ji",:"sh m r chu",:"sh m ling chi",:"sh l lu ji",:"sh hi ln hung",:"sh bi ln hung",:"sh yn hun f",:"sh p wi p",:"sh chun wi zh",:"sh qu yu jin",:"shu z chng jin",:"shu z y ch",:"shu jio gn jng",:"shu b yng xn",:"sh shu ji wn",:"sh zh y xng",:"sh sh yng w",:"sh qng shui y",:"sh dng q chng",:"sh wi zh j",:"sh yng jing lng",:"sh wi mn tin",:"sh du w y",:"sh y yu l",:"sh yng b li",:"sh sh jn gu",:"sh x zhn cng",:"sh w dng x",:"sh wi w gng",:"sh m ji nn",:"sh sh f zhng",:"sh ch kn zhng",:"sh zh wi zhung",:"sh j lng xin",:"shng jng xin zhun",:"shng jn xin xing",:"shng tu s zhui",:"shn j du rn",:"shn w gu gun",:"shn lng sh sh",:"shn wn q sh",:"shn l qin q",:"shn g wi lng",:"shn w tng j",:"shn chu xi yun",:"sh j wi gng",:"sh dun q chng",:"sh c zhu yng",:"sh xi wi xn",:"sho chng ru xng",:"shng dng xu gui",:"shng b dng gng",:"shn z wi mu",:"shn wi shu c",:"shn shn w ",:"shn ci nn sh",:"shn yn p mi",:"shn y xin k",:"shn yn chng xng",:"shn yo y wi",:"shn li chun sh",:"shn ji zo zhu",:"sh j wi sh",:"s l dn b",:"sng yn wi y",:"sng yn b x",:"sng t chu mi",:"sng h jun sh",:"sn zhn sn bi",:"sn w ling sh",:"sn rn wi zhng",:"sn ch ling cu",:"si jng fn sh",:"s xn gng sh",:"s so yng du",:"run hng xing t",:"r w gu zhng",:"r ti zh b",:"r l qi qng",:"r chng rn y",:"r shu tu sh",:"r qi r cu",:"r dng chn ti",:"ru b g bng",:"ru qng chu ti",:"rng m kung rng",:"r zhng wi sh",:"r yu shn chn",:"r xng yu xi",:"r xu yu g",:"r xng yu sh",:"rn d b j",:"rn yn j j",:"rn m gu yng",:"rn m y d",:"r o fn bng",:"jun lo yng w",:"q y yu ji",:"q yo ro gu",:"qing xng jn xing",:"qng q y qi",:"qng xin sh q",:"qng xin h c",:"qng du jing qu",:"qng chng do d",:"qng z p t",:"qng ln hi si",:"qn shu  mi",:"qn s zh ho",:"qi zh wi ji",:"qi sh do gn",:"qi l yn xn",:"qi jn de dng",:"qio z yn lng",:"qio f q zhng",:"jing zu ni sh",:"qing zh z su",:"qing s qing hu",:"qing sh z i",:"qing sh m jio",:"qing gng jng n",:"qing gu b sh",:"qing f bin h",:"qing r hu k",:"qing d y pn",:"qin xng to qng",:"qin yng dn ji",:"qin lio bi dng",:"q xi r y",:"q yn wi sh",:"ki t jn z",:"q x l q",:"q sh xin zhu",:"q wng sh ni",:"q tin kung d",:"p tin shui t",:"p xing n d",:"p jn li xi",:"p ji wi gu",:"p g wi yun",:"png pio png zhun",:"png tin j d",:"bng shng x q",:"png j j zhng",:"pn zu b sh",:"pin y zh c",:"p f wn shn",:"png lng po fng",:"fu bi kui l",:"png mi ho f",:"pn hu zh li",:"pn chn sh gu",:"n d nn li",:"nng y chu xio",:"nng gun tio xin",:"nng fn dio zh",:"nng m dn zhung",:"nin t wi xing",:"nin y sh ho",:"nin hu chu m",:"n b y ln",:"n r b z",:"nng zh wi sh",:"nng b chn gun",:"no zh wi q",:"nn jn y tu",:"nn d h t",:"nn mn ju sh",:"nn fn bi g",:"m zh n x",:"m yun xn tn",:"m tio xn zho",:"m ling y yng",:"m tu m no",:"m gn nio q",:"mu s chui chn",:"m y d y",:"m fn sh zh",:"m lng jun qi",:"m lng wn jio",:"m mn b zho",:"m b zhu bin",:"mng zhng zh dng",:"mng h zh yng",:"mng xio d yn",:"mng w g dng",:"mio ch kn sh",:"mng xu q cho",:"min l b ci",:"m yu ji y",:"m y tu sh",:"m lin hi g",:"mn shn l jng",:"mn dn h b",:"mi dn chn xng",:"mo mng ji jio",:"mo su du jng",:"mo f do sh",:"mi wn wi shng",:"mi l zun h",:"mi d hun zh",:"mn sn yun s",:"m r hu shn",:"lu p jing h",:"lu lu nn h",:"lu co wi ku",:"lu zh gu xin",:"lun fng h mng",:"shui yu ji zhng",:"shui t tng qng",:"shui shu sh rn",:"shui t gu xn",:"shui m y j",:"shui r chng zhng",:"l jn yn xu",:"lu jn gng ln",:"lng nio jin yun",:"lng nio ch y",:"lng yu q zho",:"lng xu xun hung",:"lng dio fng j",:"li ch zh tu",:"lng yun zh q",:"lng rn png f",:"lng jng cu l",:"ln d y jing",:"li shang y chung",:"li gun hu min",:"lio w j s",:"lio shn d mng",:"lio rn w wn",:"lio b k jin",:"lio b zhng jn",:"lio f cu k",:"shn sh du sh",:"ling xio l wi",:"xing sh du l",:"ling ru zh zo",:"ling r jing hi",:"ling jn mi f",:"ling j shn fn",:"lin g chu hn",:"l y wi zh",:"l lng zh hn",:"l gung b hu",:"l wi qng mo",:"l rng wi gu",:"l shng xng jio",:"l bn jio m",:"lng mi hng yn",:"li tin do d",:"li z chng b",:"li w ji shng",:"li t zh shn",:"li t j sh",:"li lun zh wi",:"li li r zh",:"li kui j s",:"l shn l shu",:"lo yun jn tin",:"lo sh xi r",:"lo sh g zi",:"lng hun f d",:"ku qng du l",:"kung r li sh",:"kung ji m fng",:"k sh shng hu",:"ku qng sh b",:"ku jio shng fng",:"ku jio chn fng",:"ku jio fng qng",:"ku gn sh jio",:"ku f zh li",:"kng f pin pin",:"k y lio zu",:"k m wi h",:"k zh tu y",:"k tu chng zh",:"kng yn wi sh",:"ki hu ji gu",:"jn bn yn ch",:"jio ti j jn",:"ju m pn zh",:"ju tu jing no",:"ju tu ju no",:"jun nio zh hun",:"jun x r zng",:"jun ji bi do",:"j m wi shn",:"j shu xing qng",:"j sh hn zhu",:"j wi mo co",:"j shn qin jing",:"j xi shn shng",:"ji yo b wng",:"ji zhun gng chng",:"ji zhng sn hn",:"jng y l qn",:"jng d xi m",:"jng q jun sh",:"jng j zi t",:"jn sh ki si",:"jn wi shng rng",:"jn tu xio chng",:"jn tu yng j",:"jn tu ch fn",:"jn tu b zh",:"jn du jn sho",:"jn nng hun sh",:"jn j z sh",:"jn gng f q",:"jn gun xin si",:"jn w b jn",:"jn ch bi hi",:"ji y y rn",:"ji rn nn d",:"ji lng x lng",:"ji f yng kung",:"ji q o qio",:"jio no shng m",:"jio shu ling fi",:"jio l ji ch",:"jio sh ln sh",:"jio r s n",:"jio fng b s",:"xing yo zhu gui",:"jing q g y",:"jing mn yu jing",:"jing du g y",:"jin hu lng h",:"jin yng du xng",:"jin b k zhng",:"xin s bo p",:"jin q y rn",:"jin s sh m",:"jin b zhng l",:"jin xin cng ch",:"jin zu b sh",:"ji gun tin xi",:"ji f zh qn",:"ji li qin jn",:"ji j rn z",:"ji do cng rng",:"ji di rn w",:"j fng lng yu",:"j xng y qng",:"j shn l yun",:"j gng ling zu",:"j shang lin y",:"j sh xing dio",:"j b k wi",:"j shn yn j",:"j bn yu y",:"j b tng jio",:"j s li ji",:"j sh li r",:"j l wi b",:"j d li gng",:"j chn mi g",:"j pi mo m",:"hu wi f xin",:"hu f xing y",:"hu jn gng ch",:"hn yng ln yng",:"hu zhu wi du",:"hu zhng wi du",:"hu gun li chng",:"hu mng p s",:"hu chun zhun du",:"hung ch do nng",:"hung gun co l",:"hung f r ch",:"hung f chu tio",:"hun zh fn b",:"hun nin zh s",:"hun nin qu lo",:"hui shang wi k",:"hu d hu wn",:"hu xio wi ji",:"hu f wi q",:"hu ch wi fng",:"hu bu lng dng",:"h xin wi chun",:"h l h zh",:"h li h q",:"h b j x",:"hu wi x d",:"hu d zi w",:"hng jin y gn",:"hng l lio f",:"hng shng j z",:"hng bu lng dng",:"hng qing yng du",:"hng n ln shng",:"hn hi nn tin",:"h f j p",:"h s gn l",:"h h hi gn",:"h yn yu s",:"h zng lin hng",:"ho ho shng shng",:"ho yng du hn",:"ho wn z y",:"ho wi sh dun",:"ho wn ju y",:"ho shng zh d",:"ho q shng y",:"ho  b tng",:"ho dn fi s",:"ho gn bo q",:"ho f b shung",:"hn sun lu p",:"hn yng j hu",:"hn h b mng",:"gu wi y shn",:"gu sh ln cu",:"gu xun j sh",:"gung wn xin sheng",:"gung lng sn ju",:"gun shn di l",:"gun j do sh",:"gu x wi mn",:"gu jin xin wn",:"gu g xing lin",:"g wn fn zho",:"g dio dn tn",:"g dio b tn",:"g y shn rn",:"gu h q rng",:"gu x hu gun",:"gu zho j y",:"gng zh bi gn",:"gng wi chn ch",:"gng shu r xing",:"gng jin su bi",:"gng b chn y",:"gng dio m f",:"gng xng gi w",:"gng p nn sh",:"gng lng mng ho",:"gng di gn b",:"gng chng di h",:"gng chng mng dun",:"g s mng yng",:"g g b n",:"g g b t",:"g shu x yng",:"go ch m m",:"go y b yn",:"gng tu z d",:"gn wi gn zu",:"gn fn su sh",:"gn ch xi li",:"gn t sh k",:"gn mng fn y",:"gn jing m y",:"gn chng zh jing",:"f zi w ch",:"f zhi z hun",:"f wi z yn",:"f sh zhng mn",:"f wi hu sh",:"f ho lu j",:"f shu l sh",:"f shu zh s",:"p zhng z ti",:"f tu zhu fn",:"fng wi ki m",:"fng m lun ",:"fng x xi sh",:"fng yng f yn",:"fng w b ji",:"fn t b r",:"fn fng p li",:"fi fi shng shng",:"fi sh b y",:"fi jing sh q",:"fng p xi ch",:"fng lng yun gun",:"fn r b jio",:"fn bn hun yun",:"fn lo wi y",:"f ln chng zhun",:"f b dng zu",:"f yn qin jn",:"f jin t f",:"f dun xn chng",:"r sh wi n",:"r n xn chng",:"r n qng ji",:" w yng shn",:" pio zhn j",:" pio zi do",:"w zu qing ji",:" y zhng shng",:"w sh j xi",:"w j xi li",:"w b q shn",:" hng du sh",:" jn kng yn",:"  shng shng",:" jn nio yn",:"du y d jio",:"du rn su ho",:"du yn shu qing",:"du wn wi f",:"du dun gu yo",:"du ci shn g",:"dn sh w mn",:"dn j hung gun",:"du n yng j",:"dun hun gu zng",:"dun jin b sh",:"d j q ch",:"du j y shng",:"d m wi sh",:"d jun t xu",:"d jn j yun",:"d yu qin qi",:"d sh d jin",:"du zhun shn hng",:"du d lin chng",:"dng jin zhng ji",:"dng y x h",:"dng zhng kun yo",:"dng mng x yng",:"dng ln x zho",:"dng ling x sh",:"dng ji x sh",:"dng ch x zhui",:"dng chng yu r",:"dng chng y sh",:"dng tu ln ln",:"di dng b j",:"di dn bn ji",:"dio xn yn zho",:"din do y chng",:"d b nng xin",:"d m sh z",:"do q f zh",:"do x pi kng",:"do zi gn g",:"do chng su lng",:"do gu wi yn",:"to zi zh j",:"to pi m zu",:"dng chi wi n",:"dng zhu ch zhng",:"dng zhu b zhu",:"dng w sh zhng",:"dn r nng m",:"tn wn tu shu",:"dn ji w y",:"dn s pio yn",:"d p b wn",:"d mng f d",:"d ch y zi",:"d mn h lu",:"t li zhng zh",:"cu hu lio yun",:"cu k d hng",:"cn j zh li",:"cu cu ch ch",:"cu zh ho qing",:"cu gng wi ru",:"cng s ji jin",:"c f b yng",:"c chng b h",:"c bi wi bn",:"chn sh pin j",:"chn sn n f",:"chu tu t y",:"chun wi xio tn",:"chun fng shn hu",:"chun hng zhu l",:"ch ch j li",:"ch zn j xin",:"ch tng yn qu",:"ch sh xio gng",:"ch go ln shn",:"ch r w jin",:"ch mn yng zh",:"ch ch y m",:"ch ch sh t",:"ch ch jn tu",:"chu shn mn hi",:"chng gun z li",:"ch y wi hu",:"ch r yun jia",:"ch dun cn chng",:"ch cn zh gng",:"chng bi x gng",:"chng bi xng fi",:"chn shu hu n",:"chng y do qng",:"chng t zi y",:"chn t ci y",:"chn ji yu w",:"chng d du gng",:"chn yn zhng j",:"chn yn b ju",:"chn k s j",:"ch qin l yn",:"ch shn fng q",:"ch zi chun zhung",:"zho shng m g",:"zho pn m sh",:"cho jn gun g",:"chng r b h",:"chng su y wi",:"chng hng b xi",:"zhng yu zn bi",:"chng shng j r",:"zhng nin sn lo",:"chng chn b lo",:"zhng o sh fi",:"chng tng l sh",:"chn x zhn n",:"ch sn cu s",:"cng ti li xi",:"cng xin di ch",:"cng zng ni j",:"cng yng jin xi",:"cn sng dn b",:"cn fng s xi",:"cn w cu zng",:"shn chn mo yu",:"ci yu gn j",:"ci b zh shui",:"ci d nn yng",:"ci b zh qin",:"b z wi y",:"b z wi j",:"b z wi f",:"b z ch sh",:"b zhu tng r",:"b zh dng dng",:"b yu li ch",:"b xing wi mu",:"b tn wi bo",:"b lio r lio",:"b k ku du",:"b hung q ch",:"b dng b zhng",:"b ch shn me",:"b ch li sh",:"b ling fn xng",:"b t yng sh",:"b w x g",:"b hn zhng rn",:"b wn yu l",:"b kng m m",:"b p chu jn",:"b f chu su",:"b zh yn wi",:"b hi yn zh",:"bng wi jing gu",:"bng qing jing yng",:"bng du jing gung",:"bng b yu jing",:"bng ji d p",:"bn bn j j",:"bio mi zh nin",:"bio l wi jin",:"bio f din j",:"bin tn l b",:"b gi b q",:"b yn mi shu",:"b w zh sh",:"p shn di h",:"p ji zhn g",:"p ji j n",:"p h hui y",:"p f yng gun",:"bi q yo gng",:"bi chung go w",:"bi chn xng gng",:"bi b zh yn",:"bi gng fi sh",:"p y l gun",:"p si lng mn",:"bo l wn xu",:"bo h png h",:"bo wn zhi gu",:"bo f ch sh",:"bo bin y du",:"bng xin zun ln",:"bi jing fng hu",:"bi shu shui w",:"bi kng qin chung",:"bi y qng xing",:"bi shu wi lng",:"bi shu xing zh",:"b wn w yn",:"b gu jun x",:"b bn s yun",:"o b k zhng",:"o gng shu y",:"n sh ch shn",:"n shn wi l",:"n lo hui sho",:"n b dng ch",:"i rn ho sh",:"i rn gun chng",:"i fng j fng",:"i shn s hi",:" ji  wng",:" dng xing wi",:"zhu wng zh bi",:"zh ln d shu",:"zh tng zho r",:"y b jng rn",:"y jn wi li",:"y r sn xng",:"xu j y ch",:"w j li shu",:"w shng w xi",:"wi y b xn",:"sh shn wi gu",:"sh q qi jing",:"qing zu ji rn",:"q chng du ni",:"ln shn l b",:"jn tin gung yu",:"jin nn ji ju",:"ji q ji b",:"hn hn  ",:"hu g b jn",:"gu p  rn",:"g m sh xin",:"f tu zhu fn",:"fng wi zh bo",:"dng tn bi jing",:"chn hn dng xng",:"ch ch wi mng",:"b wn qing zh",:"b nn ji y",:"lio w shng j",:"yu y shu y",:"d y w r",:"shu y b r",:"j y fn sn",:"sh y sh r",:"sh y jng bi",:"dng y mo r",:"dng y qu r",:"b y r zh",:"w y xng min",:"bio l b y",:"ling yu b y",:"xn ku b y",:"yn xng b y",:"zhng lng b y",:"cn c b y",:"fn fn b y",:"hu y b y",:"b y r sn",:"bi b y y",:"yn xng bo y",:"y bi xi y",:"bi chng ji y",:"png chng ji y",:"qun bi fng y",:"qn j h y",:"bi b hu y",:"bi b sh y",:"bi w sh y",:"wn b sh y",:"wn w sh y",:"h r wi y",:"h ling wi y",:"h r wi y",:"tin xi wi y",:"xing y wi y",:"jio ru hu y",:"jio r hu y",:"jio ru hu y",:"yn xng ru y",:"sh zhng ru y",:"zhng sh ru y",:"wi jng wi y",:"zhng du fi y",:"b nng zn y",:"wn y d sh",:"y b ni zhng",:"y y gun zh",:"y y dng bi",:"bi b dng y",:"sh b dng y",:"y y jng bi",:"y y fng bi",:"y y ch wn",:"y y zh wn",:"bi l tio y",:"zhng q hu y",:"y li r q",:"y l gng jio",:"y l q ch",:"y l b sh",:"zho cho zho lu",:"q y fng yng",:"y hng b xng",:"hng hng b xng"},nR=Object.keys(bx).map(s=>({zh:s,pinyin:bx[s],probability:2e-8,length:4,priority:Ze.Normal,dict:Symbol("dict4")})),wx={:"b r gn bn do",:"b r k sh h",:"b xng r yn zhng",:"b r sh wi k",:"h l r b wi",:"k zhng mng y h",:"mng d wi d y",:"mn y sh wi tin",:"sh hu zh g ling",:"w y x wi gu",:"xin xi shu wi qing",:"hng hng ch zhung yuan",:"y d l y hi",:"yn b jin wi jng",:"zh tng do du zi"},rR=Object.keys(wx).map(s=>({zh:s,pinyin:wx[s],probability:2e-8,length:5,priority:Ze.Normal,dict:Symbol("dict5")}));function Tx(s,t){return s&&(s.decimal<t.decimal||s.decimal===t.decimal&&s.probability>t.probability)?s:t}function Sx(s){s.probability<1e-300&&(s.probability*=1e300,s.decimal+=1)}function sR(s){return s.priority===Ze.Custom?-(s.length*s.length*100):s.priority===Ze.Surname?-(s.length*s.length*10):0}function oR(s,t){const e=[];let i=s.length-1,n=s[i];for(let r=t-1;r>=0;r--){const o=r+1>=t?{probability:1,decimal:0,patterns:[]}:e[r+1];for(;n&&n.index+n.length-1===r;){const h=n.index,l={probability:n.probability*o.probability,decimal:o.decimal+sR(n),patterns:o.patterns,concatPattern:n};Sx(l),e[h]=Tx(e[h],l),n=s[--i]}const a={probability:1e-13*o.probability,decimal:0,patterns:o.patterns};Sx(a),e[r]=Tx(e[r],a),e[r].concatPattern&&(e[r].patterns=e[r].patterns.concat(e[r].concatPattern),e[r].concatPattern=void 0,delete e[r+1])}return e[0].patterns.reverse()}function Ax(s,t){return s&&s.count<=t.count?s:t}function aR(s){return s.priority===Ze.Custom?-(s.length*s.length*1e5):s.priority===Ze.Surname?-(s.length*s.length*100):1}function hR(s,t){const e=[];let i=s.length-1,n=s[i];for(let r=t-1;r>=0;r--){const o=r+1>=t?{count:0,patterns:[]}:e[r+1];for(;n&&n.index+n.length-1===r;){const h=n.index,l={count:aR(n)+o.count,patterns:o.patterns,concatPattern:n};e[h]=Ax(e[h],l),n=s[--i]}const a={count:1+o.count,patterns:o.patterns};e[r]=Ax(e[r],a),e[r].concatPattern&&(e[r].patterns=e[r].patterns.concat(e[r].concatPattern),e[r].concatPattern=void 0,delete e[r+1])}return e[0].patterns.reverse()}function lR(s,t){return!(t.index+t.length<=s.index||t.priority>s.priority||t.priority===s.priority&&t.length>s.length)}function uR(s){const t=[];for(let e=s.length-1;e>=0;){const{index:i}=s[e];let n=e-1;for(;n>=0&&lR(s[e],s[n]);)n--;(n<0||s[n].index+s[n].length<=i)&&t.push(s[e]),e=n}return t.reverse()}var Ex;(function(s){s[s.ReverseMaxMatch=1]="ReverseMaxMatch",s[s.MaxProbability=2]="MaxProbability",s[s.MinTokenization=3]="MinTokenization"})(Ex||(Ex={}));class Cx{constructor(t,e="",i=""){this.children=new Map,this.fail=null,this.patterns=[],this.parent=t,this.prefix=e,this.key=i}}class cR{constructor(){this.dictMap=new Map,this.queues=[],this.root=new Cx(null)}build(t){this.buildTrie(t),this.buildFailPointer()}buildTrie(t){for(let e of t){const i=Mr(e.zh);let n=this.root;for(let r=0;r<i.length;r++){let o=i[r];if(!n.children.has(o)){const a=new Cx(n,i.slice(0,r).join(""),o);n.children.set(o,a),this.addNodeToQueues(a)}n=n.children.get(o)}this.insertPattern(n.patterns,e),e.node=n,this.addPatternToDictMap(e)}}buildFailPointer(){let t=[],e=0;for(this.queues.forEach(i=>{t=t.concat(i)}),this.queues=[];t.length>e;){let i=t[e++],n=i.parent&&i.parent.fail,r=i.key;for(;n&&!n.children.has(r);)n=n.fail;n?i.fail=n.children.get(r):i.fail=this.root}}addPatternToDictMap(t){this.dictMap.has(t.dict)||this.dictMap.set(t.dict,new Set),this.dictMap.get(t.dict).add(t)}addNodeToQueues(t){this.queues[xi(t.prefix)]||(this.queues[xi(t.prefix)]=[]),this.queues[xi(t.prefix)].push(t)}insertPattern(t,e){for(let i=t.length-1;i>=0;i--){const n=t[i];if(e.priority===n.priority&&e.probability>=n.probability)t[i+1]=n;else if(e.priority>n.priority)t[i+1]=n;else{t[i+1]=e;return}}t[0]=e}removeDict(t){this.dictMap.has(t)&&(this.dictMap.get(t).forEach(i=>{i.node.patterns=i.node.patterns.filter(n=>n!==i)}),this.dictMap.delete(t))}match(t,e){let i=this.root,n=[];const r=Mr(t);for(let o=0;o<r.length;o++){let a=r[o];for(;i!==null&&!i.children.has(a);)i=i.fail;if(i===null)i=this.root;else{i=i.children.get(a);const h=i.patterns.find(u=>e==="off"?u.priority!==Ze.Surname:e==="head"?u.length-1-o===0:!0);h&&n.push(Object.assign(Object.assign({},h),{index:o-h.length+1}));let l=i.fail;for(;l!==null;){const u=l.patterns.find(d=>e==="off"?d.priority!==Ze.Surname:e==="head"?d.length-1-o===0:!0);u&&n.push(Object.assign(Object.assign({},u),{index:o-u.length+1})),l=l.fail}}}return n}search(t,e,i=2){const n=this.match(t,e);return i===1?uR(n):i===3?hR(n,xi(t)):oR(n,xi(t))}}const dR=[...rR,...nR,...iR,...eR,...Xz,...tR],cT=new cR;cT.build(dR);const fR=new lT,gR=()=>fR,Xs=s=>{const t=Qn.get(s);return t?t.split(" ")[0]:s},pR=(s,t,e,i)=>{const n=cT.search(s,e,i);let r=0;const o=Mr(s);for(let a=0;a<o.length;){const h=n[r];if(h&&a===h.index){if(h.length===1&&h.priority<=Ze.Normal){const d=o[a];let f="";f=_x(d,o[a-1],o[a+1]),t[a]={origin:d,result:f,isZh:f!==d,originPinyin:f},a++,r++;continue}const l=h.pinyin.split(" ");let u=0;for(let d=0;d<h.length;d++){const f=Mr(h.zh);t[a+d]={origin:f[d],result:l[u]||"",isZh:!0,originPinyin:l[u]||""},u++}a+=h.length,r++}else{const l=o[a];let u="";u=_x(l,o[a-1],o[a+1]),t[a]={origin:l,result:u,isZh:u!==l,originPinyin:u},a++}}return{list:t,matches:n}},Gh=s=>s.replace(/(|||)/g,"a").replace(/(|||)/g,"o").replace(/(|||)/g,"e").replace(/(|||)/g,"i").replace(/(|||)/g,"u").replace(/(|||)/g,"").replace(/(n|||)/g,"n").replace(/(m||m|m)/g,"m").replace(/(|||)/g,""),dT=(s,t="off")=>{const e=gR();let i=Qn.get(s)?Qn.get(s).split(" "):[];if(e.get(s))i=e.get(s).split(" ");else if(t!=="off"){const n=Qf[s];n&&(i=[n].concat(i.filter(r=>r!==n)))}return i},mR=(s,t="off")=>{let e=dT(s,t);return e.length>0?e.map(i=>({origin:s,result:i,isZh:!0,originPinyin:i})):[{origin:s,result:s,isZh:!1,originPinyin:s}]},uh=(s,t)=>{const e=s.split(" "),i=[],n=[];for(let r of e)for(let o of Uz)if(r.startsWith(o)){let a=r.slice(o.length);Gz.indexOf(o)!==-1&&Hz.indexOf(a)!==-1&&(a=Wz[a]),i.push(o),n.push(a);break}return t==="standard"&&i.forEach((r,o)=>{(r==="y"||r==="w")&&(i[o]="")}),{final:n.join(" "),initial:i.join(" ")}},ka=s=>{const{final:t}=uh(s);let e="",i="",n="";return Vz.indexOf(Gh(t))!==-1?(e=t[0],i=t[1],n=t.slice(2)):(i=t[0]||"",n=t.slice(1)||""),{head:e,body:i,tail:n}},Hh=s=>{const t=/(||||||n|m|)/,e=/(||||||||)/,i=/(|||||||m|)/,n=/(|||||||m|)/,r=/(a|o|e|i|u||)/,o=/(n|m)$/,a=[];return s.split(" ").forEach(l=>{t.test(l)?a.push("1"):e.test(l)?a.push("2"):i.test(l)?a.push("3"):n.test(l)?a.push("4"):r.test(l)||o.test(l)?a.push("0"):a.push("")}),a.join(" ")},yR=(s,t)=>{const e=Gh(s).split(" "),i=Hh(t).split(" "),n=[];return e.forEach((r,o)=>{n.push(`${r}${i[o]}`)}),n.join(" ")},fT=(s,t)=>{const e=[];return s.split(" ").forEach(n=>{e.push(t?n[0]:n)}),e.join(" ")},_R=s=>typeof s!="string"?(console.error("The first param of pinyin is error: "+s+' is not assignable to type "string".'),!1):!0;function Ad(s,t){return t instanceof RegExp?t.test(s):!0}const xR=(s,t)=>{let e=t.nonZh;if(e==="removed")return s.filter(i=>i.isZh||!Ad(i.origin,t.nonZhScope));if(e==="consecutive"){for(let i=s.length-2;i>=0;i--){const n=s[i],r=s[i+1];!n.isZh&&!r.isZh&&Ad(n.origin,t.nonZhScope)&&Ad(r.origin,t.nonZhScope)&&(n.origin+=r.origin,n.result+=r.result,r.delete=!0)}return s.filter(i=>!i.delete)}else return s},Px=(s,t)=>xi(s)===1&&t.multiple?mR(s,t.surname):!1,vR=(s,t)=>{switch(t.pattern){case"pinyin":break;case"num":s.forEach(e=>{e.result=e.isZh?Hh(e.result):""});break;case"initial":s.forEach(e=>{e.result=e.isZh?uh(e.result,t.initialPattern).initial:""});break;case"final":s.forEach(e=>{e.result=e.isZh?uh(e.result,t.initialPattern).final:""});break;case"first":s.forEach(e=>{e.result=fT(e.result,e.isZh)});break;case"finalHead":s.forEach(e=>{e.result=e.isZh?ka(e.result).head:""});break;case"finalBody":s.forEach(e=>{e.result=e.isZh?ka(e.result).body:""});break;case"finalTail":s.forEach(e=>{e.result=e.isZh?ka(e.result).tail:""});break}},bR=(s,t)=>{switch(t.toneType){case"symbol":break;case"none":s.forEach(e=>{e.isZh&&(e.result=Gh(e.result))});break;case"num":{s.forEach(e=>{e.isZh&&(e.result=yR(e.result,e.originPinyin))});break}}},wR=(s,t)=>{t.v&&s.forEach(e=>{e.isZh&&(e.result=e.result.replace(//g,typeof t.v=="string"?t.v:"v"))})},TR=(s,t,e)=>{if(t.multiple&&xi(e)===1){let i="";s=s.filter(n=>{const r=n.result!==i;return i=n.result,r})}return t.type==="array"?s.map(i=>i.result):t.type==="all"?s.map(i=>{const n=i.isZh?i.result:"",{initial:r,final:o}=uh(n,t.initialPattern),{head:a,body:h,tail:l}=ka(n);let u=[];return n!==""&&(u=[n].concat(dT(i.origin,t.surname).filter(d=>d!==n))),{origin:i.origin,pinyin:n,initial:r,final:o,first:fT(i.result,i.isZh),finalHead:a,finalBody:h,finalTail:l,num:Number(Hh(i.originPinyin)),isZh:i.isZh,polyphonic:u,inZhRange:!!Qn.get(i.origin),result:i.result}}):s.map(i=>i.result).join(t.separator)},SR=(s,t)=>(t===!1&&s.forEach(e=>{e.origin===""?e.result=e.originPinyin="y":e.origin===""&&(e.result=e.originPinyin="b")}),s),AR={pattern:"pinyin",toneType:"symbol",type:"string",multiple:!1,mode:"normal",removeNonZh:!1,nonZh:"spaced",v:!1,separator:" ",toneSandhi:!0,segmentit:2};function gT(s,t){if(t=Object.assign(Object.assign({},AR),t||{}),!_R(s))return s;if(s==="")return t.type==="array"||t.type==="all"?[]:"";t.surname===void 0&&(t.mode==="surname"?t.surname="all":t.surname="off"),t.type==="all"&&(t.pattern="pinyin"),t.pattern==="num"&&(t.toneType="none"),t.removeNonZh&&(t.nonZh="removed");let i=Array(xi(s)),{list:n}=pR(s,i,t.surname,t.segmentit);return n=SR(n,t.toneSandhi),n=xR(n,t),Px(s,t)&&(n=Px(s,t)),vR(n,t),bR(n,t),wR(n,t),TR(n,t,s)}const ER={precision:"first",continuous:!1,space:"ignore",lastPrecision:"start",insensitive:!0,v:!1},CR=6,PR=(s,t,e)=>{(e==null?void 0:e.precision)==="any"&&(e.lastPrecision="any"),e!=null&&e.v&&(t=t.replace(//g,"v"));const i=Object.assign(Object.assign({},ER),e||{});i.insensitive!==!1&&(s=s.toLowerCase(),t=t.toLowerCase()),i.space==="ignore"&&(t=t.replace(/\s/g,""));const n=(e==null?void 0:e.precision)==="any"?MR(s,t,i):zR(s,t,i);return RR(s,n)},IR=(s,t)=>{let e=0;for(let i=0;i<s.length;i++)s[i]===t[e]&&e++;return e},MR=(s,t,e)=>{let i=[];const n=Mr(s),r=e.space==="ignore";for(let o=0;o<n.length;o++){if(r&&n[o]===" "){i.push(o);continue}if(n[o]===t[0]){t=t.slice(1),i.push(o);continue}const a=gT(n[o],{toneType:"none",multiple:!0,type:"array",v:e.v});let h=0;if(a.forEach(l=>{const u=IR(l,t);u>h&&(h=u)}),h&&(t=t.slice(h),i.push(o)),!t)break}if(t)return null;if(e.continuous){const o=i;if(i.some((h,l)=>l>0&&h!==o[l-1]+1))return null}return e.space==="ignore"&&(i=i.filter(o=>n[o]!==" ")),i.length?i:null},zR=(s,t,e)=>{const i=Mr(s),n=Array(i.length+1);for(let r=0;r<n.length;r++)n[r]=Array(t.length+1),n[r][0]=[];for(let r=0;r<n[0].length;r++)n[0][r]=[];for(let r=1;r<n.length;r++){if(!e.continuous||e.space=="ignore"&&i[r-1]===" ")for(let o=1;o<=t.length;o++)n[r][o-1]=n[r-1][o-1];for(let o=1;o<=t.length;o++)if(n[r-1][o-1]){if(o!==1&&!n[r-1][o-1].length)continue;{const a=gT(i[r-1],{type:"array",toneType:"none",multiple:!0,v:e.v});if(i[r-1]===t[o-1]){const u=[...n[r-1][o-1],r-1];if((!n[r][o]||u.length>n[r][o].length)&&(n[r][o]=u),o===t.length)return n[r][o]}if(t.length-o<=CR&&a.some(d=>e.lastPrecision==="any"?d.includes(t.slice(o-1,t.length)):e.lastPrecision==="start"?d.startsWith(t.slice(o-1,t.length)):e.lastPrecision==="first"?d[0]===t.slice(o-1,t.length):e.lastPrecision==="every"?d===t.slice(o-1,t.length):!1))return[...n[r-1][o-1],r-1];const h=e.precision;if(h==="start"&&a.forEach(u=>{let d=o;const f=[...n[r-1][o-1],r-1];for(;d<=t.length&&u.startsWith(t.slice(o-1,d));)(!n[r][d]||f.length>n[r][d].length)&&(n[r][d]=f),d++}),h==="first"&&a.some(u=>u[0]===t[o-1])){const u=[...n[r-1][o-1],r-1];(!n[r][o]||u.length>n[r][o].length)&&(n[r][o]=u)}const l=a.find(u=>u===t.slice(o-1,o-1+u.length));if(l){const u=[...n[r-1][o-1],r-1],d=o-1+l.length;(!n[r][d]||u.length>n[r][d].length)&&(n[r][d]=u)}}}else continue}return null};function RR(s,t){if(!t)return null;const e=[];let i=0;const n=Mr(s);let r=0;for(let o=0;o<t.length;o++){const a=t[o];for(;r<=a;)n[r].length===2&&i++,r++;const h=a+i;n[a].length===2?e.push(h-1,h):e.push(h)}return e}var tg;(function(s){s[s.AllSegment=1]="AllSegment",s[s.AllArray=2]="AllArray",s[s.AllString=3]="AllString",s[s.PinyinSegment=4]="PinyinSegment",s[s.PinyinArray=5]="PinyinArray",s[s.PinyinString=6]="PinyinString",s[s.ZhSegment=7]="ZhSegment",s[s.ZhArray=8]="ZhArray",s[s.ZhString=9]="ZhString"})(tg||(tg={}));tg.AllSegment;const Ed=(s,t=[])=>{const e=new Set(t),i=s.filter(n=>!e.has(n));if(i.length!==0)return i[kt(0,i.length-1)]},qo=new Ih("hv"),DR=(s,t)=>{const e=Pi().hour()+Pi().minute()/60;if(e<6||e>=21)return t;for(let i=0;i<s.length-1;i++){const n=s[i],r=s[i+1];if(e>=n.h&&e<r.h){const o=(e-n.h)/(r.h-n.h);return+(n.v+(r.v-n.v)*o).toFixed(2)}}return t},kR=(s,t,e)=>{if(t==="")return s;const i=[],n=Fz(s),r=(o,a)=>{n.forEach(h=>{const l=h[a].toString();PR(l,o,{precision:"start"})&&(i.some(d=>d.id===h.id&&d.name===h.name)||i.push(h))})};return e.forEach(o=>r(t,o)),i};class FR extends No{constructor(){super({entityShadow:!1});G(this,"antialias",!0)}}const pT=new FR,Sp=s=>{const t=s.getBounds(),e=window.innerWidth,i=window.innerHeight;return t.x+t.width<0||t.x>e||t.y+t.height<0||t.y>i};class jR{constructor(){this.instances=new Map}setInstance(t,e){this.instances.has(t)&&this.instances.delete(t),this.instances.set(t,e)}getInstance(t){return this.instances.get(t)}}var OR=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,BR=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample top right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample bottom right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));

    // Sample bottom left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}`,LR=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;
uniform vec4 filterClamp;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample top right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}
`;let Ix=class extends ne{constructor(t=4,e=3,i=!1){super(OR,i?LR:BR),this._kernels=[],this._blur=4,this._quality=3,this.uniforms.uOffset=new Float32Array(2),this._pixelSize=new St,this.pixelSize=1,this._clamp=i,Array.isArray(t)?this.kernels=t:(this._blur=t,this.quality=e)}apply(t,e,i,n){const r=this._pixelSize.x/e._frame.width,o=this._pixelSize.y/e._frame.height;let a;if(this._quality===1||this._blur===0)a=this._kernels[0]+.5,this.uniforms.uOffset[0]=a*r,this.uniforms.uOffset[1]=a*o,t.applyFilter(this,e,i,n);else{const h=t.getFilterTexture();let l=e,u=h,d;const f=this._quality-1;for(let c=0;c<f;c++)a=this._kernels[c]+.5,this.uniforms.uOffset[0]=a*r,this.uniforms.uOffset[1]=a*o,t.applyFilter(this,l,u,1),d=l,l=u,u=d;a=this._kernels[f]+.5,this.uniforms.uOffset[0]=a*r,this.uniforms.uOffset[1]=a*o,t.applyFilter(this,l,i,n),t.returnFilterTexture(h)}}_updatePadding(){this.padding=Math.ceil(this._kernels.reduce((t,e)=>t+e+.5,0))}_generateKernels(){const t=this._blur,e=this._quality,i=[t];if(t>0){let n=t;const r=t/e;for(let o=1;o<e;o++)n-=r,i.push(n)}this._kernels=i,this._updatePadding()}get kernels(){return this._kernels}set kernels(t){Array.isArray(t)&&t.length>0?(this._kernels=t,this._quality=t.length,this._blur=Math.max(...t)):(this._kernels=[0],this._quality=1)}get clamp(){return this._clamp}set pixelSize(t){typeof t=="number"?(this._pixelSize.x=t,this._pixelSize.y=t):Array.isArray(t)?(this._pixelSize.x=t[0],this._pixelSize.y=t[1]):t instanceof St?(this._pixelSize.x=t.x,this._pixelSize.y=t.y):(this._pixelSize.x=1,this._pixelSize.y=1)}get pixelSize(){return this._pixelSize}get quality(){return this._quality}set quality(t){this._quality=Math.max(1,Math.round(t)),this._generateKernels()}get blur(){return this._blur}set blur(t){this._blur=t,this._generateKernels()}};var NR=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,qR=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float alpha;
uniform vec3 color;

uniform vec2 shift;
uniform vec4 inputSize;

void main(void){
    vec4 sample = texture2D(uSampler, vTextureCoord - shift * inputSize.zw);

    // Premultiply alpha
    sample.rgb = color.rgb * sample.a;

    // alpha user alpha
    sample *= alpha;

    gl_FragColor = sample;
}`,UR=Object.defineProperty,Mx=Object.getOwnPropertySymbols,GR=Object.prototype.hasOwnProperty,HR=Object.prototype.propertyIsEnumerable,zx=(s,t,e)=>t in s?UR(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Rx=(s,t)=>{for(var e in t||(t={}))GR.call(t,e)&&zx(s,e,t[e]);if(Mx)for(var e of Mx(t))HR.call(t,e)&&zx(s,e,t[e]);return s};const eg=class extends ne{constructor(s){super(),this.angle=45,this._distance=5,this._resolution=nt.FILTER_RESOLUTION;const t=s?Rx(Rx({},eg.defaults),s):eg.defaults,{kernels:e,blur:i,quality:n,pixelSize:r,resolution:o}=t;this._offset=new wi(this._updatePadding,this),this._tintFilter=new ne(NR,qR),this._tintFilter.uniforms.color=new Float32Array(4),this._tintFilter.uniforms.shift=this._offset,this._tintFilter.resolution=o,this._blurFilter=e?new Ix(e):new Ix(i,n),this.pixelSize=r,this.resolution=o;const{shadowOnly:a,rotation:h,distance:l,offset:u,alpha:d,color:f}=t;this.shadowOnly=a,h!==void 0&&l!==void 0?(this.rotation=h,this.distance=l):this.offset=u,this.alpha=d,this.color=f}apply(s,t,e,i){const n=s.getFilterTexture();this._tintFilter.apply(s,t,n,1),this._blurFilter.apply(s,n,e,i),this.shadowOnly!==!0&&s.applyFilter(this,t,e,0),s.returnFilterTexture(n)}_updatePadding(){const s=Math.max(Math.abs(this._offset.x),Math.abs(this._offset.y));this.padding=s+this.blur*2}_updateShift(){this._tintFilter.uniforms.shift.set(this.distance*Math.cos(this.angle),this.distance*Math.sin(this.angle))}set offset(s){this._offset.copyFrom(s),this._updatePadding()}get offset(){return this._offset}get resolution(){return this._resolution}set resolution(s){this._resolution=s,this._tintFilter&&(this._tintFilter.resolution=s),this._blurFilter&&(this._blurFilter.resolution=s)}get distance(){return this._distance}set distance(s){mt("5.3.0","DropShadowFilter distance is deprecated, use offset"),this._distance=s,this._updatePadding(),this._updateShift()}get rotation(){return this.angle/qa}set rotation(s){mt("5.3.0","DropShadowFilter rotation is deprecated, use offset"),this.angle=s*qa,this._updateShift()}get alpha(){return this._tintFilter.uniforms.alpha}set alpha(s){this._tintFilter.uniforms.alpha=s}get color(){return hg(this._tintFilter.uniforms.color)}set color(s){Av(s,this._tintFilter.uniforms.color)}get kernels(){return this._blurFilter.kernels}set kernels(s){this._blurFilter.kernels=s}get blur(){return this._blurFilter.blur}set blur(s){this._blurFilter.blur=s,this._updatePadding()}get quality(){return this._blurFilter.quality}set quality(s){this._blurFilter.quality=s}get pixelSize(){return this._blurFilter.pixelSize}set pixelSize(s){this._blurFilter.pixelSize=s}};let mT=eg;mT.defaults={offset:{x:4,y:4},color:0,alpha:.5,shadowOnly:!1,kernels:null,blur:2,quality:3,pixelSize:1,resolution:nt.FILTER_RESOLUTION};const WR=(s,t)=>{const{color:e="#000",alpha:i=.25,blur:n=1,distance:r=0,offset:o={x:0,y:0}}=t||{},a=new mT({color:e,alpha:i,blur:n,distance:r,offset:o});a.resolution=window.devicePixelRatio||1,s.filters=[a]},VR=(s,t=2)=>{s=s.replace(/\s+/g,"");const e={"+":1,"-":1,"*":2,"/":2},i=a=>new Ei(a),n=a=>["+","-","*","/"].includes(a),r=a=>/[0-9.]/.test(a),o=a=>{const h=[],l=[];let u=0;for(;u<a.length;){const f=a[u];if(r(f)){let c="";for(;u<a.length&&r(a[u]);)c+=a[u],u++;h.push(i(c))}else if(f==="(")l.push(f),u++;else if(f===")"){for(;l.length>0&&l[l.length-1]!=="(";)h.push(l.pop());l.pop(),u++}else if(n(f)){for(;l.length>0&&e[l[l.length-1]]>=e[f];)h.push(l.pop());l.push(f),u++}else throw new Error(`: ${f}`)}for(;l.length>0;)h.push(l.pop());const d=[];for(let f of h)if(typeof f=="string"){const c=d.pop(),g=d.pop();switch(f){case"+":d.push(g.add(c));break;case"-":d.push(g.sub(c));break;case"*":d.push(g.mul(c));break;case"/":if(c.eq(0))throw new Error("");d.push(g.div(c));break}}else d.push(f);return d.pop()};try{const a=o(s);return Number(a.toFixed(t,Ei.ROUND_DOWN))}catch(a){throw new Error(""+a.message)}},Ap=(s,t,e=!0)=>{let i=Array.isArray(t)?kt(t[0],t[1],2):t,n=0;e&&s();const r=()=>{n+=Tt.shared.deltaMS,n>=i&&(n-=i,s(),i=Array.isArray(t)?kt(t[0],t[1],2):t)};return Tt.shared.add(r),()=>{Tt.shared.remove(r)}},$R={},XR=1e3*60*60*24,ch=[1e3,5e3],Ep=100,ig=100*5e4,Dx={0:{body:"#6BCBFF",tail:"#4DA8FF"},1:{body:"#FF6B81",tail:"#FF4D73"}},pa=[{body:"rgba(225,86,126,1)",tail:"rgba(241,152,178,1)"},{body:"rgba(55,176,166,1)",tail:"rgba(115,215,205,1)"},{body:"rgba(225,162,86,1)",tail:"rgba(240,197,138,1)"},{body:"rgba(198,99,167,1)",tail:"rgba(223,153,201,1)"},{body:"rgba(75,138,213,1)",tail:"rgba(131,185,236,1)"},{body:"rgba(61,176,126,1)",tail:"rgba(140,214,175,1)"},{body:"rgba(161,100,196,1)",tail:"rgba(198,163,220,1)"},{body:"rgba(215,162,48,1)",tail:"rgba(240,197,87,1)"},{body:"rgba(208,94,121,1)",tail:"rgba(241,164,179,1)"},{body:"rgba(172,200,65,1)",tail:"rgba(211,229,127,1)"},{body:"rgba(218,131,179,1)",tail:"rgba(240,184,211,1)"},{body:"rgba(197,106,173,1)",tail:"rgba(222,164,205,1)"},{body:"rgba(227,115,95,1)",tail:"rgba(241,179,161,1)"},{body:"rgba(214,110,165,1)",tail:"rgba(239,167,205,1)"},{body:"rgba(46,107,138,1)",tail:"rgba(74,143,172,1)"},{body:"rgba(161,84,43,1)",tail:"rgba(199,120,78,1)"},{body:"rgba(34,115,91,1)",tail:"rgba(62,154,126,1)"},{body:"rgba(53,131,123,1)",tail:"rgba(96,169,161,1)"},{body:"rgba(166,57,83,1)",tail:"rgba(201,97,119,1)"},{body:"rgba(130,157,47,1)",tail:"rgba(167,193,77,1)"},{body:"rgba(172,62,136,1)",tail:"rgba(203,104,165,1)"},{body:"rgba(179,76,55,1)",tail:"rgba(215,111,92,1)"},{body:"rgba(181,157,32,1)",tail:"rgba(216,197,66,1)"},{body:"rgba(173,112,57,1)",tail:"rgba(206,149,98,1)"},{body:"rgba(160,74,138,1)",tail:"rgba(195,112,171,1)"},{body:"rgba(54,90,136,1)",tail:"rgba(84,119,167,1)"},{body:"rgba(70,155,145,1)",tail:"rgba(111,194,184,1)"},{body:"rgba(164,55,86,1)",tail:"rgba(201,93,119,1)"}],vt=1e3,Jr=100/1,YR=1,ZR=10,Vi={fish:2,turtle:3,surface:4,ripple:5,fishCard:7},Wh=.9,KR=.25,Un=2,eo=.5,yT="#1a1a1a",fn={BLOOD:"",SATIETY:"",SATIETY_DISTANCE:"",DESIRE:"",FISH_LIST:"",BACKPACK:"",SHOP:"",BANK:"",ASSURE:""},ma=[{body:"#88b08b",shell:"#4a6b47"},{body:"#a79d7f",shell:"#5b4e3a"},{body:"#7daaa3",shell:"#3d6a63"},{body:"#c3a579",shell:"#6b4c27"},{body:"#9da5b3",shell:"#404c5c"},{body:"#a4b073",shell:"#4d5e32"},{body:"#ac8fa3",shell:"#523a4d"},{body:"#b49060",shell:"#604020"},{body:"#7f9fa0",shell:"#325050"},{body:"#b0a383",shell:"#5e533f"},{body:"#a78a8a",shell:"#4b3a3a"},{body:"#98a988",shell:"#425a38"},{body:"#97a6b8",shell:"#3a4e64"},{body:"#bc968f",shell:"#5e3e38"},{body:"#aab371",shell:"#4b521f"},{body:"#9ba3b0",shell:"#37404d"},{body:"#c7a379",shell:"#62452d"},{body:"#b08c9e",shell:"#4e3543"},{body:"#8fa59c",shell:"#37544a"},{body:"#b1a488",shell:"#5a503c"}],Ee=class Ee extends An{constructor(e){super();G(this,"_bar");G(this,"_valueText");const{label:i,emoji:n}=e,r=new It({text:n,fontSize:25});this.addChild(r),r.anchor.set(1,.5);const o=new It({text:i,fontSize:12,fontColor:"#fff"});this.addChild(o),o.resolution=Un,o.anchor.y=1,o.x=Ee.ICON_GAP;const a=new ft;this.addChild(a),a.pivot.y=-5,a.x=Ee.ICON_GAP;const h=new we(Ee.BAR_WIDTH,Ee.BAR_HEIGHT,"#1a1a1a");a.addChild(h),this._bar=new we(0,Ee.BAR_HEIGHT,"#fff"),a.addChild(this._bar),this._valueText=new It({text:"0/100",fontSize:12,fontColor:"#fff"}),this.addChild(this._valueText),this._valueText.alpha=eo,this._valueText.resolution=Un,this._valueText.anchor.set(1,1),this._valueText.x=Ee.BAR_WIDTH+Ee.ICON_GAP}setProgressValue(e){this._bar.clear(),this._bar.beginFill("#fff"),this._bar.drawRect(0,0,Ee.BAR_WIDTH*e,Ee.BAR_HEIGHT),this._bar.endFill()}setValue(e){this._valueText.text=e}};G(Ee,"BAR_WIDTH",150),G(Ee,"BAR_HEIGHT",5),G(Ee,"ICON_GAP",10);let Qr=Ee;const JR=["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],QR=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],t2=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];class Cp{constructor(){G(this,"fishFamilyList",new Map);G(this,"fishFamilyDataList",new Map)}getFishData(t,e){const i=ie.fishFamilyDataList.get(t);if(i)return i.get(e)}getFish(t,e){const i=ie.fishFamilyList.get(t);if(i)return i.get(e)}createFishLastName(){return Ed(JR,Array.from(this.fishFamilyDataList.keys()))}createFishFirstName(t,e){const i=e===0?QR:t2,n=this.fishFamilyDataList.get(t);let r;return n?r=Ed(i,Array.from(n.values()).map(o=>o.firstName)):r=Ed(i,[]),r||""}addFish(t,e){const i=this.fishFamilyList.get(t);if(i)i.set(e.id,e);else{const n=new Map;n.set(e.id,e),this.fishFamilyList.set(t,n)}}addFishData(t,e){const i=this.fishFamilyDataList.get(t);if(i)i.set(e.id,e);else{const n=new Map;n.set(e.id,e),this.fishFamilyDataList.set(t,n)}}setPosition(t,e,i,n){const r=this.fishFamilyDataList.get(t).get(e);r.x=i,r.y=n}}G(Cp,"createIndex",0);const ie=new Cp;class e2 extends ft{constructor(){super();G(this,"_blood");G(this,"_satiety");G(this,"_satietyDistance");G(this,"_desire");const e=new Rh({rowGap:40,colGap:200,colNum:2});this.addChild(e),this._blood=new Qr({label:"",emoji:fn.BLOOD}),this.addChild(this._blood),e.push(this._blood),this._satiety=new Qr({label:"",emoji:fn.SATIETY}),this.addChild(this._satiety),e.push(this._satiety),this._satietyDistance=new Qr({label:"",emoji:fn.SATIETY_DISTANCE}),this.addChild(this._satietyDistance),e.push(this._satietyDistance),this._desire=new Qr({label:"",emoji:fn.DESIRE}),this.addChild(this._desire),e.push(this._desire),e.layout()}updateValue(e,i){const n=ie.getFishData(e,i);this._blood.setValue(`${Math.min(100,n.blood)}/${n.tempBlood}`),this._blood.setProgressValue(Math.min(100,n.blood)/100),this._satiety.setValue(`${Math.min(100,n.satiety)}/${n.satietyLimit}`),this._satiety.setProgressValue(Math.min(100,n.satiety)/100),this._satietyDistance.setValue(`${n.satietyDistance}/${ig}`),this._satietyDistance.setProgressValue(n.satietyDistance/ig),this._desire.setValue(`${n.desire}/${n.desireLimit}`),this._desire.setProgressValue(n.desire/n.desireLimit)}}class cr extends ft{constructor(e,i=""){super();G(this,"_valueText");const n=new It({text:e,fontSize:12,fontColor:"#fff"});this.addChild(n),n.resolution=Un,this._valueText=new It({text:i,fontSize:12,fontColor:"#fff"}),this.addChild(this._valueText),this._valueText.resolution=Un,this._valueText.alpha=eo,this._valueText.x=n.width}setValue(e){this._valueText.text=e}}var Fa={exports:{}},i2=Fa.exports,kx;function n2(){return kx||(kx=1,function(s){(function(){var t,e,i,n,r,o,a,h,l,u,d,f,c,g,p;i=Math.floor,u=Math.min,e=function(m,y){return m<y?-1:m>y?1:0},l=function(m,y,x,v,w){var _;if(x==null&&(x=0),w==null&&(w=e),x<0)throw new Error("lo must be non-negative");for(v==null&&(v=m.length);x<v;)_=i((x+v)/2),w(y,m[_])<0?v=_:x=_+1;return[].splice.apply(m,[x,x-x].concat(y)),y},o=function(m,y,x){return x==null&&(x=e),m.push(y),g(m,0,m.length-1,x)},r=function(m,y){var x,v;return y==null&&(y=e),x=m.pop(),m.length?(v=m[0],m[0]=x,p(m,0,y)):v=x,v},h=function(m,y,x){var v;return x==null&&(x=e),v=m[0],m[0]=y,p(m,0,x),v},a=function(m,y,x){var v;return x==null&&(x=e),m.length&&x(m[0],y)<0&&(v=[m[0],y],y=v[0],m[0]=v[1],p(m,0,x)),y},n=function(m,y){var x,v,w,_,T,b;for(y==null&&(y=e),_=(function(){b=[];for(var S=0,A=i(m.length/2);0<=A?S<A:S>A;0<=A?S++:S--)b.push(S);return b}).apply(this).reverse(),T=[],v=0,w=_.length;v<w;v++)x=_[v],T.push(p(m,x,y));return T},c=function(m,y,x){var v;if(x==null&&(x=e),v=m.indexOf(y),v!==-1)return g(m,0,v,x),p(m,v,x)},d=function(m,y,x){var v,w,_,T,b;if(x==null&&(x=e),w=m.slice(0,y),!w.length)return w;for(n(w,x),b=m.slice(y),_=0,T=b.length;_<T;_++)v=b[_],a(w,v,x);return w.sort(x).reverse()},f=function(m,y,x){var v,w,_,T,b,S,A,P,M;if(x==null&&(x=e),y*10<=m.length){if(_=m.slice(0,y).sort(x),!_.length)return _;for(w=_[_.length-1],A=m.slice(y),T=0,S=A.length;T<S;T++)v=A[T],x(v,w)<0&&(l(_,v,0,null,x),_.pop(),w=_[_.length-1]);return _}for(n(m,x),M=[],b=0,P=u(y,m.length);0<=P?b<P:b>P;0<=P?++b:--b)M.push(r(m,x));return M},g=function(m,y,x,v){var w,_,T;for(v==null&&(v=e),w=m[x];x>y;){if(T=x-1>>1,_=m[T],v(w,_)<0){m[x]=_,x=T;continue}break}return m[x]=w},p=function(m,y,x){var v,w,_,T,b;for(x==null&&(x=e),w=m.length,b=y,_=m[y],v=2*y+1;v<w;)T=v+1,T<w&&!(x(m[v],m[T])<0)&&(v=T),m[y]=m[v],y=v,v=2*y+1;return m[y]=_,g(m,b,y,x)},t=function(){m.push=o,m.pop=r,m.replace=h,m.pushpop=a,m.heapify=n,m.updateItem=c,m.nlargest=d,m.nsmallest=f;function m(y){this.cmp=y??e,this.nodes=[]}return m.prototype.push=function(y){return o(this.nodes,y,this.cmp)},m.prototype.pop=function(){return r(this.nodes,this.cmp)},m.prototype.peek=function(){return this.nodes[0]},m.prototype.contains=function(y){return this.nodes.indexOf(y)!==-1},m.prototype.replace=function(y){return h(this.nodes,y,this.cmp)},m.prototype.pushpop=function(y){return a(this.nodes,y,this.cmp)},m.prototype.heapify=function(){return n(this.nodes,this.cmp)},m.prototype.updateItem=function(y){return c(this.nodes,y,this.cmp)},m.prototype.clear=function(){return this.nodes=[]},m.prototype.empty=function(){return this.nodes.length===0},m.prototype.size=function(){return this.nodes.length},m.prototype.clone=function(){var y;return y=new m,y.nodes=this.nodes.slice(0),y},m.prototype.toArray=function(){return this.nodes.slice(0)},m.prototype.insert=m.prototype.push,m.prototype.top=m.prototype.peek,m.prototype.front=m.prototype.peek,m.prototype.has=m.prototype.contains,m.prototype.copy=m.prototype.clone,m}(),s!==null&&s.exports?s.exports=t:window.Heap=t}).call(i2)}(Fa)),Fa.exports}var Cd,Fx;function Vh(){return Fx||(Fx=1,Cd=n2()),Cd}var Pd,jx;function Pp(){if(jx)return Pd;jx=1;function s(t,e,i){this.x=t,this.y=e,this.walkable=i===void 0?!0:i}return Pd=s,Pd}var Id,Ox;function Ke(){if(Ox)return Id;Ox=1;var s={Always:1,Never:2,IfAtMostOneObstacle:3,OnlyWhenNoObstacles:4};return Id=s,Id}var Md,Bx;function r2(){if(Bx)return Md;Bx=1;var s=Pp(),t=Ke();function e(i,n,r){var o;typeof i!="object"?o=i:(n=i.length,o=i[0].length,r=i),this.width=o,this.height=n,this.nodes=this._buildNodes(o,n,r)}return e.prototype._buildNodes=function(i,n,r){var o,a,h=new Array(n);for(o=0;o<n;++o)for(h[o]=new Array(i),a=0;a<i;++a)h[o][a]=new s(a,o);if(r===void 0)return h;if(r.length!==n||r[0].length!==i)throw new Error("Matrix size does not fit");for(o=0;o<n;++o)for(a=0;a<i;++a)r[o][a]&&(h[o][a].walkable=!1);return h},e.prototype.getNodeAt=function(i,n){return this.nodes[n][i]},e.prototype.isWalkableAt=function(i,n){return this.isInside(i,n)&&this.nodes[n][i].walkable},e.prototype.isInside=function(i,n){return i>=0&&i<this.width&&n>=0&&n<this.height},e.prototype.setWalkableAt=function(i,n,r){this.nodes[n][i].walkable=r},e.prototype.getNeighbors=function(i,n){var r=i.x,o=i.y,a=[],h=!1,l=!1,u=!1,d=!1,f=!1,c=!1,g=!1,p=!1,m=this.nodes;if(this.isWalkableAt(r,o-1)&&(a.push(m[o-1][r]),h=!0),this.isWalkableAt(r+1,o)&&(a.push(m[o][r+1]),u=!0),this.isWalkableAt(r,o+1)&&(a.push(m[o+1][r]),f=!0),this.isWalkableAt(r-1,o)&&(a.push(m[o][r-1]),g=!0),n===t.Never)return a;if(n===t.OnlyWhenNoObstacles)l=g&&h,d=h&&u,c=u&&f,p=f&&g;else if(n===t.IfAtMostOneObstacle)l=g||h,d=h||u,c=u||f,p=f||g;else if(n===t.Always)l=!0,d=!0,c=!0,p=!0;else throw new Error("Incorrect value of diagonalMovement");return l&&this.isWalkableAt(r-1,o-1)&&a.push(m[o-1][r-1]),d&&this.isWalkableAt(r+1,o-1)&&a.push(m[o-1][r+1]),c&&this.isWalkableAt(r+1,o+1)&&a.push(m[o+1][r+1]),p&&this.isWalkableAt(r-1,o+1)&&a.push(m[o+1][r-1]),a},e.prototype.clone=function(){var i,n,r=this.width,o=this.height,a=this.nodes,h=new e(r,o),l=new Array(o);for(i=0;i<o;++i)for(l[i]=new Array(r),n=0;n<r;++n)l[i][n]=new s(n,i,a[i][n].walkable);return h.nodes=l,h},Md=e,Md}var an={},Lx;function kr(){if(Lx)return an;Lx=1;function s(a){for(var h=[[a.x,a.y]];a.parent;)a=a.parent,h.push([a.x,a.y]);return h.reverse()}an.backtrace=s;function t(a,h){var l=s(a),u=s(h);return l.concat(u.reverse())}an.biBacktrace=t;function e(a){var h,l=0,u,d,f,c;for(h=1;h<a.length;++h)u=a[h-1],d=a[h],f=u[0]-d[0],c=u[1]-d[1],l+=Math.sqrt(f*f+c*c);return l}an.pathLength=e;function i(a,h,l,u){var d=Math.abs,f=[],c,g,p,m,y,x;for(p=d(l-a),m=d(u-h),c=a<l?1:-1,g=h<u?1:-1,y=p-m;f.push([a,h]),!(a===l&&h===u);)x=2*y,x>-m&&(y=y-m,a=a+c),x<p&&(y=y+p,h=h+g);return f}an.interpolate=i;function n(a){var h=[],l=a.length,u,d,f,c,g,p;if(l<2)return h;for(g=0;g<l-1;++g)for(u=a[g],d=a[g+1],f=i(u[0],u[1],d[0],d[1]),c=f.length,p=0;p<c-1;++p)h.push(f[p]);return h.push(a[l-1]),h}an.expandPath=n;function r(a,h){var l=h.length,u=h[0][0],d=h[0][1],f=h[l-1][0],c=h[l-1][1],g,p,m,y,x,v,w,_,T,b,S;for(g=u,p=d,x=[[g,p]],v=2;v<l;++v){for(_=h[v],m=_[0],y=_[1],T=i(g,p,m,y),S=!1,w=1;w<T.length;++w)if(b=T[w],!a.isWalkableAt(b[0],b[1])){S=!0;break}S&&(lastValidCoord=h[v-1],x.push(lastValidCoord),g=lastValidCoord[0],p=lastValidCoord[1])}return x.push([f,c]),x}an.smoothenPath=r;function o(a){if(a.length<3)return a;var h=[],l=a[0][0],u=a[0][1],d=a[1][0],f=a[1][1],c=d-l,g=f-u,p,m,y,x,v,w;for(v=Math.sqrt(c*c+g*g),c/=v,g/=v,h.push([l,u]),w=2;w<a.length;w++)p=d,m=f,y=c,x=g,d=a[w][0],f=a[w][1],c=d-p,g=f-m,v=Math.sqrt(c*c+g*g),c/=v,g/=v,(c!==y||g!==x)&&h.push([p,m]);return h.push([d,f]),h}return an.compressPath=o,an}var zd,Nx;function Uo(){return Nx||(Nx=1,zd={manhattan:function(s,t){return s+t},euclidean:function(s,t){return Math.sqrt(s*s+t*t)},octile:function(s,t){var e=Math.SQRT2-1;return s<t?e*s+t:e*t+s},chebyshev:function(s,t){return Math.max(s,t)}}),zd}var Rd,qx;function Ip(){if(qx)return Rd;qx=1;var s=Vh(),t=kr(),e=Uo(),i=Ke();function n(r){r=r||{},this.allowDiagonal=r.allowDiagonal,this.dontCrossCorners=r.dontCrossCorners,this.heuristic=r.heuristic||e.manhattan,this.weight=r.weight||1,this.diagonalMovement=r.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=i.OnlyWhenNoObstacles:this.diagonalMovement=i.IfAtMostOneObstacle:this.diagonalMovement=i.Never),this.diagonalMovement===i.Never?this.heuristic=r.heuristic||e.manhattan:this.heuristic=r.heuristic||e.octile}return n.prototype.findPath=function(r,o,a,h,l){var u=new s(function(P,M){return P.f-M.f}),d=l.getNodeAt(r,o),f=l.getNodeAt(a,h),c=this.heuristic,g=this.diagonalMovement,p=this.weight,m=Math.abs,y=Math.SQRT2,x,v,w,_,T,b,S,A;for(d.g=0,d.f=0,u.push(d),d.opened=!0;!u.empty();){if(x=u.pop(),x.closed=!0,x===f)return t.backtrace(f);for(v=l.getNeighbors(x,g),_=0,T=v.length;_<T;++_)w=v[_],!w.closed&&(b=w.x,S=w.y,A=x.g+(b-x.x===0||S-x.y===0?1:y),(!w.opened||A<w.g)&&(w.g=A,w.h=w.h||p*c(m(b-a),m(S-h)),w.f=w.g+w.h,w.parent=x,w.opened?u.updateItem(w):(u.push(w),w.opened=!0)))}return[]},Rd=n,Rd}var Dd,Ux;function s2(){if(Ux)return Dd;Ux=1;var s=Ip();function t(e){s.call(this,e);var i=this.heuristic;this.heuristic=function(n,r){return i(n,r)*1e6}}return t.prototype=new s,t.prototype.constructor=t,Dd=t,Dd}var kd,Gx;function o2(){if(Gx)return kd;Gx=1;var s=kr(),t=Ke();function e(i){i=i||{},this.allowDiagonal=i.allowDiagonal,this.dontCrossCorners=i.dontCrossCorners,this.diagonalMovement=i.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=t.OnlyWhenNoObstacles:this.diagonalMovement=t.IfAtMostOneObstacle:this.diagonalMovement=t.Never)}return e.prototype.findPath=function(i,n,r,o,a){var h=[],l=this.diagonalMovement,u=a.getNodeAt(i,n),d=a.getNodeAt(r,o),f,c,g,p,m;for(h.push(u),u.opened=!0;h.length;){if(g=h.shift(),g.closed=!0,g===d)return s.backtrace(d);for(f=a.getNeighbors(g,l),p=0,m=f.length;p<m;++p)c=f[p],!(c.closed||c.opened)&&(h.push(c),c.opened=!0,c.parent=g)}return[]},kd=e,kd}var Fd,Hx;function a2(){if(Hx)return Fd;Hx=1;var s=Ip();function t(e){s.call(this,e),this.heuristic=function(i,n){return 0}}return t.prototype=new s,t.prototype.constructor=t,Fd=t,Fd}var jd,Wx;function Mp(){if(Wx)return jd;Wx=1;var s=Vh(),t=kr(),e=Uo(),i=Ke();function n(r){r=r||{},this.allowDiagonal=r.allowDiagonal,this.dontCrossCorners=r.dontCrossCorners,this.diagonalMovement=r.diagonalMovement,this.heuristic=r.heuristic||e.manhattan,this.weight=r.weight||1,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=i.OnlyWhenNoObstacles:this.diagonalMovement=i.IfAtMostOneObstacle:this.diagonalMovement=i.Never),this.diagonalMovement===i.Never?this.heuristic=r.heuristic||e.manhattan:this.heuristic=r.heuristic||e.octile}return n.prototype.findPath=function(r,o,a,h,l){var u=function(D,F){return D.f-F.f},d=new s(u),f=new s(u),c=l.getNodeAt(r,o),g=l.getNodeAt(a,h),p=this.heuristic,m=this.diagonalMovement,y=this.weight,x=Math.abs,v=Math.SQRT2,w,_,T,b,S,A,P,M,C=1,R=2;for(c.g=0,c.f=0,d.push(c),c.opened=C,g.g=0,g.f=0,f.push(g),g.opened=R;!d.empty()&&!f.empty();){for(w=d.pop(),w.closed=!0,_=l.getNeighbors(w,m),b=0,S=_.length;b<S;++b)if(T=_[b],!T.closed){if(T.opened===R)return t.biBacktrace(w,T);A=T.x,P=T.y,M=w.g+(A-w.x===0||P-w.y===0?1:v),(!T.opened||M<T.g)&&(T.g=M,T.h=T.h||y*p(x(A-a),x(P-h)),T.f=T.g+T.h,T.parent=w,T.opened?d.updateItem(T):(d.push(T),T.opened=C))}for(w=f.pop(),w.closed=!0,_=l.getNeighbors(w,m),b=0,S=_.length;b<S;++b)if(T=_[b],!T.closed){if(T.opened===C)return t.biBacktrace(T,w);A=T.x,P=T.y,M=w.g+(A-w.x===0||P-w.y===0?1:v),(!T.opened||M<T.g)&&(T.g=M,T.h=T.h||y*p(x(A-r),x(P-o)),T.f=T.g+T.h,T.parent=w,T.opened?f.updateItem(T):(f.push(T),T.opened=R))}}return[]},jd=n,jd}var Od,Vx;function h2(){if(Vx)return Od;Vx=1;var s=Mp();function t(e){s.call(this,e);var i=this.heuristic;this.heuristic=function(n,r){return i(n,r)*1e6}}return t.prototype=new s,t.prototype.constructor=t,Od=t,Od}var Bd,$x;function l2(){if($x)return Bd;$x=1;var s=kr(),t=Ke();function e(i){i=i||{},this.allowDiagonal=i.allowDiagonal,this.dontCrossCorners=i.dontCrossCorners,this.diagonalMovement=i.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=t.OnlyWhenNoObstacles:this.diagonalMovement=t.IfAtMostOneObstacle:this.diagonalMovement=t.Never)}return e.prototype.findPath=function(i,n,r,o,a){var h=a.getNodeAt(i,n),l=a.getNodeAt(r,o),u=[],d=[],f,c,g,p=this.diagonalMovement,m=0,y=1,x,v;for(u.push(h),h.opened=!0,h.by=m,d.push(l),l.opened=!0,l.by=y;u.length&&d.length;){for(g=u.shift(),g.closed=!0,f=a.getNeighbors(g,p),x=0,v=f.length;x<v;++x)if(c=f[x],!c.closed){if(c.opened){if(c.by===y)return s.biBacktrace(g,c);continue}u.push(c),c.parent=g,c.opened=!0,c.by=m}for(g=d.shift(),g.closed=!0,f=a.getNeighbors(g,p),x=0,v=f.length;x<v;++x)if(c=f[x],!c.closed){if(c.opened){if(c.by===m)return s.biBacktrace(c,g);continue}d.push(c),c.parent=g,c.opened=!0,c.by=y}}return[]},Bd=e,Bd}var Ld,Xx;function u2(){if(Xx)return Ld;Xx=1;var s=Mp();function t(e){s.call(this,e),this.heuristic=function(i,n){return 0}}return t.prototype=new s,t.prototype.constructor=t,Ld=t,Ld}var Nd,Yx;function c2(){if(Yx)return Nd;Yx=1,kr();var s=Uo(),t=Pp(),e=Ke();function i(n){n=n||{},this.allowDiagonal=n.allowDiagonal,this.dontCrossCorners=n.dontCrossCorners,this.diagonalMovement=n.diagonalMovement,this.heuristic=n.heuristic||s.manhattan,this.weight=n.weight||1,this.trackRecursion=n.trackRecursion||!1,this.timeLimit=n.timeLimit||1/0,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=e.OnlyWhenNoObstacles:this.diagonalMovement=e.IfAtMostOneObstacle:this.diagonalMovement=e.Never),this.diagonalMovement===e.Never?this.heuristic=n.heuristic||s.manhattan:this.heuristic=n.heuristic||s.octile}return i.prototype.findPath=function(n,r,o,a,h){var l=new Date().getTime(),u=(function(v,w){return this.heuristic(Math.abs(w.x-v.x),Math.abs(w.y-v.y))}).bind(this),d=function(v,w){return v.x===w.x||v.y===w.y?1:Math.SQRT2},f=(function(v,w,_,T,b){if(this.timeLimit>0&&new Date().getTime()-l>this.timeLimit*1e3)return 1/0;var S=w+u(v,g)*this.weight;if(S>_)return S;if(v==g)return T[b]=[v.x,v.y],v;var A,P,M,C,R=h.getNeighbors(v,this.diagonalMovement);for(M=0,A=1/0;C=R[M];++M){if(this.trackRecursion&&(C.retainCount=C.retainCount+1||1,C.tested!==!0&&(C.tested=!0)),P=f(C,w+d(v,C),_,T,b+1),P instanceof t)return T[b]=[v.x,v.y],P;this.trackRecursion&&--C.retainCount===0&&(C.tested=!1),P<A&&(A=P)}return A}).bind(this),c=h.getNodeAt(n,r),g=h.getNodeAt(o,a),p=u(c,g),m,y,x;for(m=0;;++m){if(y=[],x=f(c,0,p,y,0),x===1/0)return[];if(x instanceof t)return y;p=x}return[]},Nd=i,Nd}var qd,Zx;function $h(){if(Zx)return qd;Zx=1;var s=Vh(),t=kr(),e=Uo();Ke();function i(n){n=n||{},this.heuristic=n.heuristic||e.manhattan,this.trackJumpRecursion=n.trackJumpRecursion||!1}return i.prototype.findPath=function(n,r,o,a,h){var l=this.openList=new s(function(c,g){return c.f-g.f}),u=this.startNode=h.getNodeAt(n,r),d=this.endNode=h.getNodeAt(o,a),f;for(this.grid=h,u.g=0,u.f=0,l.push(u),u.opened=!0;!l.empty();){if(f=l.pop(),f.closed=!0,f===d)return t.expandPath(t.backtrace(d));this._identifySuccessors(f)}return[]},i.prototype._identifySuccessors=function(n){var r=this.grid,o=this.heuristic,a=this.openList,h=this.endNode.x,l=this.endNode.y,u,d,f,c,g,p=n.x,m=n.y,y,x,v,w,_,T=Math.abs;for(u=this._findNeighbors(n),c=0,g=u.length;c<g;++c)if(d=u[c],f=this._jump(d[0],d[1],p,m),f){if(y=f[0],x=f[1],_=r.getNodeAt(y,x),_.closed)continue;v=e.octile(T(y-p),T(x-m)),w=n.g+v,(!_.opened||w<_.g)&&(_.g=w,_.h=_.h||o(T(y-h),T(x-l)),_.f=_.g+_.h,_.parent=n,_.opened?a.updateItem(_):(a.push(_),_.opened=!0))}},qd=i,qd}var Ud,Kx;function d2(){if(Kx)return Ud;Kx=1;var s=$h(),t=Ke();function e(i){s.call(this,i)}return e.prototype=new s,e.prototype.constructor=e,e.prototype._jump=function(i,n,r,o){var a=this.grid,h=i-r,l=n-o;if(!a.isWalkableAt(i,n))return null;if(this.trackJumpRecursion===!0&&(a.getNodeAt(i,n).tested=!0),a.getNodeAt(i,n)===this.endNode)return[i,n];if(h!==0){if(a.isWalkableAt(i,n-1)&&!a.isWalkableAt(i-h,n-1)||a.isWalkableAt(i,n+1)&&!a.isWalkableAt(i-h,n+1))return[i,n]}else if(l!==0){if(a.isWalkableAt(i-1,n)&&!a.isWalkableAt(i-1,n-l)||a.isWalkableAt(i+1,n)&&!a.isWalkableAt(i+1,n-l))return[i,n];if(this._jump(i+1,n,i,n)||this._jump(i-1,n,i,n))return[i,n]}else throw new Error("Only horizontal and vertical movements are allowed");return this._jump(i+h,n+l,i,n)},e.prototype._findNeighbors=function(i){var n=i.parent,r=i.x,o=i.y,a=this.grid,h,l,u,d,f=[],c,g,p,m;if(n)h=n.x,l=n.y,u=(r-h)/Math.max(Math.abs(r-h),1),d=(o-l)/Math.max(Math.abs(o-l),1),u!==0?(a.isWalkableAt(r,o-1)&&f.push([r,o-1]),a.isWalkableAt(r,o+1)&&f.push([r,o+1]),a.isWalkableAt(r+u,o)&&f.push([r+u,o])):d!==0&&(a.isWalkableAt(r-1,o)&&f.push([r-1,o]),a.isWalkableAt(r+1,o)&&f.push([r+1,o]),a.isWalkableAt(r,o+d)&&f.push([r,o+d]));else for(c=a.getNeighbors(i,t.Never),p=0,m=c.length;p<m;++p)g=c[p],f.push([g.x,g.y]);return f},Ud=e,Ud}var Gd,Jx;function f2(){if(Jx)return Gd;Jx=1;var s=$h(),t=Ke();function e(i){s.call(this,i)}return e.prototype=new s,e.prototype.constructor=e,e.prototype._jump=function(i,n,r,o){var a=this.grid,h=i-r,l=n-o;if(!a.isWalkableAt(i,n))return null;if(this.trackJumpRecursion===!0&&(a.getNodeAt(i,n).tested=!0),a.getNodeAt(i,n)===this.endNode)return[i,n];if(h!==0&&l!==0){if(a.isWalkableAt(i-h,n+l)&&!a.isWalkableAt(i-h,n)||a.isWalkableAt(i+h,n-l)&&!a.isWalkableAt(i,n-l))return[i,n];if(this._jump(i+h,n,i,n)||this._jump(i,n+l,i,n))return[i,n]}else if(h!==0){if(a.isWalkableAt(i+h,n+1)&&!a.isWalkableAt(i,n+1)||a.isWalkableAt(i+h,n-1)&&!a.isWalkableAt(i,n-1))return[i,n]}else if(a.isWalkableAt(i+1,n+l)&&!a.isWalkableAt(i+1,n)||a.isWalkableAt(i-1,n+l)&&!a.isWalkableAt(i-1,n))return[i,n];return this._jump(i+h,n+l,i,n)},e.prototype._findNeighbors=function(i){var n=i.parent,r=i.x,o=i.y,a=this.grid,h,l,u,d,f=[],c,g,p,m;if(n)h=n.x,l=n.y,u=(r-h)/Math.max(Math.abs(r-h),1),d=(o-l)/Math.max(Math.abs(o-l),1),u!==0&&d!==0?(a.isWalkableAt(r,o+d)&&f.push([r,o+d]),a.isWalkableAt(r+u,o)&&f.push([r+u,o]),a.isWalkableAt(r+u,o+d)&&f.push([r+u,o+d]),a.isWalkableAt(r-u,o)||f.push([r-u,o+d]),a.isWalkableAt(r,o-d)||f.push([r+u,o-d])):u===0?(a.isWalkableAt(r,o+d)&&f.push([r,o+d]),a.isWalkableAt(r+1,o)||f.push([r+1,o+d]),a.isWalkableAt(r-1,o)||f.push([r-1,o+d])):(a.isWalkableAt(r+u,o)&&f.push([r+u,o]),a.isWalkableAt(r,o+1)||f.push([r+u,o+1]),a.isWalkableAt(r,o-1)||f.push([r+u,o-1]));else for(c=a.getNeighbors(i,t.Always),p=0,m=c.length;p<m;++p)g=c[p],f.push([g.x,g.y]);return f},Gd=e,Gd}var Hd,Qx;function g2(){if(Qx)return Hd;Qx=1;var s=$h(),t=Ke();function e(i){s.call(this,i)}return e.prototype=new s,e.prototype.constructor=e,e.prototype._jump=function(i,n,r,o){var a=this.grid,h=i-r,l=n-o;if(!a.isWalkableAt(i,n))return null;if(this.trackJumpRecursion===!0&&(a.getNodeAt(i,n).tested=!0),a.getNodeAt(i,n)===this.endNode)return[i,n];if(h!==0&&l!==0){if(this._jump(i+h,n,i,n)||this._jump(i,n+l,i,n))return[i,n]}else if(h!==0){if(a.isWalkableAt(i,n-1)&&!a.isWalkableAt(i-h,n-1)||a.isWalkableAt(i,n+1)&&!a.isWalkableAt(i-h,n+1))return[i,n]}else if(l!==0&&(a.isWalkableAt(i-1,n)&&!a.isWalkableAt(i-1,n-l)||a.isWalkableAt(i+1,n)&&!a.isWalkableAt(i+1,n-l)))return[i,n];return a.isWalkableAt(i+h,n)&&a.isWalkableAt(i,n+l)?this._jump(i+h,n+l,i,n):null},e.prototype._findNeighbors=function(i){var n=i.parent,r=i.x,o=i.y,a=this.grid,h,l,u,d,f=[],c,g,p,m;if(n)if(h=n.x,l=n.y,u=(r-h)/Math.max(Math.abs(r-h),1),d=(o-l)/Math.max(Math.abs(o-l),1),u!==0&&d!==0)a.isWalkableAt(r,o+d)&&f.push([r,o+d]),a.isWalkableAt(r+u,o)&&f.push([r+u,o]),a.isWalkableAt(r,o+d)&&a.isWalkableAt(r+u,o)&&f.push([r+u,o+d]);else{var y;if(u!==0){y=a.isWalkableAt(r+u,o);var x=a.isWalkableAt(r,o+1),v=a.isWalkableAt(r,o-1);y&&(f.push([r+u,o]),x&&f.push([r+u,o+1]),v&&f.push([r+u,o-1])),x&&f.push([r,o+1]),v&&f.push([r,o-1])}else if(d!==0){y=a.isWalkableAt(r,o+d);var w=a.isWalkableAt(r+1,o),_=a.isWalkableAt(r-1,o);y&&(f.push([r,o+d]),w&&f.push([r+1,o+d]),_&&f.push([r-1,o+d])),w&&f.push([r+1,o]),_&&f.push([r-1,o])}}else for(c=a.getNeighbors(i,t.OnlyWhenNoObstacles),p=0,m=c.length;p<m;++p)g=c[p],f.push([g.x,g.y]);return f},Hd=e,Hd}var Wd,tv;function p2(){if(tv)return Wd;tv=1;var s=$h(),t=Ke();function e(i){s.call(this,i)}return e.prototype=new s,e.prototype.constructor=e,e.prototype._jump=function(i,n,r,o){var a=this.grid,h=i-r,l=n-o;if(!a.isWalkableAt(i,n))return null;if(this.trackJumpRecursion===!0&&(a.getNodeAt(i,n).tested=!0),a.getNodeAt(i,n)===this.endNode)return[i,n];if(h!==0&&l!==0){if(a.isWalkableAt(i-h,n+l)&&!a.isWalkableAt(i-h,n)||a.isWalkableAt(i+h,n-l)&&!a.isWalkableAt(i,n-l))return[i,n];if(this._jump(i+h,n,i,n)||this._jump(i,n+l,i,n))return[i,n]}else if(h!==0){if(a.isWalkableAt(i+h,n+1)&&!a.isWalkableAt(i,n+1)||a.isWalkableAt(i+h,n-1)&&!a.isWalkableAt(i,n-1))return[i,n]}else if(a.isWalkableAt(i+1,n+l)&&!a.isWalkableAt(i+1,n)||a.isWalkableAt(i-1,n+l)&&!a.isWalkableAt(i-1,n))return[i,n];return a.isWalkableAt(i+h,n)||a.isWalkableAt(i,n+l)?this._jump(i+h,n+l,i,n):null},e.prototype._findNeighbors=function(i){var n=i.parent,r=i.x,o=i.y,a=this.grid,h,l,u,d,f=[],c,g,p,m;if(n)h=n.x,l=n.y,u=(r-h)/Math.max(Math.abs(r-h),1),d=(o-l)/Math.max(Math.abs(o-l),1),u!==0&&d!==0?(a.isWalkableAt(r,o+d)&&f.push([r,o+d]),a.isWalkableAt(r+u,o)&&f.push([r+u,o]),(a.isWalkableAt(r,o+d)||a.isWalkableAt(r+u,o))&&f.push([r+u,o+d]),!a.isWalkableAt(r-u,o)&&a.isWalkableAt(r,o+d)&&f.push([r-u,o+d]),!a.isWalkableAt(r,o-d)&&a.isWalkableAt(r+u,o)&&f.push([r+u,o-d])):u===0?a.isWalkableAt(r,o+d)&&(f.push([r,o+d]),a.isWalkableAt(r+1,o)||f.push([r+1,o+d]),a.isWalkableAt(r-1,o)||f.push([r-1,o+d])):a.isWalkableAt(r+u,o)&&(f.push([r+u,o]),a.isWalkableAt(r,o+1)||f.push([r+u,o+1]),a.isWalkableAt(r,o-1)||f.push([r+u,o-1]));else for(c=a.getNeighbors(i,t.IfAtMostOneObstacle),p=0,m=c.length;p<m;++p)g=c[p],f.push([g.x,g.y]);return f},Wd=e,Wd}var Vd,ev;function m2(){if(ev)return Vd;ev=1;var s=Ke(),t=d2(),e=f2(),i=g2(),n=p2();function r(o){return o=o||{},o.diagonalMovement===s.Never?new t(o):o.diagonalMovement===s.Always?new e(o):o.diagonalMovement===s.OnlyWhenNoObstacles?new i(o):new n(o)}return Vd=r,Vd}var $d,iv;function y2(){return iv||(iv=1,$d={Heap:Vh(),Node:Pp(),Grid:r2(),Util:kr(),DiagonalMovement:Ke(),Heuristic:Uo(),AStarFinder:Ip(),BestFirstFinder:s2(),BreadthFirstFinder:o2(),DijkstraFinder:a2(),BiAStarFinder:Mp(),BiBestFirstFinder:h2(),BiBreadthFirstFinder:l2(),BiDijkstraFinder:u2(),IDAStarFinder:c2(),JumpPointFinder:m2()}),$d}var Xd,nv;function _2(){return nv||(nv=1,Xd=y2()),Xd}var _T=_2();const rv=_s(_T);class x2{constructor(){G(this,"GRID_SIZE",1e3);G(this,"_obstacleList",new Map);G(this,"x",0);G(this,"y",0);G(this,"coordX",0);G(this,"coordY",0);G(this,"grid");G(this,"finder");G(this,"entities",[])}setPosition(t,e){this.x=t,this.y=e}setCoord(t,e){this.coordX=t,this.coordY=e}setGrid(t){this.grid=t}setFinder(t){this.finder=t}getRandomWalkableGrid(t){const{x:i,y:n}=Eo(t.x,t.y),r=this.getNearbyGrids(i,n,10);if(r.length===0)return;const o=kt(0,r.length-1),{x:a,y:h}=r[o],l=(a+.5)*Ce.CELL_SIZE,u=(h+.5)*Ce.CELL_SIZE;return{x:l,y:u}}getNearbyGrids(t,e,i){const n=[];for(let r=0;r<i*2;r++)for(let o=0;o<i*2;o++){const a=t-i+r,h=e-i+o;a>=0&&a<=this.grid.width&&h>=0&&h<=this.grid.height&&this.grid.isWalkableAt(a,h)&&n.push({x:a,y:h})}return n}getRandomFreeGrid(){const t=[];for(let r=0;r<this.grid.width;r++)for(let o=0;o<this.grid.height;o++)this.grid.isWalkableAt(r,o)&&t.push({x:r,y:o});const e=kt(0,t.length-1),{x:i,y:n}=t[e];return{x:(i+.5)*Ce.CELL_SIZE,y:(n+.5)*Ce.CELL_SIZE}}addObstacle(t,e,i){this.grid.setWalkableAt(t,e,!1),this.entities.push(i);const{x:n,y:r}=i,o=this.getKey(n,r);this._obstacleList.has(o)||this._obstacleList.set(o,[]),this._obstacleList.get(o).push({gridX:t,gridY:e,obstacle:i})}update(t,e,i){const n=this.getKey(e,i),r=this.getKey(t.x,t.y);if(n===r)return;const o=this._obstacleList.get(n);if(o){const l=o.findIndex(u=>u.obstacle===t);l>=0&&o.splice(l,1)}this._obstacleList.has(r)||this._obstacleList.set(r,[]);const{x:a,y:h}=Eo(t.x,t.y);this._obstacleList.get(r).push({gridX:a,gridY:h,obstacle:t})}queryNearby(t,e){const i=Math.floor(t/this.GRID_SIZE),n=Math.floor(e/this.GRID_SIZE),r=[];for(let o=-1;o<=1;o++)for(let a=-1;a<=1;a++){const h=`${i+a}_${n+o}`,l=this._obstacleList.get(h);l&&r.push(...l)}return r}getKey(t,e){return`${Math.floor(t/this.GRID_SIZE)}_${Math.floor(e/this.GRID_SIZE)}`}}const Oi=new x2;var vn=(s=>(s.TIP="TIP",s.SHOW_FISH_INFO="SHOW_FISH_INFO",s.PRODUCE_FISH_FRY="PRODUCE_FISH_FRY",s.DEFECATION="DEFECATION",s.SHOW_FISH_INFO_CARD="SHOW_FISH_INFO_CARD",s.CREATE_OBSTACLE="CREATE_OBSTACLE",s))(vn||{});const $n=jz();class v2 extends No{constructor(){super({entityCardId:"",entityCardLastName:""})}}const gn=new v2,Fr=new jR;$n.on(vn.TIP,s=>{Fr.getInstance("TIP").tip(s)});$n.on(vn.SHOW_FISH_INFO_CARD,s=>{Fr.getInstance("FISH_INFO_CARD").setVisible(s)});$n.on(vn.SHOW_FISH_INFO,(s,t)=>{t===gn.getValue("entityCardId")?($n.emit(vn.SHOW_FISH_INFO_CARD,!1),gn.setValue("entityCardLastName",""),gn.setValue("entityCardId","")):($n.emit(vn.SHOW_FISH_INFO_CARD,!0),gn.setValue("entityCardLastName",s),gn.setValue("entityCardId",t))});$n.on(vn.CREATE_OBSTACLE,(s,t)=>{Fr.getInstance("FIND_WAY_MAP").createObstacle(s,t)});var ja={exports:{}};/*!
 * matter-js 0.20.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var b2=ja.exports,sv;function w2(){return sv||(sv=1,function(s,t){(function(i,n){s.exports=n()})(b2,function(){return function(e){var i={};function n(r){if(i[r])return i[r].exports;var o=i[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=i,n.d=function(r,o,a){n.o(r,o)||Object.defineProperty(r,o,{enumerable:!0,get:a})},n.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,o){if(o&1&&(r=n(r)),o&8||o&4&&typeof r=="object"&&r&&r.__esModule)return r;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:r}),o&2&&typeof r!="string")for(var h in r)n.d(a,h,(function(l){return r[l]}).bind(null,h));return a},n.n=function(r){var o=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(o,"a",o),o},n.o=function(r,o){return Object.prototype.hasOwnProperty.call(r,o)},n.p="",n(n.s=20)}([function(e,i){var n={};e.exports=n,function(){n._baseDelta=1e3/60,n._nextId=0,n._seed=0,n._nowStartTime=+new Date,n._warnedOnce={},n._decomp=null,n.extend=function(o,a){var h,l;typeof a=="boolean"?(h=2,l=a):(h=1,l=!0);for(var u=h;u<arguments.length;u++){var d=arguments[u];if(d)for(var f in d)l&&d[f]&&d[f].constructor===Object&&(!o[f]||o[f].constructor===Object)?(o[f]=o[f]||{},n.extend(o[f],l,d[f])):o[f]=d[f]}return o},n.clone=function(o,a){return n.extend({},a,o)},n.keys=function(o){if(Object.keys)return Object.keys(o);var a=[];for(var h in o)a.push(h);return a},n.values=function(o){var a=[];if(Object.keys){for(var h=Object.keys(o),l=0;l<h.length;l++)a.push(o[h[l]]);return a}for(var u in o)a.push(o[u]);return a},n.get=function(o,a,h,l){a=a.split(".").slice(h,l);for(var u=0;u<a.length;u+=1)o=o[a[u]];return o},n.set=function(o,a,h,l,u){var d=a.split(".").slice(l,u);return n.get(o,a,0,-1)[d[d.length-1]]=h,h},n.shuffle=function(o){for(var a=o.length-1;a>0;a--){var h=Math.floor(n.random()*(a+1)),l=o[a];o[a]=o[h],o[h]=l}return o},n.choose=function(o){return o[Math.floor(n.random()*o.length)]},n.isElement=function(o){return typeof HTMLElement<"u"?o instanceof HTMLElement:!!(o&&o.nodeType&&o.nodeName)},n.isArray=function(o){return Object.prototype.toString.call(o)==="[object Array]"},n.isFunction=function(o){return typeof o=="function"},n.isPlainObject=function(o){return typeof o=="object"&&o.constructor===Object},n.isString=function(o){return toString.call(o)==="[object String]"},n.clamp=function(o,a,h){return o<a?a:o>h?h:o},n.sign=function(o){return o<0?-1:1},n.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-n._nowStartTime},n.random=function(o,a){return o=typeof o<"u"?o:0,a=typeof a<"u"?a:1,o+r()*(a-o)};var r=function(){return n._seed=(n._seed*9301+49297)%233280,n._seed/233280};n.colorToNumber=function(o){return o=o.replace("#",""),o.length==3&&(o=o.charAt(0)+o.charAt(0)+o.charAt(1)+o.charAt(1)+o.charAt(2)+o.charAt(2)),parseInt(o,16)},n.logLevel=1,n.log=function(){console&&n.logLevel>0&&n.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},n.info=function(){console&&n.logLevel>0&&n.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},n.warn=function(){console&&n.logLevel>0&&n.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},n.warnOnce=function(){var o=Array.prototype.slice.call(arguments).join(" ");n._warnedOnce[o]||(n.warn(o),n._warnedOnce[o]=!0)},n.deprecated=function(o,a,h){o[a]=n.chain(function(){n.warnOnce(" deprecated ",h)},o[a])},n.nextId=function(){return n._nextId++},n.indexOf=function(o,a){if(o.indexOf)return o.indexOf(a);for(var h=0;h<o.length;h++)if(o[h]===a)return h;return-1},n.map=function(o,a){if(o.map)return o.map(a);for(var h=[],l=0;l<o.length;l+=1)h.push(a(o[l]));return h},n.topologicalSort=function(o){var a=[],h=[],l=[];for(var u in o)!h[u]&&!l[u]&&n._topologicalSort(u,h,l,o,a);return a},n._topologicalSort=function(o,a,h,l,u){var d=l[o]||[];h[o]=!0;for(var f=0;f<d.length;f+=1){var c=d[f];h[c]||a[c]||n._topologicalSort(c,a,h,l,u)}h[o]=!1,a[o]=!0,u.push(o)},n.chain=function(){for(var o=[],a=0;a<arguments.length;a+=1){var h=arguments[a];h._chained?o.push.apply(o,h._chained):o.push(h)}var l=function(){for(var u,d=new Array(arguments.length),f=0,c=arguments.length;f<c;f++)d[f]=arguments[f];for(f=0;f<o.length;f+=1){var g=o[f].apply(u,d);typeof g<"u"&&(u=g)}return u};return l._chained=o,l},n.chainPathBefore=function(o,a,h){return n.set(o,a,n.chain(h,n.get(o,a)))},n.chainPathAfter=function(o,a,h){return n.set(o,a,n.chain(n.get(o,a),h))},n.setDecomp=function(o){n._decomp=o},n.getDecomp=function(){var o=n._decomp;try{!o&&typeof window<"u"&&(o=window.decomp),!o&&typeof Ni<"u"&&(o=Ni.decomp)}catch{o=null}return o}}()},function(e,i){var n={};e.exports=n,function(){n.create=function(r){var o={min:{x:0,y:0},max:{x:0,y:0}};return r&&n.update(o,r),o},n.update=function(r,o,a){r.min.x=1/0,r.max.x=-1/0,r.min.y=1/0,r.max.y=-1/0;for(var h=0;h<o.length;h++){var l=o[h];l.x>r.max.x&&(r.max.x=l.x),l.x<r.min.x&&(r.min.x=l.x),l.y>r.max.y&&(r.max.y=l.y),l.y<r.min.y&&(r.min.y=l.y)}a&&(a.x>0?r.max.x+=a.x:r.min.x+=a.x,a.y>0?r.max.y+=a.y:r.min.y+=a.y)},n.contains=function(r,o){return o.x>=r.min.x&&o.x<=r.max.x&&o.y>=r.min.y&&o.y<=r.max.y},n.overlaps=function(r,o){return r.min.x<=o.max.x&&r.max.x>=o.min.x&&r.max.y>=o.min.y&&r.min.y<=o.max.y},n.translate=function(r,o){r.min.x+=o.x,r.max.x+=o.x,r.min.y+=o.y,r.max.y+=o.y},n.shift=function(r,o){var a=r.max.x-r.min.x,h=r.max.y-r.min.y;r.min.x=o.x,r.max.x=o.x+a,r.min.y=o.y,r.max.y=o.y+h}}()},function(e,i){var n={};e.exports=n,function(){n.create=function(r,o){return{x:r||0,y:o||0}},n.clone=function(r){return{x:r.x,y:r.y}},n.magnitude=function(r){return Math.sqrt(r.x*r.x+r.y*r.y)},n.magnitudeSquared=function(r){return r.x*r.x+r.y*r.y},n.rotate=function(r,o,a){var h=Math.cos(o),l=Math.sin(o);a||(a={});var u=r.x*h-r.y*l;return a.y=r.x*l+r.y*h,a.x=u,a},n.rotateAbout=function(r,o,a,h){var l=Math.cos(o),u=Math.sin(o);h||(h={});var d=a.x+((r.x-a.x)*l-(r.y-a.y)*u);return h.y=a.y+((r.x-a.x)*u+(r.y-a.y)*l),h.x=d,h},n.normalise=function(r){var o=n.magnitude(r);return o===0?{x:0,y:0}:{x:r.x/o,y:r.y/o}},n.dot=function(r,o){return r.x*o.x+r.y*o.y},n.cross=function(r,o){return r.x*o.y-r.y*o.x},n.cross3=function(r,o,a){return(o.x-r.x)*(a.y-r.y)-(o.y-r.y)*(a.x-r.x)},n.add=function(r,o,a){return a||(a={}),a.x=r.x+o.x,a.y=r.y+o.y,a},n.sub=function(r,o,a){return a||(a={}),a.x=r.x-o.x,a.y=r.y-o.y,a},n.mult=function(r,o){return{x:r.x*o,y:r.y*o}},n.div=function(r,o){return{x:r.x/o,y:r.y/o}},n.perp=function(r,o){return o=o===!0?-1:1,{x:o*-r.y,y:o*r.x}},n.neg=function(r){return{x:-r.x,y:-r.y}},n.angle=function(r,o){return Math.atan2(o.y-r.y,o.x-r.x)},n._temp=[n.create(),n.create(),n.create(),n.create(),n.create(),n.create()]}()},function(e,i,n){var r={};e.exports=r;var o=n(2),a=n(0);(function(){r.create=function(h,l){for(var u=[],d=0;d<h.length;d++){var f=h[d],c={x:f.x,y:f.y,index:d,body:l,isInternal:!1};u.push(c)}return u},r.fromPath=function(h,l){var u=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,d=[];return h.replace(u,function(f,c,g){d.push({x:parseFloat(c),y:parseFloat(g)})}),r.create(d,l)},r.centre=function(h){for(var l=r.area(h,!0),u={x:0,y:0},d,f,c,g=0;g<h.length;g++)c=(g+1)%h.length,d=o.cross(h[g],h[c]),f=o.mult(o.add(h[g],h[c]),d),u=o.add(u,f);return o.div(u,6*l)},r.mean=function(h){for(var l={x:0,y:0},u=0;u<h.length;u++)l.x+=h[u].x,l.y+=h[u].y;return o.div(l,h.length)},r.area=function(h,l){for(var u=0,d=h.length-1,f=0;f<h.length;f++)u+=(h[d].x-h[f].x)*(h[d].y+h[f].y),d=f;return l?u/2:Math.abs(u)/2},r.inertia=function(h,l){for(var u=0,d=0,f=h,c,g,p=0;p<f.length;p++)g=(p+1)%f.length,c=Math.abs(o.cross(f[g],f[p])),u+=c*(o.dot(f[g],f[g])+o.dot(f[g],f[p])+o.dot(f[p],f[p])),d+=c;return l/6*(u/d)},r.translate=function(h,l,u){u=typeof u<"u"?u:1;var d=h.length,f=l.x*u,c=l.y*u,g;for(g=0;g<d;g++)h[g].x+=f,h[g].y+=c;return h},r.rotate=function(h,l,u){if(l!==0){var d=Math.cos(l),f=Math.sin(l),c=u.x,g=u.y,p=h.length,m,y,x,v;for(v=0;v<p;v++)m=h[v],y=m.x-c,x=m.y-g,m.x=c+(y*d-x*f),m.y=g+(y*f+x*d);return h}},r.contains=function(h,l){for(var u=l.x,d=l.y,f=h.length,c=h[f-1],g,p=0;p<f;p++){if(g=h[p],(u-c.x)*(g.y-c.y)+(d-c.y)*(c.x-g.x)>0)return!1;c=g}return!0},r.scale=function(h,l,u,d){if(l===1&&u===1)return h;d=d||r.centre(h);for(var f,c,g=0;g<h.length;g++)f=h[g],c=o.sub(f,d),h[g].x=d.x+c.x*l,h[g].y=d.y+c.y*u;return h},r.chamfer=function(h,l,u,d,f){typeof l=="number"?l=[l]:l=l||[8],u=typeof u<"u"?u:-1,d=d||2,f=f||14;for(var c=[],g=0;g<h.length;g++){var p=h[g-1>=0?g-1:h.length-1],m=h[g],y=h[(g+1)%h.length],x=l[g<l.length?g:l.length-1];if(x===0){c.push(m);continue}var v=o.normalise({x:m.y-p.y,y:p.x-m.x}),w=o.normalise({x:y.y-m.y,y:m.x-y.x}),_=Math.sqrt(2*Math.pow(x,2)),T=o.mult(a.clone(v),x),b=o.normalise(o.mult(o.add(v,w),.5)),S=o.sub(m,o.mult(b,_)),A=u;u===-1&&(A=Math.pow(x,.32)*1.75),A=a.clamp(A,d,f),A%2===1&&(A+=1);for(var P=Math.acos(o.dot(v,w)),M=P/A,C=0;C<A;C++)c.push(o.add(o.rotate(T,M*C),S))}return c},r.clockwiseSort=function(h){var l=r.mean(h);return h.sort(function(u,d){return o.angle(l,u)-o.angle(l,d)}),h},r.isConvex=function(h){var l=0,u=h.length,d,f,c,g;if(u<3)return null;for(d=0;d<u;d++)if(f=(d+1)%u,c=(d+2)%u,g=(h[f].x-h[d].x)*(h[c].y-h[f].y),g-=(h[f].y-h[d].y)*(h[c].x-h[f].x),g<0?l|=1:g>0&&(l|=2),l===3)return!1;return l!==0?!0:null},r.hull=function(h){var l=[],u=[],d,f;for(h=h.slice(0),h.sort(function(c,g){var p=c.x-g.x;return p!==0?p:c.y-g.y}),f=0;f<h.length;f+=1){for(d=h[f];u.length>=2&&o.cross3(u[u.length-2],u[u.length-1],d)<=0;)u.pop();u.push(d)}for(f=h.length-1;f>=0;f-=1){for(d=h[f];l.length>=2&&o.cross3(l[l.length-2],l[l.length-1],d)<=0;)l.pop();l.push(d)}return l.pop(),u.pop(),l.concat(u)}})()},function(e,i,n){var r={};e.exports=r;var o=n(3),a=n(2),h=n(7),l=n(0),u=n(1),d=n(11);(function(){r._timeCorrection=!0,r._inertiaScale=4,r._nextCollidingGroupId=1,r._nextNonCollidingGroupId=-1,r._nextCategory=1,r._baseDelta=1e3/60,r.create=function(c){var g={id:l.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:o.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:16.666666666666668,_original:null},p=l.extend(g,c);return f(p,c),p},r.nextGroup=function(c){return c?r._nextNonCollidingGroupId--:r._nextCollidingGroupId++},r.nextCategory=function(){return r._nextCategory=r._nextCategory<<1,r._nextCategory};var f=function(c,g){g=g||{},r.set(c,{bounds:c.bounds||u.create(c.vertices),positionPrev:c.positionPrev||a.clone(c.position),anglePrev:c.anglePrev||c.angle,vertices:c.vertices,parts:c.parts||[c],isStatic:c.isStatic,isSleeping:c.isSleeping,parent:c.parent||c}),o.rotate(c.vertices,c.angle,c.position),d.rotate(c.axes,c.angle),u.update(c.bounds,c.vertices,c.velocity),r.set(c,{axes:g.axes||c.axes,area:g.area||c.area,mass:g.mass||c.mass,inertia:g.inertia||c.inertia});var p=c.isStatic?"#14151f":l.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),m=c.isStatic?"#555":"#ccc",y=c.isStatic&&c.render.fillStyle===null?1:0;c.render.fillStyle=c.render.fillStyle||p,c.render.strokeStyle=c.render.strokeStyle||m,c.render.lineWidth=c.render.lineWidth||y,c.render.sprite.xOffset+=-(c.bounds.min.x-c.position.x)/(c.bounds.max.x-c.bounds.min.x),c.render.sprite.yOffset+=-(c.bounds.min.y-c.position.y)/(c.bounds.max.y-c.bounds.min.y)};r.set=function(c,g,p){var m;typeof g=="string"&&(m=g,g={},g[m]=p);for(m in g)if(Object.prototype.hasOwnProperty.call(g,m))switch(p=g[m],m){case"isStatic":r.setStatic(c,p);break;case"isSleeping":h.set(c,p);break;case"mass":r.setMass(c,p);break;case"density":r.setDensity(c,p);break;case"inertia":r.setInertia(c,p);break;case"vertices":r.setVertices(c,p);break;case"position":r.setPosition(c,p);break;case"angle":r.setAngle(c,p);break;case"velocity":r.setVelocity(c,p);break;case"angularVelocity":r.setAngularVelocity(c,p);break;case"speed":r.setSpeed(c,p);break;case"angularSpeed":r.setAngularSpeed(c,p);break;case"parts":r.setParts(c,p);break;case"centre":r.setCentre(c,p);break;default:c[m]=p}},r.setStatic=function(c,g){for(var p=0;p<c.parts.length;p++){var m=c.parts[p];g?(m.isStatic||(m._original={restitution:m.restitution,friction:m.friction,mass:m.mass,inertia:m.inertia,density:m.density,inverseMass:m.inverseMass,inverseInertia:m.inverseInertia}),m.restitution=0,m.friction=1,m.mass=m.inertia=m.density=1/0,m.inverseMass=m.inverseInertia=0,m.positionPrev.x=m.position.x,m.positionPrev.y=m.position.y,m.anglePrev=m.angle,m.angularVelocity=0,m.speed=0,m.angularSpeed=0,m.motion=0):m._original&&(m.restitution=m._original.restitution,m.friction=m._original.friction,m.mass=m._original.mass,m.inertia=m._original.inertia,m.density=m._original.density,m.inverseMass=m._original.inverseMass,m.inverseInertia=m._original.inverseInertia,m._original=null),m.isStatic=g}},r.setMass=function(c,g){var p=c.inertia/(c.mass/6);c.inertia=p*(g/6),c.inverseInertia=1/c.inertia,c.mass=g,c.inverseMass=1/c.mass,c.density=c.mass/c.area},r.setDensity=function(c,g){r.setMass(c,g*c.area),c.density=g},r.setInertia=function(c,g){c.inertia=g,c.inverseInertia=1/c.inertia},r.setVertices=function(c,g){g[0].body===c?c.vertices=g:c.vertices=o.create(g,c),c.axes=d.fromVertices(c.vertices),c.area=o.area(c.vertices),r.setMass(c,c.density*c.area);var p=o.centre(c.vertices);o.translate(c.vertices,p,-1),r.setInertia(c,r._inertiaScale*o.inertia(c.vertices,c.mass)),o.translate(c.vertices,c.position),u.update(c.bounds,c.vertices,c.velocity)},r.setParts=function(c,g,p){var m;for(g=g.slice(0),c.parts.length=0,c.parts.push(c),c.parent=c,m=0;m<g.length;m++){var y=g[m];y!==c&&(y.parent=c,c.parts.push(y))}if(c.parts.length!==1){if(p=typeof p<"u"?p:!0,p){var x=[];for(m=0;m<g.length;m++)x=x.concat(g[m].vertices);o.clockwiseSort(x);var v=o.hull(x),w=o.centre(v);r.setVertices(c,v),o.translate(c.vertices,w)}var _=r._totalProperties(c);c.area=_.area,c.parent=c,c.position.x=_.centre.x,c.position.y=_.centre.y,c.positionPrev.x=_.centre.x,c.positionPrev.y=_.centre.y,r.setMass(c,_.mass),r.setInertia(c,_.inertia),r.setPosition(c,_.centre)}},r.setCentre=function(c,g,p){p?(c.positionPrev.x+=g.x,c.positionPrev.y+=g.y,c.position.x+=g.x,c.position.y+=g.y):(c.positionPrev.x=g.x-(c.position.x-c.positionPrev.x),c.positionPrev.y=g.y-(c.position.y-c.positionPrev.y),c.position.x=g.x,c.position.y=g.y)},r.setPosition=function(c,g,p){var m=a.sub(g,c.position);p?(c.positionPrev.x=c.position.x,c.positionPrev.y=c.position.y,c.velocity.x=m.x,c.velocity.y=m.y,c.speed=a.magnitude(m)):(c.positionPrev.x+=m.x,c.positionPrev.y+=m.y);for(var y=0;y<c.parts.length;y++){var x=c.parts[y];x.position.x+=m.x,x.position.y+=m.y,o.translate(x.vertices,m),u.update(x.bounds,x.vertices,c.velocity)}},r.setAngle=function(c,g,p){var m=g-c.angle;p?(c.anglePrev=c.angle,c.angularVelocity=m,c.angularSpeed=Math.abs(m)):c.anglePrev+=m;for(var y=0;y<c.parts.length;y++){var x=c.parts[y];x.angle+=m,o.rotate(x.vertices,m,c.position),d.rotate(x.axes,m),u.update(x.bounds,x.vertices,c.velocity),y>0&&a.rotateAbout(x.position,m,c.position,x.position)}},r.setVelocity=function(c,g){var p=c.deltaTime/r._baseDelta;c.positionPrev.x=c.position.x-g.x*p,c.positionPrev.y=c.position.y-g.y*p,c.velocity.x=(c.position.x-c.positionPrev.x)/p,c.velocity.y=(c.position.y-c.positionPrev.y)/p,c.speed=a.magnitude(c.velocity)},r.getVelocity=function(c){var g=r._baseDelta/c.deltaTime;return{x:(c.position.x-c.positionPrev.x)*g,y:(c.position.y-c.positionPrev.y)*g}},r.getSpeed=function(c){return a.magnitude(r.getVelocity(c))},r.setSpeed=function(c,g){r.setVelocity(c,a.mult(a.normalise(r.getVelocity(c)),g))},r.setAngularVelocity=function(c,g){var p=c.deltaTime/r._baseDelta;c.anglePrev=c.angle-g*p,c.angularVelocity=(c.angle-c.anglePrev)/p,c.angularSpeed=Math.abs(c.angularVelocity)},r.getAngularVelocity=function(c){return(c.angle-c.anglePrev)*r._baseDelta/c.deltaTime},r.getAngularSpeed=function(c){return Math.abs(r.getAngularVelocity(c))},r.setAngularSpeed=function(c,g){r.setAngularVelocity(c,l.sign(r.getAngularVelocity(c))*g)},r.translate=function(c,g,p){r.setPosition(c,a.add(c.position,g),p)},r.rotate=function(c,g,p,m){if(!p)r.setAngle(c,c.angle+g,m);else{var y=Math.cos(g),x=Math.sin(g),v=c.position.x-p.x,w=c.position.y-p.y;r.setPosition(c,{x:p.x+(v*y-w*x),y:p.y+(v*x+w*y)},m),r.setAngle(c,c.angle+g,m)}},r.scale=function(c,g,p,m){var y=0,x=0;m=m||c.position;for(var v=0;v<c.parts.length;v++){var w=c.parts[v];o.scale(w.vertices,g,p,m),w.axes=d.fromVertices(w.vertices),w.area=o.area(w.vertices),r.setMass(w,c.density*w.area),o.translate(w.vertices,{x:-w.position.x,y:-w.position.y}),r.setInertia(w,r._inertiaScale*o.inertia(w.vertices,w.mass)),o.translate(w.vertices,{x:w.position.x,y:w.position.y}),v>0&&(y+=w.area,x+=w.inertia),w.position.x=m.x+(w.position.x-m.x)*g,w.position.y=m.y+(w.position.y-m.y)*p,u.update(w.bounds,w.vertices,c.velocity)}c.parts.length>1&&(c.area=y,c.isStatic||(r.setMass(c,c.density*y),r.setInertia(c,x))),c.circleRadius&&(g===p?c.circleRadius*=g:c.circleRadius=null)},r.update=function(c,g){g=(typeof g<"u"?g:1e3/60)*c.timeScale;var p=g*g,m=r._timeCorrection?g/(c.deltaTime||g):1,y=1-c.frictionAir*(g/l._baseDelta),x=(c.position.x-c.positionPrev.x)*m,v=(c.position.y-c.positionPrev.y)*m;c.velocity.x=x*y+c.force.x/c.mass*p,c.velocity.y=v*y+c.force.y/c.mass*p,c.positionPrev.x=c.position.x,c.positionPrev.y=c.position.y,c.position.x+=c.velocity.x,c.position.y+=c.velocity.y,c.deltaTime=g,c.angularVelocity=(c.angle-c.anglePrev)*y*m+c.torque/c.inertia*p,c.anglePrev=c.angle,c.angle+=c.angularVelocity;for(var w=0;w<c.parts.length;w++){var _=c.parts[w];o.translate(_.vertices,c.velocity),w>0&&(_.position.x+=c.velocity.x,_.position.y+=c.velocity.y),c.angularVelocity!==0&&(o.rotate(_.vertices,c.angularVelocity,c.position),d.rotate(_.axes,c.angularVelocity),w>0&&a.rotateAbout(_.position,c.angularVelocity,c.position,_.position)),u.update(_.bounds,_.vertices,c.velocity)}},r.updateVelocities=function(c){var g=r._baseDelta/c.deltaTime,p=c.velocity;p.x=(c.position.x-c.positionPrev.x)*g,p.y=(c.position.y-c.positionPrev.y)*g,c.speed=Math.sqrt(p.x*p.x+p.y*p.y),c.angularVelocity=(c.angle-c.anglePrev)*g,c.angularSpeed=Math.abs(c.angularVelocity)},r.applyForce=function(c,g,p){var m={x:g.x-c.position.x,y:g.y-c.position.y};c.force.x+=p.x,c.force.y+=p.y,c.torque+=m.x*p.y-m.y*p.x},r._totalProperties=function(c){for(var g={mass:0,area:0,inertia:0,centre:{x:0,y:0}},p=c.parts.length===1?0:1;p<c.parts.length;p++){var m=c.parts[p],y=m.mass!==1/0?m.mass:1;g.mass+=y,g.area+=m.area,g.inertia+=m.inertia,g.centre=a.add(g.centre,a.mult(m.position,y))}return g.centre=a.div(g.centre,g.mass),g}})()},function(e,i,n){var r={};e.exports=r;var o=n(0);(function(){r.on=function(a,h,l){for(var u=h.split(" "),d,f=0;f<u.length;f++)d=u[f],a.events=a.events||{},a.events[d]=a.events[d]||[],a.events[d].push(l);return l},r.off=function(a,h,l){if(!h){a.events={};return}typeof h=="function"&&(l=h,h=o.keys(a.events).join(" "));for(var u=h.split(" "),d=0;d<u.length;d++){var f=a.events[u[d]],c=[];if(l&&f)for(var g=0;g<f.length;g++)f[g]!==l&&c.push(f[g]);a.events[u[d]]=c}},r.trigger=function(a,h,l){var u,d,f,c,g=a.events;if(g&&o.keys(g).length>0){l||(l={}),u=h.split(" ");for(var p=0;p<u.length;p++)if(d=u[p],f=g[d],f){c=o.clone(l,!1),c.name=d,c.source=a;for(var m=0;m<f.length;m++)f[m].apply(a,[c])}}}})()},function(e,i,n){var r={};e.exports=r;var o=n(5),a=n(0),h=n(1),l=n(4);(function(){r.create=function(u){return a.extend({id:a.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},u)},r.setModified=function(u,d,f,c){if(u.isModified=d,d&&u.cache&&(u.cache.allBodies=null,u.cache.allConstraints=null,u.cache.allComposites=null),f&&u.parent&&r.setModified(u.parent,d,f,c),c)for(var g=0;g<u.composites.length;g++){var p=u.composites[g];r.setModified(p,d,f,c)}},r.add=function(u,d){var f=[].concat(d);o.trigger(u,"beforeAdd",{object:d});for(var c=0;c<f.length;c++){var g=f[c];switch(g.type){case"body":if(g.parent!==g){a.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}r.addBody(u,g);break;case"constraint":r.addConstraint(u,g);break;case"composite":r.addComposite(u,g);break;case"mouseConstraint":r.addConstraint(u,g.constraint);break}}return o.trigger(u,"afterAdd",{object:d}),u},r.remove=function(u,d,f){var c=[].concat(d);o.trigger(u,"beforeRemove",{object:d});for(var g=0;g<c.length;g++){var p=c[g];switch(p.type){case"body":r.removeBody(u,p,f);break;case"constraint":r.removeConstraint(u,p,f);break;case"composite":r.removeComposite(u,p,f);break;case"mouseConstraint":r.removeConstraint(u,p.constraint);break}}return o.trigger(u,"afterRemove",{object:d}),u},r.addComposite=function(u,d){return u.composites.push(d),d.parent=u,r.setModified(u,!0,!0,!1),u},r.removeComposite=function(u,d,f){var c=a.indexOf(u.composites,d);if(c!==-1){var g=r.allBodies(d);r.removeCompositeAt(u,c);for(var p=0;p<g.length;p++)g[p].sleepCounter=0}if(f)for(var p=0;p<u.composites.length;p++)r.removeComposite(u.composites[p],d,!0);return u},r.removeCompositeAt=function(u,d){return u.composites.splice(d,1),r.setModified(u,!0,!0,!1),u},r.addBody=function(u,d){return u.bodies.push(d),r.setModified(u,!0,!0,!1),u},r.removeBody=function(u,d,f){var c=a.indexOf(u.bodies,d);if(c!==-1&&(r.removeBodyAt(u,c),d.sleepCounter=0),f)for(var g=0;g<u.composites.length;g++)r.removeBody(u.composites[g],d,!0);return u},r.removeBodyAt=function(u,d){return u.bodies.splice(d,1),r.setModified(u,!0,!0,!1),u},r.addConstraint=function(u,d){return u.constraints.push(d),r.setModified(u,!0,!0,!1),u},r.removeConstraint=function(u,d,f){var c=a.indexOf(u.constraints,d);if(c!==-1&&r.removeConstraintAt(u,c),f)for(var g=0;g<u.composites.length;g++)r.removeConstraint(u.composites[g],d,!0);return u},r.removeConstraintAt=function(u,d){return u.constraints.splice(d,1),r.setModified(u,!0,!0,!1),u},r.clear=function(u,d,f){if(f)for(var c=0;c<u.composites.length;c++)r.clear(u.composites[c],d,!0);return d?u.bodies=u.bodies.filter(function(g){return g.isStatic}):u.bodies.length=0,u.constraints.length=0,u.composites.length=0,r.setModified(u,!0,!0,!1),u},r.allBodies=function(u){if(u.cache&&u.cache.allBodies)return u.cache.allBodies;for(var d=[].concat(u.bodies),f=0;f<u.composites.length;f++)d=d.concat(r.allBodies(u.composites[f]));return u.cache&&(u.cache.allBodies=d),d},r.allConstraints=function(u){if(u.cache&&u.cache.allConstraints)return u.cache.allConstraints;for(var d=[].concat(u.constraints),f=0;f<u.composites.length;f++)d=d.concat(r.allConstraints(u.composites[f]));return u.cache&&(u.cache.allConstraints=d),d},r.allComposites=function(u){if(u.cache&&u.cache.allComposites)return u.cache.allComposites;for(var d=[].concat(u.composites),f=0;f<u.composites.length;f++)d=d.concat(r.allComposites(u.composites[f]));return u.cache&&(u.cache.allComposites=d),d},r.get=function(u,d,f){var c,g;switch(f){case"body":c=r.allBodies(u);break;case"constraint":c=r.allConstraints(u);break;case"composite":c=r.allComposites(u).concat(u);break}return c?(g=c.filter(function(p){return p.id.toString()===d.toString()}),g.length===0?null:g[0]):null},r.move=function(u,d,f){return r.remove(u,d),r.add(f,d),u},r.rebase=function(u){for(var d=r.allBodies(u).concat(r.allConstraints(u)).concat(r.allComposites(u)),f=0;f<d.length;f++)d[f].id=a.nextId();return u},r.translate=function(u,d,f){for(var c=f?r.allBodies(u):u.bodies,g=0;g<c.length;g++)l.translate(c[g],d);return u},r.rotate=function(u,d,f,c){for(var g=Math.cos(d),p=Math.sin(d),m=c?r.allBodies(u):u.bodies,y=0;y<m.length;y++){var x=m[y],v=x.position.x-f.x,w=x.position.y-f.y;l.setPosition(x,{x:f.x+(v*g-w*p),y:f.y+(v*p+w*g)}),l.rotate(x,d)}return u},r.scale=function(u,d,f,c,g){for(var p=g?r.allBodies(u):u.bodies,m=0;m<p.length;m++){var y=p[m],x=y.position.x-c.x,v=y.position.y-c.y;l.setPosition(y,{x:c.x+x*d,y:c.y+v*f}),l.scale(y,d,f)}return u},r.bounds=function(u){for(var d=r.allBodies(u),f=[],c=0;c<d.length;c+=1){var g=d[c];f.push(g.bounds.min,g.bounds.max)}return h.create(f)}})()},function(e,i,n){var r={};e.exports=r;var o=n(4),a=n(5),h=n(0);(function(){r._motionWakeThreshold=.18,r._motionSleepThreshold=.08,r._minBias=.9,r.update=function(l,u){for(var d=u/h._baseDelta,f=r._motionSleepThreshold,c=0;c<l.length;c++){var g=l[c],p=o.getSpeed(g),m=o.getAngularSpeed(g),y=p*p+m*m;if(g.force.x!==0||g.force.y!==0){r.set(g,!1);continue}var x=Math.min(g.motion,y),v=Math.max(g.motion,y);g.motion=r._minBias*x+(1-r._minBias)*v,g.sleepThreshold>0&&g.motion<f?(g.sleepCounter+=1,g.sleepCounter>=g.sleepThreshold/d&&r.set(g,!0)):g.sleepCounter>0&&(g.sleepCounter-=1)}},r.afterCollisions=function(l){for(var u=r._motionSleepThreshold,d=0;d<l.length;d++){var f=l[d];if(f.isActive){var c=f.collision,g=c.bodyA.parent,p=c.bodyB.parent;if(!(g.isSleeping&&p.isSleeping||g.isStatic||p.isStatic)&&(g.isSleeping||p.isSleeping)){var m=g.isSleeping&&!g.isStatic?g:p,y=m===g?p:g;!m.isStatic&&y.motion>u&&r.set(m,!1)}}}},r.set=function(l,u){var d=l.isSleeping;u?(l.isSleeping=!0,l.sleepCounter=l.sleepThreshold,l.positionImpulse.x=0,l.positionImpulse.y=0,l.positionPrev.x=l.position.x,l.positionPrev.y=l.position.y,l.anglePrev=l.angle,l.speed=0,l.angularSpeed=0,l.motion=0,d||a.trigger(l,"sleepStart")):(l.isSleeping=!1,l.sleepCounter=0,d&&a.trigger(l,"sleepEnd"))}})()},function(e,i,n){var r={};e.exports=r;var o=n(3),a=n(9);(function(){var h=[],l={overlap:0,axis:null},u={overlap:0,axis:null};r.create=function(d,f){return{pair:null,collided:!1,bodyA:d,bodyB:f,parentA:d.parent,parentB:f.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},r.collides=function(d,f,c){if(r._overlapAxes(l,d.vertices,f.vertices,d.axes),l.overlap<=0||(r._overlapAxes(u,f.vertices,d.vertices,f.axes),u.overlap<=0))return null;var g=c&&c.table[a.id(d,f)],p;g?p=g.collision:(p=r.create(d,f),p.collided=!0,p.bodyA=d.id<f.id?d:f,p.bodyB=d.id<f.id?f:d,p.parentA=p.bodyA.parent,p.parentB=p.bodyB.parent),d=p.bodyA,f=p.bodyB;var m;l.overlap<u.overlap?m=l:m=u;var y=p.normal,x=p.tangent,v=p.penetration,w=p.supports,_=m.overlap,T=m.axis,b=T.x,S=T.y,A=f.position.x-d.position.x,P=f.position.y-d.position.y;b*A+S*P>=0&&(b=-b,S=-S),y.x=b,y.y=S,x.x=-S,x.y=b,v.x=b*_,v.y=S*_,p.depth=_;var M=r._findSupports(d,f,y,1),C=0;if(o.contains(d.vertices,M[0])&&(w[C++]=M[0]),o.contains(d.vertices,M[1])&&(w[C++]=M[1]),C<2){var R=r._findSupports(f,d,y,-1);o.contains(f.vertices,R[0])&&(w[C++]=R[0]),C<2&&o.contains(f.vertices,R[1])&&(w[C++]=R[1])}return C===0&&(w[C++]=M[0]),p.supportCount=C,p},r._overlapAxes=function(d,f,c,g){var p=f.length,m=c.length,y=f[0].x,x=f[0].y,v=c[0].x,w=c[0].y,_=g.length,T=Number.MAX_VALUE,b=0,S,A,P,M,C,R;for(C=0;C<_;C++){var D=g[C],F=D.x,E=D.y,z=y*F+x*E,I=v*F+w*E,O=z,k=I;for(R=1;R<p;R+=1)M=f[R].x*F+f[R].y*E,M>O?O=M:M<z&&(z=M);for(R=1;R<m;R+=1)M=c[R].x*F+c[R].y*E,M>k?k=M:M<I&&(I=M);if(A=O-I,P=k-z,S=A<P?A:P,S<T&&(T=S,b=C,S<=0))break}d.axis=g[b],d.overlap=T},r._findSupports=function(d,f,c,g){var p=f.vertices,m=p.length,y=d.position.x,x=d.position.y,v=c.x*g,w=c.y*g,_=p[0],T=_,b=v*(y-T.x)+w*(x-T.y),S,A,P;for(P=1;P<m;P+=1)T=p[P],A=v*(y-T.x)+w*(x-T.y),A<b&&(b=A,_=T);return S=p[(m+_.index-1)%m],b=v*(y-S.x)+w*(x-S.y),T=p[(_.index+1)%m],v*(y-T.x)+w*(x-T.y)<b?(h[0]=_,h[1]=T,h):(h[0]=_,h[1]=S,h)}})()},function(e,i,n){var r={};e.exports=r;var o=n(16);(function(){r.create=function(a,h){var l=a.bodyA,u=a.bodyB,d={id:r.id(l,u),bodyA:l,bodyB:u,collision:a,contacts:[o.create(),o.create()],contactCount:0,separation:0,isActive:!0,isSensor:l.isSensor||u.isSensor,timeCreated:h,timeUpdated:h,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return r.update(d,a,h),d},r.update=function(a,h,l){var u=h.supports,d=h.supportCount,f=a.contacts,c=h.parentA,g=h.parentB;a.isActive=!0,a.timeUpdated=l,a.collision=h,a.separation=h.depth,a.inverseMass=c.inverseMass+g.inverseMass,a.friction=c.friction<g.friction?c.friction:g.friction,a.frictionStatic=c.frictionStatic>g.frictionStatic?c.frictionStatic:g.frictionStatic,a.restitution=c.restitution>g.restitution?c.restitution:g.restitution,a.slop=c.slop>g.slop?c.slop:g.slop,a.contactCount=d,h.pair=a;var p=u[0],m=f[0],y=u[1],x=f[1];(x.vertex===p||m.vertex===y)&&(f[1]=m,f[0]=m=x,x=f[1]),m.vertex=p,x.vertex=y},r.setActive=function(a,h,l){h?(a.isActive=!0,a.timeUpdated=l):(a.isActive=!1,a.contactCount=0)},r.id=function(a,h){return a.id<h.id?a.id.toString(36)+":"+h.id.toString(36):h.id.toString(36)+":"+a.id.toString(36)}})()},function(e,i,n){var r={};e.exports=r;var o=n(3),a=n(2),h=n(7),l=n(1),u=n(11),d=n(0);(function(){r._warming=.4,r._torqueDampen=1,r._minLength=1e-6,r.create=function(f){var c=f;c.bodyA&&!c.pointA&&(c.pointA={x:0,y:0}),c.bodyB&&!c.pointB&&(c.pointB={x:0,y:0});var g=c.bodyA?a.add(c.bodyA.position,c.pointA):c.pointA,p=c.bodyB?a.add(c.bodyB.position,c.pointB):c.pointB,m=a.magnitude(a.sub(g,p));c.length=typeof c.length<"u"?c.length:m,c.id=c.id||d.nextId(),c.label=c.label||"Constraint",c.type="constraint",c.stiffness=c.stiffness||(c.length>0?1:.7),c.damping=c.damping||0,c.angularStiffness=c.angularStiffness||0,c.angleA=c.bodyA?c.bodyA.angle:c.angleA,c.angleB=c.bodyB?c.bodyB.angle:c.angleB,c.plugin={};var y={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return c.length===0&&c.stiffness>.1?(y.type="pin",y.anchors=!1):c.stiffness<.9&&(y.type="spring"),c.render=d.extend(y,c.render),c},r.preSolveAll=function(f){for(var c=0;c<f.length;c+=1){var g=f[c],p=g.constraintImpulse;g.isStatic||p.x===0&&p.y===0&&p.angle===0||(g.position.x+=p.x,g.position.y+=p.y,g.angle+=p.angle)}},r.solveAll=function(f,c){for(var g=d.clamp(c/d._baseDelta,0,1),p=0;p<f.length;p+=1){var m=f[p],y=!m.bodyA||m.bodyA&&m.bodyA.isStatic,x=!m.bodyB||m.bodyB&&m.bodyB.isStatic;(y||x)&&r.solve(f[p],g)}for(p=0;p<f.length;p+=1)m=f[p],y=!m.bodyA||m.bodyA&&m.bodyA.isStatic,x=!m.bodyB||m.bodyB&&m.bodyB.isStatic,!y&&!x&&r.solve(f[p],g)},r.solve=function(f,c){var g=f.bodyA,p=f.bodyB,m=f.pointA,y=f.pointB;if(!(!g&&!p)){g&&!g.isStatic&&(a.rotate(m,g.angle-f.angleA,m),f.angleA=g.angle),p&&!p.isStatic&&(a.rotate(y,p.angle-f.angleB,y),f.angleB=p.angle);var x=m,v=y;if(g&&(x=a.add(g.position,m)),p&&(v=a.add(p.position,y)),!(!x||!v)){var w=a.sub(x,v),_=a.magnitude(w);_<r._minLength&&(_=r._minLength);var T=(_-f.length)/_,b=f.stiffness>=1||f.length===0,S=b?f.stiffness*c:f.stiffness*c*c,A=f.damping*c,P=a.mult(w,T*S),M=(g?g.inverseMass:0)+(p?p.inverseMass:0),C=(g?g.inverseInertia:0)+(p?p.inverseInertia:0),R=M+C,D,F,E,z,I;if(A>0){var O=a.create();E=a.div(w,_),I=a.sub(p&&a.sub(p.position,p.positionPrev)||O,g&&a.sub(g.position,g.positionPrev)||O),z=a.dot(E,I)}g&&!g.isStatic&&(F=g.inverseMass/M,g.constraintImpulse.x-=P.x*F,g.constraintImpulse.y-=P.y*F,g.position.x-=P.x*F,g.position.y-=P.y*F,A>0&&(g.positionPrev.x-=A*E.x*z*F,g.positionPrev.y-=A*E.y*z*F),D=a.cross(m,P)/R*r._torqueDampen*g.inverseInertia*(1-f.angularStiffness),g.constraintImpulse.angle-=D,g.angle-=D),p&&!p.isStatic&&(F=p.inverseMass/M,p.constraintImpulse.x+=P.x*F,p.constraintImpulse.y+=P.y*F,p.position.x+=P.x*F,p.position.y+=P.y*F,A>0&&(p.positionPrev.x+=A*E.x*z*F,p.positionPrev.y+=A*E.y*z*F),D=a.cross(y,P)/R*r._torqueDampen*p.inverseInertia*(1-f.angularStiffness),p.constraintImpulse.angle+=D,p.angle+=D)}}},r.postSolveAll=function(f){for(var c=0;c<f.length;c++){var g=f[c],p=g.constraintImpulse;if(!(g.isStatic||p.x===0&&p.y===0&&p.angle===0)){h.set(g,!1);for(var m=0;m<g.parts.length;m++){var y=g.parts[m];o.translate(y.vertices,p),m>0&&(y.position.x+=p.x,y.position.y+=p.y),p.angle!==0&&(o.rotate(y.vertices,p.angle,g.position),u.rotate(y.axes,p.angle),m>0&&a.rotateAbout(y.position,p.angle,g.position,y.position)),l.update(y.bounds,y.vertices,g.velocity)}p.angle*=r._warming,p.x*=r._warming,p.y*=r._warming}}},r.pointAWorld=function(f){return{x:(f.bodyA?f.bodyA.position.x:0)+(f.pointA?f.pointA.x:0),y:(f.bodyA?f.bodyA.position.y:0)+(f.pointA?f.pointA.y:0)}},r.pointBWorld=function(f){return{x:(f.bodyB?f.bodyB.position.x:0)+(f.pointB?f.pointB.x:0),y:(f.bodyB?f.bodyB.position.y:0)+(f.pointB?f.pointB.y:0)}},r.currentLength=function(f){var c=(f.bodyA?f.bodyA.position.x:0)+(f.pointA?f.pointA.x:0),g=(f.bodyA?f.bodyA.position.y:0)+(f.pointA?f.pointA.y:0),p=(f.bodyB?f.bodyB.position.x:0)+(f.pointB?f.pointB.x:0),m=(f.bodyB?f.bodyB.position.y:0)+(f.pointB?f.pointB.y:0),y=c-p,x=g-m;return Math.sqrt(y*y+x*x)}})()},function(e,i,n){var r={};e.exports=r;var o=n(2),a=n(0);(function(){r.fromVertices=function(h){for(var l={},u=0;u<h.length;u++){var d=(u+1)%h.length,f=o.normalise({x:h[d].y-h[u].y,y:h[u].x-h[d].x}),c=f.y===0?1/0:f.x/f.y;c=c.toFixed(3).toString(),l[c]=f}return a.values(l)},r.rotate=function(h,l){if(l!==0)for(var u=Math.cos(l),d=Math.sin(l),f=0;f<h.length;f++){var c=h[f],g;g=c.x*u-c.y*d,c.y=c.x*d+c.y*u,c.x=g}}})()},function(e,i,n){var r={};e.exports=r;var o=n(3),a=n(0),h=n(4),l=n(1),u=n(2);(function(){r.rectangle=function(d,f,c,g,p){p=p||{};var m={label:"Rectangle Body",position:{x:d,y:f},vertices:o.fromPath("L 0 0 L "+c+" 0 L "+c+" "+g+" L 0 "+g)};if(p.chamfer){var y=p.chamfer;m.vertices=o.chamfer(m.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete p.chamfer}return h.create(a.extend({},m,p))},r.trapezoid=function(d,f,c,g,p,m){m=m||{},p>=1&&a.warn("Bodies.trapezoid: slope parameter must be < 1."),p*=.5;var y=(1-p*2)*c,x=c*p,v=x+y,w=v+x,_;p<.5?_="L 0 0 L "+x+" "+-g+" L "+v+" "+-g+" L "+w+" 0":_="L 0 0 L "+v+" "+-g+" L "+w+" 0";var T={label:"Trapezoid Body",position:{x:d,y:f},vertices:o.fromPath(_)};if(m.chamfer){var b=m.chamfer;T.vertices=o.chamfer(T.vertices,b.radius,b.quality,b.qualityMin,b.qualityMax),delete m.chamfer}return h.create(a.extend({},T,m))},r.circle=function(d,f,c,g,p){g=g||{};var m={label:"Circle Body",circleRadius:c};p=p||25;var y=Math.ceil(Math.max(10,Math.min(p,c)));return y%2===1&&(y+=1),r.polygon(d,f,y,c,a.extend({},m,g))},r.polygon=function(d,f,c,g,p){if(p=p||{},c<3)return r.circle(d,f,g,p);for(var m=2*Math.PI/c,y="",x=m*.5,v=0;v<c;v+=1){var w=x+v*m,_=Math.cos(w)*g,T=Math.sin(w)*g;y+="L "+_.toFixed(3)+" "+T.toFixed(3)+" "}var b={label:"Polygon Body",position:{x:d,y:f},vertices:o.fromPath(y)};if(p.chamfer){var S=p.chamfer;b.vertices=o.chamfer(b.vertices,S.radius,S.quality,S.qualityMin,S.qualityMax),delete p.chamfer}return h.create(a.extend({},b,p))},r.fromVertices=function(d,f,c,g,p,m,y,x){var v=a.getDecomp(),w,_,T,b,S,A,P,M,C,R,D;for(w=!!(v&&v.quickDecomp),g=g||{},T=[],p=typeof p<"u"?p:!1,m=typeof m<"u"?m:.01,y=typeof y<"u"?y:10,x=typeof x<"u"?x:.01,a.isArray(c[0])||(c=[c]),R=0;R<c.length;R+=1)if(A=c[R],b=o.isConvex(A),S=!b,S&&!w&&a.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),b||!w)b?A=o.clockwiseSort(A):A=o.hull(A),T.push({position:{x:d,y:f},vertices:A});else{var F=A.map(function(V){return[V.x,V.y]});v.makeCCW(F),m!==!1&&v.removeCollinearPoints(F,m),x!==!1&&v.removeDuplicatePoints&&v.removeDuplicatePoints(F,x);var E=v.quickDecomp(F);for(P=0;P<E.length;P++){var z=E[P],I=z.map(function(V){return{x:V[0],y:V[1]}});y>0&&o.area(I)<y||T.push({position:o.centre(I),vertices:I})}}for(P=0;P<T.length;P++)T[P]=h.create(a.extend(T[P],g));if(p){var O=5;for(P=0;P<T.length;P++){var k=T[P];for(M=P+1;M<T.length;M++){var j=T[M];if(l.overlaps(k.bounds,j.bounds)){var B=k.vertices,L=j.vertices;for(C=0;C<k.vertices.length;C++)for(D=0;D<j.vertices.length;D++){var U=u.magnitudeSquared(u.sub(B[(C+1)%B.length],L[D])),H=u.magnitudeSquared(u.sub(B[C],L[(D+1)%L.length]));U<O&&H<O&&(B[C].isInternal=!0,L[D].isInternal=!0)}}}}}return T.length>1?(_=h.create(a.extend({parts:T.slice(0)},g)),h.setPosition(_,{x:d,y:f}),_):T[0]}})()},function(e,i,n){var r={};e.exports=r;var o=n(0),a=n(8);(function(){r.create=function(h){var l={bodies:[],collisions:[],pairs:null};return o.extend(l,h)},r.setBodies=function(h,l){h.bodies=l.slice(0)},r.clear=function(h){h.bodies=[],h.collisions=[]},r.collisions=function(h){var l=h.pairs,u=h.bodies,d=u.length,f=r.canCollide,c=a.collides,g=h.collisions,p=0,m,y;for(u.sort(r._compareBoundsX),m=0;m<d;m++){var x=u[m],v=x.bounds,w=x.bounds.max.x,_=x.bounds.max.y,T=x.bounds.min.y,b=x.isStatic||x.isSleeping,S=x.parts.length,A=S===1;for(y=m+1;y<d;y++){var P=u[y],M=P.bounds;if(M.min.x>w)break;if(!(_<M.min.y||T>M.max.y)&&!(b&&(P.isStatic||P.isSleeping))&&f(x.collisionFilter,P.collisionFilter)){var C=P.parts.length;if(A&&C===1){var R=c(x,P,l);R&&(g[p++]=R)}else for(var D=S>1?1:0,F=C>1?1:0,E=D;E<S;E++)for(var z=x.parts[E],v=z.bounds,I=F;I<C;I++){var O=P.parts[I],M=O.bounds;if(!(v.min.x>M.max.x||v.max.x<M.min.x||v.max.y<M.min.y||v.min.y>M.max.y)){var R=c(z,O,l);R&&(g[p++]=R)}}}}}return g.length!==p&&(g.length=p),g},r.canCollide=function(h,l){return h.group===l.group&&h.group!==0?h.group>0:(h.mask&l.category)!==0&&(l.mask&h.category)!==0},r._compareBoundsX=function(h,l){return h.bounds.min.x-l.bounds.min.x}})()},function(e,i,n){var r={};e.exports=r;var o=n(0);(function(){r.create=function(a){var h={};return a||o.log("Mouse.create: element was undefined, defaulting to document.body","warn"),h.element=a||document.body,h.absolute={x:0,y:0},h.position={x:0,y:0},h.mousedownPosition={x:0,y:0},h.mouseupPosition={x:0,y:0},h.offset={x:0,y:0},h.scale={x:1,y:1},h.wheelDelta=0,h.button=-1,h.pixelRatio=parseInt(h.element.getAttribute("data-pixel-ratio"),10)||1,h.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},h.mousemove=function(l){var u=r._getRelativeMousePosition(l,h.element,h.pixelRatio),d=l.changedTouches;d&&(h.button=0,l.preventDefault()),h.absolute.x=u.x,h.absolute.y=u.y,h.position.x=h.absolute.x*h.scale.x+h.offset.x,h.position.y=h.absolute.y*h.scale.y+h.offset.y,h.sourceEvents.mousemove=l},h.mousedown=function(l){var u=r._getRelativeMousePosition(l,h.element,h.pixelRatio),d=l.changedTouches;d?(h.button=0,l.preventDefault()):h.button=l.button,h.absolute.x=u.x,h.absolute.y=u.y,h.position.x=h.absolute.x*h.scale.x+h.offset.x,h.position.y=h.absolute.y*h.scale.y+h.offset.y,h.mousedownPosition.x=h.position.x,h.mousedownPosition.y=h.position.y,h.sourceEvents.mousedown=l},h.mouseup=function(l){var u=r._getRelativeMousePosition(l,h.element,h.pixelRatio),d=l.changedTouches;d&&l.preventDefault(),h.button=-1,h.absolute.x=u.x,h.absolute.y=u.y,h.position.x=h.absolute.x*h.scale.x+h.offset.x,h.position.y=h.absolute.y*h.scale.y+h.offset.y,h.mouseupPosition.x=h.position.x,h.mouseupPosition.y=h.position.y,h.sourceEvents.mouseup=l},h.mousewheel=function(l){h.wheelDelta=Math.max(-1,Math.min(1,l.wheelDelta||-l.detail)),l.preventDefault(),h.sourceEvents.mousewheel=l},r.setElement(h,h.element),h},r.setElement=function(a,h){a.element=h,h.addEventListener("mousemove",a.mousemove,{passive:!0}),h.addEventListener("mousedown",a.mousedown,{passive:!0}),h.addEventListener("mouseup",a.mouseup,{passive:!0}),h.addEventListener("wheel",a.mousewheel,{passive:!1}),h.addEventListener("touchmove",a.mousemove,{passive:!1}),h.addEventListener("touchstart",a.mousedown,{passive:!1}),h.addEventListener("touchend",a.mouseup,{passive:!1})},r.clearSourceEvents=function(a){a.sourceEvents.mousemove=null,a.sourceEvents.mousedown=null,a.sourceEvents.mouseup=null,a.sourceEvents.mousewheel=null,a.wheelDelta=0},r.setOffset=function(a,h){a.offset.x=h.x,a.offset.y=h.y,a.position.x=a.absolute.x*a.scale.x+a.offset.x,a.position.y=a.absolute.y*a.scale.y+a.offset.y},r.setScale=function(a,h){a.scale.x=h.x,a.scale.y=h.y,a.position.x=a.absolute.x*a.scale.x+a.offset.x,a.position.y=a.absolute.y*a.scale.y+a.offset.y},r._getRelativeMousePosition=function(a,h,l){var u=h.getBoundingClientRect(),d=document.documentElement||document.body.parentNode||document.body,f=window.pageXOffset!==void 0?window.pageXOffset:d.scrollLeft,c=window.pageYOffset!==void 0?window.pageYOffset:d.scrollTop,g=a.changedTouches,p,m;return g?(p=g[0].pageX-u.left-f,m=g[0].pageY-u.top-c):(p=a.pageX-u.left-f,m=a.pageY-u.top-c),{x:p/(h.clientWidth/(h.width||h.clientWidth)*l),y:m/(h.clientHeight/(h.height||h.clientHeight)*l)}}})()},function(e,i,n){var r={};e.exports=r;var o=n(0);(function(){r._registry={},r.register=function(a){if(r.isPlugin(a)||o.warn("Plugin.register:",r.toString(a),"does not implement all required fields."),a.name in r._registry){var h=r._registry[a.name],l=r.versionParse(a.version).number,u=r.versionParse(h.version).number;l>u?(o.warn("Plugin.register:",r.toString(h),"was upgraded to",r.toString(a)),r._registry[a.name]=a):l<u?o.warn("Plugin.register:",r.toString(h),"can not be downgraded to",r.toString(a)):a!==h&&o.warn("Plugin.register:",r.toString(a),"is already registered to different plugin object")}else r._registry[a.name]=a;return a},r.resolve=function(a){return r._registry[r.dependencyParse(a).name]},r.toString=function(a){return typeof a=="string"?a:(a.name||"anonymous")+"@"+(a.version||a.range||"0.0.0")},r.isPlugin=function(a){return a&&a.name&&a.version&&a.install},r.isUsed=function(a,h){return a.used.indexOf(h)>-1},r.isFor=function(a,h){var l=a.for&&r.dependencyParse(a.for);return!a.for||h.name===l.name&&r.versionSatisfies(h.version,l.range)},r.use=function(a,h){if(a.uses=(a.uses||[]).concat(h||[]),a.uses.length===0){o.warn("Plugin.use:",r.toString(a),"does not specify any dependencies to install.");return}for(var l=r.dependencies(a),u=o.topologicalSort(l),d=[],f=0;f<u.length;f+=1)if(u[f]!==a.name){var c=r.resolve(u[f]);if(!c){d.push(" "+u[f]);continue}r.isUsed(a,c.name)||(r.isFor(c,a)||(o.warn("Plugin.use:",r.toString(c),"is for",c.for,"but installed on",r.toString(a)+"."),c._warned=!0),c.install?c.install(a):(o.warn("Plugin.use:",r.toString(c),"does not specify an install function."),c._warned=!0),c._warned?(d.push(" "+r.toString(c)),delete c._warned):d.push(" "+r.toString(c)),a.used.push(c.name))}d.length>0&&o.info(d.join("  "))},r.dependencies=function(a,h){var l=r.dependencyParse(a),u=l.name;if(h=h||{},!(u in h)){a=r.resolve(a)||a,h[u]=o.map(a.uses||[],function(f){r.isPlugin(f)&&r.register(f);var c=r.dependencyParse(f),g=r.resolve(f);return g&&!r.versionSatisfies(g.version,c.range)?(o.warn("Plugin.dependencies:",r.toString(g),"does not satisfy",r.toString(c),"used by",r.toString(l)+"."),g._warned=!0,a._warned=!0):g||(o.warn("Plugin.dependencies:",r.toString(f),"used by",r.toString(l),"could not be resolved."),a._warned=!0),c.name});for(var d=0;d<h[u].length;d+=1)r.dependencies(h[u][d],h);return h}},r.dependencyParse=function(a){if(o.isString(a)){var h=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return h.test(a)||o.warn("Plugin.dependencyParse:",a,"is not a valid dependency string."),{name:a.split("@")[0],range:a.split("@")[1]||"*"}}return{name:a.name,range:a.range||a.version}},r.versionParse=function(a){var h=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;h.test(a)||o.warn("Plugin.versionParse:",a,"is not a valid version or range.");var l=h.exec(a),u=Number(l[4]),d=Number(l[5]),f=Number(l[6]);return{isRange:!!(l[1]||l[2]),version:l[3],range:a,operator:l[1]||l[2]||"",major:u,minor:d,patch:f,parts:[u,d,f],prerelease:l[7],number:u*1e8+d*1e4+f}},r.versionSatisfies=function(a,h){h=h||"*";var l=r.versionParse(h),u=r.versionParse(a);if(l.isRange){if(l.operator==="*"||a==="*")return!0;if(l.operator===">")return u.number>l.number;if(l.operator===">=")return u.number>=l.number;if(l.operator==="~")return u.major===l.major&&u.minor===l.minor&&u.patch>=l.patch;if(l.operator==="^")return l.major>0?u.major===l.major&&u.number>=l.number:l.minor>0?u.minor===l.minor&&u.patch>=l.patch:u.patch===l.patch}return a===h||a==="*"}})()},function(e,i){var n={};e.exports=n,function(){n.create=function(r){return{vertex:r,normalImpulse:0,tangentImpulse:0}}}()},function(e,i,n){var r={};e.exports=r;var o=n(7),a=n(18),h=n(13),l=n(19),u=n(5),d=n(6),f=n(10),c=n(0),g=n(4);(function(){r._deltaMax=1e3/60,r.create=function(p){p=p||{};var m={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},y=c.extend(m,p);return y.world=p.world||d.create({label:"World"}),y.pairs=p.pairs||l.create(),y.detector=p.detector||h.create(),y.detector.pairs=y.pairs,y.grid={buckets:[]},y.world.gravity=y.gravity,y.broadphase=y.grid,y.metrics={},y},r.update=function(p,m){var y=c.now(),x=p.world,v=p.detector,w=p.pairs,_=p.timing,T=_.timestamp,b;m>r._deltaMax&&c.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",r._deltaMax.toFixed(3),"ms."),m=typeof m<"u"?m:c._baseDelta,m*=_.timeScale,_.timestamp+=m,_.lastDelta=m;var S={timestamp:_.timestamp,delta:m};u.trigger(p,"beforeUpdate",S);var A=d.allBodies(x),P=d.allConstraints(x);for(x.isModified&&(h.setBodies(v,A),d.setModified(x,!1,!1,!0)),p.enableSleeping&&o.update(A,m),r._bodiesApplyGravity(A,p.gravity),m>0&&r._bodiesUpdate(A,m),u.trigger(p,"beforeSolve",S),f.preSolveAll(A),b=0;b<p.constraintIterations;b++)f.solveAll(P,m);f.postSolveAll(A);var M=h.collisions(v);l.update(w,M,T),p.enableSleeping&&o.afterCollisions(w.list),w.collisionStart.length>0&&u.trigger(p,"collisionStart",{pairs:w.collisionStart,timestamp:_.timestamp,delta:m});var C=c.clamp(20/p.positionIterations,0,1);for(a.preSolvePosition(w.list),b=0;b<p.positionIterations;b++)a.solvePosition(w.list,m,C);for(a.postSolvePosition(A),f.preSolveAll(A),b=0;b<p.constraintIterations;b++)f.solveAll(P,m);for(f.postSolveAll(A),a.preSolveVelocity(w.list),b=0;b<p.velocityIterations;b++)a.solveVelocity(w.list,m);return r._bodiesUpdateVelocities(A),w.collisionActive.length>0&&u.trigger(p,"collisionActive",{pairs:w.collisionActive,timestamp:_.timestamp,delta:m}),w.collisionEnd.length>0&&u.trigger(p,"collisionEnd",{pairs:w.collisionEnd,timestamp:_.timestamp,delta:m}),r._bodiesClearForces(A),u.trigger(p,"afterUpdate",S),p.timing.lastElapsed=c.now()-y,p},r.merge=function(p,m){if(c.extend(p,m),m.world){p.world=m.world,r.clear(p);for(var y=d.allBodies(p.world),x=0;x<y.length;x++){var v=y[x];o.set(v,!1),v.id=c.nextId()}}},r.clear=function(p){l.clear(p.pairs),h.clear(p.detector)},r._bodiesClearForces=function(p){for(var m=p.length,y=0;y<m;y++){var x=p[y];x.force.x=0,x.force.y=0,x.torque=0}},r._bodiesApplyGravity=function(p,m){var y=typeof m.scale<"u"?m.scale:.001,x=p.length;if(!(m.x===0&&m.y===0||y===0))for(var v=0;v<x;v++){var w=p[v];w.isStatic||w.isSleeping||(w.force.y+=w.mass*m.y*y,w.force.x+=w.mass*m.x*y)}},r._bodiesUpdate=function(p,m){for(var y=p.length,x=0;x<y;x++){var v=p[x];v.isStatic||v.isSleeping||g.update(v,m)}},r._bodiesUpdateVelocities=function(p){for(var m=p.length,y=0;y<m;y++)g.updateVelocities(p[y])}})()},function(e,i,n){var r={};e.exports=r;var o=n(3),a=n(0),h=n(1);(function(){r._restingThresh=2,r._restingThreshTangent=Math.sqrt(6),r._positionDampen=.9,r._positionWarming=.8,r._frictionNormalMultiplier=5,r._frictionMaxStatic=Number.MAX_VALUE,r.preSolvePosition=function(l){var u,d,f,c=l.length;for(u=0;u<c;u++)d=l[u],d.isActive&&(f=d.contactCount,d.collision.parentA.totalContacts+=f,d.collision.parentB.totalContacts+=f)},r.solvePosition=function(l,u,d){var f,c,g,p,m,y,x,v,w=r._positionDampen*(d||1),_=a.clamp(u/a._baseDelta,0,1),T=l.length;for(f=0;f<T;f++)c=l[f],!(!c.isActive||c.isSensor)&&(g=c.collision,p=g.parentA,m=g.parentB,y=g.normal,c.separation=g.depth+y.x*(m.positionImpulse.x-p.positionImpulse.x)+y.y*(m.positionImpulse.y-p.positionImpulse.y));for(f=0;f<T;f++)c=l[f],!(!c.isActive||c.isSensor)&&(g=c.collision,p=g.parentA,m=g.parentB,y=g.normal,v=c.separation-c.slop*_,(p.isStatic||m.isStatic)&&(v*=2),p.isStatic||p.isSleeping||(x=w/p.totalContacts,p.positionImpulse.x+=y.x*v*x,p.positionImpulse.y+=y.y*v*x),m.isStatic||m.isSleeping||(x=w/m.totalContacts,m.positionImpulse.x-=y.x*v*x,m.positionImpulse.y-=y.y*v*x))},r.postSolvePosition=function(l){for(var u=r._positionWarming,d=l.length,f=o.translate,c=h.update,g=0;g<d;g++){var p=l[g],m=p.positionImpulse,y=m.x,x=m.y,v=p.velocity;if(p.totalContacts=0,y!==0||x!==0){for(var w=0;w<p.parts.length;w++){var _=p.parts[w];f(_.vertices,m),c(_.bounds,_.vertices,v),_.position.x+=y,_.position.y+=x}p.positionPrev.x+=y,p.positionPrev.y+=x,y*v.x+x*v.y<0?(m.x=0,m.y=0):(m.x*=u,m.y*=u)}}},r.preSolveVelocity=function(l){var u=l.length,d,f;for(d=0;d<u;d++){var c=l[d];if(!(!c.isActive||c.isSensor)){var g=c.contacts,p=c.contactCount,m=c.collision,y=m.parentA,x=m.parentB,v=m.normal,w=m.tangent;for(f=0;f<p;f++){var _=g[f],T=_.vertex,b=_.normalImpulse,S=_.tangentImpulse;if(b!==0||S!==0){var A=v.x*b+w.x*S,P=v.y*b+w.y*S;y.isStatic||y.isSleeping||(y.positionPrev.x+=A*y.inverseMass,y.positionPrev.y+=P*y.inverseMass,y.anglePrev+=y.inverseInertia*((T.x-y.position.x)*P-(T.y-y.position.y)*A)),x.isStatic||x.isSleeping||(x.positionPrev.x-=A*x.inverseMass,x.positionPrev.y-=P*x.inverseMass,x.anglePrev-=x.inverseInertia*((T.x-x.position.x)*P-(T.y-x.position.y)*A))}}}}},r.solveVelocity=function(l,u){var d=u/a._baseDelta,f=d*d,c=f*d,g=-r._restingThresh*d,p=r._restingThreshTangent,m=r._frictionNormalMultiplier*d,y=r._frictionMaxStatic,x=l.length,v,w,_,T;for(_=0;_<x;_++){var b=l[_];if(!(!b.isActive||b.isSensor)){var S=b.collision,A=S.parentA,P=S.parentB,M=S.normal.x,C=S.normal.y,R=S.tangent.x,D=S.tangent.y,F=b.inverseMass,E=b.friction*b.frictionStatic*m,z=b.contacts,I=b.contactCount,O=1/I,k=A.position.x-A.positionPrev.x,j=A.position.y-A.positionPrev.y,B=A.angle-A.anglePrev,L=P.position.x-P.positionPrev.x,U=P.position.y-P.positionPrev.y,H=P.angle-P.anglePrev;for(T=0;T<I;T++){var V=z[T],Z=V.vertex,J=Z.x-A.position.x,it=Z.y-A.position.y,W=Z.x-P.position.x,Q=Z.y-P.position.y,tt=k-it*B,dt=j+J*B,bt=L-Q*H,K=U+W*H,ot=tt-bt,ct=dt-K,Pt=M*ot+C*ct,Ut=R*ot+D*ct,ke=b.separation+Pt,Kt=Math.min(ke,1);Kt=ke<0?0:Kt;var se=Kt*E;Ut<-se||Ut>se?(w=Ut>0?Ut:-Ut,v=b.friction*(Ut>0?1:-1)*c,v<-w?v=-w:v>w&&(v=w)):(v=Ut,w=y);var Ot=J*C-it*M,Te=W*C-Q*M,nn=O/(F+A.inverseInertia*Ot*Ot+P.inverseInertia*Te*Te),En=(1+b.restitution)*Pt*nn;if(v*=nn,Pt<g)V.normalImpulse=0;else{var rr=V.normalImpulse;V.normalImpulse+=En,V.normalImpulse>0&&(V.normalImpulse=0),En=V.normalImpulse-rr}if(Ut<-p||Ut>p)V.tangentImpulse=0;else{var Mi=V.tangentImpulse;V.tangentImpulse+=v,V.tangentImpulse<-w&&(V.tangentImpulse=-w),V.tangentImpulse>w&&(V.tangentImpulse=w),v=V.tangentImpulse-Mi}var Fe=M*En+R*v,ui=C*En+D*v;A.isStatic||A.isSleeping||(A.positionPrev.x+=Fe*A.inverseMass,A.positionPrev.y+=ui*A.inverseMass,A.anglePrev+=(J*ui-it*Fe)*A.inverseInertia),P.isStatic||P.isSleeping||(P.positionPrev.x-=Fe*P.inverseMass,P.positionPrev.y-=ui*P.inverseMass,P.anglePrev-=(W*ui-Q*Fe)*P.inverseInertia)}}}}})()},function(e,i,n){var r={};e.exports=r;var o=n(9),a=n(0);(function(){r.create=function(h){return a.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},h)},r.update=function(h,l,u){var d=o.update,f=o.create,c=o.setActive,g=h.table,p=h.list,m=p.length,y=m,x=h.collisionStart,v=h.collisionEnd,w=h.collisionActive,_=l.length,T=0,b=0,S=0,A,P,M;for(M=0;M<_;M++)A=l[M],P=A.pair,P?(P.isActive&&(w[S++]=P),d(P,A,u)):(P=f(A,u),g[P.id]=P,x[T++]=P,p[y++]=P);for(y=0,m=p.length,M=0;M<m;M++)P=p[M],P.timeUpdated>=u?p[y++]=P:(c(P,!1,u),P.collision.bodyA.sleepCounter>0&&P.collision.bodyB.sleepCounter>0?p[y++]=P:(v[b++]=P,delete g[P.id]));p.length!==y&&(p.length=y),x.length!==T&&(x.length=T),v.length!==b&&(v.length=b),w.length!==S&&(w.length=S)},r.clear=function(h){return h.table={},h.list.length=0,h.collisionStart.length=0,h.collisionActive.length=0,h.collisionEnd.length=0,h}})()},function(e,i,n){var r=e.exports=n(21);r.Axes=n(11),r.Bodies=n(12),r.Body=n(4),r.Bounds=n(1),r.Collision=n(8),r.Common=n(0),r.Composite=n(6),r.Composites=n(22),r.Constraint=n(10),r.Contact=n(16),r.Detector=n(13),r.Engine=n(17),r.Events=n(5),r.Grid=n(23),r.Mouse=n(14),r.MouseConstraint=n(24),r.Pair=n(9),r.Pairs=n(19),r.Plugin=n(15),r.Query=n(25),r.Render=n(26),r.Resolver=n(18),r.Runner=n(27),r.SAT=n(28),r.Sleeping=n(7),r.Svg=n(29),r.Vector=n(2),r.Vertices=n(3),r.World=n(30),r.Engine.run=r.Runner.run,r.Common.deprecated(r.Engine,"run","Engine.run  use Matter.Runner.run(engine) instead")},function(e,i,n){var r={};e.exports=r;var o=n(15),a=n(0);(function(){r.name="matter-js",r.version="0.20.0",r.uses=[],r.used=[],r.use=function(){o.use(r,Array.prototype.slice.call(arguments))},r.before=function(h,l){return h=h.replace(/^Matter./,""),a.chainPathBefore(r,h,l)},r.after=function(h,l){return h=h.replace(/^Matter./,""),a.chainPathAfter(r,h,l)}})()},function(e,i,n){var r={};e.exports=r;var o=n(6),a=n(10),h=n(0),l=n(4),u=n(12),d=h.deprecated;(function(){r.stack=function(f,c,g,p,m,y,x){for(var v=o.create({label:"Stack"}),w=f,_=c,T,b=0,S=0;S<p;S++){for(var A=0,P=0;P<g;P++){var M=x(w,_,P,S,T,b);if(M){var C=M.bounds.max.y-M.bounds.min.y,R=M.bounds.max.x-M.bounds.min.x;C>A&&(A=C),l.translate(M,{x:R*.5,y:C*.5}),w=M.bounds.max.x+m,o.addBody(v,M),T=M,b+=1}else w+=m}_+=A+y,w=f}return v},r.chain=function(f,c,g,p,m,y){for(var x=f.bodies,v=1;v<x.length;v++){var w=x[v-1],_=x[v],T=w.bounds.max.y-w.bounds.min.y,b=w.bounds.max.x-w.bounds.min.x,S=_.bounds.max.y-_.bounds.min.y,A=_.bounds.max.x-_.bounds.min.x,P={bodyA:w,pointA:{x:b*c,y:T*g},bodyB:_,pointB:{x:A*p,y:S*m}},M=h.extend(P,y);o.addConstraint(f,a.create(M))}return f.label+=" Chain",f},r.mesh=function(f,c,g,p,m){var y=f.bodies,x,v,w,_,T;for(x=0;x<g;x++){for(v=1;v<c;v++)w=y[v-1+x*c],_=y[v+x*c],o.addConstraint(f,a.create(h.extend({bodyA:w,bodyB:_},m)));if(x>0)for(v=0;v<c;v++)w=y[v+(x-1)*c],_=y[v+x*c],o.addConstraint(f,a.create(h.extend({bodyA:w,bodyB:_},m))),p&&v>0&&(T=y[v-1+(x-1)*c],o.addConstraint(f,a.create(h.extend({bodyA:T,bodyB:_},m)))),p&&v<c-1&&(T=y[v+1+(x-1)*c],o.addConstraint(f,a.create(h.extend({bodyA:T,bodyB:_},m))))}return f.label+=" Mesh",f},r.pyramid=function(f,c,g,p,m,y,x){return r.stack(f,c,g,p,m,y,function(v,w,_,T,b,S){var A=Math.min(p,Math.ceil(g/2)),P=b?b.bounds.max.x-b.bounds.min.x:0;if(!(T>A)){T=A-T;var M=T,C=g-1-T;if(!(_<M||_>C)){S===1&&l.translate(b,{x:(_+(g%2===1?1:-1))*P,y:0});var R=b?_*P:0;return x(f+R+_*m,w,_,T,b,S)}}})},r.newtonsCradle=function(f,c,g,p,m){for(var y=o.create({label:"Newtons Cradle"}),x=0;x<g;x++){var v=1.9,w=u.circle(f+x*(p*v),c+m,p,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),_=a.create({pointA:{x:f+x*(p*v),y:c},bodyB:w});o.addBody(y,w),o.addConstraint(y,_)}return y},d(r,"newtonsCradle","Composites.newtonsCradle  moved to newtonsCradle example"),r.car=function(f,c,g,p,m){var y=l.nextGroup(!0),x=20,v=-g*.5+x,w=g*.5-x,_=0,T=o.create({label:"Car"}),b=u.rectangle(f,c,g,p,{collisionFilter:{group:y},chamfer:{radius:p*.5},density:2e-4}),S=u.circle(f+v,c+_,m,{collisionFilter:{group:y},friction:.8}),A=u.circle(f+w,c+_,m,{collisionFilter:{group:y},friction:.8}),P=a.create({bodyB:b,pointB:{x:v,y:_},bodyA:S,stiffness:1,length:0}),M=a.create({bodyB:b,pointB:{x:w,y:_},bodyA:A,stiffness:1,length:0});return o.addBody(T,b),o.addBody(T,S),o.addBody(T,A),o.addConstraint(T,P),o.addConstraint(T,M),T},d(r,"car","Composites.car  moved to car example"),r.softBody=function(f,c,g,p,m,y,x,v,w,_){w=h.extend({inertia:1/0},w),_=h.extend({stiffness:.2,render:{type:"line",anchors:!1}},_);var T=r.stack(f,c,g,p,m,y,function(b,S){return u.circle(b,S,v,w)});return r.mesh(T,g,p,x,_),T.label="Soft Body",T},d(r,"softBody","Composites.softBody  moved to softBody and cloth examples")})()},function(e,i,n){var r={};e.exports=r;var o=n(9),a=n(0),h=a.deprecated;(function(){r.create=function(l){var u={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return a.extend(u,l)},r.update=function(l,u,d,f){var c,g,p,m=d.world,y=l.buckets,x,v,w=!1;for(c=0;c<u.length;c++){var _=u[c];if(!(_.isSleeping&&!f)&&!(m.bounds&&(_.bounds.max.x<m.bounds.min.x||_.bounds.min.x>m.bounds.max.x||_.bounds.max.y<m.bounds.min.y||_.bounds.min.y>m.bounds.max.y))){var T=r._getRegion(l,_);if(!_.region||T.id!==_.region.id||f){(!_.region||f)&&(_.region=T);var b=r._regionUnion(T,_.region);for(g=b.startCol;g<=b.endCol;g++)for(p=b.startRow;p<=b.endRow;p++){v=r._getBucketId(g,p),x=y[v];var S=g>=T.startCol&&g<=T.endCol&&p>=T.startRow&&p<=T.endRow,A=g>=_.region.startCol&&g<=_.region.endCol&&p>=_.region.startRow&&p<=_.region.endRow;!S&&A&&A&&x&&r._bucketRemoveBody(l,x,_),(_.region===T||S&&!A||f)&&(x||(x=r._createBucket(y,v)),r._bucketAddBody(l,x,_))}_.region=T,w=!0}}}w&&(l.pairsList=r._createActivePairsList(l))},h(r,"update","Grid.update  replaced by Matter.Detector"),r.clear=function(l){l.buckets={},l.pairs={},l.pairsList=[]},h(r,"clear","Grid.clear  replaced by Matter.Detector"),r._regionUnion=function(l,u){var d=Math.min(l.startCol,u.startCol),f=Math.max(l.endCol,u.endCol),c=Math.min(l.startRow,u.startRow),g=Math.max(l.endRow,u.endRow);return r._createRegion(d,f,c,g)},r._getRegion=function(l,u){var d=u.bounds,f=Math.floor(d.min.x/l.bucketWidth),c=Math.floor(d.max.x/l.bucketWidth),g=Math.floor(d.min.y/l.bucketHeight),p=Math.floor(d.max.y/l.bucketHeight);return r._createRegion(f,c,g,p)},r._createRegion=function(l,u,d,f){return{id:l+","+u+","+d+","+f,startCol:l,endCol:u,startRow:d,endRow:f}},r._getBucketId=function(l,u){return"C"+l+"R"+u},r._createBucket=function(l,u){var d=l[u]=[];return d},r._bucketAddBody=function(l,u,d){var f=l.pairs,c=o.id,g=u.length,p;for(p=0;p<g;p++){var m=u[p];if(!(d.id===m.id||d.isStatic&&m.isStatic)){var y=c(d,m),x=f[y];x?x[2]+=1:f[y]=[d,m,1]}}u.push(d)},r._bucketRemoveBody=function(l,u,d){var f=l.pairs,c=o.id,g;u.splice(a.indexOf(u,d),1);var p=u.length;for(g=0;g<p;g++){var m=f[c(d,u[g])];m&&(m[2]-=1)}},r._createActivePairsList=function(l){var u,d=l.pairs,f=a.keys(d),c=f.length,g=[],p;for(p=0;p<c;p++)u=d[f[p]],u[2]>0?g.push(u):delete d[f[p]];return g}})()},function(e,i,n){var r={};e.exports=r;var o=n(3),a=n(7),h=n(14),l=n(5),u=n(13),d=n(10),f=n(6),c=n(0),g=n(1);(function(){r.create=function(p,m){var y=(p?p.mouse:null)||(m?m.mouse:null);y||(p&&p.render&&p.render.canvas?y=h.create(p.render.canvas):m&&m.element?y=h.create(m.element):(y=h.create(),c.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var x=d.create({label:"Mouse Constraint",pointA:y.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),v={type:"mouseConstraint",mouse:y,element:null,body:null,constraint:x,collisionFilter:{category:1,mask:4294967295,group:0}},w=c.extend(v,m);return l.on(p,"beforeUpdate",function(){var _=f.allBodies(p.world);r.update(w,_),r._triggerEvents(w)}),w},r.update=function(p,m){var y=p.mouse,x=p.constraint,v=p.body;if(y.button===0){if(x.bodyB)a.set(x.bodyB,!1),x.pointA=y.position;else for(var w=0;w<m.length;w++)if(v=m[w],g.contains(v.bounds,y.position)&&u.canCollide(v.collisionFilter,p.collisionFilter))for(var _=v.parts.length>1?1:0;_<v.parts.length;_++){var T=v.parts[_];if(o.contains(T.vertices,y.position)){x.pointA=y.position,x.bodyB=p.body=v,x.pointB={x:y.position.x-v.position.x,y:y.position.y-v.position.y},x.angleB=v.angle,a.set(v,!1),l.trigger(p,"startdrag",{mouse:y,body:v});break}}}else x.bodyB=p.body=null,x.pointB=null,v&&l.trigger(p,"enddrag",{mouse:y,body:v})},r._triggerEvents=function(p){var m=p.mouse,y=m.sourceEvents;y.mousemove&&l.trigger(p,"mousemove",{mouse:m}),y.mousedown&&l.trigger(p,"mousedown",{mouse:m}),y.mouseup&&l.trigger(p,"mouseup",{mouse:m}),h.clearSourceEvents(m)}})()},function(e,i,n){var r={};e.exports=r;var o=n(2),a=n(8),h=n(1),l=n(12),u=n(3);(function(){r.collides=function(d,f){for(var c=[],g=f.length,p=d.bounds,m=a.collides,y=h.overlaps,x=0;x<g;x++){var v=f[x],w=v.parts.length,_=w===1?0:1;if(y(v.bounds,p))for(var T=_;T<w;T++){var b=v.parts[T];if(y(b.bounds,p)){var S=m(b,d);if(S){c.push(S);break}}}}return c},r.ray=function(d,f,c,g){g=g||1e-100;for(var p=o.angle(f,c),m=o.magnitude(o.sub(f,c)),y=(c.x+f.x)*.5,x=(c.y+f.y)*.5,v=l.rectangle(y,x,m,g,{angle:p}),w=r.collides(v,d),_=0;_<w.length;_+=1){var T=w[_];T.body=T.bodyB=T.bodyA}return w},r.region=function(d,f,c){for(var g=[],p=0;p<d.length;p++){var m=d[p],y=h.overlaps(m.bounds,f);(y&&!c||!y&&c)&&g.push(m)}return g},r.point=function(d,f){for(var c=[],g=0;g<d.length;g++){var p=d[g];if(h.contains(p.bounds,f))for(var m=p.parts.length===1?0:1;m<p.parts.length;m++){var y=p.parts[m];if(h.contains(y.bounds,f)&&u.contains(y.vertices,f)){c.push(p);break}}}return c}})()},function(e,i,n){var r={};e.exports=r;var o=n(4),a=n(0),h=n(6),l=n(1),u=n(5),d=n(2),f=n(14);(function(){var c,g;typeof window<"u"&&(c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(_){window.setTimeout(function(){_(a.now())},1e3/60)},g=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),r._goodFps=30,r._goodDelta=1e3/60,r.create=function(_){var T={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!_.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},b=a.extend(T,_);return b.canvas&&(b.canvas.width=b.options.width||b.canvas.width,b.canvas.height=b.options.height||b.canvas.height),b.mouse=_.mouse,b.engine=_.engine,b.canvas=b.canvas||y(b.options.width,b.options.height),b.context=b.canvas.getContext("2d"),b.textures={},b.bounds=b.bounds||{min:{x:0,y:0},max:{x:b.canvas.width,y:b.canvas.height}},b.controller=r,b.options.showBroadphase=!1,b.options.pixelRatio!==1&&r.setPixelRatio(b,b.options.pixelRatio),a.isElement(b.element)&&b.element.appendChild(b.canvas),b},r.run=function(_){(function T(b){_.frameRequestId=c(T),p(_,b),r.world(_,b),_.context.setTransform(_.options.pixelRatio,0,0,_.options.pixelRatio,0,0),(_.options.showStats||_.options.showDebug)&&r.stats(_,_.context,b),(_.options.showPerformance||_.options.showDebug)&&r.performance(_,_.context,b),_.context.setTransform(1,0,0,1,0,0)})()},r.stop=function(_){g(_.frameRequestId)},r.setPixelRatio=function(_,T){var b=_.options,S=_.canvas;T==="auto"&&(T=x(S)),b.pixelRatio=T,S.setAttribute("data-pixel-ratio",T),S.width=b.width*T,S.height=b.height*T,S.style.width=b.width+"px",S.style.height=b.height+"px"},r.setSize=function(_,T,b){_.options.width=T,_.options.height=b,_.bounds.max.x=_.bounds.min.x+T,_.bounds.max.y=_.bounds.min.y+b,_.options.pixelRatio!==1?r.setPixelRatio(_,_.options.pixelRatio):(_.canvas.width=T,_.canvas.height=b)},r.lookAt=function(_,T,b,S){S=typeof S<"u"?S:!0,T=a.isArray(T)?T:[T],b=b||{x:0,y:0};for(var A={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},P=0;P<T.length;P+=1){var M=T[P],C=M.bounds?M.bounds.min:M.min||M.position||M,R=M.bounds?M.bounds.max:M.max||M.position||M;C&&R&&(C.x<A.min.x&&(A.min.x=C.x),R.x>A.max.x&&(A.max.x=R.x),C.y<A.min.y&&(A.min.y=C.y),R.y>A.max.y&&(A.max.y=R.y))}var D=A.max.x-A.min.x+2*b.x,F=A.max.y-A.min.y+2*b.y,E=_.canvas.height,z=_.canvas.width,I=z/E,O=D/F,k=1,j=1;O>I?j=O/I:k=I/O,_.options.hasBounds=!0,_.bounds.min.x=A.min.x,_.bounds.max.x=A.min.x+D*k,_.bounds.min.y=A.min.y,_.bounds.max.y=A.min.y+F*j,S&&(_.bounds.min.x+=D*.5-D*k*.5,_.bounds.max.x+=D*.5-D*k*.5,_.bounds.min.y+=F*.5-F*j*.5,_.bounds.max.y+=F*.5-F*j*.5),_.bounds.min.x-=b.x,_.bounds.max.x-=b.x,_.bounds.min.y-=b.y,_.bounds.max.y-=b.y,_.mouse&&(f.setScale(_.mouse,{x:(_.bounds.max.x-_.bounds.min.x)/_.canvas.width,y:(_.bounds.max.y-_.bounds.min.y)/_.canvas.height}),f.setOffset(_.mouse,_.bounds.min))},r.startViewTransform=function(_){var T=_.bounds.max.x-_.bounds.min.x,b=_.bounds.max.y-_.bounds.min.y,S=T/_.options.width,A=b/_.options.height;_.context.setTransform(_.options.pixelRatio/S,0,0,_.options.pixelRatio/A,0,0),_.context.translate(-_.bounds.min.x,-_.bounds.min.y)},r.endViewTransform=function(_){_.context.setTransform(_.options.pixelRatio,0,0,_.options.pixelRatio,0,0)},r.world=function(_,T){var b=a.now(),S=_.engine,A=S.world,P=_.canvas,M=_.context,C=_.options,R=_.timing,D=h.allBodies(A),F=h.allConstraints(A),E=C.wireframes?C.wireframeBackground:C.background,z=[],I=[],O,k={timestamp:S.timing.timestamp};if(u.trigger(_,"beforeRender",k),_.currentBackground!==E&&w(_,E),M.globalCompositeOperation="source-in",M.fillStyle="transparent",M.fillRect(0,0,P.width,P.height),M.globalCompositeOperation="source-over",C.hasBounds){for(O=0;O<D.length;O++){var j=D[O];l.overlaps(j.bounds,_.bounds)&&z.push(j)}for(O=0;O<F.length;O++){var B=F[O],L=B.bodyA,U=B.bodyB,H=B.pointA,V=B.pointB;L&&(H=d.add(L.position,B.pointA)),U&&(V=d.add(U.position,B.pointB)),!(!H||!V)&&(l.contains(_.bounds,H)||l.contains(_.bounds,V))&&I.push(B)}r.startViewTransform(_),_.mouse&&(f.setScale(_.mouse,{x:(_.bounds.max.x-_.bounds.min.x)/_.options.width,y:(_.bounds.max.y-_.bounds.min.y)/_.options.height}),f.setOffset(_.mouse,_.bounds.min))}else I=F,z=D,_.options.pixelRatio!==1&&_.context.setTransform(_.options.pixelRatio,0,0,_.options.pixelRatio,0,0);!C.wireframes||S.enableSleeping&&C.showSleeping?r.bodies(_,z,M):(C.showConvexHulls&&r.bodyConvexHulls(_,z,M),r.bodyWireframes(_,z,M)),C.showBounds&&r.bodyBounds(_,z,M),(C.showAxes||C.showAngleIndicator)&&r.bodyAxes(_,z,M),C.showPositions&&r.bodyPositions(_,z,M),C.showVelocity&&r.bodyVelocity(_,z,M),C.showIds&&r.bodyIds(_,z,M),C.showSeparations&&r.separations(_,S.pairs.list,M),C.showCollisions&&r.collisions(_,S.pairs.list,M),C.showVertexNumbers&&r.vertexNumbers(_,z,M),C.showMousePosition&&r.mousePosition(_,_.mouse,M),r.constraints(I,M),C.hasBounds&&r.endViewTransform(_),u.trigger(_,"afterRender",k),R.lastElapsed=a.now()-b},r.stats=function(_,T,b){for(var S=_.engine,A=S.world,P=h.allBodies(A),M=0,C=55,R=44,D=0,F=0,E=0;E<P.length;E+=1)M+=P[E].parts.length;var z={Part:M,Body:P.length,Cons:h.allConstraints(A).length,Comp:h.allComposites(A).length,Pair:S.pairs.list.length};T.fillStyle="#0e0f19",T.fillRect(D,F,C*5.5,R),T.font="12px Arial",T.textBaseline="top",T.textAlign="right";for(var I in z){var O=z[I];T.fillStyle="#aaa",T.fillText(I,D+C,F+8),T.fillStyle="#eee",T.fillText(O,D+C,F+26),D+=C}},r.performance=function(_,T){var b=_.engine,S=_.timing,A=S.deltaHistory,P=S.elapsedHistory,M=S.timestampElapsedHistory,C=S.engineDeltaHistory,R=S.engineUpdatesHistory,D=S.engineElapsedHistory,F=b.timing.lastUpdatesPerFrame,E=b.timing.lastDelta,z=m(A),I=m(P),O=m(C),k=m(R),j=m(D),B=m(M),L=B/z||0,U=Math.round(z/E),H=1e3/z||0,V=4,Z=12,J=60,it=34,W=10,Q=69;T.fillStyle="#0e0f19",T.fillRect(0,50,Z*5+J*6+22,it),r.status(T,W,Q,J,V,A.length,Math.round(H)+" fps",H/r._goodFps,function(tt){return A[tt]/z-1}),r.status(T,W+Z+J,Q,J,V,C.length,E.toFixed(2)+" dt",r._goodDelta/E,function(tt){return C[tt]/O-1}),r.status(T,W+(Z+J)*2,Q,J,V,R.length,F+" upf",Math.pow(a.clamp(k/U||1,0,1),4),function(tt){return R[tt]/k-1}),r.status(T,W+(Z+J)*3,Q,J,V,D.length,j.toFixed(2)+" ut",1-F*j/r._goodFps,function(tt){return D[tt]/j-1}),r.status(T,W+(Z+J)*4,Q,J,V,P.length,I.toFixed(2)+" rt",1-I/r._goodFps,function(tt){return P[tt]/I-1}),r.status(T,W+(Z+J)*5,Q,J,V,M.length,L.toFixed(2)+" x",L*L*L,function(tt){return(M[tt]/A[tt]/L||0)-1})},r.status=function(_,T,b,S,A,P,M,C,R){_.strokeStyle="#888",_.fillStyle="#444",_.lineWidth=1,_.fillRect(T,b+7,S,1),_.beginPath(),_.moveTo(T,b+7-A*a.clamp(.4*R(0),-2,2));for(var D=0;D<S;D+=1)_.lineTo(T+D,b+7-(D<P?A*a.clamp(.4*R(D),-2,2):0));_.stroke(),_.fillStyle="hsl("+a.clamp(25+95*C,0,120)+",100%,60%)",_.fillRect(T,b-7,4,4),_.font="12px Arial",_.textBaseline="middle",_.textAlign="right",_.fillStyle="#eee",_.fillText(M,T+S,b-5)},r.constraints=function(_,T){for(var b=T,S=0;S<_.length;S++){var A=_[S];if(!(!A.render.visible||!A.pointA||!A.pointB)){var P=A.bodyA,M=A.bodyB,C,R;if(P?C=d.add(P.position,A.pointA):C=A.pointA,A.render.type==="pin")b.beginPath(),b.arc(C.x,C.y,3,0,2*Math.PI),b.closePath();else{if(M?R=d.add(M.position,A.pointB):R=A.pointB,b.beginPath(),b.moveTo(C.x,C.y),A.render.type==="spring")for(var D=d.sub(R,C),F=d.perp(d.normalise(D)),E=Math.ceil(a.clamp(A.length/5,12,20)),z,I=1;I<E;I+=1)z=I%2===0?1:-1,b.lineTo(C.x+D.x*(I/E)+F.x*z*4,C.y+D.y*(I/E)+F.y*z*4);b.lineTo(R.x,R.y)}A.render.lineWidth&&(b.lineWidth=A.render.lineWidth,b.strokeStyle=A.render.strokeStyle,b.stroke()),A.render.anchors&&(b.fillStyle=A.render.strokeStyle,b.beginPath(),b.arc(C.x,C.y,3,0,2*Math.PI),b.arc(R.x,R.y,3,0,2*Math.PI),b.closePath(),b.fill())}}},r.bodies=function(_,T,b){var S=b;_.engine;var A=_.options,P=A.showInternalEdges||!A.wireframes,M,C,R,D;for(R=0;R<T.length;R++)if(M=T[R],!!M.render.visible){for(D=M.parts.length>1?1:0;D<M.parts.length;D++)if(C=M.parts[D],!!C.render.visible){if(A.showSleeping&&M.isSleeping?S.globalAlpha=.5*C.render.opacity:C.render.opacity!==1&&(S.globalAlpha=C.render.opacity),C.render.sprite&&C.render.sprite.texture&&!A.wireframes){var F=C.render.sprite,E=v(_,F.texture);S.translate(C.position.x,C.position.y),S.rotate(C.angle),S.drawImage(E,E.width*-F.xOffset*F.xScale,E.height*-F.yOffset*F.yScale,E.width*F.xScale,E.height*F.yScale),S.rotate(-C.angle),S.translate(-C.position.x,-C.position.y)}else{if(C.circleRadius)S.beginPath(),S.arc(C.position.x,C.position.y,C.circleRadius,0,2*Math.PI);else{S.beginPath(),S.moveTo(C.vertices[0].x,C.vertices[0].y);for(var z=1;z<C.vertices.length;z++)!C.vertices[z-1].isInternal||P?S.lineTo(C.vertices[z].x,C.vertices[z].y):S.moveTo(C.vertices[z].x,C.vertices[z].y),C.vertices[z].isInternal&&!P&&S.moveTo(C.vertices[(z+1)%C.vertices.length].x,C.vertices[(z+1)%C.vertices.length].y);S.lineTo(C.vertices[0].x,C.vertices[0].y),S.closePath()}A.wireframes?(S.lineWidth=1,S.strokeStyle=_.options.wireframeStrokeStyle,S.stroke()):(S.fillStyle=C.render.fillStyle,C.render.lineWidth&&(S.lineWidth=C.render.lineWidth,S.strokeStyle=C.render.strokeStyle,S.stroke()),S.fill())}S.globalAlpha=1}}},r.bodyWireframes=function(_,T,b){var S=b,A=_.options.showInternalEdges,P,M,C,R,D;for(S.beginPath(),C=0;C<T.length;C++)if(P=T[C],!!P.render.visible)for(D=P.parts.length>1?1:0;D<P.parts.length;D++){for(M=P.parts[D],S.moveTo(M.vertices[0].x,M.vertices[0].y),R=1;R<M.vertices.length;R++)!M.vertices[R-1].isInternal||A?S.lineTo(M.vertices[R].x,M.vertices[R].y):S.moveTo(M.vertices[R].x,M.vertices[R].y),M.vertices[R].isInternal&&!A&&S.moveTo(M.vertices[(R+1)%M.vertices.length].x,M.vertices[(R+1)%M.vertices.length].y);S.lineTo(M.vertices[0].x,M.vertices[0].y)}S.lineWidth=1,S.strokeStyle=_.options.wireframeStrokeStyle,S.stroke()},r.bodyConvexHulls=function(_,T,b){var S=b,A,P,M;for(S.beginPath(),P=0;P<T.length;P++)if(A=T[P],!(!A.render.visible||A.parts.length===1)){for(S.moveTo(A.vertices[0].x,A.vertices[0].y),M=1;M<A.vertices.length;M++)S.lineTo(A.vertices[M].x,A.vertices[M].y);S.lineTo(A.vertices[0].x,A.vertices[0].y)}S.lineWidth=1,S.strokeStyle="rgba(255,255,255,0.2)",S.stroke()},r.vertexNumbers=function(_,T,b){var S=b,A,P,M;for(A=0;A<T.length;A++){var C=T[A].parts;for(M=C.length>1?1:0;M<C.length;M++){var R=C[M];for(P=0;P<R.vertices.length;P++)S.fillStyle="rgba(255,255,255,0.2)",S.fillText(A+"_"+P,R.position.x+(R.vertices[P].x-R.position.x)*.8,R.position.y+(R.vertices[P].y-R.position.y)*.8)}}},r.mousePosition=function(_,T,b){var S=b;S.fillStyle="rgba(255,255,255,0.8)",S.fillText(T.position.x+"  "+T.position.y,T.position.x+5,T.position.y-5)},r.bodyBounds=function(_,T,b){var S=b;_.engine;var A=_.options;S.beginPath();for(var P=0;P<T.length;P++){var M=T[P];if(M.render.visible)for(var C=T[P].parts,R=C.length>1?1:0;R<C.length;R++){var D=C[R];S.rect(D.bounds.min.x,D.bounds.min.y,D.bounds.max.x-D.bounds.min.x,D.bounds.max.y-D.bounds.min.y)}}A.wireframes?S.strokeStyle="rgba(255,255,255,0.08)":S.strokeStyle="rgba(0,0,0,0.1)",S.lineWidth=1,S.stroke()},r.bodyAxes=function(_,T,b){var S=b;_.engine;var A=_.options,P,M,C,R;for(S.beginPath(),M=0;M<T.length;M++){var D=T[M],F=D.parts;if(D.render.visible)if(A.showAxes)for(C=F.length>1?1:0;C<F.length;C++)for(P=F[C],R=0;R<P.axes.length;R++){var E=P.axes[R];S.moveTo(P.position.x,P.position.y),S.lineTo(P.position.x+E.x*20,P.position.y+E.y*20)}else for(C=F.length>1?1:0;C<F.length;C++)for(P=F[C],R=0;R<P.axes.length;R++)S.moveTo(P.position.x,P.position.y),S.lineTo((P.vertices[0].x+P.vertices[P.vertices.length-1].x)/2,(P.vertices[0].y+P.vertices[P.vertices.length-1].y)/2)}A.wireframes?(S.strokeStyle="indianred",S.lineWidth=1):(S.strokeStyle="rgba(255, 255, 255, 0.4)",S.globalCompositeOperation="overlay",S.lineWidth=2),S.stroke(),S.globalCompositeOperation="source-over"},r.bodyPositions=function(_,T,b){var S=b;_.engine;var A=_.options,P,M,C,R;for(S.beginPath(),C=0;C<T.length;C++)if(P=T[C],!!P.render.visible)for(R=0;R<P.parts.length;R++)M=P.parts[R],S.arc(M.position.x,M.position.y,3,0,2*Math.PI,!1),S.closePath();for(A.wireframes?S.fillStyle="indianred":S.fillStyle="rgba(0,0,0,0.5)",S.fill(),S.beginPath(),C=0;C<T.length;C++)P=T[C],P.render.visible&&(S.arc(P.positionPrev.x,P.positionPrev.y,2,0,2*Math.PI,!1),S.closePath());S.fillStyle="rgba(255,165,0,0.8)",S.fill()},r.bodyVelocity=function(_,T,b){var S=b;S.beginPath();for(var A=0;A<T.length;A++){var P=T[A];if(P.render.visible){var M=o.getVelocity(P);S.moveTo(P.position.x,P.position.y),S.lineTo(P.position.x+M.x,P.position.y+M.y)}}S.lineWidth=3,S.strokeStyle="cornflowerblue",S.stroke()},r.bodyIds=function(_,T,b){var S=b,A,P;for(A=0;A<T.length;A++)if(T[A].render.visible){var M=T[A].parts;for(P=M.length>1?1:0;P<M.length;P++){var C=M[P];S.font="12px Arial",S.fillStyle="rgba(255,255,255,0.5)",S.fillText(C.id,C.position.x+10,C.position.y-10)}}},r.collisions=function(_,T,b){var S=b,A=_.options,P,M,C,R;for(S.beginPath(),C=0;C<T.length;C++)if(P=T[C],!!P.isActive)for(M=P.collision,R=0;R<P.contactCount;R++){var D=P.contacts[R],F=D.vertex;S.rect(F.x-1.5,F.y-1.5,3.5,3.5)}for(A.wireframes?S.fillStyle="rgba(255,255,255,0.7)":S.fillStyle="orange",S.fill(),S.beginPath(),C=0;C<T.length;C++)if(P=T[C],!!P.isActive&&(M=P.collision,P.contactCount>0)){var E=P.contacts[0].vertex.x,z=P.contacts[0].vertex.y;P.contactCount===2&&(E=(P.contacts[0].vertex.x+P.contacts[1].vertex.x)/2,z=(P.contacts[0].vertex.y+P.contacts[1].vertex.y)/2),M.bodyB===M.supports[0].body||M.bodyA.isStatic===!0?S.moveTo(E-M.normal.x*8,z-M.normal.y*8):S.moveTo(E+M.normal.x*8,z+M.normal.y*8),S.lineTo(E,z)}A.wireframes?S.strokeStyle="rgba(255,165,0,0.7)":S.strokeStyle="orange",S.lineWidth=1,S.stroke()},r.separations=function(_,T,b){var S=b,A=_.options,P,M,C,R,D;for(S.beginPath(),D=0;D<T.length;D++)if(P=T[D],!!P.isActive){M=P.collision,C=M.bodyA,R=M.bodyB;var F=1;!R.isStatic&&!C.isStatic&&(F=.5),R.isStatic&&(F=0),S.moveTo(R.position.x,R.position.y),S.lineTo(R.position.x-M.penetration.x*F,R.position.y-M.penetration.y*F),F=1,!R.isStatic&&!C.isStatic&&(F=.5),C.isStatic&&(F=0),S.moveTo(C.position.x,C.position.y),S.lineTo(C.position.x+M.penetration.x*F,C.position.y+M.penetration.y*F)}A.wireframes?S.strokeStyle="rgba(255,165,0,0.5)":S.strokeStyle="orange",S.stroke()},r.inspector=function(_,T){_.engine;var b=_.selected,S=_.render,A=S.options,P;if(A.hasBounds){var M=S.bounds.max.x-S.bounds.min.x,C=S.bounds.max.y-S.bounds.min.y,R=M/S.options.width,D=C/S.options.height;T.scale(1/R,1/D),T.translate(-S.bounds.min.x,-S.bounds.min.y)}for(var F=0;F<b.length;F++){var E=b[F].data;switch(T.translate(.5,.5),T.lineWidth=1,T.strokeStyle="rgba(255,165,0,0.9)",T.setLineDash([1,2]),E.type){case"body":P=E.bounds,T.beginPath(),T.rect(Math.floor(P.min.x-3),Math.floor(P.min.y-3),Math.floor(P.max.x-P.min.x+6),Math.floor(P.max.y-P.min.y+6)),T.closePath(),T.stroke();break;case"constraint":var z=E.pointA;E.bodyA&&(z=E.pointB),T.beginPath(),T.arc(z.x,z.y,10,0,2*Math.PI),T.closePath(),T.stroke();break}T.setLineDash([]),T.translate(-.5,-.5)}_.selectStart!==null&&(T.translate(.5,.5),T.lineWidth=1,T.strokeStyle="rgba(255,165,0,0.6)",T.fillStyle="rgba(255,165,0,0.1)",P=_.selectBounds,T.beginPath(),T.rect(Math.floor(P.min.x),Math.floor(P.min.y),Math.floor(P.max.x-P.min.x),Math.floor(P.max.y-P.min.y)),T.closePath(),T.stroke(),T.fill(),T.translate(-.5,-.5)),A.hasBounds&&T.setTransform(1,0,0,1,0,0)};var p=function(_,T){var b=_.engine,S=_.timing,A=S.historySize,P=b.timing.timestamp;S.delta=T-S.lastTime||r._goodDelta,S.lastTime=T,S.timestampElapsed=P-S.lastTimestamp||0,S.lastTimestamp=P,S.deltaHistory.unshift(S.delta),S.deltaHistory.length=Math.min(S.deltaHistory.length,A),S.engineDeltaHistory.unshift(b.timing.lastDelta),S.engineDeltaHistory.length=Math.min(S.engineDeltaHistory.length,A),S.timestampElapsedHistory.unshift(S.timestampElapsed),S.timestampElapsedHistory.length=Math.min(S.timestampElapsedHistory.length,A),S.engineUpdatesHistory.unshift(b.timing.lastUpdatesPerFrame),S.engineUpdatesHistory.length=Math.min(S.engineUpdatesHistory.length,A),S.engineElapsedHistory.unshift(b.timing.lastElapsed),S.engineElapsedHistory.length=Math.min(S.engineElapsedHistory.length,A),S.elapsedHistory.unshift(S.lastElapsed),S.elapsedHistory.length=Math.min(S.elapsedHistory.length,A)},m=function(_){for(var T=0,b=0;b<_.length;b+=1)T+=_[b];return T/_.length||0},y=function(_,T){var b=document.createElement("canvas");return b.width=_,b.height=T,b.oncontextmenu=function(){return!1},b.onselectstart=function(){return!1},b},x=function(_){var T=_.getContext("2d"),b=window.devicePixelRatio||1,S=T.webkitBackingStorePixelRatio||T.mozBackingStorePixelRatio||T.msBackingStorePixelRatio||T.oBackingStorePixelRatio||T.backingStorePixelRatio||1;return b/S},v=function(_,T){var b=_.textures[T];return b||(b=_.textures[T]=new Image,b.src=T,b)},w=function(_,T){var b=T;/(jpg|gif|png)$/.test(T)&&(b="url("+T+")"),_.canvas.style.background=b,_.canvas.style.backgroundSize="contain",_.currentBackground=T}})()},function(e,i,n){var r={};e.exports=r;var o=n(5),a=n(17),h=n(0);(function(){r._maxFrameDelta=1e3/15,r._frameDeltaFallback=1e3/60,r._timeBufferMargin=1.5,r._elapsedNextEstimate=1,r._smoothingLowerBound=.1,r._smoothingUpperBound=.9,r.create=function(u){var d={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},f=h.extend(d,u);return f.fps=0,f},r.run=function(u,d){return u.timeBuffer=r._frameDeltaFallback,function f(c){u.frameRequestId=r._onNextFrame(u,f),c&&u.enabled&&r.tick(u,d,c)}(),u},r.tick=function(u,d,f){var c=h.now(),g=u.delta,p=0,m=f-u.timeLastTick;if((!m||!u.timeLastTick||m>Math.max(r._maxFrameDelta,u.maxFrameTime))&&(m=u.frameDelta||r._frameDeltaFallback),u.frameDeltaSmoothing){u.frameDeltaHistory.push(m),u.frameDeltaHistory=u.frameDeltaHistory.slice(-u.frameDeltaHistorySize);var y=u.frameDeltaHistory.slice(0).sort(),x=u.frameDeltaHistory.slice(y.length*r._smoothingLowerBound,y.length*r._smoothingUpperBound),v=l(x);m=v||m}u.frameDeltaSnapping&&(m=1e3/Math.round(1e3/m)),u.frameDelta=m,u.timeLastTick=f,u.timeBuffer+=u.frameDelta,u.timeBuffer=h.clamp(u.timeBuffer,0,u.frameDelta+g*r._timeBufferMargin),u.lastUpdatesDeferred=0;var w=u.maxUpdates||Math.ceil(u.maxFrameTime/g),_={timestamp:d.timing.timestamp};o.trigger(u,"beforeTick",_),o.trigger(u,"tick",_);for(var T=h.now();g>0&&u.timeBuffer>=g*r._timeBufferMargin;){o.trigger(u,"beforeUpdate",_),a.update(d,g),o.trigger(u,"afterUpdate",_),u.timeBuffer-=g,p+=1;var b=h.now()-c,S=h.now()-T,A=b+r._elapsedNextEstimate*S/p;if(p>=w||A>u.maxFrameTime){u.lastUpdatesDeferred=Math.round(Math.max(0,u.timeBuffer/g-r._timeBufferMargin));break}}d.timing.lastUpdatesPerFrame=p,o.trigger(u,"afterTick",_),u.frameDeltaHistory.length>=100&&(u.lastUpdatesDeferred&&Math.round(u.frameDelta/g)>w?h.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):u.lastUpdatesDeferred&&h.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof u.isFixed<"u"&&h.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(u.deltaMin||u.deltaMax)&&h.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),u.fps!==0&&h.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},r.stop=function(u){r._cancelNextFrame(u)},r._onNextFrame=function(u,d){if(typeof window<"u"&&window.requestAnimationFrame)u.frameRequestId=window.requestAnimationFrame(d);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return u.frameRequestId},r._cancelNextFrame=function(u){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(u.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var l=function(u){for(var d=0,f=u.length,c=0;c<f;c+=1)d+=u[c];return d/f||0}})()},function(e,i,n){var r={};e.exports=r;var o=n(8),a=n(0),h=a.deprecated;(function(){r.collides=function(l,u){return o.collides(l,u)},h(r,"collides","SAT.collides  replaced by Collision.collides")})()},function(e,i,n){var r={};e.exports=r,n(1);var o=n(0);(function(){r.pathToVertices=function(a,h){typeof window<"u"&&!("SVGPathSeg"in window)&&o.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var l,u,d,f,c,g,p,m,y,x,v=[],w,_,T=0,b=0,S=0;h=h||15;var A=function(M,C,R){var D=R%2===1&&R>1;if(!y||M!=y.x||C!=y.y){y&&D?(w=y.x,_=y.y):(w=0,_=0);var F={x:w+M,y:_+C};(D||!y)&&(y=F),v.push(F),b=w+M,S=_+C}},P=function(M){var C=M.pathSegTypeAsLetter.toUpperCase();if(C!=="Z"){switch(C){case"M":case"L":case"T":case"C":case"S":case"Q":b=M.x,S=M.y;break;case"H":b=M.x;break;case"V":S=M.y;break}A(b,S,M.pathSegType)}};for(r._svgPathToAbsolute(a),d=a.getTotalLength(),g=[],l=0;l<a.pathSegList.numberOfItems;l+=1)g.push(a.pathSegList.getItem(l));for(p=g.concat();T<d;){if(x=a.getPathSegAtLength(T),c=g[x],c!=m){for(;p.length&&p[0]!=c;)P(p.shift());m=c}switch(c.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":f=a.getPointAtLength(T),A(f.x,f.y,0);break}T+=h}for(l=0,u=p.length;l<u;++l)P(p[l]);return v},r._svgPathToAbsolute=function(a){for(var h,l,u,d,f,c,g=a.pathSegList,p=0,m=0,y=g.numberOfItems,x=0;x<y;++x){var v=g.getItem(x),w=v.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(w))"x"in v&&(p=v.x),"y"in v&&(m=v.y);else switch("x1"in v&&(u=p+v.x1),"x2"in v&&(f=p+v.x2),"y1"in v&&(d=m+v.y1),"y2"in v&&(c=m+v.y2),"x"in v&&(p+=v.x),"y"in v&&(m+=v.y),w){case"m":g.replaceItem(a.createSVGPathSegMovetoAbs(p,m),x);break;case"l":g.replaceItem(a.createSVGPathSegLinetoAbs(p,m),x);break;case"h":g.replaceItem(a.createSVGPathSegLinetoHorizontalAbs(p),x);break;case"v":g.replaceItem(a.createSVGPathSegLinetoVerticalAbs(m),x);break;case"c":g.replaceItem(a.createSVGPathSegCurvetoCubicAbs(p,m,u,d,f,c),x);break;case"s":g.replaceItem(a.createSVGPathSegCurvetoCubicSmoothAbs(p,m,f,c),x);break;case"q":g.replaceItem(a.createSVGPathSegCurvetoQuadraticAbs(p,m,u,d),x);break;case"t":g.replaceItem(a.createSVGPathSegCurvetoQuadraticSmoothAbs(p,m),x);break;case"a":g.replaceItem(a.createSVGPathSegArcAbs(p,m,v.r1,v.r2,v.angle,v.largeArcFlag,v.sweepFlag),x);break;case"z":case"Z":p=h,m=l;break}(w=="M"||w=="m")&&(h=p,l=m)}}})()},function(e,i,n){var r={};e.exports=r;var o=n(6);n(0),function(){r.create=o.create,r.add=o.add,r.remove=o.remove,r.clear=o.clear,r.addComposite=o.addComposite,r.addBody=o.addBody,r.addConstraint=o.addConstraint}()}])})}(ja)),ja.exports}var T2=w2();const Se=_s(T2);class S2{constructor(){G(this,"engine");G(this,"runner");G(this,"fishBody");this.engine=Se.Engine.create({gravity:{x:0,y:0}}),this.runner=Se.Runner.create(),Se.Runner.run(this.runner,this.engine);const t=200,e=[Se.Bodies.rectangle(vt/2,-t/2,vt,t,{isStatic:!0}),Se.Bodies.rectangle(vt/2,vt+t/2,vt,t,{isStatic:!0}),Se.Bodies.rectangle(-t/2,vt/2,t,vt,{isStatic:!0}),Se.Bodies.rectangle(vt+t/2,vt/2,t,vt,{isStatic:!0})];Se.World.add(this.engine.world,e)}setObstacleBody(t){const e=[];t.forEach(i=>{e.push(Se.Bodies.rectangle(i.x,i.y,Ce.CELL_SIZE,Ce.CELL_SIZE,{isStatic:!0}))}),Se.World.add(this.engine.world,e)}setMover(t,e){return this.fishBody=Se.Bodies.rectangle(25,16,25,16,{friction:0,frictionStatic:0,restitution:0,frictionAir:.02,chamfer:{radius:5}}),Se.World.add(this.engine.world,this.fishBody),this.fishBody}}const xT=new S2,Wt=class Wt extends ft{constructor(){super();G(this,"_gridSize",1);G(this,"_pathGraphics",new Xt);Fr.setInstance("FIND_WAY_MAP",this),Oi.setFinder(new rv.AStarFinder({heuristic:_T.Heuristic.manhattan,allowDiagonal:!0,dontCrossCorners:!0})),this._gridSize=ys(vt,Wt.CELL_SIZE,"/"),Oi.setGrid(new rv.Grid(this._gridSize,this._gridSize)),this._drawGridBackground();const e=[];for(let i=1;i<this._gridSize;i+=kt(1,3))for(let n=1;n<this._gridSize;n+=kt(1,3))this.createObstacle(i*Wt.CELL_SIZE,n*Wt.CELL_SIZE),e.push({x:i*Wt.CELL_SIZE+Wt.CELL_SIZE/2,y:n*Wt.CELL_SIZE+Wt.CELL_SIZE/2});xT.setObstacleBody(e)}createObstacle(e,i){const n=new Xt;n.beginFill("#000"),n.drawRect(0,0,Wt.CELL_SIZE,Wt.CELL_SIZE),n.endFill();const{x:r,y:o}=Eo(e,i);n.position.set(r*Wt.CELL_SIZE,o*Wt.CELL_SIZE),Oi.addObstacle(r,o,n),this.addChild(n)}_drawGridBackground(){const e=new Xt;e.lineStyle(1,"#fff");for(let i=0;i<this._gridSize;i++)e.moveTo(i*Wt.CELL_SIZE,0),e.lineTo(i*Wt.CELL_SIZE,this._gridSize*Wt.CELL_SIZE);for(let i=0;i<this._gridSize;i++)e.moveTo(0,i*Wt.CELL_SIZE),e.lineTo(this._gridSize*Wt.CELL_SIZE,i*Wt.CELL_SIZE);this.addChild(e)}static getGridCoordToMapPos(e,i){const n=(e+.5)*Wt.CELL_SIZE,r=(i+.5)*Wt.CELL_SIZE;return{x:n,y:r}}static calculatePath(e,i){const n=Oi.grid.getNodeAt(e.x,e.y),r=Oi.grid.getNodeAt(i.x,i.y);return Oi.finder.findPath(n.x,n.y,r.x,r.y,Oi.grid.clone())}};G(Wt,"CELL_SIZE",100);let Ce=Wt;const A2=async s=>{await new Promise(t=>{be.loadBundle("mainManifest",async e=>{e===1&&t()})})},E2=s=>VR(`(${Pi().valueOf()}-${s})/${XR}`,1),Yd=s=>s>=1e5?`${ys(s,Jr*1e3,"/")}`:s>=100?`${ys(s,Jr,"/")}`:`${s}`,Eo=(s,t)=>{const e=Math.floor(s/Ce.CELL_SIZE),i=Math.floor(t/Ce.CELL_SIZE);return{x:e,y:i}},zp=s=>s*(Tt.shared.deltaMS/1e3),vT=()=>Tt.shared.deltaMS/16.6667;class C2 extends ft{constructor(){super();G(this,"_lengthText");G(this,"_widthText");G(this,"_weightText");G(this,"_feedCountText");G(this,"_mateCountText");G(this,"_distanceText");G(this,"_speedText");const e=new Rh({rowGap:20,colGap:135,colNum:3});this.addChild(e),this._lengthText=new cr(""),e.push(this._lengthText),this._widthText=new cr(""),e.push(this._widthText),this._weightText=new cr(""),e.push(this._weightText),this._feedCountText=new cr(""),e.push(this._feedCountText),this._mateCountText=new cr(""),e.push(this._mateCountText),this._distanceText=new cr(""),e.push(this._distanceText),this._speedText=new cr(""),e.push(this._speedText),e.layout()}updateValue(e,i){const n=ie.getFishData(e,i);this._lengthText.setValue(`${Yd(n.long)}`),this._widthText.setValue(`${Yd(n.width)}`),this._weightText.setValue(`${ys(n.weight,1e3,"/")}`),this._feedCountText.setValue(`${n.feedCount}`),this._mateCountText.setValue(`${n.mateCount}`),this._distanceText.setValue(`${Yd(n.distance)}`),this._speedText.setValue(`${n.tempSpeed}/`)}}class P2 extends ft{constructor(){super();G(this,"_tickerUpdate",new Tt);Fr.setInstance("FISH_INFO_CARD",this);const e=new ft;this.addChild(e),e.y=-45,e.eventMode="static";const i=new Ts(420,300,10,"rgba(0, 0, 0, 0.75)");e.addChild(i),i.alpha=Wh;const n=new It({text:"",fontSize:25,fontColor:"#fff"});e.addChild(n),n.position.set(15,15),n.resolution=Un;const r=new It({text:"",fontSize:12,fontColor:"#fff"});e.addChild(r),r.alpha=eo,r.resolution=Un;const o=new It({text:"",fontSize:12,fontColor:"#fff"});e.addChild(o),o.alpha=eo,o.resolution=Un;const a=new It({text:"",fontSize:12,fontColor:"#fff"});e.addChild(a),a.anchor.x=1,a.position.set(400,20),a.alpha=eo,a.resolution=Un;const h=new C2;e.addChild(h),h.position.set(20,60),Da(h,385);const l=new e2;e.addChild(l),l.position.set(12,h.y+h.height+35),e.pivot.set(e.width/2,e.height),this._tickerUpdate=new Tt,this._tickerUpdate.start(),this._tickerUpdate.add(()=>{const u=gn.getValue("entityCardId");if(!u)return;const d=gn.getValue("entityCardLastName"),{x:f,y:c,firstName:g,birthTime:p,gender:m}=ie.getFishData(d,u);n.text=`${d}${g}`,a.text=`ID: ${u}`,o.text=`${E2(p)}`,r.text=`${m===0?"":""}`,r.position.set(n.x+n.width+5,15),o.position.set(n.x+n.width+5,r.y+r.height),h.updateValue(d,u),l.updateValue(d,u);const y=Math.min(Math.max(f,e.width/2),vt-e.width/2),x=Math.min(Math.max(c,e.height),vt);X.killTweensOf(this),X.to(this,{x:y,y:x,duration:.1,ease:"power1.out"})})}setVisible(e){this.visible=e}}class I2 extends No{constructor(){super({waterAlpha:.75,hour:Pi().hour()}),Ap(()=>{this.setValue("hour",Pi().hour()),this.updateFake("hour"),this.setValue("waterAlpha",DR([{h:6,v:.1},{h:6,v:.25},{h:9,v:.75},{h:12,v:1},{h:15,v:.75},{h:18,v:.5},{h:20,v:.25},{h:21,v:.1}],.1))},1e3*60)}}const Rp=new I2;class M2 extends No{constructor(){super({isFeeding:!1,isSelectLocking:!0,isFishClickCreating:!1,isPauseFollowing:!1,isPlacingObstacle:!1,isFollowPlayerFish:!1})}}const _i=new M2;class z2 extends No{constructor(){super({entity:void 0})}}const bT=new z2;let R2=class wT extends zh{constructor(e){super(vt,vt);G(this,"_params");G(this,"_startX",0);G(this,"_startY",0);G(this,"_velocityX",0);G(this,"_velocityY",0);G(this,"_startTime",0);G(this,"_startPositionX",0);G(this,"_startPositionY",0);G(this,"_isDragging",!1);G(this,"_isInertiaMoving",!1);G(this,"_findWayMap");const i=new we(vt,vt,"#fff");this.addChild(i),this.mask=i,this._params=e,this.sortableChildren=!0,this.scale.set(YR),this.pivot.set(vt/2,vt/2);const n=new xn(be.get("preload/img/water"),vt,vt);this.addChild(n),n.tileScale.set(.25);const r=new xn(be.get("preload/img/surface"),vt,vt);this.addChild(r),r.zIndex=Vi.surface,r.eventMode="none";const o=new xn(be.get("preload/img/ripple"),vt,vt);this.addChild(o),o.zIndex=Vi.ripple,o.eventMode="none",this._findWayMap=new Ce,this.addChild(this._findWayMap);const a=new P2;this.addChild(a),a.zIndex=Vi.fishCard,this._setPositionCenter(vt/2,vt/2),this._initMapEvent(),Ji.add("MapUI",()=>{r.tilePosition.x+=.15,r.tilePosition.y+=.15,o.tilePosition.x+=.1,o.tilePosition.y+=.1}),Ap(()=>{this._mapFollowEntityMove()},10),Rp.onValue("waterAlpha",h=>{n.alpha=h,o.alpha=h,r.alpha=h*.5})}static getMapSafePosition(e,i,n){const r=e,o=vt-e,a=Math.max(r,Math.min(i,o)),h=Math.max(r,Math.min(n,o));return{newX:a,newY:h}}static posToCoord(e,i,n=0,r=0){const o=Math.round(e-vt/2+n/2),a=Math.round(vt/2-i-r/2);return{x:o,y:a}}_initMapEvent(){Lt(this,"pointerdown",e=>{_i.setValue("isPauseFollowing",!0),this._onDragStart(e),this.cursor="move"}),Lt(Ss.gameStage,"pointermove",this._onDragMove.bind(this)),Lt(this,"pointerup",this._onClick.bind(this),{preventDragClick:!0}),Lt(this,"pointerup",()=>{this._onDragEnd(),this.cursor="pointer",_i.setValue("isPauseFollowing",!1)}),Lt(this,"pointerupoutside",this._onDragEnd.bind(this)),this.on("wheel",this._onWheel.bind(this)),qo.on(()=>{this._limitScrollRange(!0)})}_mapFollowEntityMove(){if(_i.getValue("isPauseFollowing"))return;const e=gn.getValue("entityCardId"),i=gn.getValue("entityCardLastName");let n;if(e?n=ie.getFish(i,e):_i.getValue("isFollowPlayerFish")&&(n=bT.getValue("entity")),!n)return;const r=this.scale.x,o=window.innerWidth/2,a=window.innerHeight/2,h=o-n.x*r+this._getMapRealSize()/2,l=a-n.y*r+this._getMapRealSize()/2,{x:u,y:d}=this._limitScrollRange(!1,h,l);X.killTweensOf(this),X.to(this,{x:u,y:d,duration:.1,ease:"power1.out"}),this._isInertiaMoving=!1}_setPositionCenter(e,i){this.x=this._mapPosToScreenCenterPos("x",e),this.y=this._mapPosToScreenCenterPos("y",i)}_onWheel(e){var d,f;if(this._isDragging||this._isInertiaMoving)return;const i=1.1,n=e.deltaY>0?1/i:i,r=this.scale.x,o=Math.min(window.innerWidth/vt,window.innerHeight/vt),a=Math.max(o,Math.min(r*n,ZR)),h=new St(e.clientX,e.clientY),l=this.toLocal(h);this.scale.set(a);const u=this.toLocal(h);this.x+=(u.x-l.x)*a,this.y+=(u.y-l.y)*a,(f=(d=this._params).onZoom)==null||f.call(d,a),this._limitScrollRange(!0)}_onClick(e){var u,d;const i=this.scale.x,{x:n,y:r}=e.page,o=n-this.x+vt/2*i,a=r-this.y+vt/2*i,{x:h,y:l}=wT.posToCoord(o,a);(d=(u=this._params).onClick)==null||d.call(u,{coordX:h,coordY:l,x:o/i,y:a/i})}_onDragStart(e){const{x:i,y:n}=e.global;this._startX=i-this.x,this._startY=n-this.y,this._isDragging=!0,this._velocityX=0,this._velocityY=0,this._startTime=Date.now(),this._startPositionX=this.x,this._startPositionY=this.y,X.killTweensOf(this)}_onDragMove(e){if(this._isDragging){const{x:i,y:n}=e.global,r=i-this._startX,o=n-this._startY;this.position.set(r,o),this._limitScrollRange(!0)}}_onDragEnd(){this._isDragging=!1;const i=Date.now()-this._startTime;i<250?(this._isInertiaMoving=!0,this._velocityX=(this.x-this._startPositionX)/i,this._velocityY=(this.y-this._startPositionY)/i,this._applyInertia()):(this._velocityX=0,this._velocityY=0,this._isInertiaMoving=!1)}_applyInertia(){X.to(this,{x:this.x+this._velocityX*250,y:this.y+this._velocityY*250,duration:.5,ease:"power1.out",onUpdate:()=>{this._limitScrollRange(!0)},onComplete:()=>{this._isInertiaMoving=!1}})}_limitScrollRange(e,i,n){let r=i;r??(r=this.x);let o=n;o??(o=this.y);let a=r,h=o;const l=this._getMapRealSize();return r>this._virtualToMapPos(0,"x")&&(a=this._virtualToMapPos(0,"x")),r<this._virtualToMapPos(vt+window.innerWidth,"x")&&(a=this._virtualToMapPos(vt+window.innerWidth,"x")),o>this._virtualToMapPos(0,"y")&&(h=this._virtualToMapPos(0,"y")),o<this._virtualToMapPos(vt+window.innerHeight,"y")&&(h=this._virtualToMapPos(vt+window.innerHeight,"y")),window.innerWidth>=l&&(a=window.innerWidth/2),window.innerHeight>=l&&(h=window.innerHeight/2),e&&this.position.set(a,h),{x:a,y:h}}_getMapRealSize(){const e=this.scale.x;return vt*e}_mapPosToScreenCenterPos(e,i){const n=e==="x"?window.innerWidth:window.innerHeight;return vt/2*this.scale.x-i+n/2}_virtualToMapPos(e,i){const n={x:window.innerWidth,y:window.innerHeight},r=this.scale.x,o=Math.min(vt-n[i]/r,e);return(vt/2-o)*r}};class D2 extends ft{constructor(){super(),this.eventMode="none";const t=new It({text:"@",fontSize:24});this.addChild(t),t.alpha=.5,qo.on((e,i)=>{t.x=e-t.width,t.y=i-t.height})}}class k2 extends An{constructor(t,e){super();const{bodyColor:i,tailColor:n}=ie.getFishData(t,e).style;this.zIndex=Vi.fish,this.sortableChildren=!0;const r=new Xt;r.beginFill(i),r.drawEllipse(0,0,10,5),r.endFill(),this.addChild(r),r.zIndex=2;const o=new Wi([[5,-4],[3,3]],n);this.addChild(o),o.position.set(-6,-3);const a=new Wi([[5,4],[3,-3]],n);this.addChild(a),a.position.set(-6,3);const h=new Qi(1,"rgba(0,0,0,0.5)");this.addChild(h),h.position.set(-6,2),h.zIndex=3;const l=new Qi(1,"rgba(0,0,0,0.5)");this.addChild(l),l.position.set(-6,-2),l.zIndex=3;const u=new Wi([[10,-5],[10,5]],n);this.addChild(u),u.zIndex=1,u.x=10,u.pivot.x=5,this.pivot.x=u.width/3.5}}class F2 extends An{constructor(e,i){super();G(this,"_bg");G(this,"id");this.id=i,this._bg=new Ts(250,75,5,"#fff"),this.addChild(this._bg),this._bg.alpha=.1;const n=new k2(e,i);this.addChild(n),n.position.set(50,37.5),n.scale.set(3);const r=ie.getFishData(e,i),o=new It({text:`${r.lastName}${r.firstName}`,fontSize:25,fontColor:"#fff"});this.addChild(o),o.anchor.y=.5,o.position.set(110,37.5)}}class j2 extends Xf{constructor(e){super({onClickMask:async()=>{await this.close(),e()}});G(this,"_scrollContent",new ft);G(this,"_gridLayout");G(this,"_fishDataList",[]);G(this,"_searchFishDataList",[]);G(this,"_fishCardUIList",[]);G(this,"_searchValue","");for(const h of ie.fishFamilyDataList.values())this._fishDataList=[...this._fishDataList,...h.values()];const i=new ft,n=new Ts(1280,720,20,yT);i.addChild(n),n.alpha=Wh;const r=new It({text:"",fontSize:50,fontColor:"#fff"});i.addChild(r),r.anchor.set(.5),r.position.set(640,75);const o=new jh({width:350,height:50,placeholder:"",align:"center",fontSizeRatio:.5,bgColor:"#000",onValue:h=>{this._searchValue=h,this.updateFishList()}});i.addChild(o),o.position.set(880,130),o.cursor="text",this._gridLayout=new Rh({rowGap:100,colGap:310,colNum:4}),this._scrollContent.addChild(this._gridLayout),this.updateFishList();const a=new Ao({width:1180,height:475,scrollContent:this._scrollContent,scrollbar:!0,scrollbarRgiht:0,scrollbarWidth:5});i.addChild(a),a.position.set(50,215),this.setDialogContent(i)}updateFishList(){for(const e of ie.fishFamilyDataList.values())for(const i of e.values());this._searchFishDataList=kR(this._fishDataList,this._searchValue,["name"]),this._gridLayout.destroyList(),this._searchFishDataList.forEach(e=>{const i=new F2(e.lastName,e.id);this._gridLayout.push(i)}),this._gridLayout.layout()}}class O2 extends ft{constructor(e){super();G(this,"_bg");G(this,"_desc");G(this,"_isSelected",!1);const{index:i,label:n,emoji:r,onClick:o}=e;this._bg=new Ts(70,70,10,"#fff"),this.addChild(this._bg),this._bg.pivot.set(this._bg.width/2,this._bg.height/2),this._bg.scale.set(0),this._bg.alpha=.25;const a=new It({text:r,fontSize:50});this.addChild(a),a.anchor.set(.5),this._desc=new It({text:n,fontSize:20,stroke:"#000"}),this.addChild(this._desc),this._desc.anchor.set(.5),this._desc.y=-55,this._desc.visible=!1,Lt(this,"pointerenter",()=>{this._desc.visible=!0,X.to(this._bg.scale,{x:1,y:1,duration:.25,ease:"back.out"})}),Lt(this,"pointerleave",()=>{this._desc.visible=!1,X.to(this._bg.scale,{x:0,y:0,duration:.25,ease:"none"})}),Lt(this,"pointertap",()=>{o(i)})}}const Ur={FISH_LIST:"FISH_LIST",BACKPACK:"BACKPACK",SHOP:"SHOP",BANK:"BANK",ASSURE:"ASSURE"};class B2 extends ft{constructor(){super();G(this,"TAB_LIST",[{id:Ur.FISH_LIST,label:"",emoji:fn.FISH_LIST},{id:Ur.BACKPACK,label:"",emoji:fn.BACKPACK},{id:Ur.SHOP,label:"",emoji:fn.SHOP},{id:Ur.BANK,label:"",emoji:fn.BANK},{id:Ur.ASSURE,label:"",emoji:fn.ASSURE}]);G(this,"_tabItemList",new Map);this.eventMode="static";const e=new kw(this.TAB_LIST.length*110,100,yT);this.addChild(e),e.alpha=Wh,this.pivot.set(e.width/2,e.height);const i=new Rh({colNum:this.TAB_LIST.length,colGap:100,anchorX:.5,anchorY:.5});this.addChild(i),i.position.set(275,50),this.TAB_LIST.forEach((n,r)=>{const o=new O2({...n,index:r,onClick:async()=>{n.id===Ur.FISH_LIST&&av.open(j2,"FishListDialog",()=>{av.close("FishListDialog")})}});i.push(o),this._tabItemList.set(n.id,o)}),i.layout()}}class L2 extends ft{constructor(){super();G(this,"_radius",100);G(this,"_getHourHandRadian",e=>{const i=Pi(),n=e%12,r=i.minute();return-((n+r/60)/12)*Math.PI*2});const e=new ft;this.addChild(e);const i=new on({start:-Math.PI,end:0,radius:this._radius,color:"#fff",strokeColor:"#fff",thickness:2});e.addChild(i),e.mask=i,i.y=1;const n=new ft;e.addChild(n);const r={radius:this._radius,color:"#0BA3AE",strokeColor:"#fff",thickness:2},o=new on({start:Math.PI/2,end:Math.PI,...r});n.addChild(o),o.filters=[Mn("brightness",.5)];const a=new on({start:Math.PI,end:Math.PI+Math.PI/2,radius:this._radius,color:"#0BA3AE",strokeColor:"#fff",thickness:2});n.addChild(a),a.filters=[Mn("brightness",.75)];const h=new on({start:-Math.PI/2,end:0,...r});n.addChild(h);const l=new on({start:0,end:Math.PI/2,...r});n.addChild(l),l.filters=[Mn("brightness",.75)];const u=new on({start:Math.PI/2,end:Math.PI-Math.PI/2/3,...r});n.addChild(u),u.filters=[Mn("brightness",.5)];const d=new on({start:Math.PI-Math.PI/2/3,end:Math.PI,...r});n.addChild(d),d.filters=[Mn("brightness",.25)];const f=new on({start:Math.PI,end:-Math.PI/2,...r});n.addChild(f),f.filters=[Mn("brightness",.1)];const c=new on({start:-Math.PI/2,end:Math.PI/2,...r});n.addChild(c),c.filters=[Mn("brightness",.1)];const g=new we(this._radius*2.5,2,"#fff");this.addChild(g),g.alpha=KR,g.x=-g.width/2,Rp.onValue("hour",p=>{p>=0&&(u.visible=!1,d.visible=!1,f.visible=!1),p>=6&&(c.visible=!1),p>=12&&(u.visible=!0,d.visible=!0,f.visible=!0),p>=18&&(c.visible=!0),n.rotation=this._getHourHandRadian(p)-Math.PI/2})}}class Dp extends ft{constructor(){super();G(this,"bar");G(this,"label");this.visible=!1,this.bar=new Xt,this.addChild(this.bar),this.label=new It({text:"1m",fontColor:"#fff",fontSize:20}),this.label.anchor.set(.5,1),this.label.y=-10,this.addChild(this.label)}update(e){this.visible=!0,this.alpha=1;const{scale:i,pixelPerMeter:n}=Dp.getScaleAndPixelPerMeter(e);this.bar.clear(),this.bar.beginFill(16777215),this.bar.drawRect(0,0,Jr*i,3),this.bar.endFill(),this.bar.pivot.set(this.bar.width/2,5);const r=5*i;this.bar.moveTo(0,4),this.bar.lineStyle(2.5,16777215),this.bar.lineTo(0,-r),this.bar.moveTo(Jr*i,4),this.bar.lineTo(Jr*i,-r),this.label.text=`${n<1?`${n*Jr}CM`:`${n}M`}`,X.killTweensOf(this),X.to(this,{alpha:0,delay:3,duration:.25,onComplete:()=>{this.visible=!1}})}static getScaleAndPixelPerMeter(e){const i=[20,10,5,2,1,.5,.2,.1,.05,.02,.01,.005,.002,.001];for(const n of i)if(e>n)return{scale:e/n,pixelPerMeter:1/n};return{scale:e,pixelPerMeter:1}}}const N2=(s,t=1)=>{let e=0;const i=Tt.shared,n=()=>{e+=i.deltaMS,e>=t&&(s==null||s(),i.remove(n))};return i.add(n),i.start(),()=>{i.remove(n)}};class q2 extends ft{constructor(){super();G(this,"_tips",new Map);Fr.setInstance("TIP",this)}tip(e){const i=new ft;this.addChild(i);const n=Pi().valueOf(),r=new It({text:e,fontColor:"#fff",fontSize:25});r.anchor.set(.5);const o=new Ts(r.width+50,r.height+25,5,"#000");i.addChild(o),o.alpha=Wh,o.pivot.set(o.width/2,o.height/2),i.addChild(r),i.alpha=0,i.scale.set(.5),Array.from(this._tips.values()).reverse().forEach((a,h)=>{X.to(a,{y:(h+1)*-60,duration:.25})}),this._tips.set(n,i),X.to(i,{alpha:1,pixi:{scale:1},duration:.25}),N2(()=>{X.to(i,{alpha:0,duration:.5,onComplete:()=>{X.killTweensOf(this._tips.get(n)),this._tips.delete(n),i.destroy()}})},3e3)}}class U2 extends ft{constructor(t){super(),this._elementList=[],this._params=t||{},this._elementList=this._params.elementList||[]}push(t){this.addChild(t),this._elementList.push(t)}layout(){const{colNum:t=this._elementList.length,gap:e=0,direction:i="x",anchorX:n=0,anchorY:r=0}=this._params;let o=0,a=0;this._elementList.forEach((h,l)=>{var u,d;const f=Math.floor(l/t),c=l%t;if(i==="x"){const g=Array.isArray(e)?(u=e[l-1])!==null&&u!==void 0?u:0:e;c===0&&f>0&&(a+=o+g,o=0),h.x=c===0?0:this._elementList[l-1].x+this._elementList[l-1].width+g,a&&(h.y=a),o=Math.max(o,h.height)}else{const g=Array.isArray(e)?(d=e[l-1])!==null&&d!==void 0?d:0:e;c===0&&f>0&&(a+=o+g,o=0),h.y=c===0?0:this._elementList[l-1].y+this._elementList[l-1].height+g,a&&(h.x=a),o=Math.max(o,h.width)}}),cp(this,n,r)}getList(){return this._elementList}destroyList(){this._elementList.forEach(t=>{t.destroy()}),this._elementList=[]}}class G2 extends ft{constructor(){super();const t=new U2({direction:"y",gap:0,anchorX:1});this.addChild(t);const e={fontSize:24,fontColor:"#fff",stroke:"#000",strokeThickness:4,align:"center"},i=new It({text:"",...e});i.anchor.x=1,Lt(i,"pointertap",()=>{_i.setBooleanValue("isFeeding")});const n=new It({text:"",...e});n.anchor.x=1,Lt(n,"pointertap",()=>{_i.setBooleanValue("isPlacingObstacle")});const r=new It({text:"",...e});r.anchor.x=1,t.push(r),Lt(r,"pointertap",()=>{_i.setBooleanValue("isFollowPlayerFish")}),t.layout(),_i.onValue("isFeeding",o=>{i.style.fill=o?"green":"#fff",i.style.stroke=o?"#fff":"#000"}),_i.onValue("isPlacingObstacle",o=>{n.style.fill=o?"green":"#fff",n.style.stroke=o?"#fff":"#000"}),_i.onValue("isFollowPlayerFish",o=>{r.style.fill=o?"green":"#fff",r.style.stroke=o?"#fff":"#000"})}}class ov extends Xt{constructor(){super();const t=1;this.lineStyle(1,"#000",1),this.moveTo(-t,-t).lineTo(t,t),this.moveTo(t,-t).lineTo(-t,t),this.alpha=.5}}class TT extends ft{constructor(e,i,n){super();G(this,"_tail");G(this,"_leftEye");G(this,"_rightEye");G(this,"_leftFin");G(this,"_rightFin");G(this,"_body");G(this,"_speed",0);G(this,"_onlyFin",!1);G(this,"_isWiggling",!1);this.sortableChildren=!0;const{bodyColor:r,tailColor:o}=n;this._body=new Vw(e,i,r),this.addChild(this._body),this._body.zIndex=2,this._leftFin=new Wi([[5,-4],[3,3]],o),this.addChild(this._leftFin),this._leftFin.position.set(-6,-3),this._rightFin=new Wi([[5,4],[3,-3]],o),this.addChild(this._rightFin),this._rightFin.position.set(-6,3),this._leftEye=new Qi(1,"rgba(0,0,0,0.5)"),this.addChild(this._leftEye),this._leftEye.position.set(-6,2),this._leftEye.zIndex=3,this._rightEye=new Qi(1,"rgba(0,0,0,0.5)"),this.addChild(this._rightEye),this._rightEye.position.set(-6,-2),this._rightEye.zIndex=3,this._tail=new Wi([[10,-5],[10,5]],o),this.addChild(this._tail),this._tail.zIndex=1,this._tail.x=10,this._tail.pivot.x=5,this.pivot.x=this._tail.width/4,this._setBlinkLoopAnimation()}setFishTailWiggle(e,i=!1){this._isWiggling=!0,this._speed=e,this._onlyFin=i;const n={duration:.35*this.width/e,ease:"power1.inOut",repeat:-1,yoyo:!0};X.killTweensOf(this._tail),i||X.to(this._tail,{rotation:Math.PI/20,duration:n.duration,onComplete:()=>{X.to(this._tail,{rotation:-Math.PI/20,...n})}}),X.killTweensOf(this._leftFin),X.to(this._leftFin,{rotation:Math.PI/20,duration:n.duration,onComplete:()=>{X.to(this._leftFin,{delay:.1,rotation:-Math.PI/20,...n})}}),X.killTweensOf(this._rightFin),X.to(this._rightFin,{rotation:-Math.PI/20,duration:n.duration,onComplete:()=>{X.to(this._rightFin,{delay:.1,rotation:Math.PI/20,...n})}})}resetTailAngle(){X.killTweensOf(this._tail),X.to(this._tail,{duration:.25,rotation:0})}stopAnimation(){this._isWiggling&&(this._isWiggling=!1,X.killTweensOf(this._tail),X.killTweensOf(this._leftFin),X.killTweensOf(this._rightFin))}resumeAnimation(){this._isWiggling||this.setFishTailWiggle(this._speed,this._onlyFin)}async _setBlinkLoopAnimation(){await X.to([this._leftEye.scale,this._rightEye.scale],{x:.1,duration:.1}),await X.to([this._leftEye.scale,this._rightEye.scale],{x:1,duration:.1}),Bz(50)&&(await X.to([this._leftEye.scale,this._rightEye.scale],{x:.1,duration:.1}),await X.to([this._leftEye.scale,this._rightEye.scale],{x:1,duration:.1})),await Oz(kt(1,7.5)*1e3),this._setBlinkLoopAnimation()}}let H2=class extends TT{constructor(e){super(10,5,e);G(this,"_deadLeftEye");G(this,"_deadRightEye");this.scale.set(3),this._deadLeftEye=new ov,this.addChild(this._deadLeftEye),this._deadLeftEye.zIndex=3,this._deadLeftEye.position.set(-6,2),this._deadLeftEye.visible=!1,this._deadRightEye=new ov,this.addChild(this._deadRightEye),this._deadRightEye.zIndex=3,this._deadRightEye.position.set(-6,-2),this._deadRightEye.visible=!1}setDeadAfter(){this._leftEye.destroy(),this._rightEye.destroy(),this._deadLeftEye.visible=!0,this._deadRightEye.visible=!0}};class W2 extends ft{constructor(){super();G(this,"_bg");G(this,"_emoji");G(this,"_emojiList",[]);this.visible=!1,this.sortableChildren=!0,this._emoji=new It({text:"",fontFamily:"Emoji",fontSize:30}),this.addChild(this._emoji),this._emoji.zIndex=1,this._emoji.anchor.set(.5),this._refreshBg(),this._emoji.resolution=3;const e=new Qi(5,"#fff");this.addChild(e),e.y=30;const i=new Qi(2.5,"#fff");this.addChild(i),i.y=45}addEmoji(e){return this._emojiList.push(e),this._emoji.text=this._emojiList.join(""),this._refreshBg(),()=>{this.delEmoji(e)}}delEmoji(e){this._emojiList=this._emojiList.filter(i=>i!==e),this._emoji.text=this._emojiList.join(""),this._refreshBg()}_refreshBg(){var i;this.visible=this._emoji.text!=="",(i=this._bg)==null||i.destroy();const e=this._emoji.width+10;this._bg=new Ts(e,35,10,"#fff"),this.addChild(this._bg),this._bg.pivot.set(e/2,35/2)}}class V2 extends ft{constructor(e){super();G(this,"id");G(this,"lastName");G(this,"body");G(this,"_emojiBubble");G(this,"_lastPathIndex",0);G(this,"_path",[]);G(this,"_pathGraphics",new Xt);G(this,"_pathfindingMove");this.id=e.id,this.lastName=e.lastName,this.zIndex=Vi.fish,this.body=new H2(e.style),this.addChild(this.body),Lt(this.body,"pointertap",i=>{i.stopPropagation(),$n.emit(vn.SHOW_FISH_INFO,this.lastName,this.id)}),this._emojiBubble=new W2,this.addChild(this._emojiBubble),this._emojiBubble.pivot.y=this._emojiBubble.height,Ji.add(e.id,()=>{var i;(i=this._pathfindingMove)==null||i.call(this)}),Ap(()=>{const i=Sp(this);this.visible=!i,i?this.body.stopAnimation():this.body.resumeAnimation()},100),requestAnimationFrame(()=>{this._startRandomMove()})}getFishData(){return ie.getFishData(this.lastName,this.id)}_startRandomMove(){const e=Oi.getRandomWalkableGrid({x:this.x,y:this.y});if(e){const{x:i,y:n}=e;this._startFindWay(i,n).then(()=>{this._startRandomMove()})}}async _startFindWay(e,i){const n=Eo(this.x,this.y),r=Eo(e,i);if(this._hasObstacleAround(r.x,r.y)){const{x:o,y:a}=Ce.getGridCoordToMapPos(r.x,r.y);e=o,i=a}this._path=Ce.calculatePath(n,r),this._killPathfindingMove(),await this._startMove(e,i)}_hasObstacleAround(e,i){const n=[{x:0,y:1},{x:0,y:-1},{x:1,y:0},{x:-1,y:0},{x:-1,y:-1},{x:-1,y:1},{x:1,y:-1},{x:1,y:1}];for(const r of n){const o=e+r.x,a=i+r.y;if(!Oi.grid.isWalkableAt(o,a))return!0}return!1}_startMove(e,i){return new Promise(n=>{let r=1;const o=Ep;this._pathfindingMove=()=>{const a=zp(o);if(r<this._path.length){this._lastPathIndex!==r&&(this.body.setFishTailWiggle(o*1),this._lastPathIndex=r);const l=this._path[r];let{x:u,y:d}=Ce.getGridCoordToMapPos(l[0],l[1]);r===this._path.length-1&&(u=e,d=i);const f=u-this.x,c=d-this.y,g=Math.sqrt(f*f+c*c);if(g<=a*1.2){this.x=u,this.y=d,r++;return}else{const p=f/g*a,m=c/g*a,y=this.rotation,x=Math.PI*2;let v=Math.atan2(c,f)+Math.PI;for(;v-y>Math.PI;)v-=x;for(;v-y<-Math.PI;)v+=x;const w=v-y;this.x+=p*1,this.y+=m*1,this.rotation+=w*.05*(o/100)*vT(),ie.setPosition(this.lastName,this.id,Math.floor(this.x),Math.floor(this.y))}}else this._lastPathIndex=0,this._killPathfindingMove(),n()}})}_killPathfindingMove(){this._pathGraphics.clear(),this._pathfindingMove=void 0}}const ts={long:10,width:5,speed:100};class $2 extends TT{constructor(t){super(ts.long,ts.width,t)}}class X2 extends ft{constructor(){super();G(this,"AXIS_MAP",{up:{k:"y",v:-1},down:{k:"y",v:1},left:{k:"x",v:-1},right:{k:"x",v:1}});G(this,"KEYS",{KeyW:"up",KeyA:"left",KeyS:"down",KeyD:"right"});G(this,"_body");G(this,"_fishBody");G(this,"_isPress",!1);G(this,"_moveDirection",{left:!1,right:!1,up:!1,down:!1});G(this,"_moveSpeedRate",{x:0,y:0});G(this,"handleKeyDown",e=>{const i=this.KEYS[e.code];if(!i)return;this._isPress||(this._body.setFishTailWiggle(ts.speed),this._isPress=!0);const{k:n,v:r}=this.AXIS_MAP[i];this._moveDirection[i]=!0,X.killTweensOf(this._moveSpeedRate,n),X.to(this._moveSpeedRate,{[n]:r,duration:.5,ease:"power1.out"})});G(this,"handleKeyUp",e=>{const i=this.KEYS[e.code];if(!i)return;this._moveDirection[i]=!1,this._isPress=Object.values(this._moveDirection).some(o=>o);const{k:n}=this.AXIS_MAP[i];if(!this._isPress){this._body.setFishTailWiggle(25,!0),this._body.resetTailAngle(),X.killTweensOf(this._moveSpeedRate),X.to(this._moveSpeedRate,{x:0,y:0,duration:1,ease:"power1.out"});return}const r=this.getSameAxisPressedDir(n);X.killTweensOf(this._moveSpeedRate,n),X.to(this._moveSpeedRate,{[n]:r?this.AXIS_MAP[r].v:0,duration:r?.5:1,ease:"power1.out"})});this.zIndex=Vi.fish,this._fishBody=xT.setMover(ts.long,ts.width),this._body=new $2({bodyColor:"#fff",tailColor:"#000"}),this.addChild(this._body),window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("keyup",this.handleKeyUp);const e=new Xt;Tt.shared.add(()=>this.update(e))}getSameAxisPressedDir(e){return e==="x"?this._moveDirection.right?"right":this._moveDirection.left?"left":null:e==="y"?this._moveDirection.down?"down":this._moveDirection.up?"up":null:null}update(e){const i=ts.speed,n=zp(i),{x:r,y:o}=this._moveSpeedRate;if(Se.Body.translate(this._fishBody,{x:n*r,y:n*o}),r!==0||o!==0){const h=Math.PI*2;let l=Math.atan2(o,r)+Math.PI;for(;l-this.rotation>Math.PI;)l-=h;for(;l-this.rotation<-Math.PI;)l+=h;const u=l-this.rotation,d=this._fishBody.angle+u*.1*(i/100)*vT();Se.Body.setAngle(this._fishBody,d)}this.x=this._fishBody.position.x,this.y=this._fishBody.position.y,this.rotation=this._fishBody.angle,e.clear(),e.lineStyle(1,16711680);const a=this._fishBody.vertices;e.moveTo(a[0].x,a[0].y);for(let h=1;h<a.length;h++)e.lineTo(a[h].x,a[h].y);e.lineTo(a[0].x,a[0].y),this.parent.addChild(e)}}class Y2 extends zh{constructor(){super(window.innerWidth,window.innerHeight);G(this,"_gameMap");Fr.setInstance("GAME_SCREEN",this),this._gameMap=new R2({onClick:l=>{const{x:u,y:d}=l;_i.getValue("isPlacingObstacle")&&$n.emit(vn.CREATE_OBSTACLE,u,d)},onZoom:l=>{o.update(l)}}),this.addChild(this._gameMap);const e=new L2;e.x=e.width/2;const i=new q2;Ss.statusLayer.addChild(i);const n=new B2;this.addChild(n);const r=new D2;this.addChild(r);const o=new Dp;this.addChild(o);const a=new G2;this.addChild(a);const h=new X2;this._gameMap.addChild(h),bT.setValue("entity",h),this._loadFish().then(()=>{pT.onValue("entityShadow",l=>{ie.fishFamilyList.forEach(u=>{u.forEach(d=>{ie.getFishData(d.lastName,d.id).blood!==0&&(l?WR(d,{color:"#000",alpha:.75,blur:0,offset:{x:0,y:10}}):d.filters=[])})})})}),qo.on((l,u,d)=>{i.x=l/2,i.y=100,n.x=l/2,n.y=u-50,n.scale.set(d),e.y=2,e.rotation=Math.PI,e.scale.x=-1,o.x=l/2,o.y=u/2,a.x=l})}async _loadFish(){Array.from({length:1},()=>kt(0,1)).forEach(i=>{const n=this._createOneFish(i);ie.addFishData(n.lastName,n)});for(const i of ie.fishFamilyDataList.values())for(const n of i.values()){const r=new V2(n);this._gameMap.addChild(r),ie.addFish(n.lastName,r);const{x:o,y:a}=Oi.getRandomFreeGrid();r.position.set(o,a)}}_createOneFish(e){const i=Dx[e].body,n=Dx[e].tail,r=ie.createFishLastName(),o=ie.createFishFirstName(r,e),a=Pi().subtract(7,"day").valueOf();return{id:(a+Cp.createIndex++).toString(),lastName:r,firstName:o,name:`${r}${o}`,gender:isNaN(e)?kt(0,1):e,blood:70,long:0,width:0,birthTime:a,weight:1,tempSpeed:0,fatherId:"",fatherLastName:"",motherId:"",motherLastName:"",feedCount:0,mateId:"",mateLastName:"",tempBlood:100,mateCount:0,totalRecoverSatiety:0,satiety:100,growthCount:7,satietyLimit:100,desireLimit:100,mateList:{},distance:0,desire:90,defecationSatietyCount:5,desireCountdown:0,pondSecurityPayCount:0,pondSecurityStartTime:0,lastPensionReceivedTime:0,x:0,y:0,satietyDistance:ig,lowBloodLoseLifeTime:0,bloodCountdown:0,idealAge:100,destroyed:!1,style:{bodyColor:i,tailColor:n},lastDistanceTime:Pi().valueOf(),...$R}}}const fe=class fe extends An{constructor(){super();const t=new we(fe.MAP_SIZE,fe.MAP_SIZE,"#fff");this.addChild(t),this.mask=t,this.sortableChildren=!0,this.pivot.set(fe.MAP_SIZE/2,fe.MAP_SIZE/2);const e=new xn(be.get("preload/img/water"),fe.MAP_SIZE,fe.MAP_SIZE);this.addChild(e),e.tileScale.set(.25);const i=new xn(be.get("preload/img/surface"),fe.MAP_SIZE,fe.MAP_SIZE);this.addChild(i),i.zIndex=Vi.surface,i.eventMode="none";const n=new xn(be.get("preload/img/ripple"),fe.MAP_SIZE,fe.MAP_SIZE);this.addChild(n),n.zIndex=Vi.ripple,n.eventMode="none",this._setPositionCenter(fe.MAP_SIZE/2,fe.MAP_SIZE/2);const r=new Tt;r.add(()=>{i.tilePosition.x+=.15,i.tilePosition.y+=.15,n.tilePosition.x+=.1,n.tilePosition.y+=.1}),r.start(),Rp.onValue("waterAlpha",o=>{e.alpha=o,n.alpha=o,i.alpha=o*.5}),this._onBeforeDestroy=()=>{r.destroy()}}_setPositionCenter(t,e){this.x=this._mapPosToScreenCenterPos("x",t),this.y=this._mapPosToScreenCenterPos("y",e)}_mapPosToScreenCenterPos(t,e){const i=t==="x"?window.innerWidth:window.innerHeight;return fe.MAP_SIZE/2*this.scale.x-e+i/2}};G(fe,"MAP_SIZE",1920);let pn=fe;class Z2 extends An{constructor(e){super();G(this,"_fishData");G(this,"_leftEye");G(this,"_rightEye");G(this,"_leftHand");G(this,"_rightHand");G(this,"_leftLeg");G(this,"_rightLeg");G(this,"_targetX",0);G(this,"_targetY",0);G(this,"_speed",0);const{style:{bodyColor:i,shellColor:n}}=e;this._fishData=e,this.zIndex=Vi.turtle,this.sortableChildren=!0,this.pivot.x=-24;const r=new kw(10,20,i);this.addChild(r),r.rotation=-Math.PI/2,r.position.set(-28,5),this._leftEye=new Qi(1,"#000"),this.addChild(this._leftEye),this._leftEye.position.set(-25,2),this._leftEye.zIndex=3,this._rightEye=new Qi(1,"#000"),this.addChild(this._rightEye),this._rightEye.position.set(-25,-2),this._rightEye.zIndex=3,this._drawShell(n),this._leftHand=new we(6,15,i),this.addChild(this._leftHand),this._leftHand.pivot.set(this._leftHand.width/2,this._leftHand.height*.1),this._leftHand.position.set(-10,16),this._rightHand=new we(6,15,i),this.addChild(this._rightHand),this._rightHand.pivot.set(this._rightHand.width/2,this._rightHand.height/1.1),this._rightHand.position.set(-10,-16),this._leftLeg=new we(6,15,i),this.addChild(this._leftLeg),this._leftLeg.pivot.set(this._leftLeg.width/2,this._leftLeg.height*.1),this._leftLeg.position.set(7,14),this._rightLeg=new we(6,15,i),this.addChild(this._rightLeg),this._rightLeg.pivot.set(this._rightLeg.width/2,this._rightLeg.height/1.1),this._rightLeg.position.set(7,-14);const o=new Wi([[10,0],[5,10]],i);this.addChild(o),o.rotation=-Math.PI/2,o.position.set(16,5),requestAnimationFrame(()=>{Ji.add(e.id,()=>{this._updateMove()});const{x:a,y:h}=this._getRandomPos();this._setRandomSpeed(),this._setPosition(a,h),this._setBlinkLoopAnimation()}),this._onBeforeDestroy=()=>{Ji.remove(this._fishData.id),X.killTweensOf(this),X.killTweensOf(this._leftHand),X.killTweensOf(this._rightHand),X.killTweensOf(this._leftLeg),X.killTweensOf(this._rightLeg)}}_drawShell(e){const i=new Xt,n=20,r=0,o=0;i.beginFill(e);for(let a=0;a<6;a++){const h=Math.PI/3*a,l=r+n*Math.cos(h),u=o+n*Math.sin(h);a===0?i.moveTo(l,u):i.lineTo(l,u)}i.closePath(),i.endFill(),i.zIndex=1,this.addChild(i)}_updateMove(){this.visible=!Sp(this);const e=this._targetX-this.x,i=this._targetY-this.y,n=Math.sqrt(e*e+i*i);if(n<=3){this.x=this._targetX,this.y=this._targetY,this._completeMove();return}const r=zp(this._speed);this.x+=e/n*r,this.y+=i/n*r}_completeMove(){const{x:e,y:i}=this._getRandomPos();this._setRandomSpeed(),this._setPosition(e,i)}_setPosition(e,i){this._targetX=e,this._targetY=i,this._setFishTailWiggle();const n=this.rotation+this._getTurnAngle();X.killTweensOf(this),X.to(this,{duration:50/this._speed,ease:"power1.out",rotation:n})}_setRandomSpeed(){this._speed=Ep}_getRandomPos(){let e=0,i=0;const n=kt(ch[0],ch[1]),r=kt(this.x-n,this.x+n),o=kt(this.y-n,this.y+n),{newX:a,newY:h}=this._getSafePosition(r,o);return e=a,i=h,{x:e,y:i}}_getTurnAngle(){const e=this._targetX-this.x,i=this._targetY-this.y,n=Math.atan2(i,e)+Math.PI,r=this.rotation;return(n-r+Math.PI)%(Math.PI*2)-Math.PI}_getSafePosition(e,i){const n=this.width,r=n,o=pn.MAP_SIZE-n,a=Math.max(r,Math.min(e,o)),h=Math.max(r,Math.min(i,o));return{newX:a,newY:h}}_setBlinkLoopAnimation(){const e=X.timeline({repeat:-1,repeatDelay:kt(2,5)});for(let i=0;i<2;i++)e.to([this._leftEye.scale,this._rightEye.scale],{x:.1,duration:.1}).to([this._leftEye.scale,this._rightEye.scale],{x:1,duration:.1})}_setFishTailWiggle(){const e=async(i,n,r)=>{X.killTweensOf(i),await X.to(i,{rotation:n,ease:"power1.inOut",duration:.35+Math.abs(100-this._speed)/250}),X.to(i,{rotation:r,yoyo:!0,ease:"power1.inOut",repeat:-1,duration:.35+Math.abs(100-this._speed)/250})};e(this._leftHand,-Math.PI/8,-Math.PI/2),e(this._rightHand,Math.PI/8,Math.PI/2),e(this._leftLeg,-Math.PI/2,-Math.PI/3),e(this._rightLeg,Math.PI/2,Math.PI/3)}}class K2 extends An{constructor(e){super();G(this,"_fishData");G(this,"_tail");G(this,"_leftEye");G(this,"_rightEye");G(this,"_leftFin");G(this,"_rightFin");G(this,"_body");G(this,"_targetX",0);G(this,"_targetY",0);G(this,"_speed",0);this._fishData=e;const{style:{bodyColor:i,tailColor:n}}=e;this.zIndex=Vi.fish,this.sortableChildren=!0,this.pivot.x=-10,this._body=new Vw(10,5,i),this.addChild(this._body),this._body.zIndex=2,this._leftFin=new Wi([[5,-4],[3,3]],n),this.addChild(this._leftFin),this._leftFin.position.set(-6,-3),this._rightFin=new Wi([[5,4],[3,-3]],n),this.addChild(this._rightFin),this._rightFin.position.set(-6,3),this._leftEye=new Qi(1,"rgba(0,0,0,0.5)"),this.addChild(this._leftEye),this._leftEye.position.set(-6,2),this._leftEye.zIndex=3,this._rightEye=new Qi(1,"rgba(0,0,0,0.5)"),this.addChild(this._rightEye),this._rightEye.position.set(-6,-2),this._rightEye.zIndex=3,this._tail=new Wi([[10,-5],[10,5]],n),this.addChild(this._tail),this._tail.zIndex=1,this._tail.x=10,this._tail.pivot.x=5,requestAnimationFrame(()=>{Ji.add(e.id,()=>{this._updateMove()});const{x:r,y:o}=this._getRandomPos();this._setRandomSpeed(),this._setPosition(r,o),this._setBlinkLoopAnimation()}),this._onBeforeDestroy=()=>{Ji.remove(this._fishData.id),X.killTweensOf(this),X.killTweensOf(this._tail),X.killTweensOf(this._leftFin),X.killTweensOf(this._rightFin)}}_updateMove(){this.visible=!Sp(this);const e=this._targetX-this.x,i=this._targetY-this.y,n=Math.sqrt(e*e+i*i);if(n<=3){this.x=this._targetX,this.y=this._targetY,this._completeMove();return}const r=Tt.shared.deltaTime,o=this._speed*(r/60);this.x+=e/n*o,this.y+=i/n*o}_completeMove(){const{x:e,y:i}=this._getRandomPos();this._setRandomSpeed(),this._setPosition(e,i)}_setPosition(e,i){this._targetX=e,this._targetY=i,this._setFishTailWiggle();const n=this.rotation+this._getTurnAngle();X.killTweensOf(this),X.to(this,{duration:50/this._speed,ease:"power1.out",rotation:n})}_setRandomSpeed(){this._speed=Ep}_getRandomPos(){let e=0,i=0;const n=kt(ch[0],ch[1]),r=kt(this.x-n,this.x+n),o=kt(this.y-n,this.y+n),{newX:a,newY:h}=this._getSafePosition(r,o);return e=a,i=h,{x:e,y:i}}_getTurnAngle(){const e=this._targetX-this.x,i=this._targetY-this.y,n=Math.atan2(i,e)+Math.PI,r=this.rotation;return(n-r+Math.PI)%(Math.PI*2)-Math.PI}_getSafePosition(e,i){const n=this.width,r=n,o=pn.MAP_SIZE-n,a=Math.max(r,Math.min(e,o)),h=Math.max(r,Math.min(i,o));return{newX:a,newY:h}}_setBlinkLoopAnimation(){const e=X.timeline({repeat:-1,repeatDelay:kt(2,5)});for(let i=0;i<2;i++)e.to([this._leftEye.scale,this._rightEye.scale],{x:.1,duration:.1}).to([this._leftEye.scale,this._rightEye.scale],{x:1,duration:.1})}_setFishTailWiggle(){const e={duration:.35*this.width/this._speed,ease:"power1.inOut",repeat:-1,yoyo:!0};X.killTweensOf(this._tail),this._tail.rotation=Math.PI/20,X.to(this._tail,{rotation:-Math.PI/20,...e}),X.killTweensOf(this._leftFin),this._leftFin.rotation=Math.PI/20,X.to(this._leftFin,{delay:.1,rotation:-Math.PI/20,...e}),X.killTweensOf(this._rightFin),this._rightFin.rotation=-Math.PI/20,X.to(this._rightFin,{delay:.1,rotation:Math.PI/20,...e})}}class J2 extends ft{constructor(t){super();const e=new we(300,100,"#000");e.pivot.set(e.width/2,e.height/2),e.alpha=.5,this.addChild(e);const i=new It({text:t,fontSize:50,fontColor:"#fff"});this.addChild(i),i.anchor.set(.5)}}class Q2 extends An{constructor(e){super();G(this,"_gameMap");G(this,"_fishList",[]);G(this,"_turtleList",[]);this._gameMap=new pn,this.addChild(this._gameMap);const i=new we(window.innerWidth,window.innerHeight,"#000");this.addChild(i),i.alpha=.25;const n=new It({text:"",fontSize:100,fontColor:"#fff"});this.addChild(n),n.anchor.set(.5),n.y=300;const r=new J2("");this.addChild(r),r.visible=!1,r.y=500,Lt(r,"pointertap",()=>{this.destroy(),Ss.mount(Y2)}),this._loadEntity();const o=qo.on((a,h)=>{this._gameMap.position.set(a/2,h/2),i.width=a,i.height=h,n.x=a/2,r.x=a/2});A2().then(()=>{r.visible=!0}),this._onBeforeDestroy=()=>{o(),this._fishList.forEach(a=>{a.destroy()}),this._turtleList.forEach(a=>{a.destroy()})}}async _loadEntity(){for(let e=0;e<50;e++){const{fish:i}=this._createOneFish(`fish_${e}`),{turtle:n}=this._createOneTurtle(`turtle_${e}`);this._gameMap.addChild(i),this._fishList.push(i),i.position.set(kt(0,pn.MAP_SIZE),kt(0,pn.MAP_SIZE)),this._turtleList.push(n),this._gameMap.addChild(n),n.position.set(kt(0,pn.MAP_SIZE),kt(0,pn.MAP_SIZE))}}_createOneFish(e){const i=pa[kt(0,pa.length-1)].body,n=pa[kt(0,pa.length-1)].tail,r={id:e,style:{bodyColor:i,tailColor:n}};return{fish:new K2(r)}}_createOneTurtle(e){const i=ma[kt(0,ma.length-1)].body,n=ma[kt(0,ma.length-1)].shell,r={id:e,style:{bodyColor:i,shellColor:n}};return{turtle:new Z2(r)}}}X.registerPlugin(Vg);Vg.registerPIXI(GC);const Co=new Lg({resizeTo:window,resolution:window.devicePixelRatio||1,autoDensity:!0,antialias:pT.antialias});Co.stage.sortableChildren=!0;document.body.appendChild(Co.view);globalThis.__PIXI_APP__=Co;const dh=class dh{constructor(){G(this,"_gameScreen");G(this,"gameStage");G(this,"gameLayer");G(this,"dialogLayer");G(this,"statusLayer");G(this,"_Z_INDEX",{bgImgFill:1,stage:2,gameScreen:998,dialogLayer:999,statusLayer:1e3});this.gameStage=new ft,Co.stage.addChild(this.gameStage),this.gameStage.name="",this.gameStage.sortableChildren=!0,this.gameStage.zIndex=this._Z_INDEX.stage,this.gameStage.eventMode="static",jh.stage=this.gameStage,Ao.stage=this.gameStage,this.gameLayer=new ft,this.gameStage.addChild(this.gameLayer),this.gameLayer.name="",this.gameLayer.zIndex=this._Z_INDEX.gameScreen,this.dialogLayer=new ft,this.gameStage.addChild(this.dialogLayer),this.dialogLayer.name="",this.dialogLayer.zIndex=this._Z_INDEX.dialogLayer,this.statusLayer=new ft,this.gameStage.addChild(this.statusLayer),this.statusLayer.name="",this.statusLayer.zIndex=this._Z_INDEX.statusLayer,ms.ADAPT_MODE=dh.ADAPT_MODE;const t=new ms(Co);this.statusLayer.addChild(t),t.name="",dn.stage=this.gameStage;const e=new dn;this.statusLayer.addChild(e),qo.on((i,n,r)=>{t.x=i/2,t.scale.set(r)})}mount(t){this._gameScreen=new t,Ss.gameLayer.addChild(this._gameScreen)}};G(dh,"ADAPT_MODE","h");let ng=dh;const Ss=new ng,av=new bI(Ss.dialogLayer),tD=async()=>{const t=await(await fetch(`gameAssetsPack/preloadManifest.json?t=${Pi().valueOf()}`)).json();be.addBundle("preloadManifest",t),await be.loadBundle("preloadManifest");const i=await(await fetch(`gameAssetsPack/mainManifest.json?t=${Pi().valueOf()}`)).json();be.addBundle("mainManifest",i),Ss.mount(Q2)};tD();
